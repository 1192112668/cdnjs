!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).RevealSearch=t()}(this,function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}function n(e){return e&&e.Math==Math&&e}function r(e){try{return!!e()}catch(e){return!0}}function p(e){return"object"==typeof e?null!==e:"function"==typeof e}function w(e){if(!p(e))throw TypeError(String(e)+" is not an object");return e}function o(e,t){if(!p(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!p(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!p(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!p(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}function i(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function f(t,n){try{b(s,t,n)}catch(e){s[t]=n}return n}function l(e,t){return E.call(e,t)}function c(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++S+R).toString(36)}function u(e){return l(T,e)||(O&&l(j,e)?T[e]=j[e]:T[e]=P("Symbol."+e)),T[e]}var s=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")(),a=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),g=s.document,d=p(g)&&p(g.createElement),h=!a&&!r(function(){return 7!=Object.defineProperty(d?g.createElement("div"):{},"a",{get:function(){return 7}}).a}),y=Object.defineProperty,v={f:a?y:function(e,t,n){if(w(e),t=o(t,!0),w(n),h)try{return y(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},b=a?function(e,t,n){return v.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e},x=s["__core-js_shared__"]||f("__core-js_shared__",{}),m=t(function(e){(e.exports=function(e,t){return x[e]||(x[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})}),E={}.hasOwnProperty,S=0,R=Math.random(),O=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())}),_=O&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,T=m("wks"),j=s.Symbol,P=_?j:j&&j.withoutSetter||c,I={};I[u("toStringTag")]="z";var C="[object z]"===String(I),N=Function.toString;"function"!=typeof x.inspectSource&&(x.inspectSource=function(e){return N.call(e)});var k,A,$,L,M,U,D,F,K,z=x.inspectSource,B=s.WeakMap,W="function"==typeof B&&/native code/.test(z(B)),q=m("keys"),G={},V=s.WeakMap;F=W?(A=new V,$=A.get,L=A.has,M=A.set,U=function(e,t){return M.call(A,e,t),t},D=function(e){return $.call(A,e)||{}},function(e){return L.call(A,e)}):(K=q[k="state"]||(q[k]=c(k)),G[K]=!0,U=function(e,t){return b(e,K,t),t},D=function(e){return l(e,K)?e[K]:{}},function(e){return l(e,K)});function Y(e){return J.call(e).slice(8,-1)}var X={set:U,get:D,has:F,enforce:function(e){return F(e)?D(e):U(e,{})},getterFor:function(n){return function(e){var t;if(!p(e)||(t=D(e)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return t}}},H=t(function(e){var t=X.get,u=X.enforce,a=String(String).split("String");(e.exports=function(e,t,n,r){var o=!!r&&!!r.unsafe,i=!!r&&!!r.enumerable,c=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof t||l(n,"name")||b(n,"name",t),u(n).source=a.join("string"==typeof t?t:"")),e!==s?(o?!c&&e[t]&&(i=!0):delete e[t],i?e[t]=n:b(e,t,n)):i?e[t]=n:f(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||z(this)})}),J={}.toString,Q=u("toStringTag"),Z="Arguments"==Y(function(){return arguments}()),ee=C?Y:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Q))?n:Z?Y(t):"Object"==(r=Y(t))&&"function"==typeof t.callee?"Arguments":r},te=C?{}.toString:function(){return"[object "+ee(this)+"]"};C||H(Object.prototype,"toString",te,{unsafe:!0});function ne(e,t){var n=se[fe(e)];return n==ge||n!=pe&&("function"==typeof t?r(t):!!t)}function re(e){if(null==e)throw TypeError("Can't call method on "+e);return e}function oe(e){return ve(re(e))}function ie(e){return isNaN(e=+e)?0:(0<e?xe:be)(e)}function ce(e){return 0<e?me(ie(e),9007199254740991):0}function ue(l){return function(e,t,n){var r,o,i,c=oe(e),u=ce(c.length),a=(o=u,(i=ie(n))<0?Ee(i+o,0):Se(i,o));if(l&&t!=t){for(;a<u;)if((r=c[a++])!=r)return!0}else for(;a<u;a++)if((l||a in c)&&c[a]===t)return l||a||0;return!l&&-1}}function ae(){var e=w(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}var le=/#|\.prototype\./,fe=ne.normalize=function(e){return String(e).replace(le,".").toLowerCase()},se=ne.data={},pe=ne.NATIVE="N",ge=ne.POLYFILL="P",de=ne,he=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,e={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),r=e instanceof Array}catch(n){}return function(e,t){return w(e),function(){if(!p(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(),r?n.call(e,t):e.__proto__=t,e}}():void 0),ye="".split,ve=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==Y(e)?ye.call(e,""):Object(e)}:Object,be=Math.ceil,xe=Math.floor,me=Math.min,Ee=Math.max,Se=Math.min,we=(ue(!0),ue(!1)),Re=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),Oe={f:Object.getOwnPropertyNames||function(i){return function(e){var t,n=oe(i),r=0,o=[];for(t in n)!l(G,t)&&l(n,t)&&o.push(t);for(;e.length>r;)l(n,t=e[r++])&&(~we(o,t)||o.push(t));return o}(Re)}},_e=u("match");function Te(e,t){return RegExp(e,t)}function je(e){return"function"==typeof e?e:void 0}function Pe(e,t){return arguments.length<2?je(ke[e])||je(s[e]):ke[e]&&ke[e][t]||s[e]&&s[e][t]}var Ie,Ce,Ne={UNSUPPORTED_Y:r(function(){var e=Te("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),BROKEN_CARET:r(function(){var e=Te("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},ke=s,Ae=u("species"),$e=v.f,Le=Oe.f,Me=X.set,Ue=u("match"),De=s.RegExp,Fe=De.prototype,Ke=/a/g,ze=/a/g,Be=new De(Ke)!==Ke,We=Ne.UNSUPPORTED_Y;if(a&&de("RegExp",!Be||We||r(function(){return ze[Ue]=!1,De(Ke)!=Ke||De(ze)==ze||"/a/i"!=De(Ke,"i")}))){for(var qe=function(e,t){var n,r,o,i=this instanceof qe,c=p(n=e)&&(void 0!==(r=n[_e])?!!r:"RegExp"==Y(n)),u=void 0===t;if(!i&&c&&e.constructor===qe&&u)return e;Be?c&&!u&&(e=e.source):e instanceof qe&&(u&&(t=ae.call(e)),e=e.source),We&&(o=!!t&&-1<t.indexOf("y"))&&(t=t.replace(/y/g,""));var a,l,f,s=(a=Be?new De(e,t):De(e,t),he&&"function"==typeof(l=(i?this:Fe).constructor)&&l!==qe&&p(f=l.prototype)&&f!==qe.prototype&&he(a,f),a);return We&&o&&Me(s,{sticky:o}),s},Ge=function(t){t in qe||$e(qe,t,{configurable:!0,get:function(){return De[t]},set:function(e){De[t]=e}})},Ve=Le(De),Ye=0;Ve.length>Ye;)Ge(Ve[Ye++]);(Fe.constructor=qe).prototype=Fe,H(s,"RegExp",qe)}Ie=Pe("RegExp"),Ce=v.f,a&&Ie&&!Ie[Ae]&&Ce(Ie,Ae,{configurable:!0,get:function(){return this}});function Xe(e,t){for(var n=ot(t),r=v.f,o=nt.f,i=0;i<n.length;i++){var c=n[i];l(e,c)||r(e,c,o(t,c))}}var He,Je,Qe={}.propertyIsEnumerable,Ze=Object.getOwnPropertyDescriptor,et={f:Ze&&!Qe.call({1:2},1)?function(e){var t=Ze(this,e);return!!t&&t.enumerable}:Qe},tt=Object.getOwnPropertyDescriptor,nt={f:a?tt:function(e,t){if(e=oe(e),t=o(t,!0),h)try{return tt(e,t)}catch(e){}if(l(e,t))return i(!et.f.call(e,t),e[t])}},rt={f:Object.getOwnPropertySymbols},ot=Pe("Reflect","ownKeys")||function(e){var t=Oe.f(w(e)),n=rt.f;return n?t.concat(n(e)):t},it=nt.f,ct=RegExp.prototype.exec,ut=String.prototype.replace,at=ct,lt=(He=/a/,Je=/b*/g,ct.call(He,"a"),ct.call(Je,"a"),0!==He.lastIndex||0!==Je.lastIndex),ft=Ne.UNSUPPORTED_Y||Ne.BROKEN_CARET,st=void 0!==/()??/.exec("")[1];(lt||st||ft)&&(at=function(e){var t,n,r,o,i=this,c=ft&&i.sticky,u=ae.call(i),a=i.source,l=0,f=e;return c&&(-1===(u=u.replace("y","")).indexOf("g")&&(u+="g"),f=String(e).slice(i.lastIndex),0<i.lastIndex&&(!i.multiline||i.multiline&&"\n"!==e[i.lastIndex-1])&&(a="(?: "+a+")",f=" "+f,l++),n=new RegExp("^(?:"+a+")",u)),st&&(n=new RegExp("^"+a+"$(?!\\s)",u)),lt&&(t=i.lastIndex),r=ct.call(c?n:i,f),c?r?(r.input=r.input.slice(l),r[0]=r[0].slice(l),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:lt&&r&&(i.lastIndex=i.global?r.index+r[0].length:t),st&&r&&1<r.length&&ut.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r});var pt=at;!function(e,t){var n,r,o,i,c,u=e.target,a=e.global,l=e.stat;if(n=a?s:l?s[u]||f(u,{}):(s[u]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(c=it(n,r))&&c.value:n[r],!de(a?r:u+(l?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;Xe(i,o)}(e.sham||o&&o.sham)&&b(i,"sham",!0),H(n,r,i,e)}}({target:"RegExp",proto:!0,forced:/./.exec!==pt},{exec:pt});var gt=RegExp.prototype,dt=gt.toString,ht=r(function(){return"/a/b"!=dt.call({source:"a",flags:"b"})}),yt="toString"!=dt.name;(ht||yt)&&H(RegExp.prototype,"toString",function(){var e=w(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in gt)?ae.call(e):n)},{unsafe:!0});u("species");function vt(u){return function(e,t){var n,r,o=String(re(e)),i=ie(t),c=o.length;return i<0||c<=i?u?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===c||(r=o.charCodeAt(i+1))<56320||57343<r?u?o.charAt(i):n:u?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}}function bt(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==Y(e))throw TypeError("RegExp#exec called on incompatible receiver");return pt.call(e,t)}var xt,mt,Et,St,wt,Rt,Ot,_t,Tt,jt,Pt,It,Ct,Nt,kt,At=!r(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),$t="$0"==="a".replace(/./,"$0"),Lt=u("replace"),Mt=!!/./[Lt]&&""===/./[Lt]("a","$0"),Ut=(r(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),vt(!1),vt(!0)),Dt=Math.max,Ft=Math.min,Kt=Math.floor,zt=/\$([$&'`]|\d\d?|<[^>]*>)/g,Bt=/\$([$&'`]|\d\d?)/g;function Wt(i,c,u,a,l,e){var f=u+i.length,s=a.length,t=Bt;return void 0!==l&&(l=Object(re(l)),t=zt),Ot.call(e,t,function(e,t){var n;switch(t.charAt(0)){case"$":return"$";case"&":return i;case"`":return c.slice(0,u);case"'":return c.slice(f);case"<":n=l[t.slice(1,-1)];break;default:var r=+t;if(0==r)return e;if(s<r){var o=Kt(r/10);return 0!==o&&o<=s?void 0===a[o-1]?t.charAt(1):a[o-1]+t.charAt(1):e}n=a[r-1]}return void 0===n?"":n})}return Ct=u(xt="replace"),Nt=!r(function(){var e={};return e[Ct]=function(){return 7},7!=""[xt](e)}),kt=Nt&&!r(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},t[Ct](""),!e}),Nt&&kt&&At&&$t&&!Mt||(mt=/./[Ct],Rt=Ct,Ot=""[xt],_t=function(e,t,n,r,o){return t.exec===pt?Nt&&!o?{done:!0,value:mt.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}},jt=(Tt={REPLACE_KEEPS_$0:$t,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Mt}).REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,Pt=Tt.REPLACE_KEEPS_$0,It=jt?"$":"$0",St=(Et=[function(e,t){var n=re(this),r=null==e?void 0:e[Rt];return void 0!==r?r.call(e,n,t):Ot.call(String(n),e,t)},function(e,t){if(!jt&&Pt||"string"==typeof t&&-1===t.indexOf(It)){var n=_t(Ot,e,this,t);if(n.done)return n.value}var r=w(e),o=String(this),i="function"==typeof t;i||(t=String(t));var c,u=r.global;u&&(c=r.unicode,r.lastIndex=0);for(var a,l,f=[];;){var s=bt(r,o);if(null===s)break;if(f.push(s),!u)break;""===String(s[0])&&(r.lastIndex=(a=o,(l=ce(r.lastIndex))+(c?Ut(a,l).length:1)))}for(var p,g="",d=0,h=0;h<f.length;h++){s=f[h];for(var y=String(s[0]),v=Dt(Ft(ie(s.index),o.length),0),b=[],x=1;x<s.length;x++)b.push(void 0===(p=s[x])?p:String(p));var m,E,S=s.groups;E=i?(m=[y].concat(b,v,o),void 0!==S&&m.push(S),String(t.apply(void 0,m))):Wt(y,o,v,b,S,t),d<=v&&(g+=o.slice(d,v)+E,d=v+y.length)}return g+o.slice(d)}])[0],wt=Et[1],H(String.prototype,xt,St),H(RegExp.prototype,Ct,function(e,t){return wt.call(e,this,t)})),function(){var v,t,n,r,o,i,c;function u(){(t=document.createElement("div")).classList.add("searchbox"),t.style.position="absolute",t.style.top="10px",t.style.right="10px",t.style.zIndex=10,t.innerHTML='<input type="search" class="searchinput" placeholder="Search..." style="vertical-align: top;"/>\n\t\t</span>',(n=t.querySelector(".searchinput")).style.width="240px",n.style.fontSize="14px",n.style.padding="4px 6px",n.style.color="#000",n.style.background="#fff",n.style.borderRadius="2px",n.style.border="0",n.style.outline="0",n.style.boxShadow="0 2px 18px rgba(0, 0, 0, 0.2)",n.style["-webkit-appearance"]="none",v.getRevealElement().appendChild(t),n.addEventListener("keyup",function(e){switch(e.keyCode){case 13:e.preventDefault(),i&&(""===(t=n.value)?(c&&c.remove(),r=null):(c=new f("slidecontent"),r=c.apply(t),o=0)),r&&(r.length&&r.length<=o&&(o=0),r.length>o&&(v.slide(r[o].h,r[o].v),o++)),i=!1;break;default:i=!0}var t},!1),l()}function a(){t||u(),t.style.display="inline",n.focus(),n.select()}function l(){t||u(),t.style.display="none",c&&c.remove()}function f(e,t){var n=document.getElementById(e)||document.body,f=t||"EM",s=new RegExp("^(?:"+f+"|SCRIPT|FORM)$"),p=["#ff6","#a0ffff","#9f9","#f99","#f6f"],g=[],d=0,h="",y=[];this.setRegex=function(e){e=e.replace(/^[^\w]+|[^\w]+$/g,"").replace(/[^\w'-]+/g,"|"),h=new RegExp("("+e+")","i")},this.getRegex=function(){return h.toString().replace(/^\/\\b\(|\)\\b\/i$/g,"").replace(/\|/g," ")},this.hiliteWords=function(e){if(null!=e&&e&&h&&!s.test(e.nodeName)){if(e.hasChildNodes())for(var t=0;t<e.childNodes.length;t++)this.hiliteWords(e.childNodes[t]);var n,r;if(3==e.nodeType&&(n=e.nodeValue)&&(r=h.exec(n))){for(var o=e;null!=o&&"SECTION"!=o.nodeName;)o=o.parentNode;for(var i=v.getIndices(o),c=y.length,u=!1,t=0;t<c;t++)y[t].h===i.h&&y[t].v===i.v&&(u=!0);u||y.push(i),g[r[0].toLowerCase()]||(g[r[0].toLowerCase()]=p[d++%p.length]);var a=document.createElement(f);a.appendChild(document.createTextNode(r[0])),a.style.backgroundColor=g[r[0].toLowerCase()],a.style.fontStyle="inherit",a.style.color="#000";var l=e.splitText(r.index);l.nodeValue=l.nodeValue.substring(r[0].length),e.parentNode.insertBefore(a,l)}}},this.remove=function(){for(var e,t=document.getElementsByTagName(f);t.length&&(e=t[0]);)e.parentNode.replaceChild(e.firstChild,e)},this.apply=function(e){if(null!=e&&e)return this.remove(),this.setRegex(e),this.hiliteWords(n),y}}return{id:"search",init:function(e){(v=e).registerKeyboardShortcut("CTRL + Shift + F","Search"),document.addEventListener("keydown",function(e){"F"==e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),t||u(),("inline"!==t.style.display?a:l)())},!1)},open:a}}});