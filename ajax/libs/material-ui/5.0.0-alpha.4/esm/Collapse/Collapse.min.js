import _defineProperty from"@babel/runtime/helpers/esm/defineProperty";import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import*as React from"react";import clsx from"clsx";import PropTypes from"prop-types";import{Transition}from"react-transition-group";import withStyles from"../styles/withStyles";import{duration}from"../styles/transitions";import{getTransitionProps}from"../transitions/utils";import useTheme from"../styles/useTheme";import{useForkRef}from"../utils";export var styles=function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height"),"&$horizontal":{height:"auto",width:0,transition:e.transitions.create("width")}},horizontal:{},entered:{height:"auto",overflow:"visible","&$horizontal":{width:"auto"}},hidden:{visibility:"hidden"},wrapper:{display:"flex",width:"100%","&$horizontal":{width:"auto",height:"100%"}},wrapperInner:{width:"100%","&$horizontal":{width:"auto",height:"100%"}}}};var Collapse=React.forwardRef(function(e,t){var n=e.children,o=e.classes,r=e.className,i=e.collapsedSize,s=void 0===i?"0px":i,a=e.component,p=void 0===a?"div":a,c=e.in,u=e.onEnter,l=e.onEntered,m=e.onEntering,d=e.onExit,f=e.onExited,y=e.onExiting,h=e.orientation,T=void 0===h?"vertical":h,x=e.style,P=e.timeout,E=void 0===P?duration.standard:P,g=e.TransitionComponent,v=void 0===g?Transition:g,b=_objectWithoutProperties(e,["children","classes","className","collapsedSize","component","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"]),R=useTheme(),w=React.useRef(),z=React.useRef(null),_=React.useRef(),N="number"==typeof s?"".concat(s,"px"):s,C="vertical"!==T,D=C?"width":"height";React.useEffect(function(){return function(){clearTimeout(w.current)}},[]);var S=React.useRef(null),j=useForkRef(t,S),O=function(e){return function(t){if(e){var n=S.current;void 0===t?e(n):e(n,t)}}},W=function(){return z.current?z.current[C?"clientWidth":"clientHeight"]:0},H=O(function(e,t){z.current&&(z.current.style.position="absolute"),e.style[D]=N,u&&u(e,t)}),$=O(function(e,t){var n=W();z.current&&(z.current.style.position="");var o=getTransitionProps({style:x,timeout:E},{mode:"enter"}).duration;if("auto"===E){var r=R.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(r,"ms"),_.current=r}else e.style.transitionDuration="string"==typeof o?o:"".concat(o,"ms");e.style[D]="".concat(n,"px"),m&&m(e,t)}),A=O(function(e,t){e.style[D]="auto",l&&l(e,t)}),k=O(function(e){e.style[D]="".concat(W(),"px"),d&&d(e)}),F=O(f),I=O(function(e){var t=W(),n=getTransitionProps({style:x,timeout:E},{mode:"exit"}).duration;if("auto"===E){var o=R.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(o,"ms"),_.current=o}else e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms");e.style[D]=N,y&&y(e)});return React.createElement(v,_extends({in:c,onEnter:H,onEntered:A,onEntering:$,onExit:k,onExited:F,onExiting:I,addEndListener:function(e){"auto"===E&&(w.current=setTimeout(e,_.current||0))},nodeRef:S,timeout:"auto"===E?null:E},b),function(e,t){return React.createElement(p,_extends({className:clsx(o.container,r,C&&o.horizontal,{entered:o.entered,exited:!c&&"0px"===N&&o.hidden}[e]),style:_extends(_defineProperty({},C?"minWidth":"minHeight",N),x),ref:j},t),React.createElement("div",{className:clsx(o.wrapper,C&&o.horizontal),ref:z},React.createElement("div",{className:clsx(o.wrapperInner,C&&o.horizontal)},n)))})});"production"!==process.env.NODE_ENV&&(Collapse.propTypes={children:PropTypes.node,classes:PropTypes.object,className:PropTypes.string,collapsedSize:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),component:PropTypes.elementType,in:PropTypes.bool,onEnter:PropTypes.func,onEntered:PropTypes.func,onEntering:PropTypes.func,onExit:PropTypes.func,onExited:PropTypes.func,onExiting:PropTypes.func,orientation:PropTypes.oneOf(["horizontal","vertical"]),style:PropTypes.object,timeout:PropTypes.oneOfType([PropTypes.oneOf(["auto"]),PropTypes.number,PropTypes.shape({appear:PropTypes.number,enter:PropTypes.number,exit:PropTypes.number})])}),Collapse.muiSupportAuto=!0;export default withStyles(styles,{name:"MuiCollapse"})(Collapse);