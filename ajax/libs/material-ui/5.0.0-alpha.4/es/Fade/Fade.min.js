import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutPropertiesLoose from"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose";import*as React from"react";import PropTypes from"prop-types";import{Transition}from"react-transition-group";import{duration}from"../styles/transitions";import useTheme from"../styles/useTheme";import{reflow,getTransitionProps}from"../transitions/utils";import useForkRef from"../utils/useForkRef";const styles={entering:{opacity:1},entered:{opacity:1}},defaultTimeout={enter:duration.enteringScreen,exit:duration.leavingScreen},Fade=React.forwardRef(function(e,t){const{children:o,in:n,onEnter:r,onEntered:i,onEntering:s,onExit:p,onExited:a,onExiting:u,style:c,TransitionComponent:m=Transition,timeout:y=defaultTimeout}=e,l=_objectWithoutPropertiesLoose(e,["children","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),d=useTheme(),f=React.useRef(null),T=useForkRef(o.ref,t),E=useForkRef(f,T),x=e=>t=>{if(e){const o=f.current;void 0===t?e(o):e(o,t)}},P=x(s),b=x((e,t)=>{reflow(e);const o=getTransitionProps({style:c,timeout:y},{mode:"enter"});e.style.webkitTransition=d.transitions.create("opacity",o),e.style.transition=d.transitions.create("opacity",o),r&&r(e,t)}),g=x(i),h=x(u),R=x(e=>{const t=getTransitionProps({style:c,timeout:y},{mode:"exit"});e.style.webkitTransition=d.transitions.create("opacity",t),e.style.transition=d.transitions.create("opacity",t),p&&p(e)}),F=x(a);return React.createElement(m,_extends({appear:!0,in:n,nodeRef:f,onEnter:b,onEntered:g,onEntering:P,onExit:R,onExited:F,onExiting:h,timeout:y},l),(e,t)=>React.cloneElement(o,_extends({style:_extends({opacity:0,visibility:"exited"!==e||n?void 0:"hidden"},styles[e],c,o.props.style),ref:E},t)))});"production"!==process.env.NODE_ENV&&(Fade.propTypes={children:PropTypes.element,in:PropTypes.bool,onEnter:PropTypes.func,onEntered:PropTypes.func,onEntering:PropTypes.func,onExit:PropTypes.func,onExited:PropTypes.func,onExiting:PropTypes.func,style:PropTypes.object,timeout:PropTypes.oneOfType([PropTypes.number,PropTypes.shape({appear:PropTypes.number,enter:PropTypes.number,exit:PropTypes.number})])});export default Fade;