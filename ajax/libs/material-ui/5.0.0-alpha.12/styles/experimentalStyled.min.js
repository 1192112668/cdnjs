"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_styledEngine=_interopRequireDefault(require("@material-ui/styled-engine")),_styles=require("@material-ui/styles"),_defaultTheme=_interopRequireDefault(require("./defaultTheme"));function isEmpty(e){return 0===Object.keys(e).length}var getStyleOverrides=function(e,t){var r={};return t&&t.components&&t.components[e]&&t.components[e].styleOverrides&&(r=t.components[e].styleOverrides),r},getVariantStyles=function(e,t){var r=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants);var n={};return r.forEach(function(e){var t=(0,_styles.propsToClassKey)(e.props);n[t]=e.style}),n},variantsResolver=function(n,e,t,r){var o,u,s=n.styleProps,a=void 0===s?{}:s,i={},l=null==t||null===(o=t.components)||void 0===o||null===(u=o[r])||void 0===u?void 0:u.variants;return l&&l.forEach(function(t){var r=!0;Object.keys(t.props).forEach(function(e){a[e]!==t.props[e]&&n[e]!==t.props[e]&&(r=!1)}),r&&(i=(0,_extends2.default)({},i,e[(0,_styles.propsToClassKey)(t.props)]))}),i},shouldForwardProp=function(e){return"styleProps"!==e&&"theme"!==e},experimentalStyled=function(e,t,r){var o=2<arguments.length&&void 0!==r?r:{},u=o.muiName,s=(0,_styledEngine.default)(e,(0,_extends2.default)({shouldForwardProp:shouldForwardProp,label:u},t));return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map(function(n){return"function"==typeof n?function(e){var t=e.theme,r=(0,_objectWithoutProperties2.default)(e,["theme"]);return n((0,_extends2.default)({theme:isEmpty(t)?_defaultTheme.default:t},r))}:n});return u&&o.overridesResolver&&n.push(function(e){var t=isEmpty(e.theme)?_defaultTheme.default:e.theme;return o.overridesResolver(e,getStyleOverrides(u,t),u)}),u&&n.push(function(e){var t=isEmpty(e.theme)?_defaultTheme.default:e.theme;return variantsResolver(e,getVariantStyles(u,t),t,u)}),s.apply(void 0,(0,_toConsumableArray2.default)(n))}},_default=experimentalStyled;exports.default=experimentalStyled;