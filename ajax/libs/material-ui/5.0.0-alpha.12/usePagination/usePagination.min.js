"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=usePagination;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_utils=require("../utils");function usePagination(){function r(e,t){y||w(t),v&&v(e,t)}function e(r,e){var t=e-r+1;return Array.from({length:t},function(e,t){return r+t})}function a(e){switch(e){case"first":return 1;case"previous":return R-1;case"next":return R+1;case"last":return s;default:return null}}var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=t.boundaryCount,n=void 0===o?1:o,u=t.componentName,i=void 0===u?"usePagination":u,l=t.count,s=void 0===l?1:l,d=t.defaultPage,f=void 0===d?1:d,b=t.disabled,p=void 0!==b&&b,c=t.hideNextButton,m=void 0!==c&&c,h=t.hidePrevButton,_=void 0!==h&&h,v=t.onChange,y=t.page,C=t.showFirstButton,g=void 0!==C&&C,A=t.showLastButton,x=void 0!==A&&A,q=t.siblingCount,P=void 0===q?1:q,B=(0,_objectWithoutProperties2.default)(t,["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"]),M=(0,_utils.useControlled)({controlled:y,default:f,name:i,state:"page"}),D=(0,_slicedToArray2.default)(M,2),R=D[0],w=D[1],j=e(1,Math.min(n,s)),N=e(Math.max(s-n+1,n+1),s),T=Math.max(Math.min(R-P,s-n-2*P-1),n+2),W=Math.min(Math.max(R+P,n+2*P+2),0<N.length?N[0]-2:s-1),k=[].concat((0,_toConsumableArray2.default)(g?["first"]:[]),(0,_toConsumableArray2.default)(_?[]:["previous"]),(0,_toConsumableArray2.default)(j),(0,_toConsumableArray2.default)(n+2<T?["start-ellipsis"]:n+1<s-n?[n+1]:[]),(0,_toConsumableArray2.default)(e(T,W)),(0,_toConsumableArray2.default)(W<s-n-1?["end-ellipsis"]:n<s-n?[s-n]:[]),(0,_toConsumableArray2.default)(N),(0,_toConsumableArray2.default)(m?[]:["next"]),(0,_toConsumableArray2.default)(x?["last"]:[])),F=k.map(function(t){return"number"==typeof t?{onClick:function(e){r(e,t)},type:"page",page:t,selected:t===R,disabled:p,"aria-current":t===R?"true":void 0}:{onClick:function(e){r(e,a(t))},type:t,page:a(t),selected:!1,disabled:p||-1===t.indexOf("ellipsis")&&("next"===t||"last"===t?s<=R:R<=1)}});return(0,_extends2.default)({items:F},B)}