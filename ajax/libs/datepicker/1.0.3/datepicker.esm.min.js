import $ from"jquery";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var DEFAULTS={autoShow:!1,autoHide:!1,autoPick:!1,inline:!1,container:null,trigger:null,language:"",format:"mm/dd/yyyy",date:null,startDate:null,endDate:null,startView:0,weekStart:0,yearFirst:!1,yearSuffix:"",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],itemTag:"li",mutedClass:"muted",pickedClass:"picked",disabledClass:"disabled",highlightedClass:"highlighted",template:'<div class="datepicker-container"><div class="datepicker-panel" data-view="years picker"><ul><li data-view="years prev">&lsaquo;</li><li data-view="years current"></li><li data-view="years next">&rsaquo;</li></ul><ul data-view="years"></ul></div><div class="datepicker-panel" data-view="months picker"><ul><li data-view="year prev">&lsaquo;</li><li data-view="year current"></li><li data-view="year next">&rsaquo;</li></ul><ul data-view="months"></ul></div><div class="datepicker-panel" data-view="days picker"><ul><li data-view="month prev">&lsaquo;</li><li data-view="month current"></li><li data-view="month next">&rsaquo;</li></ul><ul data-view="week"></ul><ul data-view="days"></ul></div></div>',offset:10,zIndex:1e3,filter:null,show:null,hide:null,pick:null},WINDOW="undefined"!=typeof window?window:{},NAMESPACE="datepicker",EVENT_CLICK="click.".concat(NAMESPACE),EVENT_FOCUS="focus.".concat(NAMESPACE),EVENT_HIDE="hide.".concat(NAMESPACE),EVENT_KEYUP="keyup.".concat(NAMESPACE),EVENT_PICK="pick.".concat(NAMESPACE),EVENT_RESIZE="resize.".concat(NAMESPACE),EVENT_SCROLL="scroll.".concat(NAMESPACE),EVENT_SHOW="show.".concat(NAMESPACE),CLASS_HIDE="".concat(NAMESPACE,"-hide"),LANGUAGES={},VIEWS={DAYS:0,MONTHS:1,YEARS:2},toString=Object.prototype.toString;function typeOf(e){return toString.call(e).slice(8,-1).toLowerCase()}function isString(e){return"string"==typeof e}var isNaN=Number.isNaN||WINDOW.isNaN;function isNumber(e){return"number"==typeof e&&!isNaN(e)}function isUndefined(e){return void 0===e}function isDate(e){return"date"===typeOf(e)&&!isNaN(e.getTime())}function proxy(e,t){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];return function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return e.apply(t,s.concat(a))}}function selectorOf(e){return'[data-view="'.concat(e,'"]')}function isLeapYear(e){return e%4==0&&e%100!=0||e%400==0}function getDaysInMonth(e,t){return[31,isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]}function getMinDay(e,t,i){return Math.min(i,getDaysInMonth(e,t))}var formatParts=/(y|m|d)+/g;function parseFormat(e){var t=String(e).toLowerCase(),i=t.match(formatParts);if(!i||0===i.length)throw new Error("Invalid date format.");return e={source:t,parts:i},$.each(i,function(t,i){switch(i){case"dd":case"d":e.hasDay=!0;break;case"mm":case"m":e.hasMonth=!0;break;case"yyyy":case"yy":e.hasYear=!0}}),e}function getScrollParent(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=$(e),s=i.css("position"),a="absolute"===s,n=t?/auto|scroll|hidden/:/auto|scroll/,r=i.parents().filter(function(e,t){var i=$(t);return(!a||"static"!==i.css("position"))&&n.test(i.css("overflow")+i.css("overflow-y")+i.css("overflow-x"))}).eq(0);return"fixed"!==s&&r.length?r:$(e.ownerDocument||document)}function addLeadingZero(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=String(Math.abs(e)),s=i.length,a="";for(e<0&&(a+="-");s<t;)s+=1,a+="0";return a+i}var REGEXP_DIGITS=/\d+/g,methods={show:function(){this.built||this.build(),this.shown||this.trigger(EVENT_SHOW).isDefaultPrevented()||(this.shown=!0,this.$picker.removeClass(CLASS_HIDE).on(EVENT_CLICK,$.proxy(this.click,this)),this.showView(this.options.startView),this.inline||(this.$scrollParent.on(EVENT_SCROLL,$.proxy(this.place,this)),$(window).on(EVENT_RESIZE,this.onResize=proxy(this.place,this)),$(document).on(EVENT_CLICK,this.onGlobalClick=proxy(this.globalClick,this)),$(document).on(EVENT_KEYUP,this.onGlobalKeyup=proxy(this.globalKeyup,this)),this.place()))},hide:function(){this.shown&&(this.trigger(EVENT_HIDE).isDefaultPrevented()||(this.shown=!1,this.$picker.addClass(CLASS_HIDE).off(EVENT_CLICK,this.click),this.inline||(this.$scrollParent.off(EVENT_SCROLL,this.place),$(window).off(EVENT_RESIZE,this.onResize),$(document).off(EVENT_CLICK,this.onGlobalClick),$(document).off(EVENT_KEYUP,this.onGlobalKeyup))))},toggle:function(){this.shown?this.hide():this.show()},update:function(){var e=this.getValue();e!==this.oldValue&&(this.setDate(e,!0),this.oldValue=e)},pick:function(e){var t=this.$element,i=this.date;this.trigger(EVENT_PICK,{view:e||"",date:i}).isDefaultPrevented()||(i=this.formatDate(this.date),this.setValue(i),this.isInput&&(t.trigger("input"),t.trigger("change")))},reset:function(){this.setDate(this.initialDate,!0),this.setValue(this.initialValue),this.shown&&this.showView(this.options.startView)},getMonthName:function(e,t){var i=this.options,s=i.monthsShort,a=i.months;return $.isNumeric(e)?e=Number(e):isUndefined(t)&&(t=e),!0===t&&(a=s),a[isNumber(e)?e:this.date.getMonth()]},getDayName:function(e,t,i){var s=this.options,a=s.days;return $.isNumeric(e)?e=Number(e):(isUndefined(i)&&(i=t),isUndefined(t)&&(t=e)),i?a=s.daysMin:t&&(a=s.daysShort),a[isNumber(e)?e:this.date.getDay()]},getDate:function(e){var t=this.date;return e?this.formatDate(t):new Date(t)},setDate:function(e,t){var i=this.options.filter;if(isDate(e)||isString(e)){if(e=this.parseDate(e),$.isFunction(i)&&!1===i.call(this.$element,e,"day"))return;this.date=e,this.viewDate=new Date(e),t||this.pick(),this.built&&this.render()}},setStartDate:function(e){isDate(e)||isString(e)?this.startDate=this.parseDate(e):this.startDate=null,this.built&&this.render()},setEndDate:function(e){isDate(e)||isString(e)?this.endDate=this.parseDate(e):this.endDate=null,this.built&&this.render()},parseDate:function(e){var t=this.format,i=[];return isDate(e)||(isString(e)&&(i=e.match(REGEXP_DIGITS)||[]),isDate(e=e?new Date(e):new Date)||(e=new Date),i.length===t.parts.length&&$.each(i,function(i,s){var a=parseInt(s,10);switch(t.parts[i]){case"dd":case"d":e.setDate(a);break;case"mm":case"m":e.setMonth(a-1);break;case"yy":e.setFullYear(2e3+a);break;case"yyyy":e.setFullYear(2===s.length?2e3+a:a)}})),new Date(e.getFullYear(),e.getMonth(),e.getDate())},formatDate:function(e){var t=this.format,i="";if(isDate(e)){var s=e.getFullYear(),a=e.getMonth(),n=e.getDate(),r={d:n,dd:addLeadingZero(n,2),m:a+1,mm:addLeadingZero(a+1,2),yy:String(s).substring(2),yyyy:addLeadingZero(s,4)};i=t.source,$.each(t.parts,function(e,t){i=i.replace(t,r[t])})}return i},destroy:function(){this.unbind(),this.unbuild(),this.$element.removeData(NAMESPACE)}},handlers={click:function(e){var t=$(e.target),i=this.options,s=this.date,a=this.viewDate,n=this.format;if(e.stopPropagation(),e.preventDefault(),!t.hasClass("disabled")){var r=t.data("view"),h=a.getFullYear(),o=a.getMonth(),l=a.getDate();switch(r){case"years prev":case"years next":h="years prev"===r?h-10:h+10,a.setFullYear(h),a.setDate(getMinDay(h,o,l)),this.renderYears();break;case"year prev":case"year next":h="year prev"===r?h-1:h+1,a.setFullYear(h),a.setDate(getMinDay(h,o,l)),this.renderMonths();break;case"year current":n.hasYear&&this.showView(VIEWS.YEARS);break;case"year picked":n.hasMonth?this.showView(VIEWS.MONTHS):(t.addClass(i.pickedClass).siblings().removeClass(i.pickedClass),this.hideView()),this.pick("year");break;case"year":h=parseInt(t.text(),10),s.setFullYear(h),s.setDate(getMinDay(h,o,l)),a.setFullYear(h),a.setDate(getMinDay(h,o,l)),n.hasMonth?this.showView(VIEWS.MONTHS):(t.addClass(i.pickedClass).siblings().removeClass(i.pickedClass),this.renderYears(),this.hideView()),this.pick("year");break;case"month prev":case"month next":(o="month prev"===r?o-1:o+1)<0?(h-=1,o+=12):o>11&&(h+=1,o-=12),a.setFullYear(h),a.setMonth(o),a.setDate(getMinDay(h,o,l)),this.renderDays();break;case"month current":n.hasMonth&&this.showView(VIEWS.MONTHS);break;case"month picked":n.hasDay?this.showView(VIEWS.DAYS):(t.addClass(i.pickedClass).siblings().removeClass(i.pickedClass),this.hideView()),this.pick("month");break;case"month":o=$.inArray(t.text(),i.monthsShort),s.setMonth(o),s.setDate(getMinDay(h,o,l)),a.setMonth(o),a.setDate(getMinDay(h,o,l)),n.hasDay?this.showView(VIEWS.DAYS):(t.addClass(i.pickedClass).siblings().removeClass(i.pickedClass),this.renderMonths(),this.hideView()),this.pick("month");break;case"day prev":case"day next":case"day":"day prev"===r?o-=1:"day next"===r&&(o+=1),l=parseInt(t.text(),10),s.setFullYear(h),s.setMonth(o),s.setDate(l),a.setFullYear(h),a.setMonth(o),a.setDate(l),this.renderDays(),"day"===r&&this.hideView(),this.pick("day");break;case"day picked":this.hideView(),this.pick("day")}}},globalClick:function(e){for(var t=e.target,i=this.element,s=this.$trigger[0],a=!0;t!==document;){if(t===s||t===i){a=!1;break}t=t.parentNode}a&&this.hide()},keyup:function(){this.update()},globalKeyup:function(e){var t=e.target,i=e.key,s=e.keyCode;this.isInput&&t!==this.element&&this.shown&&("Tab"===i||9===s)&&this.hide()}},render={render:function(){this.renderYears(),this.renderMonths(),this.renderDays()},renderWeek:function(){var e=this,t=[],i=this.options,s=i.weekStart,a=i.daysMin;s=parseInt(s,10)%7,a=a.slice(s).concat(a.slice(0,s)),$.each(a,function(i,s){t.push(e.createItem({text:s}))}),this.$week.html(t.join(""))},renderYears:function(){var e,t=this.options,i=this.startDate,s=this.endDate,a=t.disabledClass,n=t.filter,r=t.yearSuffix,h=this.viewDate.getFullYear(),o=(new Date).getFullYear(),l=this.date.getFullYear(),d=[],c=!1,u=!1;for(e=-5;e<=6;e+=1){var f=new Date(h+e,1,1),g=!1;i&&(g=f.getFullYear()<i.getFullYear(),-5===e&&(c=g)),!g&&s&&(g=f.getFullYear()>s.getFullYear(),6===e&&(u=g)),!g&&n&&(g=!1===n.call(this.$element,f,"year"));var p=h+e===l,y=p?"year picked":"year";d.push(this.createItem({picked:p,disabled:g,text:h+e,view:g?"year disabled":y,highlighted:f.getFullYear()===o}))}this.$yearsPrev.toggleClass(a,c),this.$yearsNext.toggleClass(a,u),this.$yearsCurrent.toggleClass(a,!0).html("".concat(h+-5+r," - ").concat(h+6).concat(r)),this.$years.html(d.join(""))},renderMonths:function(){var e,t=this.options,i=this.startDate,s=this.endDate,a=this.viewDate,n=t.disabledClass||"",r=t.monthsShort,h=$.isFunction(t.filter)&&t.filter,o=a.getFullYear(),l=new Date,d=l.getFullYear(),c=l.getMonth(),u=this.date.getFullYear(),f=this.date.getMonth(),g=[],p=!1,y=!1;for(e=0;e<=11;e+=1){var E=new Date(o,e,1),m=!1;i&&(m=(p=E.getFullYear()===i.getFullYear())&&E.getMonth()<i.getMonth()),!m&&s&&(m=(y=E.getFullYear()===s.getFullYear())&&E.getMonth()>s.getMonth()),!m&&h&&(m=!1===h.call(this.$element,E,"month"));var v=o===u&&e===f,D=v?"month picked":"month";g.push(this.createItem({disabled:m,picked:v,highlighted:o===d&&E.getMonth()===c,index:e,text:r[e],view:m?"month disabled":D}))}this.$yearPrev.toggleClass(n,p),this.$yearNext.toggleClass(n,y),this.$yearCurrent.toggleClass(n,p&&y).html(o+t.yearSuffix||""),this.$months.html(g.join(""))},renderDays:function(){var e,t,i,s=this.$element,a=this.options,n=this.startDate,r=this.endDate,h=this.viewDate,o=this.date,l=a.disabledClass,d=a.filter,c=a.months,u=a.weekStart,f=a.yearSuffix,g=h.getFullYear(),p=h.getMonth(),y=new Date,E=y.getFullYear(),m=y.getMonth(),v=y.getDate(),D=o.getFullYear(),S=o.getMonth(),C=o.getDate(),w=[],k=g,$=p,T=!1;0===p?(k-=1,$=11):$-=1,e=getDaysInMonth(k,$);var N=new Date(g,p,1);for((i=N.getDay()-parseInt(u,10)%7)<=0&&(i+=7),n&&(T=N.getTime()<=n.getTime()),t=e-(i-1);t<=e;t+=1){var A=new Date(k,$,t),b=!1;n&&(b=A.getTime()<n.getTime()),!b&&d&&(b=!1===d.call(s,A,"day")),w.push(this.createItem({disabled:b,highlighted:k===E&&$===m&&A.getDate()===v,muted:!0,picked:k===D&&$===S&&t===C,text:t,view:"day prev"}))}var M=[],I=g,V=p,_=!1;11===p?(I+=1,V=0):V+=1,e=getDaysInMonth(g,p),i=42-(w.length+e);var P=new Date(g,p,e);for(r&&(_=P.getTime()>=r.getTime()),t=1;t<=i;t+=1){var L=new Date(I,V,t),F=I===D&&V===S&&t===C,O=!1;r&&(O=L.getTime()>r.getTime()),!O&&d&&(O=!1===d.call(s,L,"day")),M.push(this.createItem({disabled:O,picked:F,highlighted:I===E&&V===m&&L.getDate()===v,muted:!0,text:t,view:"day next"}))}var x=[];for(t=1;t<=e;t+=1){var Y=new Date(g,p,t),H=!1;n&&(H=Y.getTime()<n.getTime()),!H&&r&&(H=Y.getTime()>r.getTime()),!H&&d&&(H=!1===d.call(s,Y,"day"));var W=g===D&&p===S&&t===C,K=W?"day picked":"day";x.push(this.createItem({disabled:H,picked:W,highlighted:g===E&&p===m&&Y.getDate()===v,text:t,view:H?"day disabled":K}))}this.$monthPrev.toggleClass(l,T),this.$monthNext.toggleClass(l,_),this.$monthCurrent.toggleClass(l,T&&_).html(a.yearFirst?"".concat(g+f," ").concat(c[p]):"".concat(c[p]," ").concat(g).concat(f)),this.$days.html(w.join("")+x.join("")+M.join(""))}},CLASS_TOP_LEFT="".concat(NAMESPACE,"-top-left"),CLASS_TOP_RIGHT="".concat(NAMESPACE,"-top-right"),CLASS_BOTTOM_LEFT="".concat(NAMESPACE,"-bottom-left"),CLASS_BOTTOM_RIGHT="".concat(NAMESPACE,"-bottom-right"),CLASS_PLACEMENTS=[CLASS_TOP_LEFT,CLASS_TOP_RIGHT,CLASS_BOTTOM_LEFT,CLASS_BOTTOM_RIGHT].join(" "),Datepicker=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this.$element=$(t),this.element=t,this.options=$.extend({},DEFAULTS,LANGUAGES[i.language],$.isPlainObject(i)&&i),this.$scrollParent=getScrollParent(t,!0),this.built=!1,this.shown=!1,this.isInput=!1,this.inline=!1,this.initialValue="",this.initialDate=null,this.startDate=null,this.endDate=null,this.init()}return _createClass(e,[{key:"init",value:function(){var e=this.$element,t=this.options,i=t.startDate,s=t.endDate,a=t.date;this.$trigger=$(t.trigger),this.isInput=e.is("input")||e.is("textarea"),this.inline=t.inline&&(t.container||!this.isInput),this.format=parseFormat(t.format);var n=this.getValue();this.initialValue=n,this.oldValue=n,a=this.parseDate(a||n),i&&(i=this.parseDate(i),a.getTime()<i.getTime()&&(a=new Date(i)),this.startDate=i),s&&(s=this.parseDate(s),i&&s.getTime()<i.getTime()&&(s=new Date(i)),a.getTime()>s.getTime()&&(a=new Date(s)),this.endDate=s),this.date=a,this.viewDate=new Date(a),this.initialDate=new Date(this.date),this.bind(),(t.autoShow||this.inline)&&this.show(),t.autoPick&&this.pick()}},{key:"build",value:function(){if(!this.built){this.built=!0;var e=this.$element,t=this.options,i=$(t.template);this.$picker=i,this.$week=i.find(selectorOf("week")),this.$yearsPicker=i.find(selectorOf("years picker")),this.$yearsPrev=i.find(selectorOf("years prev")),this.$yearsNext=i.find(selectorOf("years next")),this.$yearsCurrent=i.find(selectorOf("years current")),this.$years=i.find(selectorOf("years")),this.$monthsPicker=i.find(selectorOf("months picker")),this.$yearPrev=i.find(selectorOf("year prev")),this.$yearNext=i.find(selectorOf("year next")),this.$yearCurrent=i.find(selectorOf("year current")),this.$months=i.find(selectorOf("months")),this.$daysPicker=i.find(selectorOf("days picker")),this.$monthPrev=i.find(selectorOf("month prev")),this.$monthNext=i.find(selectorOf("month next")),this.$monthCurrent=i.find(selectorOf("month current")),this.$days=i.find(selectorOf("days")),this.inline?$(t.container||e).append(i.addClass("".concat(NAMESPACE,"-inline"))):($(document.body).append(i.addClass("".concat(NAMESPACE,"-dropdown"))),i.addClass(CLASS_HIDE).css({zIndex:parseInt(t.zIndex,10)})),this.renderWeek()}}},{key:"unbuild",value:function(){this.built&&(this.built=!1,this.$picker.remove())}},{key:"bind",value:function(){var e=this.options,t=this.$element;$.isFunction(e.show)&&t.on(EVENT_SHOW,e.show),$.isFunction(e.hide)&&t.on(EVENT_HIDE,e.hide),$.isFunction(e.pick)&&t.on(EVENT_PICK,e.pick),this.isInput&&t.on(EVENT_KEYUP,$.proxy(this.keyup,this)),this.inline||(e.trigger?this.$trigger.on(EVENT_CLICK,$.proxy(this.toggle,this)):this.isInput?t.on(EVENT_FOCUS,$.proxy(this.show,this)):t.on(EVENT_CLICK,$.proxy(this.show,this)))}},{key:"unbind",value:function(){var e=this.$element,t=this.options;$.isFunction(t.show)&&e.off(EVENT_SHOW,t.show),$.isFunction(t.hide)&&e.off(EVENT_HIDE,t.hide),$.isFunction(t.pick)&&e.off(EVENT_PICK,t.pick),this.isInput&&e.off(EVENT_KEYUP,this.keyup),this.inline||(t.trigger?this.$trigger.off(EVENT_CLICK,this.toggle):this.isInput?e.off(EVENT_FOCUS,this.show):e.off(EVENT_CLICK,this.show))}},{key:"showView",value:function(e){var t=this.$yearsPicker,i=this.$monthsPicker,s=this.$daysPicker,a=this.format;if(a.hasYear||a.hasMonth||a.hasDay)switch(Number(e)){case VIEWS.YEARS:i.addClass(CLASS_HIDE),s.addClass(CLASS_HIDE),a.hasYear?(this.renderYears(),t.removeClass(CLASS_HIDE),this.place()):this.showView(VIEWS.DAYS);break;case VIEWS.MONTHS:t.addClass(CLASS_HIDE),s.addClass(CLASS_HIDE),a.hasMonth?(this.renderMonths(),i.removeClass(CLASS_HIDE),this.place()):this.showView(VIEWS.YEARS);break;default:t.addClass(CLASS_HIDE),i.addClass(CLASS_HIDE),a.hasDay?(this.renderDays(),s.removeClass(CLASS_HIDE),this.place()):this.showView(VIEWS.MONTHS)}}},{key:"hideView",value:function(){!this.inline&&this.options.autoHide&&this.hide()}},{key:"place",value:function(){if(!this.inline){var e=this.$element,t=this.options,i=this.$picker,s=$(document).outerWidth(),a=$(document).outerHeight(),n=e.outerWidth(),r=e.outerHeight(),h=i.width(),o=i.height(),l=e.offset(),d=l.left,c=l.top,u=parseFloat(t.offset),f=CLASS_TOP_LEFT;isNaN(u)&&(u=10),c>o&&c+r+o>a?(c-=o+u,f=CLASS_BOTTOM_LEFT):c+=r+u,d+h>s&&(d+=n-h,f=f.replace("left","right")),i.removeClass(CLASS_PLACEMENTS).addClass(f).css({top:c,left:d})}}},{key:"trigger",value:function(e,t){var i=$.Event(e,t);return this.$element.trigger(i),i}},{key:"createItem",value:function(e){var t=this.options,i=t.itemTag,s={text:"",view:"",muted:!1,picked:!1,disabled:!1,highlighted:!1},a=[];return $.extend(s,e),s.muted&&a.push(t.mutedClass),s.highlighted&&a.push(t.highlightedClass),s.picked&&a.push(t.pickedClass),s.disabled&&a.push(t.disabledClass),"<".concat(i,' class="').concat(a.join(" "),'" data-view="').concat(s.view,'">').concat(s.text,"</").concat(i,">")}},{key:"getValue",value:function(){var e=this.$element;return this.isInput?e.val():e.text()}},{key:"setValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.$element;this.isInput?t.val(e):this.inline&&!this.options.container||t.text(e)}}],[{key:"setDefaults",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};$.extend(DEFAULTS,LANGUAGES[e.language],$.isPlainObject(e)&&e)}}]),e}();if($.extend&&$.extend(Datepicker.prototype,render,handlers,methods),$.fn){var AnotherDatepicker=$.fn.datepicker;$.fn.datepicker=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];var a;return this.each(function(t,s){var n=$(s),r="destroy"===e,h=n.data(NAMESPACE);if(!h){if(r)return;var o=$.extend({},n.data(),$.isPlainObject(e)&&e);h=new Datepicker(s,o),n.data(NAMESPACE,h)}if(isString(e)){var l=h[e];$.isFunction(l)&&(a=l.apply(h,i),r&&n.removeData(NAMESPACE))}}),isUndefined(a)?this:a},$.fn.datepicker.Constructor=Datepicker,$.fn.datepicker.languages=LANGUAGES,$.fn.datepicker.setDefaults=Datepicker.setDefaults,$.fn.datepicker.noConflict=function(){return $.fn.datepicker=AnotherDatepicker,this}}