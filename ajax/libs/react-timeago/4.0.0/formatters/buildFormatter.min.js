"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=buildFormatter;var normalizeNumber=function(e,r){return e&&10===e.length?String(r).split("").map(function(r){return r.match(/^[0-9]$/)?e[parseInt(r)]:r}).join(""):String(r)},normalizeFn=function(e,o,n){return function(r){return"function"==typeof r?r(e,n).replace(/%d/g,normalizeNumber(o,e)):r.replace(/%d/g,normalizeNumber(o,e))}};function buildFormatter(p){return function(r,e,o,n){var t=Date.now();"week"!==e||p.week||p.weeks||(r=Math.round(Math.abs(n-t)/864e5),e="day");var u,a,i=normalizeFn(r,p.numbers,t-n),f=[];"ago"===o&&p.prefixAgo&&f.push(i(p.prefixAgo)),"from now"===o&&p.prefixFromNow&&f.push(i(p.prefixFromNow)),1<r?(u=p[e+"s"]||p[e]||"%d "+e,f.push(i(u))):(a=p[e]||p[e+"s"]||"%d "+e,f.push(i(a))),"ago"===o&&p.suffixAgo&&f.push(i(p.suffixAgo)),"from now"===o&&p.suffixFromNow&&f.push(i(p.suffixFromNow));var s=null==p.wordSeparator?" ":p.wordSeparator;return f.join(s)}}