"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=buildFormatter;var normalizeNumber=function(e,r){return e&&10===e.length?String(r).split("").map(function(r){return r.match(/^[0-9]$/)?e[parseInt(r)]:r}).join(""):String(r)},normalizeFn=function(e,o,n){return function(r){return"function"==typeof r?r(e,o).replace(/%d/g,normalizeNumber(n,e)):r.replace(/%d/g,normalizeNumber(n,e))}};function buildFormatter(p){return function(r,e,o,n){var t=Date.now();"week"!==e||p.week||p.weeks||(r=Math.round(Math.abs(n-t)/864e5),e="day");var u,i,a=normalizeFn(r,t-n,null!=p.numbers?p.numbers:void 0),f=[];"ago"===o&&p.prefixAgo&&f.push(a(p.prefixAgo)),"from now"===o&&p.prefixFromNow&&f.push(a(p.prefixFromNow)),1<r?(u=p[e+"s"]||p[e]||"%d "+e,f.push(a(u))):(i=p[e]||p[e+"s"]||"%d "+e,f.push(a(i))),"ago"===o&&p.suffixAgo&&f.push(a(p.suffixAgo)),"from now"===o&&p.suffixFromNow&&f.push(a(p.suffixFromNow));var s="string"==typeof p.wordSeparator?p.wordSeparator:" ";return f.join(s)}}