function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var hasPassiveEvents=!1;if("undefined"!=typeof window){var passiveTestOptions={get passive(){hasPassiveEvents=!0}};window.addEventListener("testPassive",null,passiveTestOptions),window.removeEventListener("testPassive",null,passiveTestOptions)}var isIosDevice="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),locks=[],documentListenerAdded=!1,initialClientY=-1,previousBodyOverflowSetting=void 0,previousBodyPaddingRight=void 0,allowTouchMove=function(e){return locks.some(function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))})},preventDefault=function(e){var t=e||window.event;return!!allowTouchMove(t.target)||(t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1))},setOverflowHidden=function(e){if(void 0===previousBodyPaddingRight){var t=!!e&&!0===e.reserveScrollBarGap,o=window.innerWidth-document.documentElement.clientWidth;t&&o>0&&(previousBodyPaddingRight=document.body.style.paddingRight,document.body.style.paddingRight=o+"px")}void 0===previousBodyOverflowSetting&&(previousBodyOverflowSetting=document.body.style.overflow,setTimeout(function(){document.body.style.overflow="hidden"}))},restoreOverflowSetting=function(){setTimeout(function(){void 0!==previousBodyPaddingRight&&(document.body.style.paddingRight=previousBodyPaddingRight,previousBodyPaddingRight=void 0),void 0!==previousBodyOverflowSetting&&(document.body.style.overflow=previousBodyOverflowSetting,previousBodyOverflowSetting=void 0)})},isTargetElementTotallyScrolled=function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight},handleScroll=function(e,t){var o=e.targetTouches[0].clientY-initialClientY;return!allowTouchMove(e.target)&&(t&&0===t.scrollTop&&o>0?preventDefault(e):isTargetElementTotallyScrolled(t)&&o<0?preventDefault(e):(e.stopPropagation(),!0))};export var disableBodyScroll=function(e,t){if(isIosDevice){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(e&&!locks.some(function(t){return t.targetElement===e})){var o={targetElement:e,options:t||{}};locks=[].concat(_toConsumableArray(locks),[o]),e.ontouchstart=function(e){1===e.targetTouches.length&&(initialClientY=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&handleScroll(t,e)},documentListenerAdded||(document.addEventListener("touchmove",preventDefault,hasPassiveEvents?{passive:!1}:void 0),documentListenerAdded=!0)}}else{setOverflowHidden(t);var n={targetElement:e,options:t||{}};locks=[].concat(_toConsumableArray(locks),[n])}};export var clearAllBodyScrollLocks=function(){isIosDevice?(locks.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),documentListenerAdded&&(document.removeEventListener("touchmove",preventDefault,hasPassiveEvents?{passive:!1}:void 0),documentListenerAdded=!1),locks=[],initialClientY=-1):(restoreOverflowSetting(),locks=[])};export var enableBodyScroll=function(e){if(isIosDevice){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");e.ontouchstart=null,e.ontouchmove=null,locks=locks.filter(function(t){return t.targetElement!==e}),documentListenerAdded&&0===locks.length&&(document.removeEventListener("touchmove",preventDefault,hasPassiveEvents?{passive:!1}:void 0),documentListenerAdded=!1)}else(locks=locks.filter(function(t){return t.targetElement!==e})).length||restoreOverflowSetting()};