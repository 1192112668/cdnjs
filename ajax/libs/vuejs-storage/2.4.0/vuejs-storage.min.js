!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.vuejsStorage=e()}(this,function(){"use strict";var t=function(){function t(t){var e=t.storage,r=void 0===e?window.localStorage:e,n=t.stringify,i=void 0===n?JSON.stringify:n,o=t.parse,a=void 0===o?JSON.parse:o;this.storage=r,this.stringify=i,this.parse=a}return t.prototype.set=function(t,e){this.storage.setItem(t,this.stringify(e))},t.prototype.get=function(t){return this.parse(this.storage.getItem(t))},t.prototype.has=function(t){return null!=this.storage.getItem(t)},t}();function e(t){return t.replace(/\[([^[\]]*)\]/g,".$1.").split(".").filter(function(t){return""!==t})}function r(t,r,n){for(var i=e(r),o=t,a=0;a<i.length-1;a++){var s=i[a];o.hasOwnProperty(s)||(o[s]={}),o=o[s]}o[i[i.length-1]]=n}function n(t,n,i){r(t,i,function(t,r){return e(r).reduce(function(t,e){return t&&t[e]},t)}(n,i))}var i=function(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t};function o(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0,a=e;n<a.length;n++){var s=a[n];for(var f in s)s.hasOwnProperty(f)&&(i(s[f])?o(t[f],s[f]):t[f]=s[f])}return t}function a(e,i){for(var a=i.keys,s=i.merge,f=void 0===s?o:s,u=i.namespace,c=new t(i),g={},h=0,l=a;h<l.length;h++){var v=l[h];n(g,e,v)}var p=null;if(c.has(u))p=c.get(u);else{for(var d={},y=0,m=a;y<m.length;y++){n(d,g,v=m[y])}p=d}c.set(u,p),p=f(g,p);for(var w=function(t){n(e,p,t),e.$watch(t,{handler:function(e){r(p,t,e),c.set(u,p)},deep:!0})},S=0,b=a;S<b.length;S++){w(v=b[S])}}var s=function(e){return function(e){var r=new t(e),i=e.keys,a=e.merge,s=void 0===a?o:a,f=e.namespace;return function(t){var e=null;if(r.has(f))e=r.get(f);else{for(var o={},a=0,u=i;a<u.length;a++){var c=u[a];n(o,t.state,c)}e=o}t.replaceState(s(t.state,e)),r.set(f,e),t.subscribe(function(t,o){for(var a={},s=0,u=i;s<u.length;s++)n(a,o,u[s]);e=a,r.set(f,a)})}}(e)};return s.install=function(t){t.mixin({created:function(){var t=this;if("storage"in this.$options){var e=this.$options.storage;if(Array.isArray(e))return void e.forEach(function(e){return a(t,e)});a(this,e)}}})},s});
//# sourceMappingURL=vuejs-storage.min.js.map
