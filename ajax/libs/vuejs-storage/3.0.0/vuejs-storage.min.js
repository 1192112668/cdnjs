!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.vuejsStorage=e()}(this,function(){"use strict";function t(t){return t.replace(/\[([^[\]]*)\]/g,".$1.").split(".").filter(function(t){return""!==t})}function e(e,r,n){for(var o=t(r),i=e,a=0;a<o.length-1;a++){var s=o[a];i.hasOwnProperty(s)||(i[s]={}),i=i[s]}i[o[o.length-1]]=n}function r(r,n,o){e(r,o,function(e,r){return t(r).reduce(function(t,e){return t&&t[e]},e)}(n,o))}var n=function(){function t(t){this.storage=t}return t.prototype.set=function(t,e){this.storage.setItem(t,JSON.stringify(e))},t.prototype.get=function(t){return JSON.parse(this.storage.getItem(t))},t.prototype.has=function(t){return!!this.storage.getItem(t)},t}(),o=new n(window.localStorage),i=new n(window.sessionStorage),a=Object.freeze({localStorage:o,sessionStorage:i,default:n}),s=function(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t};function f(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0,o=e;n<o.length;n++){var i=o[n];for(var a in i)i.hasOwnProperty(a)&&(s(i[a])?f(t[a],i[a]):t[a]=i[a])}return t}function u(t,n){for(var i=n.keys,a=n.merge,s=void 0===a?f:a,u=n.namespace,c=n.driver,g=void 0===c?o:c,l={},v=0,h=i;v<h.length;v++){var p=h[v];r(l,t,p)}var d=null;if(g.has(u))d=g.get(u);else{for(var y={},m=0,w=i;m<w.length;m++){r(y,l,p=w[m])}d=y,g.set(u,d)}d=s(l,d);for(var S=function(n){r(t,d,n),t.$watch(n,{handler:function(t){e(d,n,t),g.set(u,d)},deep:!0})},b=0,O=i;b<O.length;b++){S(p=O[b])}}var c=function(t){return function(t){var e=t.keys,n=t.merge,i=void 0===n?f:n,a=t.namespace,s=t.driver,u=void 0===s?o:s;return function(t){if(u.has(a)){var n=u.get(a);t.replaceState(i(t.state,n))}else{n={};for(var o=0,s=e;o<s.length;o++){var f=s[o];r(n,t.state,f)}u.set(a,n)}t.subscribe(function(t,n){for(var o={},i=0,s=e;i<s.length;i++)r(o,n,s[i]);u.set(a,o)})}}(t)};return c.install=function(t){t.mixin({created:function(){var t=this;if("storage"in this.$options){var e=this.$options.storage;Array.isArray(e)?e.forEach(function(e){return u(t,e)}):u(this,e)}}})},c.drivers=a,c});
//# sourceMappingURL=vuejs-storage.min.js.map
