!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","react","prop-types"],n):n((e=e||self).reactDropzone={},e.React,e.PropTypes)}(this,function(e,fe,n){"use strict";var a="default"in fe?fe.default:fe;function pe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(n,e){var t,r=Object.keys(n);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(n),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,t)),r}function de(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?r(t,!0).forEach(function(e){pe(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r(t).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function ge(e,n){if(null==e)return{};var t,r=function(e,n){if(null==e)return{};for(var t,r={},o=Object.keys(e),i=0;i<o.length;i++)t=o[i],0<=n.indexOf(t)||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)t=o[i],0<=n.indexOf(t)||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t]);return r}function ve(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var t=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return t}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(i,a,u,c){return new(u=u||Promise)(function(e,n){function t(e){try{o(c.next(e))}catch(e){n(e)}}function r(e){try{o(c.throw(e))}catch(e){n(e)}}function o(n){n.done?e(n.value):new u(function(e){e(n.value)}).then(t,r)}o((c=c.apply(i,a||[])).next())})}function s(t,r){var o,i,a,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=2&n[0]?i.return:n[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(!(a=0<(a=u.trys).length&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=r.call(t,u)}catch(e){n=[6,e],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}}function o(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,o,i=t.call(e),a=[];try{for(;(void 0===n||0<n--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a}n=n&&n.hasOwnProperty("default")?n.default:n;var c=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function i(e,n){var t,r,o,i,a,u=((i=(t=e).name)&&-1!==i.lastIndexOf(".")&&!t.type&&(r=i.split(".").pop().toLowerCase(),(o=c.get(r))&&Object.defineProperty(t,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})),t);return"string"!=typeof u.path&&(a=e.webkitRelativePath,Object.defineProperty(u,"path",{value:"string"==typeof n?n:"string"==typeof a&&0<a.length?a:e.name,writable:!1,configurable:!1,enumerable:!0})),u}var t=[".DS_Store","Thumbs.db"];function ye(n){return l(this,void 0,void 0,function(){return s(this,function(e){return[2,n.dataTransfer&&n.dataTransfer?function(t,r){return l(this,void 0,void 0,function(){var n;return s(this,function(e){switch(e.label){case 0:return t.items?(n=f(t.items).filter(function(e){return"file"===e.kind}),"drop"!==r?[2,n]:[4,Promise.all(n.map(p))]):[3,2];case 1:return[2,u(function t(e){return e.reduce(function(e,n){return function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(o(arguments[n]));return e}(e,Array.isArray(n)?t(n):[n])},[])}(e.sent()))];case 2:return[2,u(f(t.files).map(function(e){return i(e)}))]}})})}(n.dataTransfer,n.type):(null!==n.target&&n.target.files?f(n.target.files):[]).map(function(e){return i(e)})]})})}function u(e){return e.filter(function(e){return-1===t.indexOf(e.name)})}function f(e){for(var n=[],t=0;t<e.length;t++){var r=e[t];n.push(r)}return n}function p(e){if("function"!=typeof e.webkitGetAsEntry)return d(e);var n=e.webkitGetAsEntry();return n&&n.isDirectory?v(n):d(e)}function d(e){var n=e.getAsFile();if(!n)return Promise.reject(e+" is not a File");var t=i(n);return Promise.resolve(t)}function g(n){return l(this,void 0,void 0,function(){return s(this,function(e){return[2,(n.isDirectory?v:function(r){return l(this,void 0,void 0,function(){return s(this,function(e){return[2,new Promise(function(t,n){r.file(function(e){var n=i(e,r.fullPath);t(n)},function(e){n(e)})})]})})})(n)]})})}function v(e){var n=e.createReader();return new Promise(function(a,u){var c=[];!function i(){var e=this;n.readEntries(function(o){return l(e,void 0,void 0,function(){var n,t,r;return s(this,function(e){switch(e.label){case 0:if(o.length)return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Promise.all(c)];case 2:return n=e.sent(),a(n),[3,4];case 3:return t=e.sent(),u(t),[3,4];case 4:return[3,6];case 5:r=Promise.all(o.map(g)),c.push(r),i(),e.label=6;case 6:return[2]}})})},function(e){u(e)})}()})}var y,m,b,h,D=(m=((y={exports:{}}).exports=(h={},j.m=b=[function(e,n,t){n.__esModule=!0,n.default=function(e,n){if(e&&n){var t=Array.isArray(n)?n:n.split(","),r=e.name||"",o=e.type||"",i=o.replace(/\/.*$/,"");return t.some(function(e){var n=e.trim();return"."===n.charAt(0)?r.toLowerCase().endsWith(n.toLowerCase()):n.endsWith("/*")?i===n.replace(/\/.*$/,""):o===n})}return!0}}],j.c=h,j.d=function(e,n,t){j.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},j.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return j.d(n,"a",n),n},j.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},j.p="",j(j.s=0)),y.exports))&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m,w=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(n)}},O=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," bytes")}},F=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," bytes")}},me={code:"too-many-files",message:"Too many files"};function j(e){if(h[e])return h[e].exports;var n=h[e]={i:e,l:!1,exports:{}};return b[e].call(n.exports,n,n.exports,j),n.l=!0,n.exports}function be(e,n){var t="application/x-moz-file"===e.type||D(e,n);return[t,t?null:w(n)]}function he(e,n,t){if(x(e.size))if(x(n)&&x(t)){if(e.size>t)return[!1,O(t)];if(e.size<n)return[!1,F(n)]}else{if(x(n)&&e.size<n)return[!1,F(n)];if(x(t)&&e.size>t)return[!1,O(t)]}return[!0,null]}function x(e){return null!=e}function De(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function we(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(e){return"Files"===e||"application/x-moz-file"===e}):e.target&&e.target.files}function Oe(e){e.preventDefault()}function Fe(){for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return function(n){for(var e=arguments.length,t=new Array(1<e?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return o.some(function(e){return!De(n)&&e&&e.apply(void 0,[n].concat(t)),De(n)})}}var A=fe.forwardRef(function(e,n){var t=e.children,r=P(ge(e,["children"])),o=r.open,i=ge(r,["open"]);return fe.useImperativeHandle(n,function(){return{open:o}},[o]),a.createElement(fe.Fragment,null,t(de({},i,{open:o})))});A.displayName="Dropzone";var je={isFocused:!(A.propTypes={children:n.func,accept:n.oneOfType([n.string,n.arrayOf(n.string)]),multiple:n.bool,preventDropOnDocument:n.bool,noClick:n.bool,noKeyboard:n.bool,noDrag:n.bool,noDragEventsBubbling:n.bool,minSize:n.number,maxSize:n.number,maxFiles:n.number,disabled:n.bool,getFilesFromEvent:n.func,onFileDialogCancel:n.func,onDragEnter:n.func,onDragLeave:n.func,onDragOver:n.func,onDrop:n.func,onDropAccepted:n.func,onDropRejected:n.func}),isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function P(){function e(){_&&setTimeout(function(){R.current&&(R.current.files.length||(I({type:"closeDialog"}),"function"==typeof w&&w()))},300)}var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},s=n.accept,t=n.disabled,p=void 0!==t&&t,r=n.getFilesFromEvent,o=void 0===r?ye:r,i=n.maxSize,f=void 0===i?1/0:i,a=n.minSize,d=void 0===a?0:a,u=n.multiple,g=void 0===u||u,c=n.maxFiles,v=void 0===c?0:c,l=n.onDragEnter,y=n.onDragLeave,m=n.onDragOver,b=n.onDrop,h=n.onDropAccepted,D=n.onDropRejected,w=n.onFileDialogCancel,O=n.preventDropOnDocument,F=void 0===O||O,j=n.noClick,x=void 0!==j&&j,A=n.noKeyboard,P=void 0!==A&&A,k=n.noDrag,E=void 0!==k&&k,C=n.noDragEventsBubbling,S=void 0!==C&&C,z=fe.useRef(null),R=fe.useRef(null),T=ve(fe.useReducer(xe,je),2),L=T[0],I=T[1],K=L.isFocused,_=L.isFileDialogActive,M=L.draggedFiles,B=fe.useCallback(function(){R.current&&(I({type:"openDialog"}),R.current.value=null,R.current.click())},[I]);function q(e){z.current&&z.current.contains(e.target)||(e.preventDefault(),H.current=[])}fe.useEffect(function(){return window.addEventListener("focus",e,!1),function(){window.removeEventListener("focus",e,!1)}},[R,_,w]);var G=fe.useCallback(function(e){z.current&&z.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),B()))},[z,R]),N=fe.useCallback(function(){I({type:"focus"})},[]),W=fe.useCallback(function(){I({type:"blur"})},[]),$=fe.useCallback(function(){x||(function(e){var n,t=0<arguments.length&&void 0!==e?e:window.navigator.userAgent;return-1!==(n=t).indexOf("MSIE")||-1!==n.indexOf("Trident/")||-1!==t.indexOf("Edge/")}()?setTimeout(B,0):B())},[R,x]),H=fe.useRef([]);function J(e){return p?null:e}function Q(e){return P?null:J(e)}function U(e){return E?null:J(e)}fe.useEffect(function(){return F&&(document.addEventListener("dragover",Oe,!1),document.addEventListener("drop",q,!1)),function(){F&&(document.removeEventListener("dragover",Oe),document.removeEventListener("drop",q))}},[z,F]);var V,X,Y,Z,ee,ne=fe.useCallback(function(n){var e;n.preventDefault(),n.persist(),ie(n),H.current=[].concat(function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e=H.current)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}(),[n.target]),we(n)&&Promise.resolve(o(n)).then(function(e){De(n)&&!S||(I({draggedFiles:e,isDragActive:!0,type:"setDraggedFiles"}),l&&l(n))})},[o,l,S]),te=fe.useCallback(function(e){if(e.preventDefault(),e.persist(),ie(e),e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return we(e)&&m&&m(e),!1},[m,S]),re=fe.useCallback(function(e){e.preventDefault(),e.persist(),ie(e);var n=H.current.filter(function(e){return z.current&&z.current.contains(e)}),t=n.indexOf(e.target);-1!==t&&n.splice(t,1),0<(H.current=n).length||(I({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),we(e)&&y&&y(e))},[z,y,S]),oe=fe.useCallback(function(n){n.preventDefault(),n.persist(),ie(n),H.current=[],we(n)&&Promise.resolve(o(n)).then(function(e){var c,l;De(n)&&!S||(c=[],l=[],e.forEach(function(e){var n,t=ve(be(e,s),2),r=t[0],o=t[1],i=ve(he(e,d,f),2),a=i[0],u=i[1];r&&a?c.push(e):(n=[o,u].filter(function(e){return e}),l.push({file:e,errors:n}))}),(!g&&1<c.length||g&&1<=v&&c.length>v)&&(c.forEach(function(e){l.push({file:e,errors:[me]})}),c.splice(0)),I({acceptedFiles:c,fileRejections:l,type:"setFiles"}),b&&b(c,l,n),0<l.length&&D&&D(l,n),0<c.length&&h&&h(c,n))}),I({type:"reset"})},[g,s,d,f,o,b,h,D,S]),ie=function(e){S&&e.stopPropagation()},ae=fe.useMemo(function(){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.refKey,t=void 0===n?"ref":n,r=e.onKeyDown,o=e.onFocus,i=e.onBlur,a=e.onClick,u=e.onDragEnter,c=e.onDragOver,l=e.onDragLeave,s=e.onDrop,f=ge(e,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return de(pe({onKeyDown:Q(Fe(r,G)),onFocus:Q(Fe(o,N)),onBlur:Q(Fe(i,W)),onClick:J(Fe(a,$)),onDragEnter:U(Fe(u,ne)),onDragOver:U(Fe(c,te)),onDragLeave:U(Fe(l,re)),onDrop:U(Fe(s,oe))},t,z),p||P?{}:{tabIndex:0},{},f)}},[z,G,N,W,$,ne,te,re,oe,P,E,p]),ue=fe.useCallback(function(e){e.stopPropagation()},[]),ce=fe.useMemo(function(){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.refKey,t=void 0===n?"ref":n,r=e.onChange,o=e.onClick,i=ge(e,["refKey","onChange","onClick"]);return de({},pe({accept:s,multiple:g,type:"file",style:{display:"none"},onChange:J(Fe(r,oe)),onClick:J(Fe(o,ue)),autoComplete:"off",tabIndex:-1},t,R),{},i)}},[R,s,g,oe,p]),le=M.length,se=0<le&&(X=(V={files:M,accept:s,minSize:d,maxSize:f,multiple:g}).files,Y=V.accept,Z=V.minSize,ee=V.maxSize,!(!V.multiple&&1<X.length)&&X.every(function(e){var n=ve(be(e,Y),1)[0],t=ve(he(e,Z,ee),1)[0];return n&&t}));return de({},L,{isDragAccept:se,isDragReject:0<le&&!se,isFocused:K&&!p,getRootProps:ae,getInputProps:ce,rootRef:z,inputRef:R,open:J(B)})}function xe(e,n){switch(n.type){case"focus":return de({},e,{isFocused:!0});case"blur":return de({},e,{isFocused:!1});case"openDialog":return de({},e,{isFileDialogActive:!0});case"closeDialog":return de({},e,{isFileDialogActive:!1});case"setDraggedFiles":var t=n.isDragActive;return de({},e,{draggedFiles:n.draggedFiles,isDragActive:t});case"setFiles":return de({},e,{acceptedFiles:n.acceptedFiles,fileRejections:n.fileRejections});case"reset":return de({},e,{isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]});default:return e}}e.default=A,e.useDropzone=P,Object.defineProperty(e,"__esModule",{value:!0})});