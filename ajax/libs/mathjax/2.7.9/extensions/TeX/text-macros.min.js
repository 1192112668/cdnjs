MathJax.Extension["TeX/text-macros"]={version:"2.7.9"},MathJax.Hub.Register.StartupHook("TeX Jax Ready",function(){var s=MathJax.ElementJax.mml,n=MathJax.InputJax.TeX,e=n.Definitions;n.Parse.Augment({InternalMath:function(t,e){var a=i(t,{}).Parse();return null!=e?a=[s.mstyle.apply(s,a).With({displaystyle:!1,scriptlevel:e})]:1<a.length&&(a=[s.mrow.apply(s,a)]),a},Comment:function(t){for(;this.i<this.string.length&&"\n"!=this.string.charAt(this.i);)this.i++;this.i++},GetCS:function(){var t=this.string.slice(this.i).match(/^([a-z]+|.) ?/i);return t?(this.i+=t[0].length,t[1]):(this.i++," ")}});var i=n.TextParser=n.Parse.Subclass({Init:function(t,e){this.env=MathJax.Hub.Insert({},e),this.stack={env:this.env},this.string=t,this.i=0,this.mml=[],this.text=""},textSpecial:{"\\":"ControlSequence",$:"Math","%":"Comment","^":"MathModeOnly",_:"MathModeOnly","&":"Misplaced","#":"Misplaced","~":"Tilde"," ":"Space","\t":"Space","\r":"Space","\n":"Space"," ":"Tilde","{":"OpenBrace","}":"CloseBrace","`":"OpenQuote","'":"CloseQuote"},textMacros:{"(":"Math",$:"SelfQuote",_:"SelfQuote","%":"SelfQuote","{":"SelfQuote","}":"SelfQuote"," ":"SelfQuote","&":"SelfQuote","#":"SelfQuote","\\":"SelfQuote","'":["Accent","´"],"`":["Accent","`"],"^":["Accent","^"],'"':["Accent","¨"],"~":["Accent","~"],"=":["Accent","¯"],".":["Accent","˙"],u:["Accent","˘"],v:["Accent","ˇ"],emph:"Emph",rm:["SetFont",s.VARIANT.NORMAL],mit:["SetFont",s.VARIANT.ITALIC],oldstyle:["SetFont",s.VARIANT.OLDSTYLE],cal:["SetFont",s.VARIANT.CALIGRAPHIC],it:["SetFont","-tex-mathit"],bf:["SetFont",s.VARIANT.BOLD],bbFont:["SetFont",s.VARIANT.DOUBLESTRUCK],scr:["SetFont",s.VARIANT.SCRIPT],frak:["SetFont",s.VARIANT.FRAKTUR],sf:["SetFont",s.VARIANT.SANSSERIF],tt:["SetFont",s.VARIANT.MONOSPACE],tiny:["SetSize",.5],Tiny:["SetSize",.6],scriptsize:["SetSize",.7],small:["SetSize",.85],normalsize:["SetSize",1],large:["SetSize",1.2],Large:["SetSize",1.44],LARGE:["SetSize",1.73],huge:["SetSize",2.07],Huge:["SetSize",2.49],mathcal:"MathModeOnly",mathscr:"MathModeOnly",mathrm:"MathModeOnly",mathbf:"MathModeOnly",mathbb:"MathModeOnly",mathit:"MathModeOnly",mathfrak:"MathModeOnly",mathsf:"MathModeOnly",mathtt:"MathModeOnly",Bbb:["Macro","{\\bbFont #1}",1],textrm:["Macro","{\\rm #1}",1],textit:["Macro","{\\it #1}",1],textbf:["Macro","{\\bf #1}",1],textsf:["Macro","{\\sf #1}",1],texttt:["Macro","{\\tt #1}",1],dagger:["Insert","†"],ddagger:["Insert","‡"],S:["Insert","§"]},useMathMacros:{",":!0,":":!0,">":!0,";":!0,"!":!0,enspace:!0,quad:!0,qquad:!0,thinspace:!0,negthinspace:!0,hskip:!0,hspace:!0,kern:!0,mskip:!0,mspace:!0,mkern:!0,rule:!0,Rule:!0,Space:!0,color:!0,href:!0,unicode:!0,ref:!0,eqref:!0},Parse:function(){for(var t;t=this.string.charAt(this.i++);)this.textSpecial.hasOwnProperty(t)?this[this.textSpecial[t]](t):this.text+=t;return this.SaveText(),this.mml},ControlSequence:function(t){var e,a=this.GetCS(),i=t+a;this.textMacros.hasOwnProperty(a)?e=this.textMacros[a]:((e=this.LookupCS(a))||this.Error(["UndefinedControlSequence","Undefined control sequence %1",i]),e instanceof Array&&"Macro"===e[0]||this.useMathMacros.hasOwnProperty(a)||this.Error(["MathMacro","'%1' is only supported in math mode",i])),e instanceof Array?(this.hasOwnProperty[e[0]]||this.SaveText(),this[e[0]].apply(this,[i].concat(e.slice(1)))):(this.hasOwnProperty[e]||this.SaveText(),this[e].call(this,i))},LookupCS:function(t){return e.macros.hasOwnProperty(t)?e.macros[t]:e.mathchar0mi.hasOwnProperty(t)?e.mathchar0mi[t]:e.mathchar0mo.hasOwnProperty(t)?e.mathchar0mo[t]:e.mathchar7.hasOwnProperty(t)?e.mathchar7[t]:e.delimiter.hasOwnProperty("\\"+t)?e.delimiter["\\"+t]:null},Math:function(t){this.SaveText();for(var e,a,i=this.i,s=0;a=this.GetNext();)switch(e=this.i++,a){case"\\":")"===this.GetCS()&&(a="\\(");case"$":if(0===s&&t===a)return void this.Push(n.Parse(this.string.substr(i,e-i),this.env).mml());break;case"{":s++;break;case"}":0==s&&this.Error(["ExtraCloseMissingOpen","Extra close brace or missing open brace"]),s--}this.Error(["MathNotTerminated","Math not terminated in text box"])},MathModeOnly:function(t){this.Error(["MathModeOnly","'%1' allowed only in math mode",t])},Misplaced:function(t){this.Error(["Misplaced","'%1' can not be used here",t])},OpenBrace:function(t){var e=this.env;this.env=MathJax.Hub.Insert({},e),this.env.oldEnv=e},CloseBrace:function(t){this.env.oldEnv?(this.SaveText(),this.env=this.env.oldEnv):this.Error(["ExtraCloseMissingOpen","Extra close brace or missing open brace"])},OpenQuote:function(t){this.string.charAt(this.i)===t?(this.text+="“",this.i++):this.text+="‘"},CloseQuote:function(t){this.string.charAt(this.i)===t?(this.text+="”",this.i++):this.text+="’"},Tilde:function(t){this.text+=" "},Space:function(t){for(this.text+=" ";this.GetNext().match(/\s/);)this.i++},SelfQuote:function(t){this.text+=t.substr(1)},Insert:function(t,e){this.text+=e},Accent:function(t,e){this.SaveText();var a=this.ParseArg(t),i=s.mo(s.chars(e));this.env.mathvariant&&(i.mathvariant=this.env.mathvariant),this.Push(s.mover(a,i))},Emph:function(t){this.UseFont(t,"-tex-mathit"===this.env.mathvariant?"normal":"-tex-mathit")},UseFont:function(t,e){this.SaveText(),this.Push(this.ParseTextArg(t,{mathvariant:e}))},SetFont:function(t,e){this.SaveText(),this.env.mathvariant=e},SetSize:function(t,e){this.SaveText(),this.env.mathsize=e},ParseTextArg:function(t,e){var a=this.GetArgument(t);return delete(e=MathJax.Hub.Insert(MathJax.Hub.Insert({},this.env),e)).oldEnv,i(a,e).Parse()},ParseArg:function(t){var e=i(this.GetArgument(t),this.env).Parse();return 0===e.length?e[0]:s.mrow.apply(s.mrow,e)},SaveText:function(){var t;this.text&&(t=s.mtext(s.chars(this.text)),this.env.mathvariant&&(t.mathvariant=this.env.mathvariant),this.Push(t)),this.text=""},Push:function(t){t instanceof Array?((this.env.mathsize||this.env.mathcolor)&&(t=s.mstyle.apply(s,t),this.env.mathsize&&(t.mathsize=this.env.mathsize),this.env.mathcolor&&(t.mathcolor=this.env.mathcolor)),this.mml.push.apply(this.mml,t)):(this.env.mathsize&&!t.mathsize&&(t.mathsize=this.env.mathsize),this.env.mathcolor&&!t.mathcolor&&(t.mathcolor=this.env.mathcolor),this.mml.push(t))},Error:function(t){n.Error(t)}});MathJax.Hub.Startup.signal.Post("TeX text-macros Ready")}),MathJax.Ajax.loadComplete("[MathJax]/extensions/TeX/text-macros.js");