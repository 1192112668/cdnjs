MathJax.Hub.Register.StartupHook("SVG Jax Ready",function(){var c=MathJax.ElementJax.mml,f=MathJax.OutputJax.SVG,o=f.BBOX,S=c.mo().With({SVGdata:{w:0,x:0}}),u={newline:0,nobreak:1e6,goodbreak:[-200],badbreak:[200],auto:[0],maxwidth:1.33,toobig:800,nestfactor:400,spacefactor:-100,spaceoffset:2,spacelimit:1,fence:500,close:500},G={linebreakstyle:"after"};c.mrow.Augment({SVGmultiline:function(t){for(var e=this;e.inferred||e.parent&&"mrow"===e.parent.type&&e.isEmbellished();)e=e.parent;var i="math"===e.type&&"block"===e.Get("display")||"mtd"===e.type;e.isMultiline=!0;var a=this.getValues("linebreak","linebreakstyle","lineleading","linebreakmultchar","indentalign","indentshift","indentalignfirst","indentshiftfirst","indentalignlast","indentshiftlast");a.linebreakstyle===c.LINEBREAKSTYLE.INFIXLINEBREAKSTYLE&&(a.linebreakstyle=this.Get("infixlinebreakstyle")),a.lineleading=f.length2em(a.lineleading,1,.5),t=this.SVG(),"math"===e.type&&(f.linebreakWidth<f.BIGDIMEN?t.w=f.linebreakWidth:t.w=f.cwidth);for(var n={n:0,Y:0,scale:this.scale||1,isTop:i,values:{},VALUES:a},s=this.SVGgetAlign(n,{}),l=this.SVGgetShift(n,{},s),h=[],d={index:[],penalty:u.nobreak,w:0,W:l,shift:l,scanW:l,nest:0},r=!1;this.SVGbetterBreak(d,n,!0)&&(d.scanW>=f.linebreakWidth||d.penalty===u.newline);)this.SVGaddLine(t,h,d.index,n,d.values,r),h=d.index.slice(0),r=!0,s=this.SVGgetAlign(n,d.values),l=this.SVGgetShift(n,d.values,s),s===c.INDENTALIGN.CENTER&&(l=0),d.W=d.shift=d.scanW=l,d.penalty=u.nobreak;return n.isLast=!0,this.SVGaddLine(t,h,[],n,G,r),this.SVGhandleSpace(t),this.SVGhandleColor(t),t.isMultiline=!0,this.SVGsaveData(t),t}}),c.mbase.Augment({SVGlinebreakPenalty:u,SVGbetterBreak:function(t,e,i){if(this.isToken)return!1;if(this.isEmbellished())return(t.embellished=this).CoreMO().SVGbetterBreak(t,e);if(this.linebreakContainer)return!1;var a,n,s=t.index.slice(0),l=t.index.shift(),h=this.data.length,d=0<t.index.length,r=!1;for(null==l&&(l=-1),d||(l++,t.W+=t.w,t.w=0),n=t.scanW=t.W,t.nest++;l<h&&(t.scanW<u.maxwidth*f.linebreakWidth||0===t.w);){if(this.data[l]){if(this.data[l].SVGbetterBreak(t,e)&&(r=!0,s=[l].concat(t.index),a=t.W,t.w,t.penalty===u.newline))return t.index=s,t.nest&&t.nest--,!0;n=d?t.scanW:this.SVGaddWidth(l,t,n)}l++,d=!(t.index=[])}return i&&r&&(S.parent=this.parent,S.inherit=this.inherit,S.SVGbetterBreak(t,e)&&(r=!1,s=t.index)),t.nest&&t.nest--,t.index=s,r&&(t.W=a),r},SVGaddWidth:function(t,e,i){var a;return this.data[t]&&(i+=(a=this.data[t].SVGdata).w+a.x,a.X&&(i+=a.X),e.W=e.scanW=i,e.w=0),i},SVGaddLine:function(t,e,i,a,n,s){var l=o();a.first=s,a.last=!0,this.SVGmoveLine(e,i,l,a,n),l.Clean();var h,d,r=this.SVGgetAlign(a,n),S=this.SVGgetShift(a,n,r);0<a.n&&(h=f.FONTDATA.baselineskip*a.scale,d=(null==a.values.lineleading?a.VALUES:a.values).lineleading*a.scale,a.Y-=Math.max(h,a.d+l.h+d)),l.w+S>t.w&&(t.w=l.w+S),t.Align(l,r,0,a.Y,S),a.d=l.d,a.values=n,a.n++},SVGgetAlign:function(t,e){var i=t.values,a=t.VALUES,n=0===t.n?e.indentalignfirst||i.indentalignfirst||a.indentalignfirst:t.isLast?i.indentalignlast||a.indentalignlast:i.indentalign||a.indentalign;return n===c.INDENTALIGN.INDENTALIGN&&(n=i.indentalign||a.indentalign),n===c.INDENTALIGN.AUTO&&(n=t.isTop?this.displayAlign:c.INDENTALIGN.LEFT),n},SVGgetShift:function(t,e,i){var a,n=t.values,s=t.VALUES,l=0===t.n?e.indentshiftfirst||n.indentshiftfirst||s.indentshiftfirst:t.isLast?n.indentshiftlast||s.indentshiftlast:n.indentshift||s.indentshift;return l===c.INDENTSHIFT.INDENTSHIFT&&(l=n.indentshift||s.indentshift),"auto"!==l&&""!==l||(l="0"),l=f.length2em(l,1,f.cwidth),t.isTop&&"0"!==this.displayIndent&&(a=f.length2em(this.displayIndent,1,f.cwidth),l+=i===c.INDENTALIGN.RIGHT?-a:a),l},SVGmoveLine:function(t,e,i,a,n){var s=t[0],l=e[0];if(null==s&&(s=-1),null==l&&(l=this.data.length-1),s===l&&1<t.length)this.data[s].SVGmoveSlice(t.slice(1),e.slice(1),i,a,n,"paddingLeft");else{var h=a.last;for(a.last=!1;s<l;)this.data[s]&&(t.length<=1?this.data[s].SVGmove(i,a,n):this.data[s].SVGmoveSlice(t.slice(1),[],i,a,n,"paddingLeft")),s++,a.first=!1,t=[];a.last=h,this.data[s]&&(e.length<=1?this.data[s].SVGmove(i,a,n):this.data[s].SVGmoveSlice([],e.slice(1),i,a,n,"paddingRight"))}},SVGmoveSlice:function(t,e,i,a,n,s){var l=o();return this.SVGmoveLine(t,e,l,a,n),l.Clean(),this.href&&this.SVGaddHref(l),this.SVGhandleColor(l),0==t.length&&this.SVGhandleSpace(l),i.Add(l,i.w,0,!0),l},SVGmove:function(t,e,i){var a;(!e.first&&!e.last||e.first&&e.values.linebreakstyle===c.LINEBREAKSTYLE.BEFORE||e.last&&i.linebreakstyle===c.LINEBREAKSTYLE.AFTER)&&(a=this.toSVG(this.SVGdata.HW,this.SVGdata.D),(e.first||e.nextIsFirst)&&(a.x=0),e.last&&a.X&&(a.X=0),t.Add(a,t.w,0,!0)),e.first&&a&&0===a.w?e.nextIsFirst=!0:delete e.nextIsFirst}}),c.mfenced.Augment({SVGbetterBreak:function(t,e){var i,a,n,s=t.index.slice(0),l=t.index.shift(),h=this.data.length,d=0<t.index.length,r=!1;if(null==l&&(l=-1),d||(l++,t.W+=t.w,t.w=0),n=t.scanW=t.W,t.nest++,!this.dataI){this.dataI=[],this.data.open&&this.dataI.push("open"),h&&this.dataI.push(0);for(var S=1;S<h;S++)this.data["sep"+S]&&this.dataI.push("sep"+S),this.dataI.push(S);this.data.close&&this.dataI.push("close")}for(h=this.dataI.length;l<h&&(t.scanW<u.maxwidth*f.linebreakWidth||0===t.w);){var o=this.dataI[l];if(this.data[o]){if(this.data[o].SVGbetterBreak(t,e)&&(r=!0,s=[l].concat(t.index),i=t.W,a=t.w,t.penalty===u.newline))return t.index=s,t.nest&&t.nest--,!0;n=d?t.scanW:this.SVGaddWidth(l,t,n)}l++,d=!(t.index=[])}return t.nest&&t.nest--,t.index=s,r&&(t.W=i,t.w=a),r},SVGmoveLine:function(t,e,i,a,n){var s=t[0],l=e[0];if(null==s&&(s=-1),null==l&&(l=this.dataI.length-1),s===l&&1<t.length)this.data[this.dataI[s]].SVGmoveSlice(t.slice(1),e.slice(1),i,a,n,"paddingLeft");else{var h=a.last;a.last=!1;for(var d=this.dataI[s];s<l;)this.data[d]&&(t.length<=1?this.data[d].SVGmove(i,a,n):this.data[d].SVGmoveSlice(t.slice(1),[],i,a,n,"paddingLeft")),s++,d=this.dataI[s],a.first=!1,t=[];a.last=h,this.data[d]&&(e.length<=1?this.data[d].SVGmove(i,a,n):this.data[d].SVGmoveSlice([],e.slice(1),i,a,n,"paddingRight"))}}}),c.msubsup.Augment({SVGbetterBreak:function(t,e){if(!this.data[this.base])return!1;var i,a,n,s=t.index.slice(0),l=t.index.shift(),h=0<t.index.length,d=!1;return h||(t.W+=t.w,t.w=0),n=t.scanW=t.W,null==l&&(this.SVGdata.dw=this.SVGdata.w-this.data[this.base].SVGdata.w),this.data[this.base].SVGbetterBreak(t,e)&&(d=!0,s=[this.base].concat(t.index),i=t.W,a=t.w,t.penalty===u.newline&&(d=h=!0)),h||this.SVGaddWidth(this.base,t,n),t.scanW+=this.SVGdata.dw,t.W=t.scanW,t.index=[],d&&(t.W=i,t.w=a,t.index=s),d},SVGmoveLine:function(t,e,i,a,n){var s,l,h,d,r;this.data[this.base]&&(1<t.length?this.data[this.base].SVGmoveSlice(t.slice(1),e.slice(1),i,a,n,"paddingLeft"):e.length<=1?this.data[this.base].SVGmove(i,a,n):this.data[this.base].SVGmoveSlice([],e.slice(1),i,a,n,"paddingRight")),0===e.length&&(s=this.data[this.sup],l=this.data[this.sub],h=i.w,r=(this.data[this.base].SVGdata||{}).ic||0,s&&(d=s.SVGdata||{},i.Add(s.toSVG(),h+(d.dx||0)-r,d.dy)),l&&(d=l.SVGdata||{},i.Add(l.toSVG(),h+(d.dx||0)-r,d.dy)))}}),c.mmultiscripts.Augment({SVGbetterBreak:function(t,e){if(!this.data[this.base])return!1;var i=t.index.slice(0);t.index.shift();var a,n,s,l=0<t.index.length,h=!1;l||(t.W+=t.w,t.w=0),t.scanW=t.W;var d=this.SVGdata.w-this.data[this.base].SVGdata.w-this.SVGdata.dx;return t.scanW+=this.SVGdata.dx,s=t.scanW,this.data[this.base].SVGbetterBreak(t,e)&&(h=!0,i=[this.base].concat(t.index),a=t.W,n=t.w,t.penalty===u.newline&&(h=l=!0)),l||this.SVGaddWidth(this.base,t,s),t.scanW+=d,t.W=t.scanW,t.index=[],h&&(t.W=a,t.w=n,t.index=i),h},SVGmoveLine:function(t,e,i,a,n){var s,l,h,d,r,S=this.SVGdata;t.length<1&&(this.scriptBox=this.SVGgetScripts(this.SVGdata.s),s=this.scriptBox[2],l=this.scriptBox[3],h=i.w+S.dx,l&&i.Add(l,h+S.delta-l.w,S.u),s&&i.Add(s,h-s.w,-S.v)),this.data[this.base]&&(1<t.length?this.data[this.base].SVGmoveSlice(t.slice(1),e.slice(1),i,a,n,"paddingLeft"):e.length<=1?this.data[this.base].SVGmove(i,a,n):this.data[this.base].SVGmoveSlice([],e.slice(1),i,a,n,"paddingRight")),0===e.length&&(d=this.scriptBox[0],r=this.scriptBox[1],h=i.w+S.s,r&&i.Add(r,h,S.u),d&&i.Add(d,h-S.delta,-S.v),delete this.scriptBox)}}),c.mo.Augment({SVGbetterBreak:function(t,e){if(t.values&&t.values.last===this)return!1;var i=this.getValues("linebreak","linebreakstyle","lineleading","linebreakmultchar","indentalign","indentshift","indentalignfirst","indentshiftfirst","indentalignlast","indentshiftlast","texClass","fence");i.linebreakstyle===c.LINEBREAKSTYLE.INFIXLINEBREAKSTYLE&&(i.linebreakstyle=this.Get("infixlinebreakstyle")),i.texClass===c.TEXCLASS.OPEN&&t.nest++,i.texClass===c.TEXCLASS.CLOSE&&t.nest&&t.nest--;var a=t.scanW,n=t.embellished;delete t.embellished,n&&n.SVGdata||(n=this);var s=n.SVGdata,l=s.w+s.x;if(i.linebreakstyle===c.LINEBREAKSTYLE.AFTER&&(a+=l,l=0),a-t.shift==0&&i.linebreak!==c.LINEBREAK.NEWLINE)return!1;var h,d,r=f.linebreakWidth-a;0!==e.n||i.indentshiftfirst===e.VALUES.indentshiftfirst&&i.indentalignfirst===e.VALUES.indentalignfirst||(h=this.SVGgetAlign(e,i),d=this.SVGgetShift(e,i,h),r+=t.shift-d);var S=Math.floor(r/f.linebreakWidth*1e3);S<0&&(S=u.toobig-3*S),i.fence&&(S+=u.fence),(i.linebreakstyle===c.LINEBREAKSTYLE.AFTER&&i.texClass===c.TEXCLASS.OPEN||i.texClass===c.TEXCLASS.CLOSE)&&(S+=u.close),S+=t.nest*u.nestfactor;var o=u[i.linebreak||c.LINEBREAK.AUTO]||0;return MathJax.Object.isArray(o)?S=Math.max(1,S+o[0]*t.nest):(o||0<=r)&&(S=o*t.nest),!(S>=t.penalty)&&(t.penalty=S,t.values=i,t.W=a,t.w=l,i.lineleading=f.length2em(i.lineleading,1,e.VALUES.lineleading),i.last=this,!0)}}),c.mspace.Augment({SVGbetterBreak:function(t,e){if(t.values&&t.values.last===this)return!1;var i=this.getValues("linebreak"),a=i.linebreak;a&&!this.hasDimAttr()||(a=c.LINEBREAK.AUTO);var n=t.scanW,s=this.SVGdata,l=s.w+s.x;if(n-t.shift==0)return!1;var h=f.linebreakWidth-n,d=Math.floor(h/f.linebreakWidth*1e3);d<0&&(d=u.toobig-3*d),d+=t.nest*u.nestfactor;var r=u[a]||0;return a===c.LINEBREAK.AUTO&&1e3*u.spacelimit<=l&&!this.mathbackground&&!this.backrgound&&(r=[(l/1e3+u.spaceoffset)*u.spacefactor]),MathJax.Object.isArray(r)?d=Math.max(1,d+r[0]*t.nest):(r||0<=h)&&(d=r*t.nest),!(d>=t.penalty)&&(t.penalty=d,t.values=i,t.W=n,t.w=l,i.lineleading=e.VALUES.lineleading,i.linebreakstyle="before",i.last=this,!0)}}),MathJax.Hub.Register.StartupHook("TeX mathchoice Ready",function(){c.TeXmathchoice.Augment({SVGbetterBreak:function(t,e){return this.Core().SVGbetterBreak(t,e)},SVGmoveLine:function(t,e,i,a,n){return this.Core().SVGmoveSlice(t,e,i,a,n)}})}),c.maction.Augment({SVGbetterBreak:function(t,e){return this.Core().SVGbetterBreak(t,e)},SVGmoveLine:function(t,e,i,a,n){return this.Core().SVGmoveSlice(t,e,i,a,n)}}),c.semantics.Augment({SVGbetterBreak:function(t,e){return!!this.data[0]&&this.data[0].SVGbetterBreak(t,e)},SVGmoveLine:function(t,e,i,a,n){return this.data[0]?this.data[0].SVGmoveSlice(t,e,i,a,n):null}}),MathJax.Hub.Startup.signal.Post("SVG multiline Ready"),MathJax.Ajax.loadComplete(f.autoloadDir+"/multiline.js")});