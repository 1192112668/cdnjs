MathJax.Hub.Register.StartupHook("SVG Jax Ready",function(){var t=MathJax.ElementJax.mml,r=MathJax.OutputJax.SVG,x=r.BBOX;x.FOREIGN=x.Subclass({type:"foreignObject",removeable:!1}),t["annotation-xml"].Augment({toSVG:function(){var t=this.SVG();this.SVGhandleSpace(t);for(var a=this.Get("encoding"),e=0,i=this.data.length;e<i;e++)t.Add(this.data[e].toSVG(a),t.w,0);return t.Clean(),this.SVGhandleColor(t),this.SVGsaveData(t),t}}),t.xml.Augment({toSVG:function(t){var a=r.textSVG.parentNode;r.mathDiv.style.width="auto",a.insertBefore(this.div,r.textSVG);var e=this.div.offsetWidth,i=this.div.offsetHeight,h=MathJax.HTML.addElement(this.div,"span",{style:{display:"inline-block",overflow:"hidden",height:i+"px",width:"1px",marginRight:"-1px"}}),n=this.div.offsetHeight-i;i-=n,this.div.removeChild(h),a.removeChild(this.div),r.mathDiv.style.width="";for(var o=1e3/r.em,d=x.FOREIGN({y:-i+"px",width:e+"px",height:i+n+"px",transform:"scale("+o+") matrix(1 0 0 -1 0 0)"}),s=0,l=this.data.length;s<l;s++)d.element.appendChild(this.data[s].cloneNode(!0));return d.w=e*o,d.h=i*o,d.d=n*o,d.r=d.w,d.l=0,d.Clean(),this.SVGsaveData(d),d}}),MathJax.Hub.Startup.signal.Post("SVG annotation-xml Ready"),MathJax.Ajax.loadComplete(r.autoloadDir+"/annotation-xml.js")});