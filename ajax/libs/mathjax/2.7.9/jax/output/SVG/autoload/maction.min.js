MathJax.Hub.Register.StartupHook("SVG Jax Ready",function(){var n,h,c,r=MathJax.ElementJax.mml,o=MathJax.OutputJax.SVG,i=o.config.tooltip=MathJax.Hub.Insert({delayPost:600,delayClear:600,offsetX:10,offsetY:5},o.config.tooltip||{});r.maction.Augment({SVGtooltip:MathJax.HTML.addElement(document.body,"div",{id:"MathJax_SVG_Tooltip"}),toSVG:function(t,e){this.SVGgetStyles();var a=this.SVG();return"null"==this.selected().type||(a.Add(this.SVGdataStretched(this.Get("selection")-1,t,e)),a.removeable=!1,this.SVGhandleHitBox(a),this.SVGhandleSpace(a),this.SVGhandleColor(a)),this.SVGsaveData(a),a},SVGhandleHitBox:function(t){var e=o.Element("rect",{width:t.w,height:t.h+t.d,y:-t.d,fill:"none","pointer-events":"all"});t.element.insertBefore(e,t.element.firstChild);var a=this.Get("actiontype");this.SVGaction[a]&&this.SVGaction[a].call(this,t,t.element,this.Get("selection"))},SVGstretchH:r.mbase.prototype.SVGstretchH,SVGstretchV:r.mbase.prototype.SVGstretchV,SVGaction:{toggle:function(t,e,a){this.selection=a,o.Element(e,{cursor:"pointer"}),e.onclick=MathJax.Callback(["SVGclick",this])},statusline:function(t,e,a){e.onmouseover=MathJax.Callback(["SVGsetStatus",this]),e.onmouseout=MathJax.Callback(["SVGclearStatus",this]),e.onmouseover.autoReset=e.onmouseout.autoReset=!0},tooltip:function(t,e,a){e.onmouseover=MathJax.Callback(["SVGtooltipOver",this]),e.onmouseout=MathJax.Callback(["SVGtooltipOut",this]),e.onmouseover.autoReset=e.onmouseout.autoReset=!0}},SVGclick:function(t){this.selection++,this.selection>this.data.length&&(this.selection=1);for(var e=this;"math"!==e.type;)e=e.inherit;return MathJax.Hub.getJaxFor(e.inputID).Update(),MathJax.Extension.MathEvents.Event.False(t)},SVGsetStatus:function(t){this.messageID=MathJax.Message.Set(this.data[1]&&this.data[1].isToken?this.data[1].data.join(""):this.data[1].toString())},SVGclearStatus:function(t){this.messageID&&MathJax.Message.Clear(this.messageID,0),delete this.messageID},SVGtooltipOver:function(t){t=t||window.event,c&&(clearTimeout(c),c=null),h&&clearTimeout(h);var e=t.pageX,a=t.pageY;null==e&&(e=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=t.clientY+document.body.scrollTop+document.documentElement.scrollTop);var o=MathJax.Callback(["SVGtooltipPost",this,e+i.offsetX,a+i.offsetY]);h=setTimeout(o,i.delayPost)},SVGtooltipOut:function(t){h&&(clearTimeout(h),h=null),c&&clearTimeout(c);var e=MathJax.Callback(["SVGtooltipClear",this,80]);c=setTimeout(e,i.delayClear)},SVGtooltipPost:function(e,a){h=null,c&&(clearTimeout(c),c=null);var o=this.SVGtooltip;if(o.style.display="block",o.style.opacity="",this!==n){o.style.left=e+"px",o.style.top=a+"px",o.innerHTML="";for(var t=MathJax.HTML.addElement(o,"span"),i=this;"math"!==i.type;)i=i.inherit;var s=MathJax.Hub.getJaxFor(i.inputID);this.em=r.mbase.prototype.em=s.SVG.em,this.ex=s.SVG.ex,this.linebreakWidth=s.SVG.lineWidth,this.cwidth=s.SVG.cwidth;var l=this.data[1],i=r.math(l);try{i.toSVG(t,o)}catch(t){if(this.SetData(1,l),o.style.display="none",!t.restart)throw t;return void MathJax.Callback.After(["SVGtooltipPost",this,e,a],t.restart)}this.SetData(1,l),n=this}},SVGtooltipClear:function(t){var e=this.SVGtooltip;c=t<=0?(e.style.display="none",e.style.opacity="",null):(e.style.opacity=t/100,setTimeout(MathJax.Callback(["SVGtooltipClear",this,t-20]),50))}}),MathJax.Hub.Startup.signal.Post("SVG maction Ready"),MathJax.Ajax.loadComplete(o.autoloadDir+"/maction.js")});