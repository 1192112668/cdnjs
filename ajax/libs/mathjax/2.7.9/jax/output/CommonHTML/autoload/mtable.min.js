MathJax.Hub.Register.StartupHook("CommonHTML Jax Ready",function(){var R=MathJax.ElementJax.mml,u=MathJax.Hub.config,S=MathJax.OutputJax.CommonHTML,L=MathJax.Hub.SplitList,D=-1;R.mtable.Augment({toCommonHTML:function(t){var e={rows:[],labels:[],labeled:!1};t=this.CHTMLdefaultNode(t,{noBBox:!0,childOptions:e});for(var a=S.Element("mjx-table");t.firstChild;)a.appendChild(t.firstChild);t.appendChild(a);var i=this.getValues("columnalign","rowalign","columnspacing","rowspacing","columnwidth","equalcolumns","equalrows","columnlines","rowlines","frame","framespacing","align","width","side","minlabelspacing","useHeight"),l=S.TEX.min_rule_thickness/S.em;e.t=S.Px(l*this.CHTML.scale,1),this.CHTMLgetBoxSizes(i,e),this.CHTMLgetAttributes(i,e),this.CHTMLadjustCells(i,e),i.frame&&(a.style.border=e.t+" "+i.frame),this.CHTMLalignV(i,e,t),this.CHTMLcolumnWidths(i,e,t),this.CHTMLstretchCells(i,e),e.labeled&&this.CHTMLaddLabels(i,e,t,a);var n=this.CHTML;return n.w=n.r=e.R,n.h=n.t=e.T-e.B,n.d=n.b=e.B,i.frame||n.pwidth||(t.style.padding="0 "+S.Em(1/6),n.L=n.R=1/6),this.CHTMLhandleSpace(t),this.CHTMLhandleBBox(t),this.CHTMLhandleColor(t),t},CHTMLgetBoxSizes:function(t,e){var a=S.FONTDATA.lineH*t.useHeight,i=S.FONTDATA.lineD*t.useHeight,l=[],n=[],h=[],s=-1;for(H=0,L=this.data.length;H<L;H++){var r=this.data[H],m="mtr"===r.type?0:D;l[H]=a,n[H]=i;for(var o=m,d=r.data.length+m;o<d;o++){null==h[o]&&(h[o]=-1e6,s<o&&(s=o));var g=r.data[o-m].CHTML;g.h>l[H]&&(l[H]=g.h),g.d>n[H]&&(n[H]=g.d),g.w>h[o]&&(h[o]=g.w)}}if(t.equalrows){e.HD=!0;for(var C=Math.max.apply(Math,l),f=Math.max.apply(Math,n),H=0,L=l.length;H<L;H++)l[H]=C,n[H]=f}e.H=l,e.D=n,e.W=h,e.J=s},CHTMLgetAttributes:function(t,e){for(var a=L(t.columnspacing),i=L(t.rowspacing),l=L(t.columnalign),n=L(t.rowalign),h=L(t.columnlines),s=L(t.rowlines),r=L(t.columnwidth),m=[],o=e.J,d=e.rows.length-1,g=0,C=a.length;g<C;g++)a[g]=this.CHTMLlength2em(a[g]);for(g=0,C=i.length;g<C;g++)i[g]=this.CHTMLlength2em(i[g]);for(;a.length<o;)a.push(a[a.length-1]);for(;l.length<=o;)l.push(l[l.length-1]);for(;h.length<o;)h.push(h[h.length-1]);for(;r.length<=o;)r.push(r[r.length-1]);for(;i.length<d;)i.push(i[i.length-1]);for(;n.length<=d;)n.push(n[n.length-1]);for(;s.length<d;)s.push(s[s.length-1]);for(l[D]="l"===t.side.substr(0,1)?"left":"right",g=0;g<=d;g++){var f=this.data[g];if(m[g]=[],f.rowalign&&(n[g]=f.rowalign),f.columnalign)for(m[g]=L(f.columnalign);m[g].length<=o;)m[g].push(m[g][m[g].length-1])}var H=L(t.framespacing);2!=H.length&&(H=L(this.defaults.framespacing)),H[0]=Math.max(0,this.CHTMLlength2em(H[0])),H[1]=Math.max(0,this.CHTMLlength2em(H[1])),""===t.columnlines.replace(/none/g,"").replace(/ /g,"")&&""===t.rowlines.replace(/none/g,"").replace(/ /g,"")||(t.fspace=!0),t.frame===R.LINES.NONE?delete t.frame:t.fspace=!0,t.frame&&(H[0]=Math.max(0,H[0]),H[1]=Math.max(0,H[1])),t.fspace?(a[o]=H[0],i[d]=H[1]):a[o]=i[d]=0,h[o]=s[d]=R.LINES.NONE,e.CSPACE=a,e.RSPACE=i,e.CALIGN=l,e.RALIGN=n,e.CLINES=h,e.RLINES=s,e.CWIDTH=r,e.RCALIGN=m,e.FSPACE=H},CHTMLadjustCells:function(t,e){var a=e.rows,i=e.CSPACE,l=e.CLINES,n=e.RSPACE,h=e.RLINES,s=e.CALIGN,r=e.RALIGN,m=e.RCALIGN;i[e.J]*=2,n[a.length-1]*=2;var o,d="0",g=0;t.fspace&&(g=e.FSPACE[1],d=S.Em(e.FSPACE[1])),e.RHD=[],e.RH=[];for(var C=0,f=a.length;C<f;C++){var H=a[C],L=this.data[C],T=n[C]/2,c=null,u="0";if(h[C]!==R.LINES.NONE&&""!==h[C]&&(c=e.t+" "+h[C]),c||l[M]!==R.LINES.NONE&&""!==l[M])for(;H.length<=e.J;)H.push(S.addElement(H.node,"mjx-mtd",null,[["span"]]));e.RH[C]=g+e.H[C],g=Math.max(0,T),e.RHD[C]=e.RH[C]+g+e.D[C],T=S.Em(g),t.fspace&&(u=S.Em(e.FSPACE[0]));for(var M=0,p=H.length;M<p;M++){var E="mtr"===L.type?0:D,N=L.data[M-E]||{CHTML:S.BBOX.zero()},w=H[M].style,A=N.CHTML,v=i[M]/2;l[M]!==R.LINES.NONE&&(w.borderRight=e.t+" "+l[M],v-=1/S.em/2),v=S.Em(Math.max(0,v)),w.padding=d+" "+v+" 0px "+u,c&&(w.borderBottom=c),u=v,o=N.rowalign||(this.data[C]||{}).rowalign||r[C];var x=Math.max(1,A.h),I=Math.max(.2,A.d),y=e.H[C]+e.D[C]-(x+I),b=H[M].firstChild.style;o===R.ALIGN.TOP?(y&&(b.marginBottom=S.Em(y)),w.verticalAlign="top"):o===R.ALIGN.BOTTOM?(w.verticalAlign="bottom",y&&(b.marginTop=S.Em(y))):o===R.ALIGN.CENTER?(y&&(b.marginTop=b.marginBottom=S.Em(y/2)),w.verticalAlign="middle"):x!==e.H[C]&&(b.marginTop=S.Em(e.H[C]-x)),(o=N.columnalign||m[C][M]||s[M])!==R.ALIGN.CENTER&&(w.textAlign=o)}H.node.style.height=S.Em(e.RHD[C]),d=T}i[e.J]/=2,n[a.length-1]/=2},CHTMLalignV:function(t,e,a){var i,l=e.rows.length,n=e.H,h=e.D,s=e.RSPACE;"string"!=typeof t.align&&(t.align=String(t.align)),t.align.match(/(top|bottom|center|baseline|axis)( +(-?\d+))?/)?(i=parseInt(RegExp.$3||"0"),t.align=RegExp.$1,i<0&&(i+=e.rows.length+1),(l<i||i<=0)&&(i=null)):t.align=this.defaults.align;var r=0,m=0,o=S.TEX.axis_height;t.fspace&&(r+=e.FSPACE[1]),t.frame&&(r+=2/S.em,m+=1/S.em);for(var d=0;d<l;d++){var g=n[d],C=h[d];r+=g+C+s[d],i&&(d===i-1&&(m+={top:g+C,bottom:0,center:(g+C)/2,baseline:C,axis:o+C}[t.align]+s[d]),i<=d&&(m+=g+C+s[d]))}i||(m={top:r,bottom:0,center:r/2,baseline:r/2,axis:r/2-o}[t.align]),m&&(a.style.verticalAlign=S.Em(-m)),e.T=r,e.B=m},CHTMLcolumnWidths:function(t,e,a){var i,l=e.CWIDTH,n=e.CSPACE,h=e.J,s=0,r=!1,m=t.width.match(/%$/);if("auto"===t.width||m||(s=Math.max(0,this.CHTMLlength2em(t.width,e.R)),r=!0),t.equalcolumns){if(m)for(var o=S.Percent(1/(h+1)),d=0;d<=h;d++)l[d]=o;else{if(i=Math.max.apply(Math,e.W),"auto"!==t.width){var g=t.fspace?e.FSPACE[0]+(t.frame?2/S.em:0):0;for(d=0;d<=h;d++)g+=n[d];i=Math.max((s-g)/(h+1),i)}for(i=S.Em(i),d=0;d<=h;d++)l[d]=i}r=!0}var C=0;t.fspace&&(C=e.FSPACE[0]);var f=[],H=[],L=[],T=[],c=e.rows[0];for(d=0;d<=h;d++)T[d]=e.W[d],"auto"===l[d]?f.push(d):"fit"===l[d]?H.push(d):l[d].match(/%$/)?L.push(d):T[d]=this.CHTMLlength2em(l[d],T[d]),C+=T[d]+n[d],c[d]&&(c[d].style.width=S.Em(T[d]));t.frame&&(C+=2/S.em);var u=0<H.length;if(r||m&&u)if(m)for(d=0;d<=h;d++)cell=c[d].style,"auto"===l[d]&&!u||"fit"===l[d]?cell.width="":l[d].match(/%$/)?cell.width=l[d]:cell.minWidth=cell.maxWidth=cell.width;else{if(C<s){for(var M=0,p=0,E=L.length;p<E;p++)d=L[p],M+=(i=Math.max(T[d],this.CHTMLlength2em(l[d],s)))-T[d],T[d]=i,c[d].style.width=S.Em(i);C+=M}if(u||(H=f),C<s&&H.length){var N=(s-C)/H.length;for(p=0,E=H.length;p<E;p++)T[d=H[p]]+=N,c[d].style.width=S.Em(T[d]);C=s}}T[D]=e.W[D],e.W=T,e.R=C,m&&(a.style.width=this.CHTML.pwidth="100%",this.CHTML.mwidth=S.Em(C),a.firstChild.style.width=t.width,a.firstChild.style.margin="auto")},CHTMLstretchCells:function(t,e){for(var a=e.rows,i=e.H,l=e.D,n=e.W,h=e.J,s=a.length-1,r=0;r<=s;r++)for(var m=a[r],o=this.data[r],d=i[r],g=l[r],C=0;C<=h;C++){var f=m[C],H=o.data[C];H&&("V"===H.CHTML.stretch?H.CHTMLstretchV(d,g):"H"===H.CHTML.stretch&&H.CHTMLstretchH(f,n[C]))}},CHTMLaddLabels:function(t,e,a,i){var l=this.getValues("indentalignfirst","indentshiftfirst","indentalign","indentshift");l.indentalignfirst!==R.INDENTALIGN.INDENTALIGN&&(l.indentalign=l.indentalignfirst),l.indentalign===R.INDENTALIGN.AUTO&&(l.indentalign=u.displayAlign),l.indentshiftfirst!==R.INDENTSHIFT.INDENTSHIFT&&(l.indentshift=l.indentshiftfirst),"auto"===l.indentshift&&(l.indentshift="0");var n=this.CHTMLlength2em(l.indentshift,S.cwidth),h=this.CHTMLlength2em(t.minlabelspacing,.8)+e.W[D],s=0,r=e.R,m=this.CHTMLlength2em(u.displayIndent,S.cwidth),o=e.CALIGN[D]===R.INDENTALIGN.RIGHT?-1:1;l.indentalign===R.INDENTALIGN.CENTER?(r+=2*(h-o*(n+m)),n+=m):e.CALIGN[D]===l.indentalign?(m<0&&(s=o*m,m=0),o*(n+=o*m)<h&&(n=o*h),n+=s,r+=n*=o):(r+=h-o*n+m,n-=o*m,n*=-o);var d=S.addElement(a,"mjx-box",{style:{width:"100%","text-align":l.indentalign}});d.appendChild(i);var g,C=S.Element("mjx-itable");i.style.display="inline-table",i.style.width||(i.style.width="auto"),C.style.verticalAlign="top",i.style.verticalAlign=S.Em(e.T-e.B-e.H[0]),a.style.verticalAlign="",n&&(l.indentalign===R.INDENTALIGN.CENTER?(i.style.marginLeft=S.Em(n),i.style.marginRight=S.Em(-n)):(g="margin"+(l.indentalign===R.INDENTALIGN.RIGHT?"Right":"Left"),i.style[g]=S.Em(n))),"left"===e.CALIGN[D]?(a.insertBefore(C,d),C.style.marginRight=S.Em(-e.W[D]-s),s&&(C.style.marginLeft=S.Em(s))):(a.appendChild(C),C.style.marginLeft=S.Em(-e.W[D]+s));var f=e.labels,H=0;t.fspace&&(H=e.FSPACE[0]+(t.frame?1/S.em:0));for(var L,T=0,c=f.length;T<c;T++){f[T]&&this.data[T].data[0]?(C.appendChild(f[T]),L=this.data[T].data[0].CHTML,(H=e.RH[T]-Math.max(1,L.h))&&(f[T].firstChild.firstChild.style.marginTop=S.Em(H)),f[T].style.height=S.Em(e.RHD[T])):S.addElement(C,"mjx-label",{style:{height:S.Em(e.RHD[T])}})}a.style.width=this.CHTML.pwidth="100%",a.style.minWidth=this.CHTML.mwidth=S.Em(Math.max(0,r))}}),R.mtr.Augment({toCommonHTML:function(t,e){t=this.CHTMLcreateNode(t),this.CHTMLhandleStyle(t),this.CHTMLhandleScale(t);var a=[];(e=e||{rows:[],labels:[]}).rows.push(a),a.node=t,e.labels.push(null);for(var i=0,l=this.data.length;i<l;i++)a.push(this.CHTMLaddChild(t,i,e));return this.CHTMLhandleColor(t),t}}),R.mlabeledtr.Augment({toCommonHTML:function(t,e){t=this.CHTMLcreateNode(t),this.CHTMLhandleStyle(t),this.CHTMLhandleScale(t);var a=[];(e=e||{rows:[],labels:[]}).rows.push(a),a.node=t;var i=S.Element("mjx-label");e.labels.push(i),this.CHTMLaddChild(i,0,e),this.data[0]&&(e.labeled=!0);for(var l=1,n=this.data.length;l<n;l++)a.push(this.CHTMLaddChild(t,l,e));return this.CHTMLhandleColor(t),t}}),R.mtd.Augment({toCommonHTML:function(t,e){var a,i,l,n,h;return t=this.CHTMLdefaultNode(t,e),S.addElement(t.firstChild,"mjx-strut"),this.isEmbellished()&&(a=this.CoreMO(),i=this.CHTML,a.CHTMLcanStretch("Vertical")?i.stretch="V":a.CHTMLcanStretch("Horizontal")&&(i.stretch="H"),!i.stretch||(l=a.Get("minsize",!0))&&("V"===i.stretch?!(n=i.h+i.d)||1<(h=this.CHTMLlength2em(l,n)/n)&&(i.h*=h,i.d*=h):i.w=Math.max(i.w,this.CHTMLlength2em(l,i.w)))),t}}),MathJax.Hub.Startup.signal.Post("CommonHTML mtable Ready"),MathJax.Ajax.loadComplete(S.autoloadDir+"/mtable.js")});