MathJax.Hub.Register.StartupHook("CommonHTML Jax Ready",function(){var t,s,l,a=MathJax.ElementJax.mml,n=MathJax.OutputJax.CommonHTML,h=n.config.tooltip=MathJax.Hub.Insert({delayPost:600,delayClear:600,offsetX:10,offsetY:5},n.config.tooltip||{});a.maction.Augment({CHTMLtooltip:n.addElement(document.body,"div",{id:"MathJax_CHTML_Tooltip"}),toCommonHTML:function(t){var a=this.Get("selection");t=this.CHTMLcreateNode(t),this.CHTML=n.BBOX.empty(),this.CHTMLhandleStyle(t),this.CHTMLhandleScale(t),this.CHTMLaddChild(t,a-1,{}),this.CHTML.clean(),this.CHTMLhandleSpace(t),this.CHTMLhandleBBox(t),this.CHTMLhandleColor(t);var e=this.Get("actiontype");return this.CHTMLaction[e]&&this.CHTMLaction.hasOwnProperty(e)&&this.CHTMLaction[e].call(this,t,a),t},CHTMLcoreNode:function(t){return this.CHTMLchildNode(t,0)},CHTMLaction:{toggle:function(t,a){this.selection=a,t.onclick=MathJax.Callback(["CHTMLclick",this,n.jax]),t.style.cursor="pointer"},statusline:function(t,a){t.onmouseover=MathJax.Callback(["CHTMLsetStatus",this]),t.onmouseout=MathJax.Callback(["CHTMLclearStatus",this]),t.onmouseover.autoReset=t.onmouseout.autoReset=!0},tooltip:function(t,a){this.data[1]&&this.data[1].isToken?t.title=t.alt=this.data[1].data.join(""):(t.onmouseover=MathJax.Callback(["CHTMLtooltipOver",this,n.jax]),t.onmouseout=MathJax.Callback(["CHTMLtooltipOut",this,n.jax]),t.onmouseover.autoReset=t.onmouseout.autoReset=!0)}},CHTMLclick:function(t,a){this.selection++,this.selection>this.data.length&&(this.selection=1);var e,o=!!t.hover;return t.Update(),o&&(e=document.getElementById(t.inputID+"-Span"),MathJax.Extension.MathEvents.Hover.Hover(t,e)),MathJax.Extension.MathEvents.Event.False(a)},CHTMLsetStatus:function(t){this.messageID=MathJax.Message.Set(this.data[1]&&this.data[1].isToken?this.data[1].data.join(""):this.data[1].toString())},CHTMLclearStatus:function(t){this.messageID&&MathJax.Message.Clear(this.messageID,0),delete this.messageID},CHTMLtooltipOver:function(t,a){a=a||window.event,l&&(clearTimeout(l),l=null),s&&clearTimeout(s);var e=a.pageX,o=a.pageY;null==e&&(e=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,o=a.clientY+document.body.scrollTop+document.documentElement.scrollTop);var i=MathJax.Callback(["CHTMLtooltipPost",this,t,e+h.offsetX,o+h.offsetY]);s=setTimeout(i,h.delayPost)},CHTMLtooltipOut:function(t,a){s&&(clearTimeout(s),s=null),l&&clearTimeout(l);var e=MathJax.Callback(["CHTMLtooltipClear",this,80]);l=setTimeout(e,h.delayClear)},CHTMLtooltipPost:function(a,e,o){s=null,l&&(clearTimeout(l),l=null);var i=this.CHTMLtooltip;if(i.style.display="block",i.style.opacity="",this!==t){i.style.left=e+"px",i.style.top=o+"px",i.innerHTML='<span class="mjx-chtml"><span class="mjx-math"></span></span>',n.getMetrics(a);try{this.data[1].toCommonHTML(i.firstChild.firstChild)}catch(t){if(!t.restart)throw t;return i.style.display="none",void MathJax.Callback.After(["CHTMLtooltipPost",this,a,e,o],t.restart)}t=this}},CHTMLtooltipClear:function(t){var a=this.CHTMLtooltip;l=t<=0?(a.style.display="none",a.style.opacity=a.style.filter="",null):(a.style.opacity=t/100,a.style.filter="alpha(opacity="+t+")",setTimeout(MathJax.Callback(["CHTMLtooltipClear",this,t-20]),50))}}),MathJax.Hub.Startup.signal.Post("CommonHTML maction Ready"),MathJax.Ajax.loadComplete(n.autoloadDir+"/maction.js")});