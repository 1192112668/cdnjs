MathJax.Hub.Register.StartupHook("CommonHTML Jax Ready",function(){var M=MathJax.ElementJax.mml,d=MathJax.Hub.config,m=MathJax.OutputJax.CommonHTML,L=M.mo().With({CHTML:m.BBOX.empty()}),T={newline:0,nobreak:1e6,goodbreak:[-200],badbreak:[200],auto:[0],maxwidth:1.33,toobig:800,nestfactor:400,spacefactor:-100,spaceoffset:2,spacelimit:1,fence:500,close:500},c={linebreakstyle:"after"};M.mbase.Augment({CHTMLlinebreakPenalty:T,CHTMLmultiline:function(e){for(var t=this;t.inferred||t.parent&&"mrow"===t.parent.type&&t.parent.isEmbellished();)t=t.parent;var i="math"===t.type&&"block"===t.Get("display")||"mtd"===t.type;t.isMultiline=!0;var a=this.getValues("linebreak","linebreakstyle","lineleading","linebreakmultchar","indentalign","indentshift","indentalignfirst","indentshiftfirst","indentalignlast","indentshiftlast");a.linebreakstyle===M.LINEBREAKSTYLE.INFIXLINEBREAKSTYLE&&(a.linebreakstyle=this.Get("infixlinebreakstyle")),a.lineleading=this.CHTMLlength2em(a.lineleading,.5),m.BBOX.empty(this.CHTML);for(var n=m.addElement(e,"mjx-stack"),s={BBOX:this.CHTML,n:0,Y:0,scale:this.CHTML.scale||1,isTop:i,values:{},VALUES:a},l=this.CHTMLgetAlign(s,{}),h=this.CHTMLgetShift(s,{},l),d=[],r={index:[],penalty:T.nobreak,w:0,W:h,shift:h,scanW:h,nest:0},o=!1;this.CHTMLbetterBreak(r,s,!0)&&(r.scanW>=m.linebreakWidth||r.penalty===T.newline);)this.CHTMLaddLine(n,d,r.index,s,r.values,o),d=r.index.slice(0),o=!0,l=this.CHTMLgetAlign(s,r.values),h=this.CHTMLgetShift(s,r.values,l),r.W=r.shift=r.scanW=h,r.penalty=T.nobreak;return s.isLast=!0,this.CHTMLaddLine(n,d,[],s,c,o),"math"===t.type&&(e.style.width=n.style.width=this.CHTML.pwidth="100%"),this.CHTML.mwidth=m.Em(this.CHTML.w),this.CHTML.isMultiline=t.CHTML.isMultiline=!0,n.style.verticalAlign=m.Em(s.d-this.CHTML.d),e},CHTMLbetterBreak:function(e,t,i){if(this.isToken)return!1;if(this.isEmbellished())return(e.embellished=this).CoreMO().CHTMLbetterBreak(e,t);if(this.linebreakContainer)return!1;var a,n,s,l=e.index.slice(0),h=e.index.shift(),d=this.data.length,r=0<e.index.length,o=!1;for(null==h&&(h=-1),r||(h++,e.W+=e.w,e.w=0),s=e.scanW=e.W,e.nest++;h<d&&(e.scanW<T.maxwidth*m.linebreakWidth||0===e.w);){if(this.data[h]){if(this.data[h].CHTMLbetterBreak(e,t)&&(o=!0,l=[h].concat(e.index),a=e.W,n=e.w,e.penalty===T.newline))return e.index=l,e.nest&&e.nest--,!0;s=r?e.scanW:this.CHTMLaddWidth(h,e,s)}h++,r=!(e.index=[])}return i&&o&&(L.parent=this.parent,L.inherit=this.inherit,L.CHTMLbetterBreak(e,t)&&(o=!1,l=e.index)),e.nest&&e.nest--,e.index=l,o&&(e.W=a,e.w=n),o},CHTMLaddWidth:function(e,t,i){var a;return this.data[e]&&(i+=((a=this.data[e].CHTML).w+(a.L||0)+(a.R||0))*(a.scale||1),t.W=t.scanW=i,t.w=0),i},CHTMLaddLine:function(e,t,i,a,n,s){var l=m.addElement(e,"mjx-block",{},[["mjx-box"]]),h=l.firstChild,d=a.bbox=m.BBOX.empty();a.first=s,a.last=!0,this.CHTMLmoveLine(t,i,h,a,n),d.clean();var r,o,L,T=this.CHTMLgetAlign(a,n),c=this.CHTMLgetShift(a,n,T,!0),C=0;0<a.n&&(r=m.FONTDATA.baselineskip,o=(null==a.values.lineleading?a.VALUES:a.values).lineleading*a.scale,L=a.Y,a.Y-=Math.max(r,a.d+d.h+o),C=L-a.Y-a.d-d.h),c&&(h.style.margin="0 "+m.Em(-c)+" 0 "+m.Em(c)),T!==M.INDENTALIGN.LEFT&&(l.style.textAlign=T),C&&(l.style.paddingTop=m.Em(C)),a.BBOX.combine(d,c,a.Y),a.d=a.bbox.d,a.values=n,a.n++},CHTMLgetAlign:function(e,t){var i=e.values,a=e.VALUES,n=0===e.n?t.indentalignfirst||i.indentalignfirst||a.indentalignfirst:e.isLast?i.indentalignlast||a.indentalignlast:i.indentalign||a.indentalign;return n===M.INDENTALIGN.INDENTALIGN&&(n=i.indentalign||a.indentalign),n===M.INDENTALIGN.AUTO&&(n=e.isTop?d.displayAlign:M.INDENTALIGN.LEFT),n},CHTMLgetShift:function(e,t,i,a){var n,s=e.values,l=e.VALUES,h=0===e.n?t.indentshiftfirst||s.indentshiftfirst||l.indentshiftfirst:e.isLast?s.indentshiftlast||l.indentshiftlast:s.indentshift||l.indentshift;return h===M.INDENTSHIFT.INDENTSHIFT&&(h=s.indentshift||l.indentshift),"auto"!==h&&""!==h||(h="0"),h=this.CHTMLlength2em(h,m.cwidth),e.isTop&&"0"!==d.displayIndent&&(n=this.CHTMLlength2em(d.displayIndent,m.cwidth),h+=i===M.INDENTALIGN.RIGHT?-n:n),i!==M.INDENTALIGN.RIGHT||a?h:-h},CHTMLmoveLine:function(e,t,i,a,n){var s=e[0],l=t[0];if(null==s&&(s=-1),null==l&&(l=this.data.length-1),s===l&&1<e.length)this.data[s].CHTMLmoveSlice(e.slice(1),t.slice(1),i,a,n,"marginLeft");else{var h=a.last;for(a.last=!1;s<l;)this.data[s]&&(e.length<=1?this.data[s].CHTMLmoveNode(i,a,n):this.data[s].CHTMLmoveSlice(e.slice(1),[],i,a,n,"marginLeft")),s++,a.first=!1,e=[];a.last=h,this.data[s]&&(t.length<=1?this.data[s].CHTMLmoveNode(i,a,n):this.data[s].CHTMLmoveSlice([],t.slice(1),i,a,n,"marginRight"))}},CHTMLmoveSlice:function(e,t,i,a,n,s){var l=this.CHTMLcreateSliceNode(i);return this.CHTMLmoveLine(e,t,l,a,n),l.style[s]&&(l.style[s]=""),this.CHTML.L&&("marginLeft"!==s?a.bbox.w+=this.CHTML.L:l.className=l.className.replace(/ MJXc-space\d/,"")),this.CHTML.R&&"marginRight"!==s&&(a.bbox.w+=this.CHTML.R),0===t.length&&(i=this.CHTMLnodeElement(),this.href&&(i=i.parentNode),i.parentNode.removeChild(i),i.nextMathJaxNode.id=i.id),l},CHTMLcreateSliceNode:function(e){var t=this.CHTMLnodeElement(),i=0;this.href&&(t=t.parentNode);for(var a=t;a.nextMathJaxNode;)a=a.nextMathJaxNode,i++;var n=t.cloneNode(!1);return(a.nextMathJaxNode=n).nextMathJaxNode=null,n.id+="-MJX-Continue-"+i,e.appendChild(n)},CHTMLmoveNode:function(e,t,i){var a;(!t.first&&!t.last||t.first&&t.values.linebreakstyle===M.LINEBREAKSTYLE.BEFORE||t.last&&i.linebreakstyle===M.LINEBREAKSTYLE.AFTER)&&(a=this.CHTMLnodeElement(),this.href&&(a=a.parentNode),e.appendChild(a),this.CHTML.pwidth&&!e.style.width&&(e.style.width=this.CHTML.pwidth),t.last&&(a.style.marginRight=""),(t.first||t.nextIsFirst)&&(a.style.marginLeft="",this.CHTML.L=0,a.className=a.className.replace(/ MJXc-space\d/,"")),t.first&&0===this.CHTML.w?t.nextIsFirst=!0:delete t.nextIsFirst,t.bbox.combine(this.CHTML,t.bbox.w,0))}}),M.mfenced.Augment({CHTMLbetterBreak:function(e,t){var i,a,n,s=e.index.slice(0),l=e.index.shift(),h=this.data.length,d=0<e.index.length,r=!1;if(null==l&&(l=-1),d||(l++,e.W+=e.w,e.w=0),n=e.scanW=e.W,e.nest++,!this.dataI){this.dataI=[],this.data.open&&this.dataI.push("open"),h&&this.dataI.push(0);for(var o=1;o<h;o++)this.data["sep"+o]&&this.dataI.push("sep"+o),this.dataI.push(o);this.data.close&&this.dataI.push("close")}for(h=this.dataI.length;l<h&&(e.scanW<T.maxwidth*m.linebreakWidth||0===e.w);){var L=this.dataI[l];if(this.data[L]){if(this.data[L].CHTMLbetterBreak(e,t)&&(r=!0,s=[l].concat(e.index),i=e.W,a=e.w,e.penalty===T.newline))return e.index=s,e.nest&&e.nest--,!0;n=d?e.scanW:this.CHTMLaddWidth(l,e,n)}l++,d=!(e.index=[])}return e.nest&&e.nest--,e.index=s,r&&(e.W=i,e.w=a),r},CHTMLmoveLine:function(e,t,i,a,n){var s=e[0],l=t[0];if(null==s&&(s=-1),null==l&&(l=this.dataI.length-1),s===l&&1<e.length)this.data[this.dataI[s]].CHTMLmoveSlice(e.slice(1),t.slice(1),i,a,n,"marginLeft");else{var h=a.last;a.last=!1;for(var d=this.dataI[s];s<l;)this.data[d]&&(e.length<=1?this.data[d].CHTMLmoveNode(i,a,n):this.data[d].CHTMLmoveSlice(e.slice(1),[],i,a,n,"marginLeft")),s++,d=this.dataI[s],a.first=!1,e=[];a.last=h,this.data[d]&&(t.length<=1?this.data[d].CHTMLmoveNode(i,a,n):this.data[d].CHTMLmoveSlice([],t.slice(1),i,a,n,"marginRight"))}}}),M.msubsup.Augment({CHTMLbetterBreak:function(e,t){if(!this.data[this.base])return!1;var i,a,n,s=e.index.slice(0),l=e.index.shift(),h=0<e.index.length,d=!1;return h||(e.W+=e.w,e.w=0),n=e.scanW=e.W,null==l&&(this.CHTML.baseW=this.data[this.base].CHTML.w,this.CHTML.dw=this.CHTML.w-this.CHTML.baseW),this.data[this.base].CHTMLbetterBreak(e,t)&&(d=!0,s=[this.base].concat(e.index),i=e.W,a=e.w,e.penalty===T.newline&&(d=h=!0)),h||this.CHTMLaddWidth(this.base,e,n),e.scanW+=this.CHTML.dw,e.W=e.scanW,e.index=[],d&&(e.W=i,e.w=a,e.index=s),d},CHTMLmoveLine:function(e,t,i,a,n){var s,l,h,d,r,o,L,T;this.data[this.base]&&(s=m.addElement(i,"mjx-base"),(l=this.data[this.base].CHTML.ic)&&(s.style.marginRight=m.Em(-l)),1<e.length?this.data[this.base].CHTMLmoveSlice(e.slice(1),t.slice(1),s,a,n,"marginLeft"):t.length<=1?this.data[this.base].CHTMLmoveNode(s,a,n):this.data[this.base].CHTMLmoveSlice([],t.slice(1),s,a,n,"marginRight")),0===t.length&&(h=this.CHTMLnodeElement(),d=m.getNode(h,"mjx-stack"),r=m.getNode(h,"mjx-sup"),o=m.getNode(h,"mjx-sub"),d?i.appendChild(d):r?i.appendChild(r):o&&i.appendChild(o),L=a.bbox.w,r&&(T=this.data[this.sup].CHTML,a.bbox.combine(T,L,T.Y)),o&&(T=this.data[this.sub].CHTML,a.bbox.combine(T,L,T.Y)))}}),M.mmultiscripts.Augment({CHTMLbetterBreak:function(e,t){if(!this.data[this.base])return!1;var i=e.index.slice(0);e.index.shift();var a,n,s,l=0<e.index.length,h=!1;l||(e.W+=e.w,e.w=0),e.scanW=e.W;var d=this.CHTML,r=this.data[this.base].CHTML,o=d.w-r.w-(d.X||0);return e.scanW+=d.X||0,s=e.scanW,this.data[this.base].CHTMLbetterBreak(e,t)&&(h=!0,i=[this.base].concat(e.index),a=e.W,n=e.w,e.penalty===T.newline&&(h=l=!0)),l||this.CHTMLaddWidth(this.base,e,s),e.scanW+=o,e.W=e.scanW,e.index=[],h&&(e.W=a,e.w=n,e.index=i),h},CHTMLmoveLine:function(e,t,i,a,n){var s,l,h,d,r,o,L,T,c,C=this.CHTMLbbox;e.length<1&&(s=this.CHTMLnodeElement(),h=m.getNode(s,"mjx-prestack"),d=m.getNode(s,"mjx-presup"),r=m.getNode(s,"mjx-presub"),h?i.appendChild(h):d?i.appendChild(d):r&&i.appendChild(r),l=a.bbox.w,d&&a.bbox.combine(C.presup,l+C.presup.X,C.presup.Y),r&&a.bbox.combine(C.presub,l+C.presub.X,C.presub.Y)),this.data[this.base]&&(o=m.addElement(i,"mjx-base"),1<e.length?this.data[this.base].CHTMLmoveSlice(e.slice(1),t.slice(1),o,a,n,"marginLeft"):t.length<=1?this.data[this.base].CHTMLmoveNode(o,a,n):this.data[this.base].CHTMLmoveSlice([],t.slice(1),o,a,n,"marginRight")),0===t.length&&(s=this.CHTMLnodeElement(),L=m.getNode(s,"mjx-stack"),T=m.getNode(s,"mjx-sup"),c=m.getNode(s,"mjx-sub"),L?i.appendChild(L):T?i.appendChild(T):c&&i.appendChild(c),l=a.bbox.w,T&&a.bbox.combine(C.sup,l,C.sup.Y),c&&a.bbox.combine(C.sub,l,C.sub.Y))}}),M.mo.Augment({CHTMLbetterBreak:function(e,t){if(e.values&&e.values.id===this.CHTMLnodeID)return!1;var i=this.getValues("linebreak","linebreakstyle","lineleading","linebreakmultchar","indentalign","indentshift","indentalignfirst","indentshiftfirst","indentalignlast","indentshiftlast","texClass","fence");i.linebreakstyle===M.LINEBREAKSTYLE.INFIXLINEBREAKSTYLE&&(i.linebreakstyle=this.Get("infixlinebreakstyle")),i.texClass===M.TEXCLASS.OPEN&&e.nest++,i.texClass===M.TEXCLASS.CLOSE&&e.nest&&e.nest--;var a=e.scanW;delete e.embellished;var n=this.CHTML.w+(this.CHTML.L||0)+(this.CHTML.R||0);if(i.linebreakstyle===M.LINEBREAKSTYLE.AFTER&&(a+=n,n=0),a-e.shift==0&&i.linebreak!==M.LINEBREAK.NEWLINE)return!1;var s,l,h=m.linebreakWidth-a;0!==t.n||i.indentshiftfirst===t.VALUES.indentshiftfirst&&i.indentalignfirst===t.VALUES.indentalignfirst||(s=this.CHTMLgetAlign(t,i),l=this.CHTMLgetShift(t,i,s),h+=e.shift-l);var d=Math.floor(h/m.linebreakWidth*1e3);d<0&&(d=T.toobig-3*d),i.fence&&(d+=T.fence),(i.linebreakstyle===M.LINEBREAKSTYLE.AFTER&&i.texClass===M.TEXCLASS.OPEN||i.texClass===M.TEXCLASS.CLOSE)&&(d+=T.close),d+=e.nest*T.nestfactor;var r=T[i.linebreak||M.LINEBREAK.AUTO]||0;return MathJax.Object.isArray(r)?d=Math.max(1,d+r[0]*e.nest):(r||0<=h)&&(d=r*e.nest),!(d>=e.penalty)&&(e.penalty=d,e.values=i,e.W=a,e.w=n,i.lineleading=this.CHTMLlength2em(i.lineleading,t.VALUES.lineleading),i.id=this.CHTMLnodeID,!0)}}),M.mspace.Augment({CHTMLbetterBreak:function(e,t){if(e.values&&e.values.id===this.CHTMLnodeID)return!1;var i=this.getValues("linebreak"),a=i.linebreak;a&&!this.hasDimAttr()||(a=M.LINEBREAK.AUTO);var n=e.scanW,s=this.CHTML.w+(this.CHTML.L||0)+(this.CHTML.R||0);if(n-e.shift==0)return!1;var l=m.linebreakWidth-n,h=Math.floor(l/m.linebreakWidth*1e3);h<0&&(h=T.toobig-3*h),h+=e.nest*T.nestfactor;var d=T[a]||0;return a===M.LINEBREAK.AUTO&&T.spacelimit<=s&&!this.mathbackground&&!this.background&&(d=[(s+T.spaceoffset)*T.spacefactor]),MathJax.Object.isArray(d)?h=Math.max(1,h+d[0]*e.nest):(d||0<=l)&&(h=d*e.nest),!(h>=e.penalty)&&(e.penalty=h,e.values=i,e.W=n,e.w=s,i.lineleading=t.VALUES.lineleading,i.linebreakstyle="before",i.id=this.CHTMLnodeID,!0)}}),MathJax.Hub.Register.StartupHook("TeX mathchoice Ready",function(){M.TeXmathchoice.Augment({CHTMLbetterBreak:function(e,t){return this.Core().CHTMLbetterBreak(e,t)},CHTMLmoveLine:function(e,t,i,a,n){return this.Core().CHTMLmoveSlice(e,t,i,a,n)}})}),M.maction.Augment({CHTMLbetterBreak:function(e,t){return this.Core().CHTMLbetterBreak(e,t)},CHTMLmoveLine:function(e,t,i,a,n){return this.Core().CHTMLmoveSlice(e,t,i,a,n)}}),M.semantics.Augment({CHTMLbetterBreak:function(e,t){return!!this.data[0]&&this.data[0].CHTMLbetterBreak(e,t)},CHTMLmoveLine:function(e,t,i,a,n){return this.data[0]?this.data[0].CHTMLmoveSlice(e,t,i,a,n):null}}),MathJax.Hub.Startup.signal.Post("CommonHTML multiline Ready"),MathJax.Ajax.loadComplete(m.autoloadDir+"/multiline.js")});