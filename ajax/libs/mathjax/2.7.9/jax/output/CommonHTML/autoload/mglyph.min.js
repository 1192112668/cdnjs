MathJax.Hub.Register.StartupHook("CommonHTML Jax Ready",function(){var d=MathJax.ElementJax.mml,H=MathJax.OutputJax.CommonHTML,L=MathJax.Localization;d.mglyph.Augment({toCommonHTML:function(t,a){var i,h,e,m,g,s,l,o,n,r,M=this.getValues("src","width","height","valign","alt");return t=this.CHTMLcreateNode(t),this.CHTMLhandleStyle(t),this.CHTMLhandleScale(t),""===M.src?(i=this.Get("index"),this.CHTMLgetVariant(),i&&this.CHTMLvariant.style&&this.CHTMLhandleText(t,String.fromCharCode(i),this.CHTMLvariant)):((h=this.CHTML).img||(h.img=d.mglyph.GLYPH[M.src]),h.img||(h.img=d.mglyph.GLYPH[M.src]={img:new Image,status:"pending"},h.img.img.onload=MathJax.Callback(["CHTMLimgLoaded",this]),h.img.img.onerror=MathJax.Callback(["CHTMLimgError",this]),h.img.img.src=M.src,MathJax.Hub.RestartAfter(h.img.img.onload)),"OK"!==h.img.status?((e=d.Error(L._(["MathML","BadMglyph"],"Bad mglyph: %1",M.src))).data[0].data[0].mathsize="75%",this.Append(e),e.toCommonHTML(t),this.data.pop(),h.combine(e.CHTML,0,0,1)):(m=H.addElement(t,"img",{isMathJax:!0,src:M.src,alt:M.alt,title:M.alt}),g=M.width,s=M.height,n=l=h.img.img.width/H.em,r=o=h.img.img.height/H.em,""!==g&&(l=this.CHTMLlength2em(g,n),o=n?l/n*r:0),""!==s&&(o=this.CHTMLlength2em(s,r),""===g&&(l=r?o/r*n:0)),m.style.width=H.Em(l),h.w=h.r=l,m.style.height=H.Em(o),h.h=h.t=o,M.valign&&(h.d=h.b=-this.CHTMLlength2em(M.valign,r),m.style.verticalAlign=H.Em(-h.d),h.h-=h.d,h.t=h.h))),this.CHTMLhandleSpace(t),this.CHTMLhandleBBox(t),this.CHTMLhandleColor(t),t},CHTMLimgLoaded:function(t,a){"string"==typeof t&&(a=t),this.CHTML.img.status=a||"OK"},CHTMLimgError:function(){this.CHTML.img.img.onload("error")}},{GLYPH:{}}),MathJax.Hub.Startup.signal.Post("CommonHTML mglyph Ready"),MathJax.Ajax.loadComplete(H.autoloadDir+"/mglyph.js")});