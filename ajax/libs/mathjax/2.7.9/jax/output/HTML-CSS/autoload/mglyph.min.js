MathJax.Hub.Register.StartupHook("HTML-CSS Jax Ready",function(){var l=MathJax.ElementJax.mml,m=MathJax.OutputJax["HTML-CSS"],n=MathJax.Localization;l.mglyph.Augment({toHTML:function(t,a){var i,h,o,e,b,s,g=t,r=this.getValues("src","width","height","valign","alt");return t=this.HTMLcreateSpan(t),""===r.src?!(h=this.Get("index"))||(o=(a=this.HTMLgetVariant()).defaultFont)&&(o.noStyleChar=!0,o.testString=String.fromCharCode(h)+"ABCabc",m.Font.testFont(o)?this.HTMLhandleVariant(t,a,String.fromCharCode(h)):(""===r.alt&&(r.alt=n._(["MathML","BadMglyphFont"],"Bad font: %1",o.family)),i=l.Error(r.alt,{mathsize:"75%"}),this.Append(i),i.toHTML(t),this.data.pop(),t.bbox=i.HTMLspanElement().bbox)):(this.img||(this.img=l.mglyph.GLYPH[r.src]),this.img||(this.img=l.mglyph.GLYPH[r.src]={img:new Image,status:"pending"},(s=this.img.img).onload=MathJax.Callback(["HTMLimgLoaded",this]),s.onerror=MathJax.Callback(["HTMLimgError",this]),s.src=r.src,MathJax.Hub.RestartAfter(s.onload)),"OK"!==this.img.status?(i=l.Error(n._(["MathML","BadMglyph"],"Bad mglyph: %1",r.src),{mathsize:"75%"}),this.Append(i),i.toHTML(t),this.data.pop(),t.bbox=i.HTMLspanElement().bbox):(e=this.HTMLgetMu(t),b=this.HTMLgetScale(),s=m.addElement(t,"img",{isMathJax:!0,src:r.src,alt:r.alt,title:r.alt}),r.width&&(s.style.width=m.Em(m.length2em(r.width,e,this.img.img.width/m.em)*b)),r.height&&(s.style.height=m.Em(m.length2em(r.height,e,this.img.img.height/m.em)*b)),t.bbox.w=t.bbox.rw=s.offsetWidth/m.em,t.bbox.h=s.offsetHeight/m.em,r.valign&&(t.bbox.d=-m.length2em(r.valign,e,this.img.img.height/m.em)*b,s.style.verticalAlign=m.Em(-t.bbox.d),t.bbox.h-=t.bbox.d))),g.bbox?t.bbox&&(g.bbox.w+=t.bbox.w,g.bbox.w>g.bbox.rw&&(g.bbox.rw=g.bbox.w),t.bbox.h>g.bbox.h&&(g.bbox.h=t.bbox.h),t.bbox.d>g.bbox.d&&(g.bbox.d=t.bbox.d)):g.bbox={w:t.bbox.w,h:t.bbox.h,d:t.bbox.d,rw:t.bbox.rw,lw:t.bbox.lw},this.HTMLhandleSpace(t),this.HTMLhandleColor(t),t},HTMLimgLoaded:function(t,a){"string"==typeof t&&(a=t),this.img.status=a||"OK"},HTMLimgError:function(){this.img.img.onload("error")}},{GLYPH:{}}),MathJax.Hub.Startup.signal.Post("HTML-CSS mglyph Ready"),MathJax.Ajax.loadComplete(m.autoloadDir+"/mglyph.js")});