MathJax.Hub.Register.StartupHook("HTML-CSS Jax Ready",function(){var t=MathJax.ElementJax.mml,X=MathJax.OutputJax["HTML-CSS"];t.mmultiscripts.Augment({toHTML:function(t,a,s){t=this.HTMLcreateSpan(t);var e,b,i=this.HTMLgetScale(),o=X.createStack(t),h=X.createBox(o);this.data[this.base]?(b=this.data[this.base].toHTML(h),null!=s?this.data[this.base].HTMLstretchV(h,a,s):null!=a&&this.data[this.base].HTMLstretchH(h,a),X.Measured(b,h)):h.bbox=this.HTMLzeroBBox();for(var x=X.TeX.x_height*i,r=X.TeX.scriptspace*i*.75,p=this.HTMLgetScripts(o,r),l=p[0],c=p[1],m=p[2],M=p[3],u=i,n=1;n<this.data.length;n++)if(this.data[n]&&this.data[n].spanID){u=this.data[n].HTMLgetScale();break}var d,T=X.TeX.sup_drop*u,H=X.TeX.sub_drop*u,L=h.bbox.h-T,w=h.bbox.d+H,B=0;h.bbox.ic&&(B=h.bbox.ic),!this.data[this.base]||"mi"!==this.data[this.base].type&&"mo"!==this.data[this.base].type||X.isChar(this.data[this.base].data.join(""))&&1===h.bbox.scale&&!this.data[this.base].Get("largeop")&&(L=w=0);var f=this.getValues("subscriptshift","superscriptshift"),g=this.HTMLgetMu(t);f.subscriptshift=""===f.subscriptshift?0:X.length2em(f.subscriptshift,g),f.superscriptshift=""===f.superscriptshift?0:X.length2em(f.superscriptshift,g);var y,v,S,C=0;m?C=m.bbox.w+B:M&&(C=M.bbox.w-B),C<0&&(C=0),X.placeBox(h,C,0),c||M?l||m?(w=Math.max(w,X.TeX.sub2*i),y=X.TeX.rule_thickness*i,v=(l||m).bbox.h,S=(c||M).bbox.d,m&&(v=Math.max(v,m.bbox.h)),M&&(S=Math.max(S,M.bbox.d)),L-S-(v-w)<3*y&&(w=3*y-L+S+v,0<(T=.8*x-(L-S))&&(L+=T,w-=T)),L=Math.max(L,f.superscriptshift),w=Math.max(w,f.subscriptshift),c&&X.placeBox(c,C+h.bbox.w+r,L),M&&X.placeBox(M,C+B-M.bbox.w,L),l&&X.placeBox(l,C+h.bbox.w+r-B,-w),m&&X.placeBox(m,C-m.bbox.w,-w)):(e=this.getValues("displaystyle","texprimestyle"),d=X.TeX[e.displaystyle?"sup1":e.texprimestyle?"sup3":"sup2"],L=Math.max(L,d*i,f.superscriptshift),c&&(L=Math.max(L,c.bbox.d+.25*x)),M&&(L=Math.max(L,M.bbox.d+.25*x)),c&&X.placeBox(c,C+h.bbox.w+r,L),M&&X.placeBox(M,0,L)):(w=Math.max(w,X.TeX.sub1*i,f.subscriptshift),l&&(w=Math.max(w,l.bbox.h-.8*x)),m&&(w=Math.max(w,m.bbox.h-.8*x)),l&&X.placeBox(l,C+h.bbox.w+r-B,-w),m&&X.placeBox(m,0,-w)),this.HTMLhandleSpace(t),this.HTMLhandleColor(t);var J=t.bbox;return J.dx=C,J.s=r,J.u=L,J.v=w,J.delta=B,J.px=C+h.bbox.w,t},HTMLgetScripts:function(t,a){for(var s=[],e=1,b=this.data.length,i=0,o=0;o<4;o+=2){for(;e<b&&"mprescripts"!==(this.data[e]||{}).type;){for(var h=[null,null,null,null],x=o;x<o+2;x++)this.data[e]&&"none"!==this.data[e].type&&"mprescripts"!==this.data[e].type?(s[x]||(s[x]=X.createBox(t),s[x].bbox=this.HTMLemptyBBox({}),i&&(X.createBlank(s[x],i),s[x].bbox.w=s[x].bbox.rw=i)),h[x]=this.data[e].toHTML(s[x])):h[x]=MathJax.HTML.Element("span",{bbox:this.HTMLemptyBBox({})}),"mprescripts"!==(this.data[e]||{}).type&&e++;var r,p=2===o,l=s[o],c=s[o+1];l&&c?(0<(r=h[o+1].bbox.w-h[o].bbox.w)?p?(this.HTMLmoveColor(h[o],r,1),s[o].w+=r):X.createBlank(l,r):r<0&&(p?(this.HTMLmoveColor(h[o+1],-r,-1),s[o+1].w+=-r):X.createBlank(c,-r)),this.HTMLcombineBBoxes(h[o],l.bbox),this.HTMLcombineBBoxes(h[o+1],c.bbox),0<r?(l.bbox.w=c.bbox.w,l.bbox.rw=Math.max(l.bbox.w,l.bbox.rw)):r<0&&(c.bbox.w=l.bbox.w,c.bbox.rw=Math.max(c.bbox.w,c.bbox.rw))):(l&&this.HTMLcombineBBoxes(h[o],l.bbox),c&&this.HTMLcombineBBoxes(h[o+1],c.bbox)),l?i=l.bbox.w:c&&(i=c.bbox.w)}e++,i=0}for(x=0;x<4;x++)s[x]&&(s[x].bbox.w+=a,s[x].bbox.rw=Math.max(s[x].bbox.w,s[x].bbox.rw),s[x].bbox.name=["sub","sup","presub","presup"][x],this.HTMLcleanBBox(s[x].bbox));return s},HTMLmoveColor:function(t,a,s){var e=a/(t.scale||1);t.style.paddingLeft=X.Em(e);var b=t.previousSibling;b&&(b.id||"").match(/^MathJax-Color-/)&&(b.style.marginLeft=X.Em(e+parseFloat(b.style.marginLeft)),b.style.marginRight=X.Em(s*(e-parseFloat(b.style.marginRight))))},HTMLstretchH:t.mbase.HTMLstretchH,HTMLstretchV:t.mbase.HTMLstretchV}),MathJax.Hub.Startup.signal.Post("HTML-CSS mmultiscripts Ready"),MathJax.Ajax.loadComplete(X.autoloadDir+"/mmultiscripts.js")});