!function(e){"function"==typeof define&&define.amd?define(["../global/window","../global/document"],e):"object"==typeof exports?module.exports=e(require("../global/window"),require("../global/document")):window.dependencyLib=e(window,document)}(function(t,v){function a(e){return null!=e&&e===e.window}function d(e){return e instanceof Element}function p(e){return e instanceof p?e:this instanceof p?void(null!=e&&e!==t&&(this[0]=e.nodeName?e:void 0!==e[0]&&e[0].nodeName?e[0]:v.querySelector(e),void 0!==this[0]&&null!==this[0]&&(this[0].eventRegistry=this[0].eventRegistry||{}))):new p(e)}return p.prototype={on:function(e,t){if(d(this[0])){var n=this[0].eventRegistry,i=this[0];for(var r=e.split(" "),o=0;o<r.length;o++){var a=r[o].split(".");l=a[0],s=a[1]||"global",i.addEventListener?i.addEventListener(l,t,!1):i.attachEvent&&i.attachEvent("on"+l,t),n[l]=n[l]||{},n[l][s]=n[l][s]||[],n[l][s].push(t)}}var l,s;return this},off:function(e,l){if(d(this[0])){var s=this[0].eventRegistry,r=this[0];function t(e,t,n){if(e in s==1)if(r.removeEventListener?r.removeEventListener(e,n,!1):r.detachEvent&&r.detachEvent("on"+e,n),"global"===t)for(var i in s[e])s[e][i].splice(s[e][i].indexOf(n),1);else s[e][t].splice(s[e][t].indexOf(n),1)}function n(e,t){var n,i,r=[];if(0<e.length)if(void 0===l)for(n=0,i=s[e][t].length;n<i;n++)r.push({ev:e,namespace:t&&0<t.length?t:"global",handler:s[e][t][n]});else r.push({ev:e,namespace:t&&0<t.length?t:"global",handler:l});else if(0<t.length)for(var o in s)for(var a in s[o])if(a===t)if(void 0===l)for(n=0,i=s[o][a].length;n<i;n++)r.push({ev:o,namespace:a,handler:s[o][a][n]});else r.push({ev:o,namespace:a,handler:l});return r}for(var i=e.split(" "),o=0;o<i.length;o++)for(var a=i[o].split("."),f=n(a[0],a[1]),c=0,u=f.length;c<u;c++)t(f[c].ev,f[c].namespace,f[c].handler)}return this},trigger:function(e){if(d(this[0]))for(var t=this[0].eventRegistry,n=this[0],i="string"==typeof e?e.split(" "):[e.type],r=0;r<i.length;r++){var o=i[r].split("."),a=o[0],l=o[1]||"global";if(void 0!==v&&"global"===l){var s,f,c={bubbles:!0,cancelable:!0,detail:Array.prototype.slice.call(arguments,1)};if(v.createEvent){try{s=new CustomEvent(a,c)}catch(e){(s=v.createEvent("CustomEvent")).initCustomEvent(a,c.bubbles,c.cancelable,c.detail)}e.type&&p.extend(s,e),n.dispatchEvent(s)}else(s=v.createEventObject()).eventType=a,e.type&&p.extend(s,e),n.fireEvent("on"+s.eventType,s)}else if(void 0!==t[a])if(e=e.type?e:p.Event(e),"global"===l)for(var u in t[a])for(f=0;f<t[a][u].length;f++)t[a][u][f].apply(n,arguments);else for(f=0;f<t[a][l].length;f++)t[a][l][f].apply(n,arguments)}return this}},p.isFunction=function(e){return"function"==typeof e},p.noop=function(){},p.isArray=Array.isArray,p.inArray=function(e,t,n){return null==t?-1:function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}(t,e)},p.valHooks=void 0,p.isPlainObject=function(e){return!("object"!=typeof e||e.nodeType||a(e)||e.constructor&&!Object.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))},p.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},l=1,s=arguments.length,f=!1;for("boolean"==typeof a&&(f=a,a=arguments[l]||{},l++),"object"==typeof a||p.isFunction(a)||(a={}),l===s&&(a=this,l--);l<s;l++)if(null!=(e=arguments[l]))for(t in e)n=a[t],a!==(i=e[t])&&(f&&i&&(p.isPlainObject(i)||(r=p.isArray(i)))?(o=r?(r=!1,n&&p.isArray(n)?n:[]):n&&p.isPlainObject(n)?n:{},a[t]=p.extend(f,o,i)):void 0!==i&&(a[t]=i));return a},p.each=function(e,t){var n,i,r=0;if(n="length"in e&&e.length,"function"!=(i=typeof e)&&!a(e)&&(1===e.nodeType&&n||"array"==i||0===n||"number"==typeof n&&0<n&&n-1 in e))for(var o=e.length;r<o&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},p.data=function(e,t,n){if(void 0===n)return e.__data?e.__data[t]:null;e.__data=e.__data||{},e.__data[t]=n},"function"==typeof t.CustomEvent?p.Event=t.CustomEvent:(p.Event=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=v.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}).prototype=t.Event.prototype,p});