!function(){var t;"undefined"!=typeof window&&(t=window),"undefined"!=typeof global&&(t=global);var n,o=(t=t||{}).console||{log:function(){}};function r(n,t){return t?require(n):n.slice?r[o(n)]:function(t,e){n(t={exports:{}}),r[o(e)]=t.exports};function o(t){return t.split("/").slice(-1).toString().replace(".js","")}}"undefined"!=typeof module&&(n=module),r(function(t){"undefined"!=typeof window&&(t.window=window);var e=(t.window||t).AXE||function(){};(e.window=t.window)&&(e.window.AXE=e);try{void 0!==n&&(n.exports=e)}catch(t){}t.exports=e})(r,"./root"),r(function(t){var e=r("./root"),y=(e.window||{}).Gun||r("./gun",1);(y.AXE=e).GUN=e.Gun=y,y.on("opt",function(t){!function(a){if(a.axe)return;var f=a.opt,u=f.peers;if(!1===f.axe)return;if("undefined"!=typeof process&&"false"==""+(process.env||{}).AXE)return;var n,d=a.axe={};f.mob=f.mob||1/0;var l=f.mesh=f.mesh||y.Mesh(a);function t(t,e){var n,o=Object.keys(e.put)[0],r=t(o);r&&(n=[],y.obj.map(r.split(","),function(t){t in u&&(n.push(t),l.say(e,u[t]))}),f.super&&t(o,n.join(",")))}function p(t){var e;if(t&&"string"==typeof(e=t["#"]))return e}o.log("AXE enabled.");var e=(y.window||{}).Radix||r("./lib/radix",1);{a.opt.dht=e(),a.on("in",function(t){var e,n,o=this.to,r=(t._||{}).via,u=f.dht,i=d.routes||(d.routes={}),s=t.get;s&&f.super&&r&&(n=p(s))&&((((i[e=n]||(i[e]={}))[r.id]=r).routes||(r.routes={}))[e]=i[e]),(n=t["@"])&&(n=a.dup.s[n])&&(n=n.it)&&((n=n._||ok).ack=(n.ack||0)+1),o.next(t),f.rtc&&t.dht&&y.obj.map(t.dht,function(t,e){u(e,t),y.obj.map(t.split(","),function(t){!t||t in f.peers||t===f.pid||f.announce[t]||(f.announce[t]=!0,f.announce(t))})})}),l.hear.opt=function(t,e){if(t.ok)return f.log(t);var n,o=t.opt;(o=o&&o.peers)&&y.text.is(o)&&(d.up[o]||6<=Object.keys(d.up).length||(n=o,a.$.opt(n),(n=u[o])&&(n.retry=9,l.wire(n),e&&l.say({dam:"opt",ok:1,"@":t["#"]},e))))},setInterval(function(t){(t=a.stats&&a.stats.stay)&&((t.axe=t.axe||{}).up=Object.keys(d.up||{}))},6e4),setTimeout(function(t){(t=a.stats&&a.stats.stay)&&y.obj.map((t.axe||{}).up,function(t){l.hear.opt({opt:{peers:t}})})},1e3),a.opt.super?l.way=function(c){if(c.rtc&&c.rtc.to){var t=r?r[c.rtc.to]:null;t&&l.say(c,t)}else{if(c.get&&l.say(c,d.up),c.get&&(n=p(c.get))){var e=n,o=d.routes||(d.routes={});return function t(e,n){if(!e)return t(f.peers);var o=Object.keys(e),r=c._||b;clearTimeout(r.lack);for(var u,i,s=1;(u=o[r.turn||0])&&s--;)i=e[u],r.turn=(r.turn||0)+1,(n&&n[u]||!1===l.say(c,i))&&++s;if(0<s){if(e===f.peers)return;return r.turn=0,t(f.peers,e)}var a=c["##"],p=r.ack;r.lack=setTimeout(function(){p&&a&&a===c["##"]||r.turn>=(d.turns||3)||t(e,n)},25)}(r=o[e])}if(c.put){var o=d.routes||(d.routes={}),r={};return y.obj.map(c.put,function(t,e){var n=o[e];n&&y.obj.to(n,r)}),void l.say(c,r)}l.say(c,f.peers)}}:l.route=function(e){e.rtc,e.put?(t(f.dht,e),y.obj.map(u,function(t){t.url&&l.say(e,t)})):l.say(e)}}d.up={},a.on("hi",function(t){this.to.next(t),t.url&&(d.up[t.id]=t)}),a.on("bye",function(n){this.to.next(n),n.url&&delete d.up[n.id],y.obj.map(n.routes,function(t,e){delete t[n.id],y.obj.empty(t)&&delete d.routes[e]})}),a.on("hi",function(t){var e;this.to.next(t),t.url||(e=Object.keys(f.peers).length,f.mob>=e||l.say({dam:"mob",mob:e,peers:Object.keys(d.up)},t))}),a.on("bye",function(t){this.to.next(t)})}(t),this.to.next(t)});var b=!0;t.exports=e})(r,"./axe")}();