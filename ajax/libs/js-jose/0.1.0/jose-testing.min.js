!function(e,h,f,g,d){h.subtle||(h.subtle=h.webkitSubtle);var l={},t={},r={};e.setCrypto=function(e){h=e},"function"!=typeof atob&&(atob=function(e){return new Buffer(e,"base64").toString("binary")}),"function"!=typeof btoa&&(btoa=function(e){var t=e instanceof Buffer?e:new Buffer(e.toString(),"binary");return t.toString("base64")}),l.caniuse=function(){var e=!0;return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e&&"function"==typeof f)&&"function"==typeof f.reject)&&"function"==typeof f.prototype.then)&&"function"==typeof f.all)&&"object"==typeof h)&&"object"==typeof h.subtle)&&"function"==typeof h.getRandomValues)&&"function"==typeof h.subtle.importKey)&&"function"==typeof h.subtle.generateKey)&&"function"==typeof h.subtle.exportKey)&&"function"==typeof h.subtle.wrapKey)&&"function"==typeof h.subtle.unwrapKey)&&"function"==typeof h.subtle.encrypt)&&"function"==typeof h.subtle.decrypt)&&"function"==typeof h.subtle.sign)&&"function"==typeof ArrayBuffer)&&("function"==typeof d||"object"==typeof d))&&("function"==typeof Uint32Array||"object"==typeof Uint32Array))&&"object"==typeof JSON)&&"function"==typeof JSON.parse)&&"function"==typeof JSON.stringify)&&"function"==typeof atob)&&"function"==typeof btoa},l.assert=function(e,t){if(!e)throw new g(t)},e.Jose=l,e.JoseJWE=t,e.JoseJWS=r;function n(){this.setKeyEncryptionAlgorithm("RSA-OAEP"),this.setContentEncryptionAlgorithm("A256GCM"),this.setContentSignAlgorithm("RS256")}(l.WebCryptographer=n).prototype.setKeyEncryptionAlgorithm=function(e){this.key_encryption=y(e)},n.prototype.getKeyEncryptionAlgorithm=function(){return this.key_encryption.jwe_name},n.prototype.setContentEncryptionAlgorithm=function(e){this.content_encryption=y(e)},n.prototype.getContentEncryptionAlgorithm=function(){return this.content_encryption.jwe_name},n.prototype.setContentSignAlgorithm=function(e){this.content_sign=p(e)},n.prototype.getContentSignAlgorithm=function(){return this.content_sign.jwa_name},n.prototype.createIV=function(){var e=new d(new Array(this.content_encryption.iv_bytes));return h.getRandomValues(e)},n.prototype.createCek=function(){var e=i(this.content_encryption);return h.subtle.generateKey(e.id,!0,e.enc_op)},n.prototype.wrapCek=function(e,t){return h.subtle.wrapKey("raw",e,t,this.key_encryption.id)},n.prototype.unwrapCek=function(e,t){var r=i(this.content_encryption),n=0<this.content_encryption.specific_cek_bytes,a=this.key_encryption.id;return h.subtle.unwrapKey("raw",e,t,a,r.id,n,r.dec_op)};var i=function(e){var t=e.specific_cek_bytes;if(t){if(16==t)return{id:{name:"AES-CBC",length:128},enc_op:["encrypt"],dec_op:["decrypt"]};if(32==t)return{id:{name:"AES-CBC",length:256},enc_op:["encrypt"],dec_op:["decrypt"]};if(64==t)return{id:{name:"HMAC",hash:{name:"SHA-256"}},enc_op:["sign"],dec_op:["verify"]};if(128==t)return{id:{name:"HMAC",hash:{name:"SHA-384"}},enc_op:["sign"],dec_op:["verify"]};l.assert(!1,"getCekWorkaround: invalid len")}return{id:e.id,enc_op:["encrypt"],dec_op:["decrypt"]}};n.prototype.encrypt=function(r,t,e,n){var a=this.content_encryption;if(r.length!=a.iv_bytes)return f.reject(g("invalid IV length"));if(a.auth.aead){var i=a.auth.tag_bytes,o={name:a.id.name,iv:r,additionalData:t,tagLength:8*i};return e.then(function(e){return h.subtle.encrypt(o,e,n).then(function(e){var t=e.byteLength-i;return{cipher:e.slice(0,t),tag:e.slice(t)}})})}var s=m(a,e,["encrypt"]),c=s[0],u=s[1].then(function(e){var t={name:a.id.name,iv:r};return h.subtle.encrypt(t,e,n)}),y=u.then(function(e){return S(a,c,t,r,e)});return f.all([u,y]).then(function(e){return{cipher:e[0],tag:e[1]}})},n.prototype.decrypt=function(e,t,s,c,u){if(s.length!=this.content_encryption.iv_bytes)return f.reject(g("decryptCiphertext: invalid IV"));var y=this.content_encryption;if(y.auth.aead){var r={name:y.id.name,iv:s,additionalData:t,tagLength:8*y.auth.tag_bytes};return e.then(function(e){var t=A.arrayBufferConcat(c,u);return h.subtle.decrypt(r,e,t)})}var n=m(y,e,["decrypt"]),p=n[0],a=n[1],i=S(y,p,t,s,c);return f.all([a,i]).then(function(e){var n,t,a,i,r=e[0],o=e[1];return n=y,t=p,a=new d(o),i=u,l.assert(a instanceof d,"compare: invalid input"),l.assert(i instanceof d,"compare: invalid input"),t.then(function(e){var t=h.subtle.sign(n.auth.id,e,a),r=h.subtle.sign(n.auth.id,e,i);return f.all([t,r]).then(function(e){var t=new d(e[0]),r=new d(e[1]);if(t.length!=r.length)throw new g("compare failed");for(var n=0;n<t.length;n++)if(t[n]!=r[n])throw new g("compare failed");return f.accept(null)})}).then(function(){var e={name:y.id.name,iv:s};return h.subtle.decrypt(e,r,c)}).catch(function(e){return f.reject(g("decryptCiphertext: MAC failed."))})})},n.prototype.sign=function(t,r,e){var n=this.content_sign;return t.alg&&(n=p(t.alg)),e.then(function(e){return h.subtle.sign(n.id,e,A.arrayFromString(A.Base64Url.encode(JSON.stringify(t))+"."+A.Base64Url.encodeArray(r)))})},n.prototype.verify=function(t,r,n,e,a){var i=this.content_sign;return e.then(function(e){return i=p(o(e)),h.subtle.verify(i.id,e,n,A.arrayFromString(t+"."+r)).then(function(e){return{kid:a,verified:e}})})},l.WebCryptographer.keyId=function(e){return A.sha256(e.n+"+"+e.d)};function s(e){switch(e){case"RS256":case"RS384":case"RS512":case"PS256":case"PS384":case"PS512":case"HS256":case"HS384":case"HS512":case"ES256":case"ES384":case"ES512":return{publicKey:"verify",privateKey:"sign"};case"RSA-OAEP":case"RSA-OAEP-256":case"A128KW":case"A256KW":return{publicKey:"wrapKey",privateKey:"unwrapKey"};default:throw g("unsupported algorithm: "+e)}}var m=function(r,e,n){var t=e.then(function(e){return h.subtle.exportKey("raw",e)});return[t.then(function(e){if(8*e.byteLength!=r.id.length+8*r.auth.key_bytes)return f.reject(g("encryptPlainText: incorrect cek length"));var t=e.slice(0,r.auth.key_bytes);return h.subtle.importKey("raw",t,r.auth.id,!1,["sign"])}),t.then(function(e){if(8*e.byteLength!=r.id.length+8*r.auth.key_bytes)return f.reject(g("encryptPlainText: incorrect cek length"));var t=e.slice(r.auth.key_bytes);return h.subtle.importKey("raw",t,r.id,!1,n)})]},y=function(e){switch(e){case"RSA-OAEP":return{jwe_name:"RSA-OAEP",id:{name:"RSA-OAEP",hash:{name:"SHA-1"}}};case"RSA-OAEP-256":return{jwe_name:"RSA-OAEP-256",id:{name:"RSA-OAEP",hash:{name:"SHA-256"}}};case"A128KW":return{jwe_name:"A128KW",id:{name:"AES-KW",length:128}};case"A256KW":return{jwe_name:"A256KW",id:{name:"AES-KW",length:256}};case"dir":return{jwe_name:"dir"};case"A128CBC-HS256":return{jwe_name:"A128CBC-HS256",id:{name:"AES-CBC",length:128},iv_bytes:16,specific_cek_bytes:32,auth:{key_bytes:16,id:{name:"HMAC",hash:{name:"SHA-256"}},truncated_bytes:16}};case"A256CBC-HS512":return{jwe_name:"A256CBC-HS512",id:{name:"AES-CBC",length:256},iv_bytes:16,specific_cek_bytes:64,auth:{key_bytes:32,id:{name:"HMAC",hash:{name:"SHA-512"}},truncated_bytes:32}};case"A128GCM":return{jwe_name:"A128GCM",id:{name:"AES-GCM",length:128},iv_bytes:12,auth:{aead:!0,tag_bytes:16}};case"A256GCM":return{jwe_name:"A256GCM",id:{name:"AES-GCM",length:256},iv_bytes:12,auth:{aead:!0,tag_bytes:16}};default:throw g("unsupported algorithm: "+e)}},S=function(a,e,i,o,s){return e.then(function(e){var t=new d(A.arrayFromInt32(8*i.length)),r=new d(8);r.set(t,4);var n=A.arrayBufferConcat(i,o,s,r);return h.subtle.sign(a.auth.id,e,n).then(function(e){return e.slice(0,a.auth.truncated_bytes)})})},p=function(e){switch(e){case"RS256":return{jwa_name:"RS256",id:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}}};case"RS384":return{jwa_name:"RS384",id:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}}};case"RS512":return{jwa_name:"RS512",id:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}}};case"PS256":return{jwa_name:"PS256",id:{name:"RSA-PSS",hash:{name:"SHA-256"},saltLength:20}};case"PS384":return{jwa_name:"PS384",id:{name:"RSA-PSS",hash:{name:"SHA-384"},saltLength:20}};case"PS512":return{jwa_name:"PS512",id:{name:"RSA-PSS",hash:{name:"SHA-512"},saltLength:20}};case"HS256":return{jwa_name:"HS256",id:{name:"HMAC",hash:{name:"SHA-256"}}};case"HS384":return{jwa_name:"HS384",id:{name:"HMAC",hash:{name:"SHA-384"}}};case"HS512":return{jwa_name:"HS512",id:{name:"HMAC",hash:{name:"SHA-512"}}};case"ES256":return{jwa_name:"ES256",id:{name:"ECDSA",hash:{name:"SHA-256"}}};case"ES384":return{jwa_name:"ES384",id:{name:"ECDSA",hash:{name:"SHA-384"}}};case"ES512":return{jwa_name:"ES512",id:{name:"ECDSA",hash:{name:"SHA-512"}}};default:throw g("unsupported algorithm: "+e)}},o=function(e){var t="",r=e.algorithm.name,n=e.algorithm.hash.name;if("RSASSA-PKCS1-v1_5"==r)t="R";else{if("RSA-PSS"!=r)throw new g("unsupported sign/verify algorithm "+r);t="P"}if(0!==n.indexOf("SHA-"))throw new g("unsupported hash algorithm "+r);return t+="S",t+=n.substring(4)};l.Utils={};var A={};l.Utils.importRsaPublicKey=function(e,t){var r,n,a=s(t);if("wrapKey"==a.publicKey)e.alg||(e.alg=t),r=A.convertRsaKey(e,["n","e"]),n=y(t);else{var i={};for(var o in e)e.hasOwnProperty(o)&&(i[o]=e[o]);!i.alg&&t&&(i.alg=t),n=p(i.alg),(r=A.convertRsaKey(i,["n","e"])).ext=!0}return h.subtle.importKey("jwk",r,n.id,!1,[a.publicKey])},l.Utils.importRsaPrivateKey=function(e,t){var r,n,a=s(t);if("unwrapKey"==a.privateKey)e.alg||(e.alg=t),r=A.convertRsaKey(e,["n","e","d","p","q","dp","dq","qi"]),n=y("RSA-OAEP");else{var i={};for(var o in e)e.hasOwnProperty(o)&&(i[o]=e[o]);n=p(t),!i.alg&&t&&(i.alg=t),(r=A.convertRsaKey(i,["n","e","d","p","q","dp","dq","qi"])).ext=!0}return h.subtle.importKey("jwk",r,n.id,!1,[a.privateKey])},A.isString=function(e){return"string"==typeof e||e instanceof String},A.arrayish=function(e){return e instanceof Array||e instanceof d?e:e instanceof ArrayBuffer?new d(e):void l.assert(!1,"arrayish: invalid input")},A.convertRsaKey=function(t,e){var r,n={},a=[];e.map(function(e){void 0===t[e]&&a.push(e)}),0<a.length&&l.assert(!1,"convertRsaKey: Was expecting "+a.join()),void 0!==t.kty&&l.assert("RSA"==t.kty,"convertRsaKey: expecting rsa_key['kty'] to be 'RSA'"),n.kty="RSA";try{p(t.alg),r=t.alg}catch(e){try{y(t.alg),r=t.alg}catch(e){l.assert(r,"convertRsaKey: expecting rsa_key['alg'] to have a valid value")}}n.alg=r;function i(e){return parseInt(e,16)}for(var o=0;o<e.length;o++){var s,c=e[o],u=t[c];"e"==c?"number"==typeof u&&(u=A.Base64Url.encodeArray(A.stripLeadingZeros(A.arrayFromInt32(u)))):/^([0-9a-fA-F]{2}:)+[0-9a-fA-F]{2}$/.test(u)?(s=u.split(":").map(i),u=A.Base64Url.encodeArray(A.stripLeadingZeros(s))):"string"!=typeof u&&l.assert(!1,"convertRsaKey: expecting rsa_key['"+c+"'] to be a string"),n[c]=u}return n},A.arrayFromString=function(e){l.assert(A.isString(e),"arrayFromString: invalid input");var t=e.split("").map(function(e){return e.charCodeAt(0)});return new d(t)},A.stringFromArray=function(e){l.assert(e instanceof ArrayBuffer,"stringFromArray: invalid input"),e=new d(e);for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},A.stripLeadingZeros=function(e){e instanceof ArrayBuffer&&(e=new d(e));for(var t=!0,r=[],n=0;n<e.length;n++)t&&0===e[n]||(t=!1,r.push(e[n]));return r},A.arrayFromInt32=function(e){l.assert("number"==typeof e,"arrayFromInt32: invalid input"),l.assert(e==e|0,"arrayFromInt32: out of range");for(var t=new d(new Uint32Array([e]).buffer),r=new d(4),n=0;n<4;n++)r[n]=t[3-n];return r.buffer},A.arrayBufferConcat=function(){for(var e=[],t=0,r=0;r<arguments.length;r++)e.push(A.arrayish(arguments[r])),t+=e[r].length;for(var n=new d(t),a=0,r=0;r<arguments.length;r++)for(var i=0;i<e[r].length;i++)n[a++]=e[r][i];return l.assert(a==t,"arrayBufferConcat: unexpected offset"),n},A.Base64Url={},A.Base64Url.encode=function(e){return l.assert(A.isString(e),"Base64Url.encode: invalid input"),btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},A.Base64Url.encodeArray=function(e){e=A.arrayish(e);for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return A.Base64Url.encode(t)},A.Base64Url.decode=function(e){return l.assert(A.isString(e),"Base64Url.decode: invalid input"),atob(e.replace(/-/g,"+").replace(/_/g,"/"))},A.Base64Url.decodeArray=function(e){return l.assert(A.isString(e),"Base64Url.decodeArray: invalid input"),A.arrayFromString(A.Base64Url.decode(e))},A.sha256=function(e){return h.subtle.digest({name:"SHA-256"},A.arrayFromString(e)).then(function(e){return A.Base64Url.encodeArray(e)})},A.isCryptoKey=function(e){return"CryptoKey"==e.constructor.name},t.Encrypter=function(e,t){this.cryptographer=e,this.key_promise=t,this.userHeaders={}},t.Encrypter.prototype.addHeader=function(e,t){this.userHeaders[e]=t},t.Encrypter.prototype.encrypt=function(e){var t,r="dir"==this.cryptographer.getKeyEncryptionAlgorithm()?(t=f.resolve(this.key_promise),[]):(t=this.cryptographer.createCek(),f.all([this.key_promise,t]).then(function(e){var t=e[0],r=e[1];return this.cryptographer.wrapCek(r,t)}.bind(this))),n=function(e,t){var r={};for(var n in this.userHeaders)r[n]=this.userHeaders[n];r.alg=this.cryptographer.getKeyEncryptionAlgorithm(),r.enc=this.cryptographer.getContentEncryptionAlgorithm();var a=A.Base64Url.encode(JSON.stringify(r)),i=this.cryptographer.createIV(),o=A.arrayFromString(a);return t=A.arrayFromString(t),this.cryptographer.encrypt(i,o,e,t).then(function(e){return e.header=a,e.iv=i,e})}.bind(this,t,e)();return f.all([r,n]).then(function(e){var t=e[0],r=e[1];return r.header+"."+A.Base64Url.encodeArray(t)+"."+A.Base64Url.encodeArray(r.iv)+"."+A.Base64Url.encodeArray(r.cipher)+"."+A.Base64Url.encodeArray(r.tag)})},t.Decrypter=function(e,t){this.cryptographer=e,this.key_promise=t,this.headers={}},t.Decrypter.prototype.getHeaders=function(){return this.headers},t.Decrypter.prototype.decrypt=function(e){var t,r,n=e.split(".");return 5!=n.length?f.reject(g("decrypt: invalid input")):(this.headers=JSON.parse(A.Base64Url.decode(n[0])),this.headers.alg?this.headers.enc?(this.cryptographer.setKeyEncryptionAlgorithm(this.headers.alg),this.cryptographer.setContentEncryptionAlgorithm(this.headers.enc),this.headers.crit?f.reject(g("decrypt: crit is not supported")):(r="dir"==this.headers.alg?f.resolve(this.key_promise):(t=A.Base64Url.decodeArray(n[1]),this.key_promise.then(function(e){return this.cryptographer.unwrapCek(t,e)}.bind(this))),this.cryptographer.decrypt(r,A.arrayFromString(n[0]),A.Base64Url.decodeArray(n[2]),A.Base64Url.decodeArray(n[3]),A.Base64Url.decodeArray(n[4])).then(A.stringFromArray))):f.reject(g("decrypt: missing enc")):f.reject(g("decrypt: missing alg")))},r.Signer=function(e){this.cryptographer=e,this.key_promises={},this.waiting_kid=0,this.headers={},this.signer_aads={},this.signer_headers={}},r.Signer.prototype.addSigner=function(t,r,n,a){var e,i,o,s=this;if(i=A.isCryptoKey(t)?new f(function(e){e(t)}):(e=n&&n.alg?n.alg:s.cryptographer.getContentSignAlgorithm(),l.Utils.importRsaPrivateKey(t,e,"sign")),r)o=new f(function(e){e(r)});else{if(A.isCryptoKey(t))throw new g("key_id is a mandatory argument when the key is a CryptoKey");o=l.WebCryptographer.keyId(t)}return s.waiting_kid++,o.then(function(e){return s.key_promises[e]=i,s.waiting_kid--,n&&(s.signer_aads[e]=n),a&&(s.signer_headers[e]=a),e})},r.Signer.prototype.addSignature=function(e,t,r){if(A.isString(e)&&(e=JSON.parse(e)),e.payload&&A.isString(e.payload)&&e.protected&&A.isString(e.protected)&&e.header&&e.header instanceof Object&&e.signature&&A.isString(e.signature))return this.sign(u.fromObject(e),t,r);throw new g("JWS is not a valid JWS object")},r.Signer.prototype.sign=function(e,t,r){var c=this,n=[];if(0===Object.keys(c.key_promises).length)throw new g("No signers defined. At least one is required to sign the JWS.");if(c.waiting_kid)throw new g("still generating key IDs");for(var a in c.key_promises)c.key_promises.hasOwnProperty(a)&&n.push(a);return function t(e,r,n,a,i){if(i.length){var o=i.shift(),s=function(r,n,a,e,t){var i;if((n=n||{}).alg||(n.alg=c.cryptographer.getContentSignAlgorithm(),n.typ="JWT"),n.kid||(n.kid=t),A.isString(r))i=A.arrayFromString(r);else try{i=A.arrayish(r)}catch(e){if(r instanceof u)i=A.arrayFromString(A.Base64Url.decode(r.payload));else{if(!(r instanceof Object))throw new g("cannot sign this message");i=A.arrayFromString(JSON.stringify(r))}}return c.cryptographer.sign(n,i,e).then(function(e){var t=new u(n,a,i,e);return r instanceof u?(delete t.payload,r.signatures?r.signatures.push(t):r.signatures=[t],r):t})}(e,c.signer_aads[o]||r,c.signer_headers[o]||n,a[o],o);return i.length&&(s=s.then(function(e){return t(e,null,null,a,i)})),s}}(e,t,r,c.key_promises,n)};var u=function(e,t,r,n){this.header=t,this.payload=A.Base64Url.encodeArray(r),n&&(this.signature=A.Base64Url.encodeArray(n)),this.protected=A.Base64Url.encode(JSON.stringify(e))};u.fromObject=function(e){var t=new u(e.protected,e.header,e.payload,null);return t.signature=e.signature,t.signatures=e.signatures,t},u.prototype.JsonSerialize=function(){return JSON.stringify(this)},u.prototype.CompactSerialize=function(){return this.protected+"."+this.payload+"."+this.signature},r.Verifier=function(e,t,r){var n,a,i,o,s,c,u=this,y=(u.cryptographer=e).getContentSignAlgorithm();if(u.cryptographer=new l.WebCryptographer,A.isString(t))if(n=/^([0-9a-z_\-]+)\.([0-9a-z_\-]+)\.([0-9a-z_\-]+)$/i.exec(t)){if(4!=n.length)throw new g("wrong JWS compact serialization format");t={protected:n[1],payload:n[2],signature:n[3]}}else t=JSON.parse(t);else if("object"!=typeof t)throw new g("data format not supported");a=t.protected,i=t.header,o=t.payload,(s=t.signatures instanceof Array?t.signatures.slice(0):[]).forEach(function(e){e.aad=e.protected,e.protected=JSON.parse(A.Base64Url.decode(e.protected))}),u.aad=a,c=A.Base64Url.decode(a);try{c=JSON.parse(c)}catch(e){}if(!c&&!i)throw new g("at least one header is required");if(!c.alg)throw new g("'alg' is a mandatory header");if(c.alg!=y)throw new g("the alg header '"+c.alg+"' doesn't match the requested algorithm '"+y+"'");if(c&&c.typ&&"JWT"!=c.typ)throw new g("typ '"+c.typ+"' not supported");t.signature&&s.unshift({aad:a,protected:c,header:i,signature:t.signature}),u.signatures=[];for(var p=0;p<s.length;p++)u.signatures[p]=JSON.parse(JSON.stringify(s[p])),u.signatures[p].signature=A.arrayFromString(A.Base64Url.decode(s[p].signature));u.payload=o,u.key_promises={},u.waiting_kid=0,r&&(u.keyfinder=r)},r.Verifier.prototype.addRecipient=function(t,r,e){var n,a=this,i=A.isCryptoKey(t)?new f(function(e){e(t)}):l.Utils.importRsaPublicKey(t,e||a.cryptographer.getContentSignAlgorithm(),"verify");if(r)n=new f(function(e){e(r)});else{if(A.isCryptoKey(t))throw new g("key_id is a mandatory argument when the key is a CryptoKey");console.log("it's not safe to not pass a key_id"),n=l.WebCryptographer.keyId(t)}return a.waiting_kid++,n.then(function(e){return a.key_promises[e]=i,a.waiting_kid--,e})},r.Verifier.prototype.verify=function(){var r=this,e=r.signatures,n=r.key_promises,a=r.keyfinder,i=[];if(!(!!a||0<Object.keys(r.key_promises).length))throw new g("No recipients defined. At least one is required to verify the JWS.");if(r.waiting_kid)throw new g("still generating key IDs");return e.forEach(function(e){var t=e.protected.kid;a&&(n[t]=a(t)),i.push(r.cryptographer.verify(e.aad,r.payload,e.signature,n[t],t))}),f.all(i)}}(window,window.crypto,window.Promise,window.Error,window.Uint8Array);