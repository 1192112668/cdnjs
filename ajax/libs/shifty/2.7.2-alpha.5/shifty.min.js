!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("shifty",[],n):"object"==typeof exports?exports.shifty=n():t.shifty=n()}(window,function(){return r={},i.m=e=[function(t,v,y){"use strict";(function(t){y.d(v,"e",function(){return d}),y.d(v,"c",function(){return f}),y.d(v,"b",function(){return b}),y.d(v,"a",function(){return l}),y.d(v,"d",function(){return p});var n=y(1);function e(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(i){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{},n=Object.keys(u);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(u).filter(function(t){return Object.getOwnPropertyDescriptor(u,t).enumerable}))),n.forEach(function(t){var n,e,r;n=i,r=u[e=t],e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r})}return i}function w(){}function r(t,n){var e=t._attachment,r=t._currentState,i=t._delay,u=t._easing,o=t._originalState,a=t._duration,c=t._step,s=t._targetState,f=t._timestamp,l=f+i+a,h=l<n?l:n,p=a-(l-h);l<=h?(c(s,e,p),t.stop(!0)):(t._applyFilter("beforeTween"),h<f+i?f=a=h=1:f+=i,d(h,r,o,s,a,f,u),t._applyFilter("afterTween"),c(r,e,p))}function a(t){var n,e;c&&(t===c?((c=t._next)&&(c._previous=null),t===s&&(s=null)):t===s?(s=t._previous)._next=null:(n=t._previous,e=t._next,n&&(n._next=e),e&&(e._previous=n)))}var i="undefined"!=typeof window?window:t,u=i.requestAnimationFrame||i.webkitRequestAnimationFrame||i.oRequestAnimationFrame||i.msRequestAnimationFrame||i.mozCancelRequestAnimationFrame&&i.mozRequestAnimationFrame||setTimeout,c=null,s=null,h=g({},n),d=function(t,n,e,r,i,u,o){var a=t<u?0:(t-u)/i;for(var c in n){var s=o[c],f=s.call?s:h[s],l=e[c];n[c]=l+(r[c]-l)*f(a)}return n},f=function(){for(var t=l.now(),n=c;n;)r(n,t),n=n._next},b=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"linear",e={},r=o(n);if("string"===r||"function"===r)for(var i in t)e[i]=n;else for(var u in t)e[u]=n[u]||"linear";return e},l=(e(S.prototype,[{key:"_applyFilter",value:function(t){var n=!0,e=!1,r=void 0;try{for(var i,u=this._filters[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var o=i.value[t];o&&o(this)}}catch(t){e=!0,r=t}finally{try{n||null==u.return||u.return()}finally{if(e)throw r}}}},{key:"tween",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,n=this._attachment,e=this._configured;return this._isTweening?this:(void 0===t&&e||this.setConfig(t),this._timestamp=S.now(),this._start(this.get(),n),this.resume())}},{key:"setConfig",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.attachment,r=t.delay,i=void 0===r?0:r,u=t.duration,o=void 0===u?500:u,a=t.easing,c=t.from,s=t.promise,f=void 0===s?Promise:s,l=t.start,h=void 0===l?w:l,p=t.step,d=void 0===p?w:p,v=t.to;this._configured=!0,this._attachment=n,this._pausedAtTime=null,this._scheduleId=null,this._delay=i,this._start=h,this._step=d,this._duration=o,this._currentState=g({},c||this.get()),this._originalState=this.get(),this._targetState=g({},v||this.get());var y=this._currentState;this._targetState=g({},y,this._targetState),this._easing=b(y,a);var _=S.filters;for(var m in this._filters.length=0,_)_[m].doesApply(this)&&this._filters.push(_[m]);return this._applyFilter("tweenCreated"),this._promise=new f(function(t,n){e._resolve=t,e._reject=n}),(this._promise._tweenable=this)._promise.catch(w),this}},{key:"get",value:function(){return g({},this._currentState)}},{key:"set",value:function(t){this._currentState=t}},{key:"pause",value:function(){return this._pausedAtTime=S.now(),this._isPaused=!0,a(this),this}},{key:"resume",value:function(){if(!this.isPlaying()){var t=S.now();return this._isPaused&&(this._timestamp+=t-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,null===c?(s=c=this,function t(){c&&(u.call(i,t,1e3/60),f())}()):(this._previous=s,this._previous._next=this,s=this),this._promise}}},{key:"seek",value:function(t){t=Math.max(t,0);var n=S.now();return this._timestamp+t===0||(this._timestamp=n-t,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,r(this,n),this.pause())),this}},{key:"stop",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=this._attachment,e=this._currentState,r=this._easing,i=this._originalState,u=this._targetState;return this._isTweening=!1,this._isPaused=!1,a(this),t?(this._applyFilter("beforeTween"),d(1,e,i,u,1,0,r),this._applyFilter("afterTween"),this._applyFilter("afterTweenEnd"),this._resolve(e,n)):this._reject(e,n),this}},{key:"isPlaying",value:function(){return this._isTweening&&!this._isPaused}},{key:"setScheduleFunction",value:function(t){S.setScheduleFunction(t)}},{key:"dispose",value:function(){for(var t in this)delete this[t]}}]),S);function S(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;!function(t){if(!(t instanceof S))throw new TypeError("Cannot call a class as a function")}(this),this._currentState=t,this._configured=!1,this._filters=[],this._next=null,this._previous=null,n&&this.setConfig(n)}function p(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=new l,e=n.tween(t);return e.tweenable=n,e}l.setScheduleFunction=function(t){return u=t},l.formulas=h,l.filters={},l.now=Date.now||function(){return+new Date}}).call(this,y(2))},function(t,n,e){"use strict";e.r(n),e.d(n,"linear",function(){return r}),e.d(n,"easeInQuad",function(){return i}),e.d(n,"easeOutQuad",function(){return u}),e.d(n,"easeInOutQuad",function(){return o}),e.d(n,"easeInCubic",function(){return a}),e.d(n,"easeOutCubic",function(){return c}),e.d(n,"easeInOutCubic",function(){return s}),e.d(n,"easeInQuart",function(){return f}),e.d(n,"easeOutQuart",function(){return l}),e.d(n,"easeInOutQuart",function(){return h}),e.d(n,"easeInQuint",function(){return p}),e.d(n,"easeOutQuint",function(){return d}),e.d(n,"easeInOutQuint",function(){return v}),e.d(n,"easeInSine",function(){return y}),e.d(n,"easeOutSine",function(){return _}),e.d(n,"easeInOutSine",function(){return m}),e.d(n,"easeInExpo",function(){return g}),e.d(n,"easeOutExpo",function(){return w}),e.d(n,"easeInOutExpo",function(){return b}),e.d(n,"easeInCirc",function(){return S}),e.d(n,"easeOutCirc",function(){return O}),e.d(n,"easeInOutCirc",function(){return M}),e.d(n,"easeOutBounce",function(){return k}),e.d(n,"easeInBack",function(){return j}),e.d(n,"easeOutBack",function(){return P}),e.d(n,"easeInOutBack",function(){return T}),e.d(n,"elastic",function(){return x}),e.d(n,"swingFromTo",function(){return F}),e.d(n,"swingFrom",function(){return E}),e.d(n,"swingTo",function(){return A}),e.d(n,"bounce",function(){return I}),e.d(n,"bouncePast",function(){return C}),e.d(n,"easeFromTo",function(){return q}),e.d(n,"easeFrom",function(){return Q}),e.d(n,"easeTo",function(){return D});var r=function(t){return t},i=function(t){return Math.pow(t,2)},u=function(t){return-(Math.pow(t-1,2)-1)},o=function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},a=function(t){return Math.pow(t,3)},c=function(t){return Math.pow(t-1,3)+1},s=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},f=function(t){return Math.pow(t,4)},l=function(t){return-(Math.pow(t-1,4)-1)},h=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},p=function(t){return Math.pow(t,5)},d=function(t){return Math.pow(t-1,5)+1},v=function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},y=function(t){return 1-Math.cos(t*(Math.PI/2))},_=function(t){return Math.sin(t*(Math.PI/2))},m=function(t){return-.5*(Math.cos(Math.PI*t)-1)},g=function(t){return 0===t?0:Math.pow(2,10*(t-1))},w=function(t){return 1===t?1:1-Math.pow(2,-10*t)},b=function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},S=function(t){return-(Math.sqrt(1-t*t)-1)},O=function(t){return Math.sqrt(1-Math.pow(t-1,2))},M=function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},k=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},j=function(t){return t*t*(2.70158*t-1.70158)},P=function(t){return--t*t*(2.70158*t+1.70158)+1},T=function(t){var n=1.70158;return(t/=.5)<1?t*t*((1+(n*=1.525))*t-n)*.5:.5*((t-=2)*t*((1+(n*=1.525))*t+n)+2)},x=function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},F=function(t){var n=1.70158;return(t/=.5)<1?t*t*((1+(n*=1.525))*t-n)*.5:.5*((t-=2)*t*((1+(n*=1.525))*t+n)+2)},E=function(t){return t*t*(2.70158*t-1.70158)},A=function(t){return--t*t*(2.70158*t+1.70158)+1},I=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},C=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},q=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},Q=function(t){return Math.pow(t,4)},D=function(t){return Math.pow(t,.25)}},function(t,n){var e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"doesApply",function(){return T}),e.d(r,"tweenCreated",function(){return x}),e.d(r,"beforeTween",function(){return F}),e.d(r,"afterTween",function(){return E});function o(t,e){return t.map(function(t,n){return"_".concat(e,"_").concat(n)})}var i,u,f=e(0),a=/(\d|-|\.)/,c=/([^\-0-9.]+)/g,s=/[0-9.-]+/g,l=(i=s.source,u=/,\s*/.source,new RegExp("rgb\\(".concat(i).concat(u).concat(i).concat(u).concat(i,"\\)"),"g")),h=/^.*\(/,p=/#([0-9]|[a-f]){3,6}/gi;function d(t){return parseInt(t,16)}function v(t){return"rgb(".concat((3===(n=(n=t).replace(/#/,"")).length&&(n=(n=n.split(""))[0]+n[0]+n[1]+n[1]+n[2]+n[2]),[d(n.substr(0,2)),d(n.substr(2,2)),d(n.substr(4,2))].join(",")),")");var n}function y(t,n,e){var r=n.match(t),i=n.replace(t,"VAL");return r&&r.forEach(function(t){return i=i.replace("VAL",e(t))}),i}function _(t){var n=t.match(s).map(Math.floor),e=t.match(h)[0];return"".concat(e).concat(n.join(","),")")}function m(t){return t.match(s)}function g(n,t){var e={};return t.forEach(function(t){e[t]=n[t],delete n[t]}),e}function w(n,t){return t.map(function(t){return n[t]})}function b(n,t){return t.forEach(function(t){return n=n.replace("VAL",+t.toFixed(4))}),n}var S=function(t){for(var n in t){var e=t[n];"string"==typeof e&&e.match(p)&&(t[n]=y(p,e,v))}},O=function(t){var n,e,r={};for(var i in t){var u=t[i];"string"==typeof u&&(r[i]={formatString:(e=void 0,(e=(n=u).match(c))?1!==e.length&&!n.charAt(0).match(a)||e.unshift(""):e=["",""],e.join("VAL")),chunkNames:o(m(u),i)})}return r},M=function(r,i){function t(e){m(r[e]).forEach(function(t,n){return r[i[e].chunkNames[n]]=+t}),delete r[e]}for(var n in i)t(n)},k=function(t,n){for(var e in n){var r=n[e],i=r.chunkNames,u=r.formatString,o=b(u,w(g(t,i),i));t[e]=y(l,o,_)}},j=function(u,o){function t(t){var e,r,n=o[t].chunkNames,i=u[t];"string"==typeof i?(e=i.split(" "),r=e[e.length-1],n.forEach(function(t,n){return u[t]=e[n]||r})):n.forEach(function(t){return u[t]=i}),delete u[t]}for(var n in o)t(n)},P=function(e,t){for(var n in t){var r=t[n].chunkNames,i=e[r[0]];e[n]="string"==typeof i?r.map(function(t){var n=e[t];return delete e[t],n}).join(" "):i}},T=function(t){var n=t._currentState;return Object.keys(n).some(function(t){return"string"==typeof n[t]})};function x(t){var n=t._currentState;[n,t._originalState,t._targetState].forEach(S),t._tokenData=O(n)}function F(t){var n=t._currentState,e=t._originalState,r=t._targetState,i=t._easing,u=t._tokenData;j(i,u),[n,e,r].forEach(function(t){return M(t,u)})}function E(t){var n=t._currentState,e=t._originalState,r=t._targetState,i=t._easing,u=t._tokenData;[n,e,r].forEach(function(t){return k(t,u)}),P(i,u)}function A(t,n,e,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,u=function(i){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{},n=Object.keys(u);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(u).filter(function(t){return Object.getOwnPropertyDescriptor(u,t).enumerable}))),n.forEach(function(t){var n,e,r;n=i,r=u[e=t],e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r})}return i}({},t),o=Object(f.b)(t,r);for(var a in I._filters.length=0,I.set({}),I._currentState=u,I._originalState=t,I._targetState=n,I._easing=o,C)C[a].doesApply(I)&&I._filters.push(C[a]);I._applyFilter("tweenCreated"),I._applyFilter("beforeTween");var c=Object(f.e)(e,u,t,n,1,i,o);return I._applyFilter("afterTween"),c}var I=new f.a,C=f.a.filters;function q(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q(t,n){if(!n.has(t))throw new TypeError("attempted to get private field on non-instance");var e=n.get(t);return e.get?e.get.call(t):e.value}var D=(q(N.prototype,[{key:"add",value:function(t){var n=this.isPlaying();return Q(this,B).push(t),1<Q(this,B).length&&(n?t.resume():t.pause()),t}},{key:"remove",value:function(t){var n=Q(this,B).indexOf(t);return~n&&Q(this,B).splice(n,1),t}},{key:"isPlaying",value:function(){return Q(this,B).some(function(t){return t.isPlaying()})}},{key:"play",value:function(){return Q(this,B).forEach(function(t){t.tween(),t.resume()}),this}},{key:"pause",value:function(){return Q(this,B).forEach(function(t){return t.pause()}),this}},{key:"stop",value:function(n){return Q(this,B).forEach(function(t){return t.stop(n)}),this}},{key:"tweenables",get:function(){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t=Q(this,B))||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}();var t}},{key:"promises",get:function(){return Q(this,B).map(function(t){return t._promise})}}]),N),B=new WeakMap;function N(){!function(t){if(!(t instanceof N))throw new TypeError("Cannot call a class as a function")}(this),B.set(this,{writable:!0,value:[]});for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];n.forEach(this.add.bind(this))}function R(t,n,e,r,i,u){function c(t){return((l*t+h)*t+p)*t}function s(t){return 0<=t?t:0-t}var o,a,f,l=0,h=0,p=0,l=1-(p=3*n)-(h=3*(r-n)-p),d=1-(a=3*e)-(o=3*(i-e)-a);return f=function(t,n){for(var e,r,i,u,o=t,a=0;a<8;a++){if(i=c(o)-t,s(i)<n)return o;if(s(u=(3*l*o+2*h)*o+p)<1e-6)break;o-=i/u}if((o=t)<(e=0))return e;if(o>(r=1))return r;for(;e<r;){if(i=c(o),s(i-t)<n)return o;i<t?e=o:r=o,o=.5*(r-e)+e}return o}(t,1/(200*u)),((d*f+o)*f+a)*f}function z(t,n,e,r,i){var u,o,a,c,s=(u=n,o=e,a=r,c=i,function(t){return R(t,u,o,a,c,1)});return s.displayName=t,s.x1=n,s.y1=e,s.x2=r,s.y2=i,f.a.formulas[t]=s}function L(t){return delete f.a.formulas[t]}e.d(n,"processTweens",function(){return f.c}),e.d(n,"Tweenable",function(){return f.a}),e.d(n,"tween",function(){return f.d}),e.d(n,"interpolate",function(){return A}),e.d(n,"Scene",function(){return D}),e.d(n,"setBezierFunction",function(){return z}),e.d(n,"unsetBezierFunction",function(){return L}),f.a.filters.token=r}],i.c=r,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(n,t){if(1&t&&(n=i(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)i.d(e,r,function(t){return n[t]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s=3);function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}var e,r});