"use strict";var __awaiter=this&&this.__awaiter||function(t,a,s,u){return new(s=s||Promise)(function(r,e){function n(t){try{i(u.next(t))}catch(t){e(t)}}function o(t){try{i(u.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(n,o)}i((u=u.apply(t,a||[])).next())})},__generator=this&&this.__generator||function(r,n){var o,i,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&e[0]?i.return:e[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,e[1])).done)return a;switch(i=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,i=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(r,s)}catch(t){e=[6,t],i=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Utils=void 0;var Enums_1=require("../Enums"),ColorUtils_1=require("./ColorUtils"),Utils=function(){function o(){}return o.replaceColorSvg=function(t,e,r){if(!t.svgData)return"";return t.svgData.replace(/#([0-9A-F]{3,6})/gi,function(){return ColorUtils_1.ColorUtils.getStyleFromHsl(e,r)})},o.clamp=function(t,e,r){return Math.min(Math.max(t,e),r)},o.isInArray=function(t,e){return t===e||e instanceof Array&&-1<e.indexOf(t)},o.mix=function(t,e,r,n){return Math.floor((t*r+e*n)/(r+n))},o.getParticleBaseVelocity=function(t){var e;switch(t.direction){case Enums_1.MoveDirection.top:e={x:0,y:-1};break;case Enums_1.MoveDirection.topRight:e={x:.5,y:-.5};break;case Enums_1.MoveDirection.right:e={x:1,y:-0};break;case Enums_1.MoveDirection.bottomRight:e={x:.5,y:.5};break;case Enums_1.MoveDirection.bottom:e={x:0,y:1};break;case Enums_1.MoveDirection.bottomLeft:e={x:-.5,y:1};break;case Enums_1.MoveDirection.left:e={x:-1,y:0};break;case Enums_1.MoveDirection.topLeft:e={x:-.5,y:-.5};break;default:e={x:0,y:0}}return e},o.getDistances=function(t,e){var r=t.x-e.x,n=t.y-e.y;return{dx:r,dy:n,distance:Math.sqrt(r*r+n*n)}},o.getDistance=function(t,e){return this.getDistances(t,e).distance},o.loadFont=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,document.fonts.load(e.weight+" 36px '"+e.font+"'")];case 1:return t.sent(),[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}})})},o.arrayRandomIndex=function(t){return Math.floor(Math.random()*t.length)},o.itemFromArray=function(t,e){return t[void 0!==e?e:this.arrayRandomIndex(t)]},o.randomInRange=function(t,e){return Math.random()*(e-t)+t},o.isPointInside=function(t,e,r){return this.areBoundsInside(this.calculateBounds(t,null!=r?r:0),e)},o.areBoundsInside=function(t,e){return t.left<e.width&&0<t.right&&t.top<e.height&&0<t.bottom},o.calculateBounds=function(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}},o.loadImage=function(o){return new Promise(function(t,e){var r,n={source:o,type:o.substr(o.length-3)};o?((r=new Image).addEventListener("load",function(){n.element=r,t(n)}),r.addEventListener("error",function(){e("Error tsParticles - loading image: "+o)}),r.src=o):e("Error tsParticles - No image.src")})},o.downloadSvgImage=function(o){return __awaiter(this,void 0,void 0,function(){var e,r,n;return __generator(this,function(t){switch(t.label){case 0:return o?"svg"!==(e={source:o,type:o.substr(o.length-3)}).type?[2,this.loadImage(o)]:[4,fetch(e.source)]:[3,5];case 1:return(r=t.sent()).ok?(n=e,[4,r.text()]):[3,3];case 2:return n.svgData=t.sent(),[2,e];case 3:throw new Error("Error tsParticles - Image not found");case 4:return[3,6];case 5:throw new Error("Error tsParticles - No image.src");case 6:return[2]}})})},o.deepExtend=function(t,e){var r;for(var n in t=null!=t?t:{},e)e[n]&&e[n].constructor&&e[n].constructor===Object?(t[n]=null!==(r=t[n])&&void 0!==r?r:{},o.deepExtend(t[n],e[n])):t[n]=e[n];return t},o}();exports.Utils=Utils;