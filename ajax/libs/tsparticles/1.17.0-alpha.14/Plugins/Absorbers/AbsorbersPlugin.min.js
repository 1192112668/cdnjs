"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbsorbersPlugin=void 0;const tslib_1=require("tslib"),Absorbers_1=require("./Absorbers"),Utils_1=require("../../Utils"),Enums_1=require("./Enums"),Absorber_1=require("./Options/Classes/Absorber");class AbsorbersPlugin{constructor(){this.id="absorbers"}getPlugin(r){return new Absorbers_1.Absorbers(r)}needsPlugin(r){var e,s,o;if(void 0===r)return!1;const i=r.absorbers;let b=!1;return i instanceof Array?i.length&&(b=!0):void 0!==i?b=!0:(null===(o=null===(s=null===(e=r.interactivity)||void 0===e?void 0:e.events)||void 0===s?void 0:s.onClick)||void 0===o?void 0:o.mode)&&Utils_1.Utils.isInArray(Enums_1.AbsorberClickMode.absorber,r.interactivity.events.onClick.mode)&&(b=!0),b}loadOptions(r,e){var s,o;if(!this.needsPlugin(r)&&!this.needsPlugin(e))return;const i=r;if(null==e?void 0:e.absorbers)if((null==e?void 0:e.absorbers)instanceof Array)i.absorbers=null==e?void 0:e.absorbers.map(r=>{const e=new Absorber_1.Absorber;return e.load(r),e});else{let r=i.absorbers;void 0===(null==r?void 0:r.load)&&(i.absorbers=r=new Absorber_1.Absorber),r.load(null==e?void 0:e.absorbers)}const b=null===(o=null===(s=null==e?void 0:e.interactivity)||void 0===s?void 0:s.modes)||void 0===o?void 0:o.absorbers;if(b)if(b instanceof Array)i.interactivity.modes.absorbers=b.map(r=>{const e=new Absorber_1.Absorber;return e.load(r),e});else{let r=i.interactivity.modes.absorbers;void 0===(null==r?void 0:r.load)&&(i.interactivity.modes.absorbers=r=new Absorber_1.Absorber),r.load(b)}}}const plugin=new AbsorbersPlugin;exports.AbsorbersPlugin=plugin,tslib_1.__exportStar(require("./Enums"),exports);