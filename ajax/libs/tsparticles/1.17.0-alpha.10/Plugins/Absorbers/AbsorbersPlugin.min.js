"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbsorbersPlugin=void 0;const tslib_1=require("tslib"),Absorbers_1=require("./Absorbers"),Utils_1=require("../../Utils"),Enums_1=require("./Enums"),Absorber_1=require("./Options/Classes/Absorber");class AbsorbersPlugin{constructor(){this.id="absorbers"}getPlugin(r){return new Absorbers_1.Absorbers(r)}needsPlugin(r){var s,e,o;if(!(null==r?void 0:r.absorbers))return!1;const b=r.absorbers;let i=!1;return b instanceof Array?b.length&&(i=!0):void 0!==b?i=!0:(null===(o=null===(e=null===(s=r.interactivity)||void 0===s?void 0:s.events)||void 0===e?void 0:e.onClick)||void 0===o?void 0:o.mode)&&Utils_1.Utils.isInArray(Enums_1.AbsorberClickMode.absorber,r.interactivity.events.onClick.mode)&&(i=!0),i}loadOptions(r,s){var e,o;if(!this.needsPlugin(s))return;const b=r;void 0===b.absorbers&&(b.absorbers=new Absorber_1.Absorber),(null==s?void 0:s.absorbers)&&((null==s?void 0:s.absorbers)instanceof Array?b.absorbers=null==s?void 0:s.absorbers.map(r=>{const s=new Absorber_1.Absorber;return s.load(r),s}):(b.absorbers instanceof Array&&(b.absorbers=new Absorber_1.Absorber),b.absorbers.load(null==s?void 0:s.absorbers)));const i=null===(o=null===(e=null==s?void 0:s.interactivity)||void 0===e?void 0:e.modes)||void 0===o?void 0:o.absorbers;i&&(i instanceof Array?b.interactivity.modes.absorbers=i.map(r=>{const s=new Absorber_1.Absorber;return s.load(r),s}):((b.interactivity.modes.absorbers instanceof Array||void 0===b.interactivity.modes.absorbers)&&(b.interactivity.modes.absorbers=new Absorber_1.Absorber),b.interactivity.modes.absorbers.load(i)))}}const plugin=new AbsorbersPlugin;exports.AbsorbersPlugin=plugin,tslib_1.__exportStar(require("./Enums"),exports);