"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),MoveDirection_1=require("../Enums/MoveDirection"),ColorUtils_1=require("./ColorUtils"),Utils=function(){function o(){}return o.replaceColorSvg=function(t,e,r){if(!t.svgData)return"";return t.svgData.replace(/#([0-9A-F]{3,6})/gi,function(){return ColorUtils_1.ColorUtils.getStyleFromColor(e,r)})},o.clamp=function(t,e,r){return Math.min(Math.max(t,e),r)},o.isInArray=function(t,e){return t===e||e instanceof Array&&-1<e.indexOf(t)},o.mix=function(t,e,r,n){return Math.floor((t*r+e*n)/(r+n))},o.getParticleBaseVelocity=function(t){var e;switch(t.direction){case MoveDirection_1.MoveDirection.top:e={x:0,y:-1};break;case MoveDirection_1.MoveDirection.topRight:e={x:.5,y:-.5};break;case MoveDirection_1.MoveDirection.right:e={x:1,y:-0};break;case MoveDirection_1.MoveDirection.bottomRight:e={x:.5,y:.5};break;case MoveDirection_1.MoveDirection.bottom:e={x:0,y:1};break;case MoveDirection_1.MoveDirection.bottomLeft:e={x:-.5,y:1};break;case MoveDirection_1.MoveDirection.left:e={x:-1,y:0};break;case MoveDirection_1.MoveDirection.topLeft:e={x:-.5,y:-.5};break;default:e={x:0,y:0}}return e},o.getDistance=function(t,e){var r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)},o.loadFont=function(e){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,document.fonts.load(e.weight+" 36px '"+e.font+"'")];case 1:return t.sent(),[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}})})},o.arrayRandomIndex=function(t){return Math.floor(Math.random()*t.length)},o.itemFromArray=function(t,e){return t[void 0!==e?e:this.arrayRandomIndex(t)]},o.randomInRange=function(t,e){return Math.random()*(e-t)+t},o.isPointInside=function(t,e,r){return this.areBoundsInside(this.calculateBounds(t,null!=r?r:0),e)},o.areBoundsInside=function(t,e){return t.left<e.width&&0<t.right&&t.top<e.height&&0<t.bottom},o.calculateBounds=function(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}},o.loadImage=function(o){return new Promise(function(t,e){var r,n;o?(r={source:o,type:o.substr(o.length-3)},(n=new Image).addEventListener("load",function(){r.element=n,t(r)}),n.addEventListener("error",function(){e("Error tsParticles - loading image: "+o)}),n.src=o):e("Error tsParticles - No image.src")})},o.downloadSvgImage=function(o){return tslib_1.__awaiter(this,void 0,void 0,function(){var e,r,n;return tslib_1.__generator(this,function(t){switch(t.label){case 0:return o?"svg"!==(e={source:o,type:o.substr(o.length-3)}).type?[2,this.loadImage(o)]:[4,fetch(e.source)]:[3,5];case 1:return(r=t.sent()).ok?(n=e,[4,r.text()]):[3,3];case 2:return n.svgData=t.sent(),[2,e];case 3:throw new Error("Error tsParticles - Image not found");case 4:return[3,6];case 5:throw new Error("Error tsParticles - No image.src");case 6:return[2]}})})},o.deepExtend=function(t,e){var r;for(var n in t=null!=t?t:{},e)e[n]&&e[n].constructor&&e[n].constructor===Object?(t[n]=null!==(r=t[n])&&void 0!==r?r:{},o.deepExtend(t[n],e[n])):t[n]=e[n];return t},o}();exports.Utils=Utils;