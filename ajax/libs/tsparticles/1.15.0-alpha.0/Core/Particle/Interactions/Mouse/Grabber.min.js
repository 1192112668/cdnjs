"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Grabber=void 0;var Constants_1=require("../../../../Utils/Constants"),Utils_1=require("../../../../Utils/Utils"),Circle_1=require("../../../../Utils/Circle"),ColorUtils_1=require("../../../../Utils/ColorUtils"),Grabber=function(){function o(){}return o.grab=function(o,r){var t,e=o.options.interactivity;if(e.events.onHover.enable&&o.interactivity.status===Constants_1.Constants.mouseMoveEvent){var i=o.interactivity.mouse.position;if(void 0===i)return;for(var n=o.retina.grabModeDistance,s=0,a=o.particles.quadTree.query(new Circle_1.Circle(i.x,i.y,n));s<a.length;s++){var l=a[s],C=l.getPosition(),c=Utils_1.Utils.getDistance(C,i);if(c<=o.retina.grabModeDistance){var u=e.modes.grab.lineLinked,v=u.opacity,b=v-c*v/o.retina.grabModeDistance;if(0<b){var d=null!==(t=u.color)&&void 0!==t?t:l.particlesOptions.lineLinked.color;o.particles.grabLineColor||(o.particles.grabLineColor="string"==typeof d&&d===Constants_1.Constants.randomColorValue||(null===d||void 0===d?void 0:d.value)===Constants_1.Constants.randomColorValue?Constants_1.Constants.randomColorValue:"string"==typeof d?ColorUtils_1.ColorUtils.stringToRgb(d):ColorUtils_1.ColorUtils.colorToRgb(d));var g=void 0;if(void 0===(g=o.particles.grabLineColor===Constants_1.Constants.randomColorValue?ColorUtils_1.ColorUtils.getRandomRgbColor():o.particles.grabLineColor))return;o.canvas.drawGrabLine(l,g,b,i)}}}}},o}();exports.Grabber=Grabber;