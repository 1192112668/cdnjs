"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ColorUtils=void 0;var Utils_1=require("./Utils"),Constants_1=require("./Constants"),ColorUtils=function(){function g(){}return g.colorToRgb=function(r){var t,o;if(void 0!==r){var s,a,n,l,i,e="string"==typeof r?{value:r}:r;return"string"==typeof e.value?a=e.value===Constants_1.Constants.randomColorValue?{b:Math.floor(256*Math.random()),g:Math.floor(256*Math.random()),r:Math.floor(256*Math.random())}:g.stringToRgb(e.value):e.value instanceof Array?(s=Utils_1.Utils.itemFromArray(e.value),a=g.colorToRgb({value:s})):void 0!==(l=null!==(t=(n=e.value).rgb)&&void 0!==t?t:e.value).r?a=l:void 0!==(i=null!==(o=n.hsl)&&void 0!==o?o:e.value).h&&(a=g.hslToRgb(i)),a}},g.colorToHsl=function(r){var t=this.colorToRgb(r);return void 0!==t?this.rgbToHsl(t):t},g.rgbToHsl=function(r){var t=r.r/255,o=r.g/255,s=r.b/255,a=Math.max(t,o,s),n=Math.min(t,o,s),l={h:0,l:(a+n)/2,s:0};return a!=n&&(l.l<.5?l.s=(a-n)/(a+n):l.s=(a-n)/(2-a-n),l.h=t===a?(o-s)/(a-n):o===a?2+(s-t)/(a-n):4+(t-o)/(a-n)),l.l*=100,l.s*=100,l.h*=60,l.h<0&&(l.h+=360),l},g.stringToAlpha=function(r){var t;return null===(t=g.stringToRgba(r))||void 0===t?void 0:t.a},g.stringToRgb=function(r){return g.stringToRgba(r)},g.hslToRgb=function(r){var t,o,s={b:0,g:0,r:0},a={h:r.h/360,l:r.l/100,s:r.s/100};return 0===a.s?(s.b=a.l,s.g=a.l,s.r=a.l):(o=2*a.l-(t=a.l<.5?a.l*(1+a.s):a.l+a.s-a.l*a.s),s.r=g.hue2rgb(o,t,a.h+1/3),s.g=g.hue2rgb(o,t,a.h),s.b=g.hue2rgb(o,t,a.h-1/3)),s.r=Math.floor(255*s.r),s.g=Math.floor(255*s.g),s.b=Math.floor(255*s.b),s},g.hslaToRgba=function(r){var t=g.hslToRgb(r);return{a:r.a,b:t.b,g:t.g,r:t.r}},g.getRandomRgbColor=function(r){var t,o=r||0,s=o+o*Math.pow(16,2)+o*Math.pow(16,4),a=16777215^s,n=Math.floor(Math.random()*a|s).toString(16);return null!==(t=this.stringToRgb("#"+n))&&void 0!==t?t:{b:0,g:0,r:0}},g.getStyleFromRgb=function(r,t){return"rgba("+r.r+", "+r.g+", "+r.b+", "+(null!=t?t:1)+")"},g.getStyleFromHsl=function(r,t){return"hsla("+r.h+", "+r.s+"%, "+r.l+"%, "+(null!=t?t:1)+")"},g.mix=function(r,t,o,s){var a=r,n=t;return void 0===a.r&&(a=this.hslToRgb(r)),void 0===n.r&&(n=this.hslToRgb(t)),{b:Utils_1.Utils.mix(a.b,n.b,o,s),g:Utils_1.Utils.mix(a.g,n.g,o,s),r:Utils_1.Utils.mix(a.r,n.r,o,s)}},g.hue2rgb=function(r,t,o){var s=o;return s<0&&(s+=1),1<s&&--s,s<1/6?r+6*(t-r)*s:s<.5?t:s<2/3?r+(t-r)*(2/3-s)*6:r},g.stringToRgba=function(r){if(r.startsWith("rgb"))return(t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.]+)\s*)?\)/i.exec(r))?{a:4<t.length?parseFloat(t[5]):1,b:parseInt(t[3],10),g:parseInt(t[2],10),r:parseInt(t[1],10)}:void 0;if(r.startsWith("hsl"))return(t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.]+)\s*)?\)/i.exec(r))?g.hslaToRgba({a:4<t.length?parseFloat(t[5]):1,h:parseInt(t[1],10),l:parseInt(t[3],10),s:parseInt(t[2],10)}):void 0;var t,o=r.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,function(r,t,o,s,a){return t+t+o+o+s+s+(void 0!==a?a+a:"")});return(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(o))?{a:void 0!==t[4]?parseInt(t[4],16)/255:1,b:parseInt(t[3],16),g:parseInt(t[2],16),r:parseInt(t[1],16)}:void 0},g}();exports.ColorUtils=ColorUtils;