"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Emitters=void 0;var EmitterInstance_1=require("./EmitterInstance"),Utils_1=require("../../Utils"),Emitter_1=require("./Options/Classes/Emitter"),EmitterClickMode_1=require("./Enums/EmitterClickMode"),Emitters=function(){function t(t){this.container=t,this.array=[],this.emitters=[],this.interactivityEmitters=[]}return t.prototype.init=function(t){var i,e;if(t){t.emitters&&(t.emitters instanceof Array?this.emitters=t.emitters.map(function(t){var i=new Emitter_1.Emitter;return i.load(t),i}):(this.emitters instanceof Array&&(this.emitters=new Emitter_1.Emitter),this.emitters.load(t.emitters)));var r=null===(e=null===(i=t.interactivity)||void 0===i?void 0:i.modes)||void 0===e?void 0:e.emitters;if(r&&(r instanceof Array?this.interactivityEmitters=r.map(function(t){var i=new Emitter_1.Emitter;return i.load(t),i}):(this.interactivityEmitters instanceof Array&&(this.interactivityEmitters=new Emitter_1.Emitter),this.interactivityEmitters.load(r))),this.emitters instanceof Array)for(var s=0,n=this.emitters;s<n.length;s++){var a=n[s],o=new EmitterInstance_1.EmitterInstance(this,a);this.addEmitter(o)}else{a=this.emitters,o=new EmitterInstance_1.EmitterInstance(this,a);this.addEmitter(o)}}},t.prototype.play=function(){for(var t=0,i=this.array;t<i.length;t++){i[t].play()}},t.prototype.pause=function(){for(var t=0,i=this.array;t<i.length;t++){i[t].pause()}},t.prototype.stop=function(){this.array=[]},t.prototype.handleClickMode=function(t){var i,e,r,s,n=this.container,a=this.emitters,o=this.interactivityEmitters;t===EmitterClickMode_1.EmitterClickMode.emitter&&(i=void 0,o instanceof Array?0<o.length&&(i=Utils_1.Utils.itemFromArray(o)):i=o,e=null!=i?i:a instanceof Array?Utils_1.Utils.itemFromArray(a):a,r=n.interactivity.mouse.clickPosition,s=new EmitterInstance_1.EmitterInstance(this,Utils_1.Utils.deepExtend({},e),r),this.addEmitter(s))},t.prototype.resize=function(){for(var t=0,i=this.array;t<i.length;t++){i[t].resize()}},t.prototype.addEmitter=function(t){this.array.push(t)},t.prototype.removeEmitter=function(t){var i=this.array.indexOf(t);0<=i&&this.array.splice(i,1)},t}();exports.Emitters=Emitters;