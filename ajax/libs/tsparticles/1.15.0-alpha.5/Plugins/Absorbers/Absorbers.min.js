"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Absorbers=void 0;var Absorber_1=require("./Absorber"),ClickMode_1=require("../../Enums/Modes/ClickMode"),Utils_1=require("../../Utils"),Absorbers=function(){function r(r){this.container=r,this.array=[]}return r.prototype.init=function(){var r=this.container.options;if(r.absorbers instanceof Array)for(var e=0,o=r.absorbers;e<o.length;e++){var t=o[e],s=new Absorber_1.Absorber(this,t);this.addAbsorber(s)}else{t=r.absorbers,s=new Absorber_1.Absorber(this,t);this.addAbsorber(s)}},r.prototype.particleUpdate=function(r,e){for(var o=0,t=this.array;o<t.length;o++){if(t[o].attract(r,e),r.destroyed)break}},r.prototype.draw=function(r){for(var e=0,o=this.array;e<o.length;e++){var t=o[e];r.save(),t.draw(r),r.restore()}},r.prototype.stop=function(){this.array=[]},r.prototype.resize=function(){for(var r=0,e=this.array;r<e.length;r++){e[r].resize()}},r.prototype.handleClickMode=function(r){var e,o,t,s,i,a=this.container,b=a.options;r===ClickMode_1.ClickMode.absorber&&(e=void 0,(o=b.interactivity.modes.absorbers)instanceof Array?0<o.length&&(e=Utils_1.Utils.itemFromArray(o)):e=o,t=null!=e?e:b.absorbers instanceof Array?Utils_1.Utils.itemFromArray(b.absorbers):b.absorbers,s=a.interactivity.mouse.clickPosition,i=new Absorber_1.Absorber(this,t,s),this.addAbsorber(i))},r.prototype.addAbsorber=function(r){this.array.push(r)},r.prototype.removeAbsorber=function(r){var e=this.array.indexOf(r);0<=e&&this.array.splice(e,1)},r}();exports.Absorbers=Absorbers;