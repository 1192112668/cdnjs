"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InteractionManager=void 0;const Utils_1=require("../../Utils"),Modes_1=require("../../Enums/Modes"),Grabber_1=require("./Interactions/Mouse/Grabber"),Repulser_1=require("./Interactions/Mouse/Repulser"),Bubbler_1=require("./Interactions/Mouse/Bubbler"),Connector_1=require("./Interactions/Mouse/Connector"),Interactions_1=require("./Interactions/Particles/Interactions");class InteractionManager{constructor(e){this.container=e,this.interactionsEnabled=!1}init(){const e=this.container.options;this.interactionsEnabled=e.particles.links.enable||e.particles.move.attract.enable||e.particles.collisions.enable||e.infection.enable}interact(e){this.mouseInteract(e),this.particlesInteract(e)}mouseInteract(e){const t=this.container,r=t.interactivity.mouse,i=t.options.interactivity.events,n=t.options.interactivity.events.onDiv;let s,o,a;if(n instanceof Array){const e=n.filter(e=>e.enable).map(e=>e.mode);s=e.length>0,o=void 0!==e.find(e=>Utils_1.Utils.isInArray(Modes_1.DivMode.repulse,e)),a=void 0!==e.find(e=>Utils_1.Utils.isInArray(Modes_1.DivMode.bubble,e))}else s=n.enable,o=Utils_1.Utils.isInArray(Modes_1.DivMode.repulse,n.mode),a=Utils_1.Utils.isInArray(Modes_1.DivMode.bubble,n.mode);if(!(s||i.onHover.enable&&r.position||i.onClick.enable&&r.clickPosition))return;const l=i.onHover.mode,c=i.onClick.mode;Utils_1.Utils.isInArray(Modes_1.HoverMode.grab,l)&&Grabber_1.Grabber.grab(t,e),(Utils_1.Utils.isInArray(Modes_1.HoverMode.repulse,l)||Utils_1.Utils.isInArray(Modes_1.ClickMode.repulse,c)||o)&&Repulser_1.Repulser.repulse(t,e),(Utils_1.Utils.isInArray(Modes_1.HoverMode.bubble,l)||Utils_1.Utils.isInArray(Modes_1.ClickMode.bubble,c)||a)&&Bubbler_1.Bubbler.bubble(t,e),Utils_1.Utils.isInArray(Modes_1.HoverMode.connect,l)&&Connector_1.Connector.connect(t,e)}particlesInteract(e){const t=this.container;for(const r of t.particles.array)Bubbler_1.Bubbler.reset(r),this.interactionsEnabled&&Interactions_1.Interactions.interact(r,t,e)}}exports.InteractionManager=InteractionManager;