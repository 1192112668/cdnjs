"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SimplexNoise=void 0;var F3=1/3,G3=1/6,grad3=new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),buildPermutationTable=function(r){for(var e=new Uint8Array(256),t=0;t<256;t++)e[t]=t;for(t=0;t<255;t++){var a=t+~~(r()*(256-t)),o=e[t];e[t]=e[a],e[a]=o}return e},SimplexNoise=function(){function r(r){var e=null!=r?r:Math.random;this.p=buildPermutationTable(e),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var t=0;t<512;t++)this.perm[t]=this.p[255&t],this.permMod12[t]=this.perm[t]%12}return r.prototype.noise3D=function(r,e,t){var a,o,i,n,d,s,p,l,u,m=this.permMod12,g=this.perm,h=(r+e+t)*F3,f=Math.floor(r+h),G=Math.floor(e+h),v=Math.floor(t+h),M=(f+G+v)*G3,x=r-(f-M),c=e-(G-M),y=t-(v-M),b=c<=x?y<=c?(d=n=a=1,i=o=0):n=y<=x?(d=i=o=0,a=1):(d=o=a=0,i=1):c<y?(n=o=a=0,d=i=1):x<y?(n=i=a=0,d=o=1):(d=n=o=1,i=a=0),w=x-a+G3,A=c-o+G3,N=y-i+G3,S=x-n+2*G3,F=c-d+2*G3,P=y-b+2*G3,U=x-1+3*G3,T=c-1+3*G3,_=y-1+3*G3,j=255&f,D=255&G,O=255&v,k=.6-x*x-c*c-y*y,q=.6-w*w-A*A-N*N,z=.6-S*S-F*F-P*P,B=.6-U*U-T*T-_*_;return 32*((k<0?0:(s=3*m[j+g[D+g[O]]],(k*=k)*k*(grad3[s]*x+grad3[1+s]*c+grad3[2+s]*y)))+(q<0?0:(p=3*m[j+a+g[D+o+g[O+i]]],(q*=q)*q*(grad3[p]*w+grad3[1+p]*A+grad3[2+p]*N)))+(z<0?0:(l=3*m[j+n+g[D+d+g[O+b]]],(z*=z)*z*(grad3[l]*S+grad3[1+l]*F+grad3[2+l]*P)))+(B<0?0:(u=3*m[1+j+g[1+D+g[1+O]]],(B*=B)*B*(grad3[u]*U+grad3[1+u]*T+grad3[2+u]*_))))},r}();exports.SimplexNoise=SimplexNoise;