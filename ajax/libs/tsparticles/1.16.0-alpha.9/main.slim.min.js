"use strict";var __awaiter=this&&this.__awaiter||function(e,r,a,i){return new(a||(a=Promise))(function(n,t){function o(e){try{s(i.next(e))}catch(e){t(e)}}function w(e){try{s(i.throw(e))}catch(e){t(e)}}function s(e){var r;e.done?n(e.value):(r=e.value,r instanceof a?r:new a(function(e){e(r)})).then(o,w)}s((i=i.apply(e,r||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.MainSlim=void 0;const SquareDrawer_1=require("./ShapeDrawers/SquareDrawer"),TextDrawer_1=require("./ShapeDrawers/TextDrawer"),ImageDrawer_1=require("./ShapeDrawers/ImageDrawer"),Utils_1=require("./Utils"),Types_1=require("./Enums/Types"),LineDrawer_1=require("./ShapeDrawers/LineDrawer"),CircleDrawer_1=require("./ShapeDrawers/CircleDrawer"),TriangleDrawer_1=require("./ShapeDrawers/TriangleDrawer"),StarDrawer_1=require("./ShapeDrawers/StarDrawer"),PolygonDrawer_1=require("./ShapeDrawers/PolygonDrawer"),Loader_1=require("./Core/Loader");class MainSlim{constructor(){this.initialized=!1,"undefined"!=typeof window&&window&&(window.customRequestAnimationFrame=(()=>window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||(e=>window.setTimeout(e,1e3/60)))(),window.customCancelRequestAnimationFrame=(()=>window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout)());const e=new SquareDrawer_1.SquareDrawer,r=new TextDrawer_1.TextDrawer,a=new ImageDrawer_1.ImageDrawer;Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.line,new LineDrawer_1.LineDrawer),Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.circle,new CircleDrawer_1.CircleDrawer),Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.edge,e),Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.square,e),Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.triangle,new TriangleDrawer_1.TriangleDrawer),Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.star,new StarDrawer_1.StarDrawer),Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.polygon,new PolygonDrawer_1.PolygonDrawer),Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.char,r),Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.character,r),Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.image,a),Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.images,a)}init(){this.initialized||(this.initialized=!0)}loadFromArray(e,r,a){return __awaiter(this,void 0,void 0,function*(){return Loader_1.Loader.loadFromArray(e,r,a)})}load(e,r){return __awaiter(this,void 0,void 0,function*(){return Loader_1.Loader.load(e,r)})}loadJSON(e,r){return Loader_1.Loader.loadJSON(e,r)}setOnClickHandler(e){Loader_1.Loader.setOnClickHandler(e)}dom(){return Loader_1.Loader.dom()}domItem(e){return Loader_1.Loader.domItem(e)}addShape(e,r,a,i,n){let t;t="function"==typeof r?{afterEffect:i,destroy:n,draw:r,init:a}:r,Utils_1.Plugins.addShapeDrawer(e,t)}addPreset(e,r){Utils_1.Plugins.addPreset(e,r)}addPlugin(e){Utils_1.Plugins.addPlugin(e)}}exports.MainSlim=MainSlim;