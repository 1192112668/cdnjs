"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),__exportStar=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||e.hasOwnProperty(i)||__createBinding(e,t,i)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.EmittersPlugin=void 0;var Utils_1=require("../../Utils"),Emitters_1=require("./Emitters"),Enums_1=require("./Enums"),Emitter_1=require("./Options/Classes/Emitter"),EmittersPlugin=function(){function t(){this.id="emitters"}return t.prototype.getPlugin=function(t){return new Emitters_1.Emitters(t)},t.prototype.needsPlugin=function(t){var e,i,r;if(null==t||!t.emitters)return!1;var n=t.emitters,o=!1;return n instanceof Array?n.length&&(o=!0):(void 0!==n||null!==(r=null===(i=null===(e=t.interactivity)||void 0===e?void 0:e.events)||void 0===i?void 0:i.onClick)&&void 0!==r&&r.mode&&Utils_1.Utils.isInArray(Enums_1.EmitterClickMode.emitter,t.interactivity.events.onClick.mode))&&(o=!0),o},t.prototype.loadOptions=function(t,e){var i,r,n,o;this.needsPlugin(e)&&(void 0===(n=t).emitters&&(n.emitters=new Emitter_1.Emitter),null!=e&&e.emitters&&((null==e?void 0:e.emitters)instanceof Array?n.emitters=null==e?void 0:e.emitters.map(function(t){var e=new Emitter_1.Emitter;return e.load(t),e}):(n.emitters instanceof Array&&(n.emitters=new Emitter_1.Emitter),n.emitters.load(null==e?void 0:e.emitters))),(o=null===(r=null===(i=null==e?void 0:e.interactivity)||void 0===i?void 0:i.modes)||void 0===r?void 0:r.emitters)&&(o instanceof Array?n.interactivity.modes.emitters=o.map(function(t){var e=new Emitter_1.Emitter;return e.load(t),e}):((n.interactivity.modes.emitters instanceof Array||void 0===n.interactivity.modes.emitters)&&(n.interactivity.modes.emitters=new Emitter_1.Emitter),n.interactivity.modes.emitters.load(o))))},t}(),plugin=new EmittersPlugin;exports.EmittersPlugin=plugin,__exportStar(require("./Enums"),exports);