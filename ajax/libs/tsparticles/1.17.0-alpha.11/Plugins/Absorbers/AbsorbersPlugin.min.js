"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbsorbersPlugin=void 0;const tslib_1=require("tslib"),Absorbers_1=require("./Absorbers"),Utils_1=require("../../Utils"),Enums_1=require("./Enums"),Absorber_1=require("./Options/Classes/Absorber");class AbsorbersPlugin{constructor(){this.id="absorbers"}getPlugin(r){return new Absorbers_1.Absorbers(r)}needsPlugin(r){var s,e,o;if(void 0===r)return!1;const i=r.absorbers;let b=!1;return i instanceof Array?i.length&&(b=!0):void 0!==i?b=!0:(null===(o=null===(e=null===(s=r.interactivity)||void 0===s?void 0:s.events)||void 0===e?void 0:e.onClick)||void 0===o?void 0:o.mode)&&Utils_1.Utils.isInArray(Enums_1.AbsorberClickMode.absorber,r.interactivity.events.onClick.mode)&&(b=!0),b}loadOptions(r,s){var e,o;if(!this.needsPlugin(r)&&!this.needsPlugin(s))return;const i=r;(null==s?void 0:s.absorbers)&&((null==s?void 0:s.absorbers)instanceof Array?i.absorbers=null==s?void 0:s.absorbers.map(r=>{const s=new Absorber_1.Absorber;return s.load(r),s}):((i.absorbers instanceof Array||void 0===i.absorbers)&&(i.absorbers=new Absorber_1.Absorber),i.absorbers.load(null==s?void 0:s.absorbers)));const b=null===(o=null===(e=null==s?void 0:s.interactivity)||void 0===e?void 0:e.modes)||void 0===o?void 0:o.absorbers;b&&(b instanceof Array?i.interactivity.modes.absorbers=b.map(r=>{const s=new Absorber_1.Absorber;return s.load(r),s}):((i.interactivity.modes.absorbers instanceof Array||void 0===i.interactivity.modes.absorbers)&&(i.interactivity.modes.absorbers=new Absorber_1.Absorber),i.interactivity.modes.absorbers.load(b)))}}const plugin=new AbsorbersPlugin;exports.AbsorbersPlugin=plugin,tslib_1.__exportStar(require("./Enums"),exports);