import crypto from"crypto";let urlAlphabet="_-0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",buffers={},random=t=>{let r=buffers[t];return r||(r=Buffer.allocUnsafe(t),t<=255&&(buffers[t]=r)),crypto.randomFillSync(r)},customRandom=(t,r,e)=>{let o=(2<<31-Math.clz32(t.length-1|1))-1,l=Math.ceil(1.6*o*r/t.length);return()=>{let n="";for(;;){let a=e(l),u=l;for(;u--;)if((n+=t[a[u]&o]||"").length===+r)return n}}},customAlphabet=(t,r)=>customRandom(t,r,random),nanoid=(t=21)=>{let r=random(t),e="";for(;t--;)e+=urlAlphabet[63&r[t]];return e};export{nanoid,customAlphabet,customRandom,urlAlphabet,random};