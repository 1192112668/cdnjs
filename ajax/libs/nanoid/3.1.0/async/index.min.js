import crypto from"crypto";import{urlAlphabet}from"../index.js";let random=t=>new Promise((r,e)=>{crypto.randomFill(Buffer.allocUnsafe(t),(t,n)=>{t?e(t):r(n)})}),customAlphabet=(t,r)=>{let e=(2<<31-Math.clz32(t.length-1|1))-1,n=Math.ceil(1.6*e*r/t.length),o=l=>random(n).then(a=>{let h=n;for(;h--;)if((l+=t[a[h]&e]||"").length===+r)return l;return o(l)});return()=>o("")},nanoid=(t=21)=>random(t).then(r=>{let e="";for(;t--;)e+=urlAlphabet[63&r[t]];return e});export{nanoid,customAlphabet};