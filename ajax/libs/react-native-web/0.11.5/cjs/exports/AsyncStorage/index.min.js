"use strict";exports.__esModule=!0,exports.default=void 0;var _deepAssign=_interopRequireDefault(require("deep-assign"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var mergeLocalStorageItem=function(e,t){var r=window.localStorage.getItem(e),n=JSON.parse(r),o=JSON.parse(t),u=JSON.stringify((0,_deepAssign.default)({},n,o));window.localStorage.setItem(e,u)},createPromise=function(n,o){return new Promise(function(e,t){try{var r=n();o&&o(null,r),e(r)}catch(e){o&&o(e),t(e)}})},createPromiseAll=function(e,r,n){return Promise.all(e).then(function(e){var t=n?n(e):null;return r&&r(null,t),Promise.resolve(t)},function(e){return r&&r(e),Promise.reject(e)})},AsyncStorage=function(){function n(){}return n.clear=function(e){return createPromise(function(){window.localStorage.clear()},e)},n.flushGetRequests=function(){},n.getAllKeys=function(e){return createPromise(function(){for(var e=window.localStorage.length,t=[],r=0;r<e;r+=1){var n=window.localStorage.key(r);t.push(n)}return t},e)},n.getItem=function(e,t){return createPromise(function(){return window.localStorage.getItem(e)},t)},n.multiGet=function(r,e){var t=r.map(function(e){return n.getItem(e)});return createPromiseAll(t,e,function(e){return e.map(function(e,t){return[r[t],e]})})},n.setItem=function(e,t,r){return createPromise(function(){window.localStorage.setItem(e,t)},r)},n.multiSet=function(e,t){var r=e.map(function(e){return n.setItem(e[0],e[1])});return createPromiseAll(r,t)},n.mergeItem=function(e,t,r){return createPromise(function(){mergeLocalStorageItem(e,t)},r)},n.multiMerge=function(e,t){var r=e.map(function(e){return n.mergeItem(e[0],e[1])});return createPromiseAll(r,t)},n.removeItem=function(e,t){return createPromise(function(){return window.localStorage.removeItem(e)},t)},n.multiRemove=function(e,t){var r=e.map(function(e){return n.removeItem(e)});return createPromiseAll(r,t)},n}();exports.default=AsyncStorage,module.exports=exports.default;