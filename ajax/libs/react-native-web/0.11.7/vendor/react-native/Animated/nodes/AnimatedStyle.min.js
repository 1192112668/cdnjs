"use strict";function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){_defineProperty(t,e,n[e])})}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}import AnimatedNode from"./AnimatedNode";import AnimatedTransform from"./AnimatedTransform";import AnimatedWithChildren from"./AnimatedWithChildren";import NativeAnimatedHelper from"../NativeAnimatedHelper";import StyleSheet from"../../../../exports/StyleSheet";var flattenStyle=StyleSheet.flatten,AnimatedStyle=function(t){function e(e){var n;return n=t.call(this)||this,(e=flattenStyle(e)||{}).transform&&(e=_objectSpread({},e,{transform:new AnimatedTransform(e.transform)})),n._style=e,n}_inheritsLoose(e,t);var n=e.prototype;return n._walkStyleAndGetValues=function(t){var e={};for(var n in t){var r=t[n];r instanceof AnimatedNode?r.__isNative||(e[n]=r.__getValue()):r&&!Array.isArray(r)&&"object"==typeof r?e[n]=this._walkStyleAndGetValues(r):e[n]=r}return e},n.__getValue=function(){return this._walkStyleAndGetValues(this._style)},n._walkStyleAndGetAnimatedValues=function(t){var e={};for(var n in t){var r=t[n];r instanceof AnimatedNode?e[n]=r.__getAnimatedValue():r&&!Array.isArray(r)&&"object"==typeof r&&(e[n]=this._walkStyleAndGetAnimatedValues(r))}return e},n.__getAnimatedValue=function(){return this._walkStyleAndGetAnimatedValues(this._style)},n.__attach=function(){for(var t in this._style){var e=this._style[t];e instanceof AnimatedNode&&e.__addChild(this)}},n.__detach=function(){for(var e in this._style){var n=this._style[e];n instanceof AnimatedNode&&n.__removeChild(this)}t.prototype.__detach.call(this)},n.__makeNative=function(){for(var e in t.prototype.__makeNative.call(this),this._style){var n=this._style[e];n instanceof AnimatedNode&&n.__makeNative()}},n.__getNativeConfig=function(){var t={};for(var e in this._style)this._style[e]instanceof AnimatedNode&&(t[e]=this._style[e].__getNativeTag());return NativeAnimatedHelper.validateStyles(t),{type:"style",style:t}},e}(AnimatedWithChildren);export default AnimatedStyle;