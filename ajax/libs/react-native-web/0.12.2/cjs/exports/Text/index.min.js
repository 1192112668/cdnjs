"use strict";exports.__esModule=!0,exports.default=void 0;var _applyLayout=_interopRequireDefault(require("../../modules/applyLayout")),_applyNativeMethods=_interopRequireDefault(require("../../modules/applyNativeMethods")),_createElement=_interopRequireDefault(require("../createElement")),_css=_interopRequireDefault(require("../StyleSheet/css")),_filterSupportedProps=_interopRequireDefault(require("../View/filterSupportedProps")),_react=_interopRequireDefault(require("react")),_StyleSheet=_interopRequireDefault(require("../StyleSheet")),_TextAncestorContext=_interopRequireDefault(require("./TextAncestorContext"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var Text=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var r=t.prototype;return r.renderText=function(e){var t=this.props,r=t.dir,o=t.forwardedRef,a=t.numberOfLines,i=t.onPress,n=t.selectable,l=t.style,s=(0,_filterSupportedProps.default)(this.props);i&&(s.accessible=!0,s.onClick=this._createPressHandler(i),s.onKeyDown=this._createEnterHandler(i)),s.classList=[classes.text,!0===e&&classes.textHasAncestor,1===a&&classes.textOneLine,null!=a&&1<a&&classes.textMultiLine],s.dir=void 0!==r?r:"auto",s.ref=o,s.style=[l,null!=a&&1<a&&{WebkitLineClamp:a},!1===n&&styles.notSelectable,i&&styles.pressable];var u=e?"span":"div";return(0,_createElement.default)(u,s)},r.render=function(){var r=this;return _react.default.createElement(_TextAncestorContext.default.Consumer,null,function(e){var t=r.renderText(e);return e?t:_react.default.createElement(_TextAncestorContext.default.Provider,{value:!0},t)})},r._createEnterHandler=function(t){return function(e){13===e.keyCode&&t&&t(e)}},r._createPressHandler=function(t){return function(e){e.stopPropagation(),t&&t(e)}},t}(_react.default.Component);Text.displayName="Text";var classes=_css.default.create({text:{border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",margin:0,padding:0,whiteSpace:"pre-wrap",wordWrap:"break-word"},textHasAncestor:{color:"inherit",font:"inherit",whiteSpace:"inherit"},textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"}}),styles=_StyleSheet.default.create({notSelectable:{userSelect:"none"},pressable:{cursor:"pointer"}}),_default=(0,_applyLayout.default)((0,_applyNativeMethods.default)(Text));exports.default=_default,module.exports=exports.default;