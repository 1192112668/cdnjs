function _objectSpread(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),t.forEach(function(e){_defineProperty(n,e,r[e])})}return n}function _defineProperty(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}import invariant from"fbjs/lib/invariant";import unmountComponentAtNode from"../unmountComponentAtNode";import renderApplication,{getApplication as _getApplication}from"./renderApplication";var wrapperComponentProvider,emptyObject={},runnables={},componentProviderInstrumentationHook=function(n){return n()},AppRegistry=function(){function n(){}return n.getAppKeys=function(){return Object.keys(runnables)},n.getApplication=function(n,e){return invariant(runnables[n]&&runnables[n].getApplication,"Application "+n+" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent."),runnables[n].getApplication(e)},n.registerComponent=function(n,e){return runnables[n]={getApplication:function(n){return _getApplication(componentProviderInstrumentationHook(e),n?n.initialProps:emptyObject,wrapperComponentProvider&&wrapperComponentProvider(n))},run:function(n){return renderApplication(componentProviderInstrumentationHook(e),n.initialProps||emptyObject,n.rootTag,wrapperComponentProvider&&wrapperComponentProvider(n),n.callback)}},n},n.registerConfig=function(e){e.forEach(function(e){var r=e.appKey,t=e.component,o=e.run;o?n.registerRunnable(r,o):(invariant(t,"No component provider passed in"),n.registerComponent(r,t))})},n.registerRunnable=function(n,e){return runnables[n]={run:e},n},n.runApplication=function(n,e){var r="production"!==process.env.NODE_ENV&&"test"!==process.env.NODE_ENV;if(r){var t=_objectSpread({},e);t.rootTag="#"+t.rootTag.id,console.log('Running application "'+n+'" with appParams: '+JSON.stringify(t)+".\nDevelopment-level warnings: "+(r?"ON":"OFF")+".\nPerformance optimizations: "+(r?"OFF":"ON")+".")}invariant(runnables[n]&&runnables[n].run,'Application "'+n+'" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent.'),runnables[n].run(e)},n.setComponentProviderInstrumentationHook=function(n){componentProviderInstrumentationHook=n},n.setWrapperComponentProvider=function(n){wrapperComponentProvider=n},n.unmountApplicationComponentAtRootTag=function(n){unmountComponentAtNode(n)},n}();export{AppRegistry as default};