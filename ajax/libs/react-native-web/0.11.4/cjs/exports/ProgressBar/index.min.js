"use strict";exports.__esModule=!0,exports.default=void 0;var _applyNativeMethods=_interopRequireDefault(require("../../modules/applyNativeMethods")),_ColorPropType=_interopRequireDefault(require("../ColorPropType")),_StyleSheet=_interopRequireDefault(require("../StyleSheet")),_View=_interopRequireDefault(require("../View")),_ViewPropTypes=_interopRequireDefault(require("../ViewPropTypes")),_react=_interopRequireWildcard(require("react")),_propTypes=require("prop-types");function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r,t={};if(null!=e)for(var o in e){Object.prototype.hasOwnProperty.call(e,o)&&((r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{}).get||r.set?Object.defineProperty(t,o,r):t[o]=e[o])}return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectSpread(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(e){_defineProperty(r,e,t[e])})}return r}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _extends(){return(_extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function _objectWithoutPropertiesLoose(e,r){if(null==e)return{};for(var t,o={},n=Object.keys(e),i=0;i<n.length;i++)t=n[i],0<=r.indexOf(t)||(o[t]=e[t]);return o}function _inheritsLoose(e,r){e.prototype=Object.create(r.prototype),(e.prototype.constructor=e).__proto__=r}var ProgressBar=function(o){function e(){for(var n,e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return(n=o.call.apply(o,[this].concat(r))||this)._setProgressRef=function(e){n._progressElement=e},n._updateProgressWidth=function(){var e=n.props,r=e.indeterminate,t=e.progress,o=r?"25%":(r?50:100*t)+"%";n._progressElement&&n._progressElement.setNativeProps({style:{width:o}})},n}_inheritsLoose(e,o);var r=e.prototype;return r.componentDidMount=function(){this._updateProgressWidth()},r.componentDidUpdate=function(){this._updateProgressWidth()},r.render=function(){var e=this.props,r=e.color,t=e.indeterminate,o=e.progress,n=e.trackColor,i=e.style,a=_objectWithoutPropertiesLoose(e,["color","indeterminate","progress","trackColor","style"]),s=100*o;return _react.default.createElement(_View.default,_extends({},a,{accessibilityRole:"progressbar","aria-valuemax":"100","aria-valuemin":"0","aria-valuenow":t?null:s,style:[styles.track,i,{backgroundColor:n}]}),_react.default.createElement(_View.default,{ref:this._setProgressRef,style:[styles.progress,t&&styles.animation,{backgroundColor:r}]}))},e}(_react.Component);ProgressBar.displayName="ProgressBar",ProgressBar.defaultProps={color:"#1976D2",indeterminate:!1,progress:0,trackColor:"transparent"},ProgressBar.propTypes="production"!==process.env.NODE_ENV?_objectSpread({},_ViewPropTypes.default,{color:_ColorPropType.default,indeterminate:_propTypes.bool,progress:_propTypes.number,trackColor:_ColorPropType.default}):{};var styles=_StyleSheet.default.create({track:{height:5,overflow:"hidden",userSelect:"none",zIndex:0},progress:{height:"100%",zIndex:-1},animation:{animationDuration:"1s",animationKeyframes:[{"0%":{transform:[{translateX:"-100%"}]},"100%":{transform:[{translateX:"400%"}]}}],animationTimingFunction:"linear",animationIterationCount:"infinite"}}),_default=(0,_applyNativeMethods.default)(ProgressBar);exports.default=_default,module.exports=exports.default;