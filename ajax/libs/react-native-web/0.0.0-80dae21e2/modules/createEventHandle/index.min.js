"use strict";import{canUseDOM}from"fbjs/lib/ExecutionEnvironment";var emptyFunction=function(){};function supportsPassiveEvents(){var e=!1;if(canUseDOM)try{var n={};Object.defineProperty(n,"passive",{get:function(){return e=!0,!1}}),window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch(e){}return e}var canUsePassiveEvents=supportsPassiveEvents();function getOptions(e){return null!=e&&(canUsePassiveEvents?e:Boolean(e.capture))}function normalizeEvent(e){var n=!1,t=!1,r=e.preventDefault,i=e.stopPropagation;return e.nativeEvent=e,e.persist=function(){},Object.defineProperty(e,"preventDefault",{configurable:!0,value:function(){r.call(e),n=!0,Object.defineProperty(e,"defaultPrevented",{value:!0})}}),Object.defineProperty(e,"stopPropagation",{configurable:!0,value:function(){i.call(e),t=!0}}),e.isDefaultPrevented=function(){return n},e.isPropagationStopped=function(){return t},e}export default function createEventHandle(e,n){var t=getOptions(n);return function(n,r){if(null==n||"function"!=typeof n.addEventListener)throw new Error("createEventHandle: called on an invalid target.");var i=n;if(null!=r){var o=function(e){return r(normalizeEvent(e))};return i.addEventListener(e,o,t),function(){null!=i&&i.removeEventListener(e,o,t)}}return emptyFunction}};