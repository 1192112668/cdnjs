"use strict";exports.__esModule=!0,exports.default=void 0;var id=0,requests={},ImageLoader={abort:function(e){var t=requests[""+e];t&&(t.onerror=t.onload=t=null,delete requests[""+e])},getSize:function(e,o,t){var a=!1,n=setInterval(r,16),d=ImageLoader.load(e,r,function(){"function"==typeof t&&t();ImageLoader.abort(d),clearInterval(n)});function r(){var e,t,r=requests[""+d];r&&(e=r.naturalHeight,t=r.naturalWidth,e&&t&&(o(t,e),a=!0)),a&&(ImageLoader.abort(d),clearInterval(n))}},load:function(e,r,t){id+=1;var o=new window.Image;return o.onerror=t,o.onload=function(e){function t(){return r(e)}"function"==typeof o.decode?o.decode().then(t,t):setTimeout(t,0)},o.src=e,requests[""+id]=o,id},prefetch:function(r){return new Promise(function(e,t){ImageLoader.load(r,e,t)})}},_default=ImageLoader;exports.default=ImageLoader,module.exports=exports.default;