import getBoundingClientRect from"../../modules/getBoundingClientRect";import ResponderTouchHistoryStore from"./ResponderTouchHistoryStore";var emptyFunction=function(){},emptyObject={},emptyArray=[];function normalizeIdentifier(e){return e>20?e%20:e}export default function createResponderEvent(e){var t,n,r,i=!1,o=e.changedTouches,a=e.type,u=!0===e.metaKey,c=!0===e.shiftKey,p=o&&o[0].force||0,f=normalizeIdentifier(o&&o[0].identifier||0),l=o&&o[0].clientX||e.clientX,s=o&&o[0].clientY||e.clientY,g=o&&o[0].pageX||e.pageX,d=o&&o[0].pageY||e.pageY,m="function"==typeof e.preventDefault?e.preventDefault.bind(e):emptyFunction,y=e.timeStamp;function h(e){return Array.prototype.slice.call(e).map(function(e){return e.identifier=normalizeIdentifier(e.identifier),e.timestamp=y,e})}if(null!=o)n=h(o),r=h(e.touches);else{var v=[{force:p,identifier:f,get locationX(){return P()},get locationY(){return R()},pageX:g,pageY:d,target:e.target,timestamp:y}];n=v,r="mouseup"===a||"dragstart"===a?emptyArray:v}var T={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:e.defaultPrevented,dispatchConfig:emptyObject,eventPhase:e.eventPhase,isDefaultPrevented:function(){return e.defaultPrevented},isPropagationStopped:function(){return i},isTrusted:e.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:u,shiftKey:c,changedTouches:n,force:p,identifier:f,get locationX(){return P()},get locationY(){return R()},pageX:g,pageY:d,target:e.target,timestamp:y,touches:r,type:a},persist:emptyFunction,preventDefault:m,stopPropagation:function(){i=!0},target:e.target,timeStamp:y,touchHistory:ResponderTouchHistoryStore.touchHistory};function P(){if(t=t||getBoundingClientRect(T.currentTarget))return l-t.left}function R(){if(t=t||getBoundingClientRect(T.currentTarget))return s-t.top}return T};