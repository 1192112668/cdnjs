import{MONOSPACE_FONT_STACK,SYSTEM_FONT_STACK,STYLE_SHORT_FORM_EXPANSIONS}from"./constants";import normalizeValueWithProperty from"./normalizeValueWithProperty";var emptyObject={},mapTransform=function(r){var e=Object.keys(r)[0];return e+"("+normalizeValueWithProperty(r[e],e)+")"},convertTransformMatrix=function(r){return"matrix3d("+r.join(",")+")"},resolveTransform=function(r,e){var a=e.transform;Array.isArray(e.transform)?a=e.transform.map(mapTransform).join(" "):e.transformMatrix&&(a=convertTransformMatrix(e.transformMatrix)),r.transform=a},createReactDOMStyle=function(r){if(!r)return emptyObject;var e={};return Object.keys(r).sort().forEach(function(a){var t=normalizeValueWithProperty(r[a],a);if(null!=t)switch(a){case"aspectRatio":case"elevation":case"overlayColor":case"resizeMode":case"tintColor":break;case"backgroundClip":"text"===t&&(e.backgroundClip=t,e.WebkitBackgroundClip=t);break;case"flex":t>0?(e.flexGrow=t,e.flexShrink=1,e.flexBasis="0%"):0===t?(e.flexGrow=0,e.flexShrink=0,e.flexBasis="0%"):-1===t&&(e.flexGrow=0,e.flexShrink=1,e.flexBasis="auto");break;case"font":e[a]=t.replace("System",SYSTEM_FONT_STACK);break;case"fontFamily":if(t.indexOf("System")>-1){var o=t.split(/,\s*/);o[o.indexOf("System")]=SYSTEM_FONT_STACK,e[a]=o.join(",")}else e[a]="monospace"===t?MONOSPACE_FONT_STACK:t;break;case"fontVariant":Array.isArray(t)&&t.length>0&&(e.fontVariant=t.join(" "));break;case"textAlignVertical":e.verticalAlign="center"===t?"middle":t;break;case"textDecorationLine":e.textDecoration=t;break;case"transform":case"transformMatrix":resolveTransform(e,r);break;case"writingDirection":e.direction=t;break;default:var n=STYLE_SHORT_FORM_EXPANSIONS[a];n?n.forEach(function(a,o){void 0===r[a]&&(e[a]=t)}):e[a]=Array.isArray(t)?t.join(","):t}}),e};export default createReactDOMStyle;