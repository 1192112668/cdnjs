"use strict";exports.__esModule=!0,exports.default=void 0;var _easeInOut,_AnimatedValue=_interopRequireDefault(require("../nodes/AnimatedValue")),_AnimatedValueXY=_interopRequireDefault(require("../nodes/AnimatedValueXY")),_Animation2=_interopRequireDefault(require("./Animation")),_Easing=_interopRequireDefault(require("../Easing")),_NativeAnimatedHelper=require("../NativeAnimatedHelper");function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function easeInOut(){return _easeInOut=_easeInOut||_Easing.default.inOut(_Easing.default.ease)}var TimingAnimation=function(i){function t(t){var e=i.call(this)||this;return e._toValue=t.toValue,e._easing=void 0!==t.easing?t.easing:easeInOut(),e._duration=void 0!==t.duration?t.duration:500,e._delay=void 0!==t.delay?t.delay:0,e.__iterations=void 0!==t.iterations?t.iterations:1,e.__isInteraction=void 0===t.isInteraction||t.isInteraction,e._useNativeDriver=(0,_NativeAnimatedHelper.shouldUseNativeDriver)(t),e}_inheritsLoose(t,i);var e=t.prototype;return e.__getNativeAnimationConfig=function(){for(var t=[],e=0;e<this._duration;e+=1e3/60)t.push(this._easing(e/this._duration));return t.push(this._easing(1)),{type:"frames",frames:t,toValue:this._toValue,iterations:this.__iterations}},e.start=function(t,e,i,a,n){var o=this;this.__active=!0,this._fromValue=t,this._onUpdate=e,this.__onEnd=i;function r(){0!==o._duration||o._useNativeDriver?(o._startTime=Date.now(),o._useNativeDriver?o.__startNativeAnimation(n):o._animationFrame=requestAnimationFrame(o.onUpdate.bind(o))):(o._onUpdate(o._toValue),o.__debouncedOnEnd({finished:!0}))}this._delay?this._timeout=setTimeout(r,this._delay):r()},e.onUpdate=function(){var t=Date.now();if(t>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__debouncedOnEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((t-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))},e.stop=function(){i.prototype.stop.call(this),this.__active=!1,clearTimeout(this._timeout),global.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})},t}(_Animation2.default),_default=TimingAnimation;exports.default=TimingAnimation,module.exports=exports.default;