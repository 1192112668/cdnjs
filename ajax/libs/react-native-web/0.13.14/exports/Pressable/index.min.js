"use strict";function _extends(){return(_extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e}).apply(this,arguments)}function ownKeys(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,t)}return s}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(s),!0).forEach(function(r){_defineProperty(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function _defineProperty(e,r,s){return r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function _objectWithoutPropertiesLoose(e,r){if(null==e)return{};var s,t,o={},n=Object.keys(e);for(t=0;t<n.length;t++)s=n[t],r.indexOf(s)>=0||(o[s]=e[s]);return o}import*as React from"react";import{forwardRef,memo,useMemo,useState,useRef}from"react";import useMergeRefs from"../../modules/useMergeRefs";import usePressEvents from"../../hooks/usePressEvents";import View from"../View";function Pressable(e,r){var s=e.accessible,t=e.children,o=e.delayLongPress,n=e.delayPressIn,a=e.delayPressOut,c=e.disabled,u=e.focusable,l=e.onBlur,i=e.onFocus,f=e.onLongPress,P=e.onPress,b=e.onPressMove,d=e.onPressIn,y=e.onPressOut,p=e.style,O=e.testOnly_pressed,m=_objectWithoutPropertiesLoose(e,["accessible","children","delayLongPress","delayPressIn","delayPressOut","disabled","focusable","onBlur","onFocus","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","testOnly_pressed"]),g=useForceableState(!1),v=g[0],j=g[1],w=useForceableState(!0===O),h=w[0],S=w[1],M=useRef(null),_=useMergeRefs(r,M),E=useMemo(function(){return{delayLongPress:o,delayPressStart:n,delayPressEnd:a,disabled:c,onLongPress:f,onPress:P,onPressChange:S,onPressStart:d,onPressMove:b,onPressEnd:y}},[o,n,a,c,f,P,d,b,y,S]),R=usePressEvents(M,E),L=_objectSpread({disabled:c},e.accessibilityState),F={focused:v,pressed:h};function x(e,r){return function(s){s.nativeEvent.target===M.current&&(j(r),null!=e&&e(s))}}return React.createElement(View,_extends({},m,R,{accessibilityState:L,accessible:!1!==s,focusable:!1!==u,onBlur:x(l,!1),onFocus:x(i,!0),ref:_,style:"function"==typeof p?p(F):p}),"function"==typeof t?t(F):t)}function useForceableState(e){var r=useState(!1);return[r[0]||e,r[1]]}var MemoedPressable=memo(forwardRef(Pressable));MemoedPressable.displayName="Pressable";export default MemoedPressable;