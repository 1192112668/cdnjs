"use strict";exports.__esModule=!0,exports.atomic=atomic,exports.classic=classic,exports.inline=inline,exports.stringifyValueWithProperty=stringifyValueWithProperty;var _createReactDOMStyle=_interopRequireDefault(require("./createReactDOMStyle")),_hash=_interopRequireDefault(require("../../vendor/hash")),_hyphenateStyleName=_interopRequireDefault(require("hyphenate-style-name")),_normalizeValueWithProperty=_interopRequireDefault(require("./normalizeValueWithProperty")),_prefixStyles=_interopRequireWildcard(require("../../modules/prefixStyles"));function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r,t={};if(null!=e)for(var n in e){Object.prototype.hasOwnProperty.call(e,n)&&((r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{}).get||r.set?Object.defineProperty(t,n,r):t[n]=e[n])}return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectSpread(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(e){_defineProperty(r,e,t[e])})}return r}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _objectWithoutPropertiesLoose(e,r){if(null==e)return{};for(var t,n={},a=Object.keys(e),i=0;i<a.length;i++)t=a[i],0<=r.indexOf(t)||(n[t]=e[t]);return n}var cache={get:function(e,r){if(null!=cache[e]&&cache[e].hasOwnProperty(r)&&null!=cache[e][r])return cache[e][r]},set:function(e,r,t){return null==cache[e]&&(cache[e]={}),cache[e][r]=t}};function atomic(l){return Object.keys(l).sort().reduce(function(e,r){var t,n,a,i,o,c=l[r];return null!=c&&(t=stringifyValueWithProperty(c,r),null!=(n=cache.get(r,t))?e[n.identifier]=n:(i=createAtomicRules(a=createIdentifier("r",r,c),r,c),o=cache.set(r,t,{property:r,value:stringifyValueWithProperty(c,r),identifier:a,rules:i}),e[a]=o)),e},{})}function classic(e,r){var t,n,a,i,o,c=createIdentifier("css",r,e),l=e.animationKeyframes,u=_objectWithoutPropertiesLoose(e,["animationKeyframes"]),s=[],p="."+c;null!=l&&(a=(n=processKeyframesValue(l)).animationNames,i=n.rules,o=a.join(","),s.push.apply(s,i));var f=createDeclarationBlock(_objectSpread({},u,{animationName:o}));return s.push(p+f),(t={})[c]={identifier:c,rules:s},t}function inline(e){return(0,_prefixStyles.prefixInlineStyles)((0,_createReactDOMStyle.default)(e))}function stringifyValueWithProperty(e,r){var t=(0,_normalizeValueWithProperty.default)(e,r);return"string"!=typeof t?JSON.stringify(t||""):t}function createAtomicRules(e,r,t){var n,a,i=[],o="."+e;switch(r){case"animationKeyframes":var c=processKeyframesValue(t),l=c.animationNames,u=c.rules,s=createDeclarationBlock({animationName:l.join(",")});i.push.apply(i,[o+s].concat(u));break;case"placeholderTextColor":var p=createDeclarationBlock({color:t,opacity:1});i.push(o+"::-webkit-input-placeholder"+p,o+"::-moz-placeholder"+p,o+":-ms-input-placeholder"+p,o+"::placeholder"+p);break;case"scrollbarWidth":"none"===t&&(a=createDeclarationBlock(((n={})[r]=t,n)),i.push(o+"::-webkit-scrollbar{display:none}",o+"{overflow:-moz-scrollbars-none;-ms-overflow-style:none}",o+a));break;case"pointerEvents":var f,y,h,m,d,b=t;"auto"===t||"box-only"===t?(b="auto!important","box-only"===t&&(h=createDeclarationBlock(((y={})[r]="none",y)),i.push(o+">*"+h))):"none"!==t&&"box-none"!==t||(b="none!important","box-none"===t&&(d=createDeclarationBlock(((m={})[r]="auto",m)),i.push(o+">*"+d)));var _=createDeclarationBlock(((f={})[r]=b,f));i.push(o+_);break;default:var v,O=createDeclarationBlock(((v={})[r]=t,v));i.push(o+O)}return i}function createDeclarationBlock(e){var n=(0,_prefixStyles.default)((0,_createReactDOMStyle.default)(e));return"{"+Object.keys(n).map(function(e){var r=n[e],t=(0,_hyphenateStyleName.default)(e);return Array.isArray(r)?r.map(function(e){return t+":"+e}).join(";"):t+":"+r}).sort().join(";")+";}"}function createIdentifier(e,r,t){var n=(0,_hash.default)(r+stringifyValueWithProperty(t,r));return"production"!==process.env.NODE_ENV?e+"-"+r+"-"+n:e+"-"+n}function createKeyframes(r){var t=createIdentifier("r","animation",r),n="{"+Object.keys(r).map(function(e){return""+e+createDeclarationBlock(r[e])}).join("")+"}",e=["-webkit-",""].map(function(e){return"@"+e+"keyframes "+t+n});return{identifier:t,rules:e}}function processKeyframesValue(e){if("number"==typeof e)throw new Error("Invalid CSS keyframes type");var a=[],i=[];return(Array.isArray(e)?e:[e]).forEach(function(e){var r,t,n;"string"==typeof e?a.push(e):(t=(r=createKeyframes(e)).identifier,n=r.rules,a.push(t),i.push.apply(i,n))}),{animationNames:a,rules:i}}