function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(r){_defineProperty(e,r,t[r])})}return e}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _extends(){return(_extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function _objectWithoutPropertiesLoose(e,r){if(null==e)return{};var t,o,n={},s=Object.keys(e);for(o=0;o<s.length;o++)t=s[o],r.indexOf(t)>=0||(n[t]=e[t]);return n}function _inheritsLoose(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r}import applyNativeMethods from"../../modules/applyNativeMethods";import ColorPropType from"../ColorPropType";import StyleSheet from"../StyleSheet";import View from"../View";import ViewPropTypes from"../ViewPropTypes";import React,{Component}from"react";import{bool,number}from"prop-types";var ProgressBar=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return(r=e.call.apply(e,[this].concat(o))||this)._setProgressRef=function(e){r._progressElement=e},r._updateProgressWidth=function(){var e=r.props,t=e.indeterminate,o=e.progress,n=t?"25%":(t?50:100*o)+"%";r._progressElement&&r._progressElement.setNativeProps({style:{width:n}})},r}_inheritsLoose(r,e);var t=r.prototype;return t.componentDidMount=function(){this._updateProgressWidth()},t.componentDidUpdate=function(){this._updateProgressWidth()},t.render=function(){var e=this.props,r=e.color,t=e.indeterminate,o=e.progress,n=e.trackColor,s=e.style,i=_objectWithoutPropertiesLoose(e,["color","indeterminate","progress","trackColor","style"]),a=100*o;return React.createElement(View,_extends({},i,{accessibilityRole:"progressbar","aria-valuemax":"100","aria-valuemin":"0","aria-valuenow":t?null:a,style:[styles.track,s,{backgroundColor:n}]}),React.createElement(View,{ref:this._setProgressRef,style:[styles.progress,t&&styles.animation,{backgroundColor:r}]}))},r}(Component);ProgressBar.displayName="ProgressBar",ProgressBar.defaultProps={color:"#1976D2",indeterminate:!1,progress:0,trackColor:"transparent"},ProgressBar.propTypes="production"!==process.env.NODE_ENV?_objectSpread({},ViewPropTypes,{color:ColorPropType,indeterminate:bool,progress:number,trackColor:ColorPropType}):{};var styles=StyleSheet.create({track:{height:5,overflow:"hidden",userSelect:"none",zIndex:0},progress:{height:"100%",zIndex:-1},animation:{animationDuration:"1s",animationKeyframes:[{"0%":{transform:[{translateX:"-100%"}]},"100%":{transform:[{translateX:"400%"}]}}],animationTimingFunction:"linear",animationIterationCount:"infinite"}});export default applyNativeMethods(ProgressBar);