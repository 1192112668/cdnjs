"use strict";function _extends(){return(_extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e}).apply(this,arguments)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,s)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _objectWithoutPropertiesLoose(e,r){if(null==e)return{};var t,s,n={},o=Object.keys(e);for(s=0;s<o.length;s++)t=o[s],r.indexOf(t)>=0||(n[t]=e[t]);return n}import*as React from"react";import{forwardRef,memo,useMemo,useState,useRef}from"react";import setAndForwardRef from"../../modules/setAndForwardRef";import usePressEvents from"../../hooks/usePressEvents";import View from"../View";function Pressable(e,r){var t=e.accessible,s=e.children,n=e.delayLongPress,o=e.delayPressIn,a=e.delayPressOut,c=e.disabled,u=e.focusable,i=e.onBlur,l=e.onFocus,f=e.onLongPress,d=e.onPress,P=e.onPressMove,b=e.onPressIn,y=e.onPressOut,p=e.style,O=e.testOnly_pressed,m=_objectWithoutPropertiesLoose(e,["accessible","children","delayLongPress","delayPressIn","delayPressOut","disabled","focusable","onBlur","onFocus","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","testOnly_pressed"]),g=useForceableState(!1),v=g[0],w=g[1],j=useForceableState(!0===O),h=j[0],S=j[1],R=useRef(null),_=useMemo(function(){return setAndForwardRef({getForwardedRef:function(){return r},setLocalRef:function(e){R.current=e}})},[r]),F=useMemo(function(){return{delayLongPress:n,delayPressStart:o,delayPressEnd:a,disabled:c,onLongPress:f,onPress:d,onPressChange:S,onPressStart:b,onPressMove:P,onPressEnd:y}},[n,o,a,c,f,d,b,P,y,S]),E=usePressEvents(R,F),L=_objectSpread({disabled:c},e.accessibilityState),M={focused:v,pressed:h};function x(e,r){return function(t){t.nativeEvent.target===R.current&&(w(r),null!=e&&e(t))}}return React.createElement(View,_extends({},m,E,{accessibilityState:L,accessible:!1!==t,focusable:!1!==u,onBlur:x(i,!1),onFocus:x(l,!0),ref:_,style:"function"==typeof p?p(M):p}),"function"==typeof s?s(M):s)}function useForceableState(e){var r=useState(!1);return[r[0]||e,r[1]]}var MemoedPressable=memo(forwardRef(Pressable));MemoedPressable.displayName="Pressable";export default MemoedPressable;