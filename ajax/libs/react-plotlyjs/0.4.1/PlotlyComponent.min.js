"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},_react=require("react"),_react2=_interopRequireDefault(_react),_lodash=require("lodash.clonedeep"),_lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties(e,t){var o={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o}var createPlotlyComponent=function(a){return _react2.default.createClass({displayName:"Plotly",propTypes:{data:_react2.default.PropTypes.array,layout:_react2.default.PropTypes.object,config:_react2.default.PropTypes.object,onClick:_react2.default.PropTypes.func,onBeforeHover:_react2.default.PropTypes.func,onHover:_react2.default.PropTypes.func,onUnHover:_react2.default.PropTypes.func,onSelected:_react2.default.PropTypes.func},attachListeners:function(){this.props.onClick&&this.container.on("plotly_click",this.props.onClick),this.props.onBeforeHover&&this.container.on("plotly_beforehover",this.props.onBeforeHover),this.props.onHover&&this.container.on("plotly_hover",this.props.onHover),this.props.onUnHover&&this.container.on("plotly_unhover",this.props.onUnHover),this.props.onSelected&&this.container.on("plotly_selected",this.props.onSelected)},shouldComponentUpdate:function(){return!0},componentDidMount:function(){var e=this.props,t=e.data,o=e.layout,r=e.config;a.newPlot(this.container,t,(0,_lodash2.default)(o),r),this.attachListeners()},componentDidUpdate:function(e){var t,o,r,n;e.data===this.props.data&&e.layout===this.props.layout&&e.config===this.props.config||(o=(t=this.props).data,r=t.layout,n=t.config,a.newPlot(this.container,o,(0,_lodash2.default)(r),n),this.attachListeners())},componentWillUnmount:function(){a.purge(this.container)},resize:function(){a.Plots.resize(this.container)},render:function(){var t=this,e=this.props,o=(e.data,e.layout,e.config,_objectWithoutProperties(e,["data","layout","config"]));return delete o.onClick,delete o.onBeforeHover,delete o.onHover,delete o.onUnHover,delete o.onSelected,_react2.default.createElement("div",_extends({},o,{ref:function(e){return t.container=e}}))}})};exports.default=createPlotlyComponent;