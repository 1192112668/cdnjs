!function(t){"function"==typeof define&&define.amd?define(["jquery","./core"],t):t(jQuery,Formstone)}(function(s,a){"use strict";function i(t){t.stopPropagation(),t.preventDefault();var e=t.data,r=t.originalEvent,n=e.target?e.$target:e.$el;e.property&&r.propertyName!==e.property||!s(r.target).is(n)||o(e)}function o(t){t.always||t.$el[e.namespaceClean]("destroy"),t.callback.apply(t.$el)}function l(t){var e,r,n,a={};if(t instanceof s&&(t=t[0]),f.getComputedStyle)for(var i=0,o=(e=f.getComputedStyle(t,null)).length;i<o;i++)r=e[i],n=e.getPropertyValue(r),a[r]=n;else if(t.currentStyle)for(r in e=t.currentStyle)a[r]=e[r];return a}var e=a.Plugin("transition",{widget:!0,defaults:{always:!1,property:null,target:null},methods:{_construct:function(r,t){var e,n;t&&(r.$target=this.find(r.target),r.$check=r.target?r.$target:this,r.callback=t,r.styles=l(r.$check),r.timer=null,e=r.$check.css(a.transition+"-duration"),n=parseFloat(e),a.support.transition&&e&&n?this.on(c.transitionEnd,r,i):r.timer=u.startTimer(r.timer,50,function(){var t,e;e=l((t=r).$check),function(t,e){if(s.type(t)===s.type(e)){for(var r in t){if(!t.hasOwnProperty(r))return;if(!t.hasOwnProperty(r)||!e.hasOwnProperty(r)||t[r]!==e[r])return}return 1}}(t.styles,e)||o(t),t.styles=e},!0))},_destruct:function(t){u.clearTimer(t.timer,!0),this.off(c.namespace)},resolve:o}}),c=e.events,u=e.functions,f=a.window});