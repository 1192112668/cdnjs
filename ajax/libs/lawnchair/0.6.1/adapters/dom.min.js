Lawnchair.adapter("dom",{valid:function(){return!!window.Storage},init:function(t,e){this.storage=window.localStorage;var n=this;this.indexer={key:n.name+"._index_",all:function(){return null==JSON.parse(n.storage.getItem(this.key))&&n.storage.setItem(this.key,JSON.stringify([])),JSON.parse(n.storage.getItem(this.key))},add:function(t){var e=this.all();e.push(t),n.storage.setItem(this.key,JSON.stringify(e))},del:function(t){for(var e=this.all(),i=[],s=0,a=e.length;s<a;s++)e[s]!=t&&i.push(e[s]);n.storage.setItem(this.key,JSON.stringify(i))},find:function(t){for(var e=this.all(),i=0,s=e.length;i<s;i++)if(t===e[i])return i;return!1}},e&&this.fn(this.name,e).call(this,this)},save:function(t,e){var i=t.key||this.uuid();return this.indexer.find(i)||this.indexer.add(i),delete t.key,this.storage.setItem(i,JSON.stringify(t)),e&&(t.key=i,this.lambda(e).call(this,t)),this},batch:function(t,e){for(var i=[],s=0,a=t.length;s<a;s++)this.save(t[s],function(t){i.push(t)});return e&&this.lambda(e).call(this,i),this},keys:function(){options.limit,options.offset;callback&&this.lambda(callback).call(this,this.indexer.all())},get:function(t,e){if(this.isArray(t)){for(var i=[],s=0,a=t.length;s<a;s++){(n=JSON.parse(this.storage.getItem(t[s])))&&(n.key=t[s],i.push(n))}e&&this.lambda(e).call(this,i)}else{var n;(n=JSON.parse(this.storage.getItem(t)))&&(n.key=t),e&&this.lambda(e).call(this,n)}return this},all:function(t){for(var e,i=this.indexer.all(),s=[],a=0,n=i.length;a<n;a++)(e=JSON.parse(this.storage.getItem(i[a]))).key=i[a],s.push(e);return t&&this.fn(this.name,t).call(this,s),this},remove:function(t,e){var i="string"==typeof t?t:t.key;return this.indexer.del(i),this.storage.removeItem(i),e&&this.lambda(e).call(this),this},nuke:function(s){return this.all(function(t){for(var e=0,i=t.length;e<i;e++)this.remove(t[e]);s&&this.lambda(s).call(this)}),this}});