"use strict";var detectNode=require("detect-node"),runtime=Object.create(detectNode?global:window),ESCAPE_REG=/["&'<>]/;function toString(e){return"string"!=typeof e&&(e=null==e?"":"function"==typeof e?toString(e.call(e)):JSON.stringify(e)),e}function xmlEscape(e){var r=""+e,t=ESCAPE_REG.exec(r);if(!t)return e;for(var n="",i=void 0,a=void 0,c=void 0,i=t.index,a=0;i<r.length;i++){switch(r.charCodeAt(i)){case 34:c="&#34;";break;case 38:c="&#38;";break;case 39:c="&#39;";break;case 60:c="&#60;";break;case 62:c="&#62;";break;default:continue}a!==i&&(n+=r.substring(a,i)),a=i+1,n+=c}return a!==i?n+r.substring(a,i):n}runtime.$escape=function(e){return xmlEscape(toString(e))},runtime.$each=function(e,r){if(Array.isArray(e))for(var t=0,n=e.length;t<n;t++)r(e[t],t);else for(var i in e)r(e[i],i)},module.exports=runtime;