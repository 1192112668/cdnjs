!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).jsSHA=n()}(this,function(){"use strict";var r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)},A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function h(t,n,r,e){for(var i,o,s=n||[0],h=(r=r||0)>>>3,u=-1===e?3:0,f=0;f<t.length;f+=1)i=(o=f+h)>>>2,s.length<=i&&s.push(0),s[i]|=t[f]<<8*(u+e*(o%4));return{value:s,binLen:8*t.length+r}}function f(t,r,s){switch(r){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(t){case"HEX":return function(t,n,r){return function(t,n,r,e){var i,o,s;if(0!=t.length%2)throw new Error("String of HEX type must be in byte increments");for(var h=n||[0],u=(r=r||0)>>>3,f=-1===e?3:0,a=0;a<t.length;a+=2){if(i=parseInt(t.substr(a,2),16),isNaN(i))throw new Error("String of HEX type contains invalid characters");for(o=(s=(a>>>1)+u)>>>2;h.length<=o;)h.push(0);h[o]|=i<<8*(f+e*(s%4))}return{value:h,binLen:4*t.length+r}}(t,n,r,s)};case"TEXT":return function(t,A,n){return function(t,n,r,e){var i,o,s,h,u,f,a,c,w=0,p=A||[0],l=(r=r||0)>>>3;if("UTF8"===n)for(a=-1===e?3:0,s=0;s<t.length;s+=1)for(o=[],(i=t.charCodeAt(s))<128?o.push(i):i<2048?(o.push(192|i>>>6),o.push(128|63&i)):i<55296||57344<=i?o.push(224|i>>>12,128|i>>>6&63,128|63&i):(s+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(s)),o.push(240|i>>>18,128|i>>>12&63,128|i>>>6&63,128|63&i)),h=0;h<o.length;h+=1){for(u=(f=w+l)>>>2;p.length<=u;)p.push(0);p[u]|=o[h]<<8*(a+e*(f%4)),w+=1}else for(a=-1===e?2:0,c="UTF16LE"===n&&1!==e||"UTF16LE"!==n&&1===e,s=0;s<t.length;s+=1){for(i=t.charCodeAt(s),!0==c&&(i=(h=255&i)<<8|i>>>8),u=(f=w+l)>>>2;p.length<=u;)p.push(0);p[u]|=i<<8*(a+e*(f%4)),w+=2}return{value:p,binLen:8*w+r}}(t,r,n,s)};case"B64":return function(t,l,n){return function(t,n,r){var e,i,o,s,h,u,f=0,a=l||[0],c=(n=n||0)>>>3,w=-1===r?3:0,p=t.indexOf("=");if(-1===t.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(t=t.replace(/=/g,""),-1!==p&&p<t.length)throw new Error("Invalid '=' found in base-64 string");for(e=0;e<t.length;e+=4){for(s=t.substr(e,4),i=o=0;i<s.length;i+=1)o|=A.indexOf(s.charAt(i))<<18-6*i;for(i=0;i<s.length-1;i+=1){for(h=(u=f+c)>>>2;a.length<=h;)a.push(0);a[h]|=(o>>>16-8*i&255)<<8*(w+r*(u%4)),f+=1}}return{value:a,binLen:8*f+n}}(t,n,s)};case"BYTES":return function(t,a,n){return function(t,n,r){for(var e,i,o,s=a||[0],h=(n=n||0)>>>3,u=-1===r?3:0,f=0;f<t.length;f+=1)e=t.charCodeAt(f),i=(o=f+h)>>>2,s.length<=i&&s.push(0),s[i]|=e<<8*(u+r*(o%4));return{value:s,binLen:8*t.length+n}}(t,n,s)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw new Error("ARRAYBUFFER not supported by this environment")}return function(t,n,r){return e=n,i=r,o=s,h(new Uint8Array(t),e,i,o);var e,i,o};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw new Error("UINT8ARRAY not supported by this environment")}return function(t,n,r){return h(t,n,r,s)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function u(t,u,n,r){switch(t){case"HEX":return function(t){return function(t,n,r){for(var e,i="",o=u/8,s=-1===n?3:0,h=0;h<o;h+=1)e=t[h>>>2]>>>8*(s+n*(h%4)),i+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return r.outputUpper?i.toUpperCase():i}(t,n,r)};case"B64":return function(t){return function(t,n,r,e){for(var i,o,s,h,u="",f=n/8,a=-1===r?3:0,c=0;c<f;c+=3)for(s=c+1<f?t[c+1>>>2]:0,h=c+2<f?t[c+2>>>2]:0,o=(t[c>>>2]>>>8*(a+r*(c%4))&255)<<16|(s>>>8*(a+r*((c+1)%4))&255)<<8|h>>>8*(a+r*((c+2)%4))&255,i=0;i<4;i+=1)u+=8*c+6*i<=n?A.charAt(o>>>6*(3-i)&63):e.b64Pad;return u}(t,u,n,r)};case"BYTES":return function(t){return function(t,n){for(var r,e="",i=u/8,o=-1===n?3:0,s=0;s<i;s+=1)r=t[s>>>2]>>>8*(o+n*(s%4))&255,e+=String.fromCharCode(r);return e}(t,n)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw new Error("ARRAYBUFFER not supported by this environment")}return function(t){return function(t,n){for(var r=u/8,e=new ArrayBuffer(r),i=new Uint8Array(e),o=-1===n?3:0,s=0;s<r;s+=1)i[s]=t[s>>>2]>>>8*(o+n*(s%4))&255;return e}(t,n)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw new Error("UINT8ARRAY not supported by this environment")}return function(t){return function(t,n){for(var r=u/8,e=-1===n?3:0,i=new Uint8Array(r),o=0;o<r;o+=1)i[o]=t[o>>>2]>>>8*(e+n*(o%4))&255;return i}(t,n)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function a(t){var n={outputUpper:!1,b64Pad:"=",shakeLen:-1},r=t||{};if(n.outputUpper=r.outputUpper||!1,r.b64Pad&&(n.b64Pad=r.b64Pad),r.shakeLen){if(r.shakeLen%8!=0)throw new Error("shakeLen must be a multiple of 8");n.shakeLen=r.shakeLen}if("boolean"!=typeof n.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof n.b64Pad)throw new Error("Invalid b64Pad formatting option");return n}var t=(n.prototype.update=function(t){for(var n=0,r=this.R>>>5,e=this.U(t,this.s,this.u),i=e.binLen,o=e.value,s=i>>>5,h=0;h<s;h+=r)n+this.R<=i&&(this.T=this.F(o.slice(h,h+r),this.T),n+=this.R);this.A+=n,this.s=o.slice(n>>>5),this.u=i%this.R,this.h=!0},n.prototype.getHash=function(t,n){var r=this.H;if(!0===this.v)throw new Error("Cannot call getHash after setting HMAC key");var e=a(n);if(!0===this.m){if(-1===e.shakeLen)throw new Error("shakeLen must be specified in options");r=e.shakeLen}for(var i=u(t,r,this.B,e),o=this.g(this.s.slice(),this.u,this.A,this.Y(this.T),r),s=1;s<this.numRounds;s+=1)!0===this.m&&r%32!=0&&(o[o.length-1]&=16777215>>>24-r%32),o=this.g(o,r,0,this.S(this.o),r);return i(o)},n.prototype.setHMACKey=function(t,n,r){var e;if(!0===this.v)throw new Error("HMAC key already set");if(!0===this.h)throw new Error("Cannot set HMAC key after calling update");if(!0===this.m)throw new Error("SHAKE is not supported for HMAC");var i=f(n,(r||{}).encoding||"UTF8",this.B)(t),o=i.binLen,s=this.R>>>3,h=s/4-1,u=i.value;for(s<o/8&&(u=this.g(u,o,0,this.S(this.o),this.H));u.length<=h;)u.push(0);for(e=0;e<=h;e+=1)this.l[e]=909522486^u[e],this.p[e]=1549556828^u[e];this.T=this.F(this.l,this.T),this.A=this.R,this.v=!0},n.prototype.getHMAC=function(t,n){if(!1===this.v)throw new Error("Cannot call getHMAC without first setting HMAC key");var r=a(n),e=u(t,this.H,this.B,r),i=this.g(this.s.slice(),this.u,this.A,this.Y(this.T),this.H),o=this.F(this.p,this.S(this.o));return e(o=this.g(i,this.H,this.R,o,this.H))},n),p=function(t,n){this.I=t,this.L=n};function n(t,n,r){var e=r||{};if(this.t=n,this.i=e.encoding||"UTF8",this.numRounds=e.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||this.numRounds<1)throw new Error("numRounds must a integer >= 1");this.o=t,this.s=[],this.u=0,this.h=!1,this.A=0,this.v=!1,this.l=[],this.p=[]}function l(t,n){var r;return 32<n?(r=64-n,new p(t.L<<n|t.I>>>r,t.I<<n|t.L>>>r)):0!==n?(r=32-n,new p(t.I<<n|t.L>>>r,t.L<<n|t.I>>>r)):t}function d(t,n){return new p(t.I^n.I,t.L^n.L)}var i,e,o,v=[new p(0,1),new p(0,32898),new p(2147483648,32906),new p(2147483648,2147516416),new p(0,32907),new p(0,2147483649),new p(2147483648,2147516545),new p(2147483648,32777),new p(0,138),new p(0,136),new p(0,2147516425),new p(0,2147483658),new p(0,2147516555),new p(2147483648,139),new p(2147483648,32905),new p(2147483648,32771),new p(2147483648,32770),new p(2147483648,128),new p(0,32778),new p(2147483648,2147483658),new p(2147483648,2147516545),new p(2147483648,32896),new p(0,2147483649),new p(2147483648,2147516424)],g=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function E(t){for(var n=[],r=0;r<5;r+=1)n[r]=[new p(0,0),new p(0,0),new p(0,0),new p(0,0),new p(0,0)];return n}function c(t){for(var n=[],r=0;r<5;r+=1)n[r]=t[r].slice();return n}function w(t,n){var r,e,i,o,s,h,u,f,a,c=[],w=[];if(null!==t)for(e=0;e<t.length;e+=2)n[(e>>>1)%5][(e>>>1)/5|0]=d(n[(e>>>1)%5][(e>>>1)/5|0],new p(t[e+1],t[e]));for(r=0;r<24;r+=1){for(o=E(),e=0;e<5;e+=1)c[e]=(s=n[e][0],h=n[e][1],u=n[e][2],f=n[e][3],a=n[e][4],new p(s.I^h.I^u.I^f.I^a.I,s.L^h.L^u.L^f.L^a.L));for(e=0;e<5;e+=1)w[e]=d(c[(e+4)%5],l(c[(e+1)%5],1));for(e=0;e<5;e+=1)for(i=0;i<5;i+=1)n[e][i]=d(n[e][i],w[e]);for(e=0;e<5;e+=1)for(i=0;i<5;i+=1)o[i][(2*e+3*i)%5]=l(n[e][i],g[e][i]);for(e=0;e<5;e+=1)for(i=0;i<5;i+=1)n[e][i]=d(o[e][i],new p(~o[(e+1)%5][i].I&o[(e+2)%5][i].I,~o[(e+1)%5][i].L&o[(e+2)%5][i].L));n[0][0]=d(n[0][0],v[r])}return n}return r(e=s,o=i=t),e.prototype=null===o?Object.create(o):(R.prototype=o.prototype,new R),s;function s(t,n,r){var e=this,o=6,s=0;if((e=i.call(this,t,n,r)||this).m=!1,"SHA3-224"===t)s=1152,e.H=224;else if("SHA3-256"===t)s=1088,e.H=256;else if("SHA3-384"===t)s=832,e.H=384;else if("SHA3-512"===t)s=576,e.H=512;else if("SHAKE128"===t)o=31,s=1344,e.H=-1,e.m=!0;else{if("SHAKE256"!==t)throw new Error("Chosen SHA variant is not supported");o=31,s=1088,e.H=-1,e.m=!0}return e.R=s,e.B=1,e.U=f(e.t,e.i,e.B),e.F=w,e.Y=c,e.S=E,e.g=function(t,n,r,e,i){return function(t,n,r,e,i,o){for(var s,h=0,u=[],f=e>>>5,a=n>>>5,c=0;c<a&&e<=n;c+=f)r=w(t.slice(c,c+f),r),n-=e;for(t=t.slice(c),n%=e;t.length<f;)t.push(0);for(t[(c=n>>>3)>>2]^=i<<c%4*8,t[f-1]^=2147483648,r=w(t,r);32*u.length<o&&(s=r[h%5][h/5|0],u.push(s.L),!(32*u.length>=o));)u.push(s.I),0==64*(h+=1)%e&&(w(null,r),h=0);return u}(t,n,e,s,o,i)},e.T=E(),e}function R(){this.constructor=e}});