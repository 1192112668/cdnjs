"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var vue=require("vue"),extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends(e,t){function r(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var NavigationType,NavigationDirection,__assign=function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function __awaiter(a,i,u,c){return new(u=u||Promise)(function(e,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function n(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new u(function(e){e(t.value)}).then(r,n)}o((c=c.apply(a,i||[])).next())})}function __generator(r,n){var o,a,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&t[0]?a.return:t[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,t[1])).done)return i;switch(a=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=n.call(r,u)}catch(e){t=[6,e],a=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}!function(e){e.pop="pop",e.push="push"}(NavigationType=NavigationType||{}),function(e){e.back="back",e.forward="forward",e.unknown=""}(NavigationDirection=NavigationDirection||{});var START_PATH="",START={fullPath:START_PATH};function parseURL(e,t){var r="",n={},o="",a=t.indexOf("?"),i=t.indexOf("#",-1<a?a:0);return-1<a&&(r=t.slice(0,a),n=e(t.slice(a+1,-1<i?i:t.length))),-1<i&&(r=r||t.slice(0,i),o=t.slice(i,t.length)),{fullPath:t,path:r=r||t,query:n,hash:o}}function stringifyURL(e,t){var r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function stripBase(e,t){return t&&0===e.indexOf(t)&&e.replace(t,"")||e}function normalizeHistoryLocation(e){return{fullPath:e.fullPath||e}}function computeScrollPosition(e){return e?{x:e.scrollLeft,y:e.scrollTop}:{x:window.pageXOffset,y:window.pageYOffset}}function getElementPosition(e,t){var r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{x:n.left-r.left-t.x,y:n.top-r.top-t.y}}var hashStartsWithNumberRE=/^#\d/;function scrollToPosition(e){var t,r=null;"selector"in e?(t=hashStartsWithNumberRE.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector))&&(r=getElementPosition(t,e.offset||{x:0,y:0})):r={x:e.x,y:e.y},r&&window.scrollTo(r.x,r.y)}var cs=console;function createCurrentLocation(e,t){var r=t.pathname,n=t.search,o=t.hash;return-1<e.indexOf("#")?normalizeHistoryLocation(stripBase("/"+o,e)):normalizeHistoryLocation(stripBase(r,e)+n+o)}function useHistoryListeners(u,c,s){function r(e){var t=e.state;cs.info("popstate fired",t),cs.info("currentState",c);var r=s.value,n=c.value,o=createCurrentLocation(u,window.location);if(s.value=o,c.value=t,f&&f.fullPath===r.fullPath)return cs.info("❌ Ignored because paused for",f.fullPath),void(f=null);var a=n?t.position-n.position:"",i=a||0;console.log({deltaFromCurrent:a}),l.forEach(function(e){e(s.value,r,{distance:i,type:NavigationType.pop,direction:i?0<i?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})}var l=[],n=[],f=null;function o(){var e=window.history;e.state&&e.replaceState(__assign(__assign({},e.state),{scroll:computeScrollPosition()}),"")}return window.addEventListener("popstate",r),window.addEventListener("beforeunload",o),{pauseListeners:function(){cs.info("⏸ for "+s.value.fullPath),f=s.value},listen:function(t){function e(){var e=l.indexOf(t);-1<e&&l.splice(e,1)}return l.push(t),n.push(e),e},destroy:function(){for(var e=0,t=n;e<t.length;e++){(0,t[e])()}n=[],window.removeEventListener("popstate",r),window.removeEventListener("beforeunload",o)}}}function useHistoryStateNavigation(a){var i=window.history;function o(e,t,r,n,o){return void 0===n&&(n=!1),void 0===o&&(o=!1),{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:o?computeScrollPosition():null}}var u={value:createCurrentLocation(a,window.location)},c={value:i.state};function s(e,t,r){var n=a+e.fullPath;try{var o=r?__assign(__assign({},c.value),t):t;i[r?"replaceState":"pushState"](o,"",n),c.value=t}catch(e){cs.log("[vue-router]: Error with push/replace State",e),window.location[r?"replace":"assign"](n)}}return c.value||s(u.value,{back:null,current:u.value,forward:null,position:i.length-1,replaced:!0,scroll:computeScrollPosition()},!0),{location:u,state:c,push:function(e,t){var r=normalizeHistoryLocation(e),n=__assign(__assign({},c.value),{forward:r,scroll:computeScrollPosition()});s(r,n,!0),s(r,__assign(__assign(__assign({},o(u.value,r,null)),{position:n.position+1}),t),!1),u.value=r},replace:function(e,t){var r=normalizeHistoryLocation(e),n=__assign(__assign({},o(c.value.back,r,c.value.forward,!0)),t);c&&(n.position=c.value.position),s(r,n,!0),u.value=r}}}function createWebHistory(e){void 0===e&&(e="");var t=useHistoryStateNavigation(e),r=useHistoryListeners(e,t.state,t.location);function n(e,t){void 0===t&&(t=!0),t||r.pauseListeners(),history.go(e)}var o=__assign(__assign({location:t.location.value,base:e,back:function(e){void 0===e&&(e=!0),n(-1,e)},forward:function(e){void 0===e&&(e=!0),n(1,e)},go:n},t),r);return Object.defineProperty(o,"location",{get:function(){return t.location.value}}),o}function createMemoryHistory(e){void 0===e&&(e="");var i=[],o=[START],a=0;function r(e){++a===o.length||o.splice(a),o.push(e)}var t={location:START,base:e,replace:function(e){var t=normalizeHistoryLocation(e);o.splice(a--,1),r(t)},push:function(e,t){r(normalizeHistoryLocation(e))},listen:function(t){return i.push(t),function(){var e=i.indexOf(t);-1<e&&i.splice(e,1)}},destroy:function(){i=[]},back:function(e){void 0===e&&(e=!0),this.go(-1,e)},forward:function(e){void 0===e&&(e=!0),this.go(1,e)},go:function(e,t){void 0===t&&(t=!0);var r=this.location,n=e<0?NavigationDirection.back:NavigationDirection.forward;a=Math.max(0,Math.min(a+e,o.length-1)),t&&function(e,t,r){for(var n={direction:r.direction,distance:r.distance,type:NavigationType.pop},o=0,a=i;o<a.length;o++){(0,a[o])(e,t,n)}}(this.location,r,{direction:n,distance:e})}};return Object.defineProperty(t,"location",{get:function(){return o[a]}}),t}function createWebHashHistory(e){return void 0===e&&(e=""),createWebHistory("/#"+e)}function isRouteLocation(e){return"string"==typeof e||e&&"object"==typeof e}var START_LOCATION_NORMALIZED=vue.markNonReactive({path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0});Object.defineProperty(START_LOCATION_NORMALIZED,"matched",{enumerable:!1});var isRouterError="__RouterError",RouterError=function(o){function t(e){var t=this.constructor,r=o.call(this,e)||this;r[_a]=!0;var n=t.prototype;return Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n,r}return __extends(t,o),t.is=function(e){return"Error"===e.name?e[isRouterError]:e instanceof t},Object.defineProperty(t.prototype,"name",{get:function(){return this.constructor.name},enumerable:!0,configurable:!0}),t}(Error),_a=isRouterError,isNoRouteMatchError="__NoRouteMatchError",NoRouteMatchError=function(n){function t(e,t){var r=n.call(this,"No match for\n"+JSON.stringify(e)+(t?"\nwhile being at\n"+JSON.stringify(t):""))||this;return r[_b]=!0,r}return __extends(t,n),t.is=function(e){return"Error"===e.name?e[isNoRouteMatchError]:e instanceof t},t}(RouterError),_b=isNoRouteMatchError,isInvalidRouteMatch="__InvalidRouteMatch",InvalidRouteMatch=function(r){function t(e){var t=r.call(this,"Cannot redirect using a relative location:\n"+stringifyRoute(e)+"\nUse the function redirect and explicitly provide a name")||this;return t[_c]=!0,t}return __extends(t,r),t.is=function(e){return"Error"===e.name?e[isInvalidRouteMatch]:e instanceof t},t}(RouterError),_c=isNoRouteMatchError,isNavigationGuardRedirect="__NavigationGuardRedirect",NavigationGuardRedirect=function(n){function t(e,t){var r=n.call(this,'Redirected from "'+e.fullPath+'" to "'+stringifyRoute(t)+'" via a navigation guard')||this;return r[_d]=!0,r.from=e,r.to=t,r}return __extends(t,n),t.is=function(e){return"Error"===e.name?e[isNavigationGuardRedirect]:e instanceof t},t}(RouterError),_d=isNoRouteMatchError,isNavigationAborted="__NavigationAborted",NavigationAborted=function(n){function t(e,t){var r=n.call(this,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard')||this;return r[_e]=!0,r.from=t,r.to=e,r}return __extends(t,n),t.is=function(e){return"Error"===e.name?e[isNavigationAborted]:e instanceof t},t}(RouterError),_e=isNavigationAborted,isNavigationCancelled="__NavigationCancelled",NavigationCancelled=function(n){function t(e,t){var r=n.call(this,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new `push` or `replace`')||this;return r[_f]=!0,r.from=t,r.to=e,r}return __extends(t,n),t.is=function(e){return"Error"===e.name?e[isNavigationCancelled]:e instanceof t},t}(RouterError),_f=isNavigationCancelled,propertiesToLog=["params","query","hash"];function stringifyRoute(e){if("string"==typeof e)return e;if("path"in e)return e.path;for(var t={},r=0,n=propertiesToLog;r<n.length;r++){var o=n[r];o in e&&(t[o]=e[o])}return JSON.stringify(t,null,2)}var BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(p,e){for(var t,r=__assign(__assign({},BASE_PATH_PARSER_OPTIONS),e),n=[],o=r.start?"^":"",i=[],a=0,u=p;a<u.length;a++){var c=u[a],s=c.length?[]:[90];r.strict&&!c.length&&(o+="/");for(var l=0;l<c.length;l++){var f=c[l],v=40+(r.sensitive?.25:0);if(0===f.type)l||(o+="/"),o+=f.value.replace(REGEX_CHARS_RE,"\\$&"),v+=40;else if(1===f.type){var d=f.value,h=f.repeatable,g=f.optional,_=f.regexp;i.push({name:d,repeatable:h,optional:g});var m=_||BASE_PARAM_PATTERN;if(m!==BASE_PARAM_PATTERN){v+=10;try{new RegExp("("+m+")")}catch(e){throw new Error('Invalid custom RegExp for param "'+d+'" ('+m+"): "+e.message)}}var y=h?"((?:"+m+")(?:/(?:"+m+"))*)":"("+m+")";l||(y=g?"(?:/"+y+")":"/"+y),g&&(y+="?"),o+=y,v+=20,g&&(v+=-8),h&&(v+=-20),".*"===m&&(v+=-50)}s.push(v)}n.push(s)}r.strict&&r.end&&(n[t=n.length-1][n[t].length-1]+=.7000000000000001),r.strict||(o+="/?"),r.end?o+="$":r.strict&&(o+="(?:/|$)");var R=new RegExp(o,r.sensitive?"":"i");return{re:R,score:n,keys:i,parse:function(e){var t=e.match(R),r={};if(!t)return null;for(var n=1;n<t.length;n++){var o=t[n]||"",a=i[n-1];r[a.name]=o&&a.repeatable?o.split("/"):o}return r},stringify:function(e){for(var t="",r=!1,n=0,o=p;n<o.length;n++){var a=o[n];r&&"/"===t[t.length-1]||(t+="/"),r=!1;for(var i=0,u=a;i<u.length;i++){var c=u[i];if(0===c.type)t+=c.value;else if(1===c.type){var s=c.value,l=c.repeatable,f=c.optional,v=s in e?e[s]:"";if(Array.isArray(v)&&!l)throw new Error('Provided param "'+s+'" is an array but it is not repeatable (* or + modifiers)');var d=Array.isArray(v)?v.join("/"):v;if(!d){if(!f)throw new Error('Missing required param "'+s+'"');r=!0}t+=d}}}return t}}}function compareScoreArray(e,t){for(var r=0;r<e.length&&r<t.length;){var n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function comparePathParserScore(e,t){for(var r=0,n=e.score,o=t.score;r<n.length&&r<o.length;){var a=compareScoreArray(n[r],o[r]);if(a)return a;r++}return o.length-n.length}var ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(e){if(!e)return[[]];if("/"===e)return[[ROOT_TOKEN]];if("/"!==e[0])throw new Error('A non-empty path must start with "/"');function t(e){throw new Error("ERR ("+n+')/"'+s+'": '+e)}var r,n=0,o=n,a=[];function i(){r&&a.push(r),r=[]}var u,c=0,s="",l="";function f(){s&&(0===n?r.push({type:0,value:s}):1===n||2===n||3===n?(1<r.length&&("*"===u||"+"===u)&&t("A repeatable param ("+s+") must be alone in its segment. eg: '/:ids+."),r.push({type:1,value:s,regexp:l,repeatable:"*"===u||"+"===u,optional:"*"===u||"?"===u})):t("Invalid state to consume buffer"),s="")}function v(){s+=u}for(;c<e.length;)if("\\"!==(u=e[c++])||2===n)switch(n){case 0:"/"===u?(s&&f(),i()):":"===u?(f(),n=1):v();break;case 4:v(),n=o;break;case 1:"("===u?(n=2,l=""):VALID_PARAM_RE.test(u)?v():(f(),n=0,"*"!==u&&"?"!==u&&"+"!==u&&c--);break;case 2:")"===u?"\\"==l[l.length-1]?l=l.slice(0,-1)+u:n=3:l+=u;break;case 3:f(),n=0,"*"!==u&&"?"!==u&&"+"!==u&&c--;break;default:t("Unknown state")}else o=n,n=4;return 2===n&&t('Unfinished custom RegExp for param "'+s+'"'),f(),i(),a}function createRouteRecordMatcher(e,t,r){var n=tokensToParser(tokenizePath(e.path),r),o=__assign(__assign({},n),{record:e,parent:t,children:[]});return t&&t.children.push(o),o}function createRouterMatcher(e,_){var c=[],s=new Map;function m(e,t){var r,n=normalizeRouteRecord(e),o=__assign(__assign({},_),e.options),a=[n];if("alias"in e)for(var i=0,u="string"==typeof e.alias?[e.alias]:e.alias;i<u.length;i++){var c=u[i];a.push(__assign(__assign({},n),{path:c}))}for(var s=0,l=a;s<l.length;s++){var f,v,d=l[s],p=d.path;if(t&&"/"!==p[0]&&(v="/"===(f=t.record.path)[f.length-1]?"":"/",d.path=t.record.path+(p&&v+p)),r=createRouteRecordMatcher(d,t,o),"children"in e)for(var h=0,g=e.children;h<g.length;h++){m(g[h],r)}R(r)}return function(){y(r)}}function y(e){var t,r;"string"==typeof e?(t=s.get(e))&&(s.delete(e),c.splice(c.indexOf(t),1),t.children.forEach(y)):-1<(r=c.indexOf(e))&&(c.splice(r,1),e.record.name&&s.delete(e.record.name),e.children.forEach(y))}function R(e){for(var t=0;t<c.length&&0<=comparePathParserScore(e,c[t]);)t++;c.splice(t,0,e),e.record.name&&s.set(e.record.name,e)}return e.forEach(function(e){return m(e)}),{addRoute:m,resolve:function(t,r){var e,n,o,a={};if("name"in t&&t.name){if(!(e=s.get(t.name)))throw new NoRouteMatchError(t);o=e.record.name,a=t.params||r.params,n=e.stringify(a)}else if("path"in t)e=c.find(function(e){return e.re.test(t.path)}),n=t.path,e&&(a=e.parse(t.path),o=e.record.name);else{if(!(e=r.name?s.get(r.name):c.find(function(e){return e.re.test(r.path)})))throw new NoRouteMatchError(t,r);o=e.record.name,a=t.params||r.params,n=e.stringify(a)}for(var i=[],u=e;u;)i.unshift(u.record),u=u.parent;return{name:o,path:n,params:a,matched:i,meta:e?e.record.meta:{}}},removeRoute:y,getRoutes:function(){return c},getRecordMatcher:function(e){return s.get(e)}}}function normalizeRouteRecord(e){var t,n,r;return r="redirect"in e?(t={},n=e.redirect,function(e,t,r){r("function"==typeof n?n(e):n)}):(t="components"in e?e.components:{default:e.component},e.beforeEnter),{path:e.path,components:t,children:e.children,name:e.name,beforeEnter:r,meta:e.meta||{},leaveGuards:[]}}function guardToPromiseFn(e,n,o){return function(){return new Promise(function(t,r){e(n,o,function(e){!1===e?r(new NavigationAborted(n,o)):isRouteLocation(e)?r(new NavigationGuardRedirect(n,e)):t()})})}}function extractComponentsGuards(r,i,u,c){return __awaiter(this,void 0,void 0,function(){var a,t=this;return __generator(this,function(e){switch(e.label){case 0:return a=[],[4,Promise.all(r.map(function(o){return __awaiter(t,void 0,void 0,function(){var t,r,n;return __generator(this,function(e){for(t in o.components)r=o.components[t],(n=r[i])&&a.push(guardToPromiseFn(n,u,c));return[2]})})}))];case 1:return e.sent(),[2,a]}})})}function applyToParams(e,t){var r={};for(var n in t){var o=t[n];r[n]=Array.isArray(o)?o.map(e):e(o)}return r}function useCallbacks(){var r=[];return{add:function(t){return r.push(t),function(){var e=r.indexOf(t);-1<e&&r.splice(e,1)}},list:function(){return r},reset:function(){r=[]}}}var HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g;function commonEncode(e){return encodeURI(""+e).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeQueryProperty(e){return commonEncode(e).replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(EQUAL_RE,"%3D").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodePath(e){return commonEncode(e).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(e){return encodePath(e).replace(SLASH_RE,"%2F")}function decode(t){try{return decodeURIComponent(t)}catch(e){"production"!==process.env.NODE_ENV&&vue.warn('Error decoding "'+t+'". Using original value')}return t}function parseQuery(e){var t={};if(""===e||"?"===e)return t;for(var r=("?"===e[0]?e.slice(1):e).split("&"),n=0;n<r.length;++n){var o,a=r[n].split("="),i=a[0],u=a[1],i=decode(i),c=null==u?null:decode(u);i in t?(o=t[i],Array.isArray(o)||(o=t[i]=[o]),o.push(c)):t[i]=c}return t}function stringifyQuery(e){var t="";for(var r in e){t.length&&(t+="&");var n=e[r],r=encodeQueryProperty(r);if(null!=n)for(var o=Array.isArray(n)?n.map(function(e){return e&&encodeQueryProperty(e)}):[n&&encodeQueryProperty(n)],a=0;a<o.length;a++)t+=(a?"&":"")+r,null!=o[a]&&(t+="="+o[a]);else void 0!==n&&(t+=r)}return t}function normalizeQuery(e){var t={};for(var r in e){var n=e[r];void 0!==n&&(t[r]=Array.isArray(n)?n.map(function(e){return null==e?null:""+e}):null==n?n:""+n)}return t}var routerKey="router",routeKey="route";function useRouter(){return vue.inject(routerKey)}function useRoute(){return vue.inject(routeKey)}function useLink(e){var t=vue.inject(routerKey),r=vue.computed(function(){return t.resolve(vue.isRef(e.to)?e.to.value:e.to)}),n=vue.computed(function(){return t.createHref(r.value)}),o=vue.computed(function(){return 0===t.currentRoute.value.path.indexOf(r.value.path)});return{route:r,href:n,isActive:o,navigate:function(e){void 0===e&&(e={}),guardEvent(e)&&t.push(r.value)}}}var Link=vue.defineComponent({name:"RouterLink",props:{to:{type:[String,Object],required:!0}},setup:function(e,t){var r=t.slots,n=t.attrs,o=useLink(e),a=o.route,i=o.isActive,u=o.href,c=o.navigate,s=vue.computed(function(){return{"router-link-active":i.value}});return function(){return vue.h("a",__assign({class:s.value,onClick:c,href:u.value},n),r.default(vue.reactive({route:a,href:u,isActive:i})))}}});function guardEvent(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}var matchedRouteKey=Symbol(),View=vue.defineComponent({name:"RouterView",props:{name:{type:String,default:"default"}},setup:function(e,t){var r=t.attrs,n=vue.inject(routeKey),o=vue.inject("routerViewDepth",0);vue.provide("routerViewDepth",o+1);var a=vue.computed(function(){return n.value.matched[o]}),i=vue.computed(function(){return a.value&&a.value.components[e.name]});return vue.provide(matchedRouteKey,a),function(){return i.value?vue.h(i.value,__assign({},r)):null}}}),isClient="undefined"!=typeof window;function createRouter(e){var t=this,s=e.history,r=e.routes,l=e.scrollBehavior,i=createRouterMatcher(r,{}),m=useCallbacks(),f=useCallbacks(),v=vue.ref(START_LOCATION_NORMALIZED),d=START_LOCATION_NORMALIZED;isClient&&"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var u=applyToParams.bind(null,encodeParam),c=applyToParams.bind(null,decode);function p(e,t){if(t=t||v.value,"string"==typeof e){var r=parseURL(parseQuery,e),n=i.resolve({path:r.path},t);return __assign(__assign(__assign({},r),n),{params:c(n.params),redirectedFrom:void 0})}var o="params"in e,a=i.resolve(o?__assign(__assign({},e),{params:u(e.params)}):e,t);return a.params=o?e.params:c(a.params),__assign(__assign({fullPath:stringifyURL(stringifyQuery,__assign(__assign({},e),{path:a.path})),hash:e.hash||"",query:normalizeQuery(e.query||{})},a),{redirectedFrom:void 0})}function n(e){return h(e,void 0)}function h(o,a){return __awaiter(this,void 0,void 0,function(){var t,r,n;return __generator(this,function(e){switch(e.label){case 0:if(t=d=p(o),r=v.value,!o.force&&isSameLocation(r,t))return[2,r];t.redirectedFrom=a,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,g(t,r)];case 2:return e.sent(),[3,4];case 3:return(n=e.sent(),NavigationGuardRedirect.is(n))?(d!==t&&R(new NavigationCancelled(t,r)),[2,h(n.to,a||t)]):(d!==t&&R(new NavigationCancelled(t,r)),R(n),[3,4]);case 4:return _(t,r,!0,!0===o.replace),[2,v.value]}})})}function g(g,_){return __awaiter(this,void 0,void 0,function(){var t,r,n,o,a,i,u,c,s,l,f,v,d,p,h;return __generator(this,function(e){switch(e.label){case 0:return[4,extractComponentsGuards(_.matched.filter(function(e){return g.matched.indexOf(e)<0}).reverse(),"beforeRouteLeave",g,_)];case 1:for(t=e.sent(),r=extractChangingRecords(g,_)[0],n=0,o=r;n<o.length;n++)for(v=o[n],a=0,i=v.leaveGuards;a<i.length;a++)s=i[a],t.push(guardToPromiseFn(s,g,_));return[4,runGuardQueue(t)];case 2:for(e.sent(),t=[],u=0,c=m.list();u<c.length;u++)s=c[u],t.push(guardToPromiseFn(s,g,_));return[4,runGuardQueue(t)];case 3:return e.sent(),[4,extractComponentsGuards(g.matched.filter(function(e){return-1<_.matched.indexOf(e)}),"beforeRouteUpdate",g,_)];case 4:return[4,runGuardQueue(t=e.sent())];case 5:for(e.sent(),t=[],l=0,f=g.matched;l<f.length;l++)if((v=f[l]).beforeEnter&&_.matched.indexOf(v)<0)if(Array.isArray(v.beforeEnter))for(d=0,p=v.beforeEnter;d<p.length;d++)h=p[d],t.push(guardToPromiseFn(h,g,_));else t.push(guardToPromiseFn(v.beforeEnter,g,_));return[4,runGuardQueue(t)];case 6:return e.sent(),[4,extractComponentsGuards(g.matched.filter(function(e){return _.matched.indexOf(e)<0}),"beforeRouteEnter",g,_)];case 7:return[4,runGuardQueue(t=e.sent())];case 8:return e.sent(),[2]}})})}function _(e,t,r,n){if(d!==e)return R(new NavigationCancelled(e,t),r);for(var o=0,a=extractChangingRecords(e,t)[0];o<a.length;o++){a[o].leaveGuards=[]}r&&(n||t===START_LOCATION_NORMALIZED?s.replace(e):s.push(e)),v.value=vue.markNonReactive(e);var i=r||!isClient?{}:window.history.state;(function(r,n,o){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return l?[4,vue.nextTick()]:[2];case 1:return e.sent(),[4,l(r,n,o||null)];case 2:return t=e.sent(),console.log("scrolling to",t),scrollToPosition(t),[2]}})})})(e,t,i&&i.scroll).catch(function(e){return R(e,!1)});for(var u=0,c=f.list();u<c.length;u++){(0,c[u])(e,t)}E()}s.listen(function(o,e,a){return __awaiter(t,void 0,void 0,function(){var t,r,n;return __generator(this,function(e){switch(e.label){case 0:t=p(o.fullPath),d=t,r=v.value,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,g(t,r)];case 2:return e.sent(),_(t,r,!1),[3,4];case 3:if(n=e.sent(),NavigationGuardRedirect.is(n)){if(d!==t)return[2,R(new NavigationCancelled(t,r),!1)];R(n,!1),h(n.to,t).catch(function(){})}else NavigationAborted.is(n)?(console.log("Cancelled, going to",-a.distance),s.go(-a.distance,!1)):R(n,!1);return[3,4];case 4:return[2]}})})});var o,a=useCallbacks(),y=useCallbacks();function R(t,e){if(void 0===e&&(e=!0),E(t),y.list().forEach(function(e){return e(t)}),e)throw t}function E(n){o||(o=!0,a.list().forEach(function(e){var t=e[0],r=e[1];return n?r(n):t()}),a.reset())}return{currentRoute:v,addRoute:function(e,t){var r,n="string"==typeof e?(r=i.getRecordMatcher(e),t):e;return i.addRoute(n,r)},removeRoute:function(e){var t=i.getRecordMatcher(e);t?i.removeRoute(t):"production"!==process.env.NODE_ENV&&vue.warn('Cannot remove non-existant route "'+e+'"')},getRoutes:function(){return i.getRoutes().map(function(e){return e.record})},push:n,replace:function(e){return n(__assign(__assign({},"string"==typeof e?{path:e}:e),{replace:!0}))},resolve:p,beforeEach:m.add,afterEach:f.add,createHref:function(e){return s.base+e.fullPath},onError:y.add,isReady:function(){return o&&v.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise(function(e,t){a.add([e,t])})},history:s,install:function(e){applyRouterPlugin(e,this)}}}function applyRouterPlugin(e,t){e.component("RouterLink",Link),e.component("RouterView",View);var r=!1;isClient&&e.mixin({beforeCreate:function(){r||(t.push(t.history.location.fullPath).catch(function(e){console.error("Unhandled error",e)}),r=!0)}}),e.provide("router",t),e.provide("route",t.currentRoute)}function runGuardQueue(n){return __awaiter(this,void 0,void 0,function(){var t,r;return __generator(this,function(e){switch(e.label){case 0:t=0,r=n,e.label=1;case 1:return t<r.length?[4,(0,r[t])()]:[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function extractChangingRecords(e,t){for(var r=[],n=[],o=[],a=0,i=t.matched;a<i.length;a++){var u=i[a];e.matched.indexOf(u)<0?r.push(u):n.push(u)}for(var c=0,s=e.matched;c<s.length;c++){u=s[c];t.matched.indexOf(u)<0&&o.push(u)}return[r,n,o]}function isSameLocation(e,t){return e.name===t.name&&e.path===t.path&&e.hash===t.hash&&isSameLocationQuery(e.query,t.query)}function isSameLocationQuery(e,t){var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o,a=0;a<r.length;){if((o=r[a])!==n[a])return!1;if(!isSameLocationQueryValue(e[o],t[o]))return!1;a++}return!0}function isSameLocationQueryValue(e,r){return typeof e==typeof r&&(Array.isArray(e)?e.every(function(e,t){return e===r[t]}):e===r)}function onBeforeRouteLeave(e){var t,r=vue.getCurrentInstance();r&&(t=vue.inject(matchedRouteKey,{}).value)?t.leaveGuards.push(e.bind(r.proxy)):"production"!==process.env.NODE_ENV&&vue.warn("onRouteLeave must be called at the top of a setup function")}exports.Link=Link,exports.START_LOCATION=START_LOCATION_NORMALIZED,exports.View=View,exports.createMemoryHistory=createMemoryHistory,exports.createRouter=createRouter,exports.createWebHashHistory=createWebHashHistory,exports.createWebHistory=createWebHistory,exports.onBeforeRouteLeave=onBeforeRouteLeave,exports.useRoute=useRoute,exports.useRouter=useRouter;