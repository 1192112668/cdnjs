"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var vue=require("vue"),extendStatics=function(e,r){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(e,r)};function __extends(e,r){function t(){this.constructor=e}extendStatics(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var NavigationType,NavigationDirection,__assign=function(){return(__assign=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)};function __awaiter(a,i,u,c){return new(u=u||Promise)(function(e,r){function t(e){try{o(c.next(e))}catch(e){r(e)}}function n(e){try{o(c.throw(e))}catch(e){r(e)}}function o(r){r.done?e(r.value):new u(function(e){e(r.value)}).then(t,n)}o((c=c.apply(a,i||[])).next())})}function __generator(t,n){var o,a,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:r(0),throw:r(1),return:r(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=n.call(t,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,e])}}}!function(e){e.pop="pop",e.push="push"}(NavigationType=NavigationType||{}),function(e){e.back="back",e.forward="forward",e.unknown=""}(NavigationDirection=NavigationDirection||{});var START_PATH="",START={fullPath:START_PATH};function parseURL(e,r){var t="",n={},o="",a=r.indexOf("?"),i=r.indexOf("#",-1<a?a:0);return-1<a&&(t=r.slice(0,a),n=e(r.slice(a+1,-1<i?i:r.length))),-1<i&&(t=t||r.slice(0,i),o=r.slice(i,r.length)),{fullPath:r,path:t=t||r,query:n,hash:o}}function stringifyURL(e,r){var t=r.query?e(r.query):"";return r.path+(t&&"?")+t+(r.hash||"")}function stripBase(e,r){return r&&0===e.indexOf(r)&&e.replace(r,"")||e}function normalizeHistoryLocation(e){return{fullPath:e.fullPath||e}}function computeScrollPosition(e){return e?{x:e.scrollLeft,y:e.scrollTop}:{x:window.pageXOffset,y:window.pageYOffset}}function getElementPosition(e,r){var t=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{x:n.left-t.left-r.x,y:n.top-t.top-r.y}}var hashStartsWithNumberRE=/^#\d/;function scrollToPosition(e){var r,t=null;"selector"in e?(r=hashStartsWithNumberRE.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector))&&(t=getElementPosition(r,e.offset||{x:0,y:0})):t={x:e.x,y:e.y},t&&window.scrollTo(t.x,t.y)}var cs=console;function createCurrentLocation(e,r){var t=r.pathname,n=r.search,o=r.hash;return-1<e.indexOf("#")?normalizeHistoryLocation(stripBase("/"+o,e)):normalizeHistoryLocation(stripBase(t,e)+n+o)}function useHistoryListeners(u,c,s){function t(e){var r=e.state;cs.info("popstate fired",r),cs.info("currentState",c);var t=s.value,n=c.value,o=createCurrentLocation(u,window.location);if(s.value=o,c.value=r,f&&f.fullPath===t.fullPath)return cs.info("❌ Ignored beacuse paused for",f.fullPath),void(f=null);var a=n?r.position-n.position:"",i=a||0;console.log({deltaFromCurrent:a}),l.forEach(function(e){e(s.value,t,{distance:i,type:NavigationType.pop,direction:i?0<i?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})}var l=[],n=[],f=null;function o(){var e=window.history;e.state&&e.replaceState(__assign(__assign({},e.state),{scroll:computeScrollPosition()}),"")}return window.addEventListener("popstate",t),window.addEventListener("beforeunload",o),{pauseListeners:function(){cs.info("⏸ for "+s.value.fullPath),f=s.value},listen:function(r){function e(){var e=l.indexOf(r);-1<e&&l.splice(e,1)}return l.push(r),n.push(e),e},destroy:function(){for(var e=0,r=n;e<r.length;e++){(0,r[e])()}n=[],window.removeEventListener("popstate",t),window.removeEventListener("beforeunload",o)}}}function useHistoryStateNavigation(a){var i=window.history;function o(e,r,t,n,o){return void 0===n&&(n=!1),void 0===o&&(o=!1),{back:e,current:r,forward:t,replaced:n,position:window.history.length,scroll:o?computeScrollPosition():null}}var u={value:createCurrentLocation(a,window.location)},c={value:i.state};function s(e,r,t){var n=a+e.fullPath;try{var o=t?__assign(__assign({},c.value),r):r;i[t?"replaceState":"pushState"](o,"",n),c.value=r}catch(e){cs.log("[vue-router]: Error with push/replace State",e),window.location[t?"replace":"assign"](n)}}return c.value||s(u.value,{back:null,current:u.value,forward:null,position:i.length-1,replaced:!0,scroll:computeScrollPosition()},!0),{location:u,state:c,push:function(e,r){var t=normalizeHistoryLocation(e),n=__assign(__assign({},c.value),{forward:t,scroll:computeScrollPosition()});s(t,n,!0),s(t,__assign(__assign(__assign({},o(u.value,t,null)),{position:n.position+1}),r),!1),u.value=t},replace:function(e,r){var t=normalizeHistoryLocation(e),n=__assign(__assign({},o(c.value.back,t,c.value.forward,!0)),r);c&&(n.position=c.value.position),s(t,n,!0),u.value=t}}}function createHistory(e){void 0===e&&(e="");var r=useHistoryStateNavigation(e),t=useHistoryListeners(e,r.state,r.location);function n(e,r){void 0===r&&(r=!0),r||t.pauseListeners(),history.go(e)}var o=__assign(__assign({location:r.location.value,base:e,back:function(e){void 0===e&&(e=!0),n(-1,e)},forward:function(e){void 0===e&&(e=!0),n(1,e)},go:n},r),t);return Object.defineProperty(o,"location",{get:function(){return r.location.value}}),o}function createMemoryHistory(e){void 0===e&&(e="");var i=[],o=[START],a=0;function t(e){++a===o.length||o.splice(a),o.push(e)}var r={location:START,base:e,replace:function(e){var r=normalizeHistoryLocation(e);o.splice(a--,1),t(r)},push:function(e,r){t(normalizeHistoryLocation(e))},listen:function(r){return i.push(r),function(){var e=i.indexOf(r);-1<e&&i.splice(e,1)}},destroy:function(){i=[]},back:function(e){void 0===e&&(e=!0),this.go(-1,e)},forward:function(e){void 0===e&&(e=!0),this.go(1,e)},go:function(e,r){void 0===r&&(r=!0);var t=this.location,n=e<0?NavigationDirection.back:NavigationDirection.forward;a=Math.max(0,Math.min(a+e,o.length-1)),r&&function(e,r,t){for(var n={direction:t.direction,distance:t.distance,type:NavigationType.pop},o=0,a=i;o<a.length;o++){(0,a[o])(e,r,n)}}(this.location,t,{direction:n,distance:e})}};return Object.defineProperty(r,"location",{get:function(){return o[a]}}),r}function createHashHistory(e){return void 0===e&&(e=""),createHistory("/#"+e)}function isRouteLocation(e){return"string"==typeof e||e&&"object"==typeof e}var START_LOCATION_NORMALIZED=vue.markNonReactive({path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0});Object.defineProperty(START_LOCATION_NORMALIZED,"matched",{enumerable:!1});var isRouterError="__RouterError",RouterError=function(o){function r(e){var r=this.constructor,t=o.call(this,e)||this;t[_a]=!0;var n=r.prototype;return Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n,t}return __extends(r,o),r.is=function(e){return"Error"===e.name?e[isRouterError]:e instanceof r},Object.defineProperty(r.prototype,"name",{get:function(){return this.constructor.name},enumerable:!0,configurable:!0}),r}(Error),_a=isRouterError,isNoRouteMatchError="__NoRouteMatchError",NoRouteMatchError=function(n){function r(e,r){var t=n.call(this,"No match for\n"+JSON.stringify(e)+(r?"\nwhile being at\n"+JSON.stringify(r):""))||this;return t[_b]=!0,t}return __extends(r,n),r.is=function(e){return"Error"===e.name?e[isNoRouteMatchError]:e instanceof r},r}(RouterError),_b=isNoRouteMatchError,isInvalidRouteMatch="__InvalidRouteMatch",InvalidRouteMatch=function(t){function r(e){var r=t.call(this,"Cannot redirect using a relative location:\n"+stringifyRoute(e)+"\nUse the function redirect and explicitely provide a name")||this;return r[_c]=!0,r}return __extends(r,t),r.is=function(e){return"Error"===e.name?e[isInvalidRouteMatch]:e instanceof r},r}(RouterError),_c=isNoRouteMatchError,isNavigationGuardRedirect="__NavigationGuardRedirect",NavigationGuardRedirect=function(n){function r(e,r){var t=n.call(this,'Redirected from "'+e.fullPath+'" to "'+stringifyRoute(r)+'" via a navigation guard')||this;return t[_d]=!0,t.from=e,t.to=r,t}return __extends(r,n),r.is=function(e){return"Error"===e.name?e[isNavigationGuardRedirect]:e instanceof r},r}(RouterError),_d=isNoRouteMatchError,isNavigationAborted="__NavigationAborted",NavigationAborted=function(n){function r(e,r){var t=n.call(this,'Navigation aborted from "'+r.fullPath+'" to "'+e.fullPath+'" via a navigation guard')||this;return t[_e]=!0,t.from=r,t.to=e,t}return __extends(r,n),r.is=function(e){return"Error"===e.name?e[isNavigationAborted]:e instanceof r},r}(RouterError),_e=isNavigationAborted,isNavigationCancelled="__NavigationCancelled",NavigationCancelled=function(n){function r(e,r){var t=n.call(this,'Navigation cancelled from "'+r.fullPath+'" to "'+e.fullPath+'" with a new `push` or `replace`')||this;return t[_f]=!0,t.from=r,t.to=e,t}return __extends(r,n),r.is=function(e){return"Error"===e.name?e[isNavigationCancelled]:e instanceof r},r}(RouterError),_f=isNavigationCancelled,propertiesToLog=["params","query","hash"];function stringifyRoute(e){if("string"==typeof e)return e;if("path"in e)return e.path;for(var r={},t=0,n=propertiesToLog;t<n.length;t++){var o=n[t];o in e&&(r[o]=e[o])}return JSON.stringify(r,null,2)}var BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(p,e){for(var r,t=__assign(__assign({},BASE_PATH_PARSER_OPTIONS),e),n=[],o=t.start?"^":"",i=[],a=0,u=p;a<u.length;a++){var c=u[a],s=c.length?[]:[90];t.strict&&!c.length&&(o+="/");for(var l=0;l<c.length;l++){var f=c[l],v=40+(t.sensitive?.25:0);if(0===f.type)l||(o+="/"),o+=f.value.replace(REGEX_CHARS_RE,"\\$&"),v+=40;else if(1===f.type){var d=f.value,h=f.repeatable,g=f.optional,_=f.regexp;i.push({name:d,repeatable:h,optional:g});var m=_||BASE_PARAM_PATTERN;if(m!==BASE_PARAM_PATTERN){v+=10;try{new RegExp("("+m+")")}catch(e){throw new Error('Invalid custom RegExp for param "'+d+'" ('+m+"): "+e.message)}}var y=h?"((?:"+m+")(?:/(?:"+m+"))*)":"("+m+")";l||(y=g?"(?:/"+y+")":"/"+y),g&&(y+="?"),o+=y,v+=20,g&&(v+=-8),h&&(v+=-20),".*"===m&&(v+=-50)}s.push(v)}n.push(s)}t.strict&&(n[r=n.length-1][n[r].length-1]+=.7000000000000001),t.strict||(o+="/?"),t.end&&(o+="$");var R=new RegExp(o,t.sensitive?"":"i");return{re:R,score:n,keys:i,parse:function(e){var r=e.match(R),t={};if(!r)return null;for(var n=1;n<r.length;n++){var o=r[n]||"",a=i[n-1];t[a.name]=o&&a.repeatable?o.split("/"):o}return t},stringify:function(e){for(var r="",t=!1,n=0,o=p;n<o.length;n++){var a=o[n];t&&"/"===r[r.length-1]||(r+="/"),t=!1;for(var i=0,u=a;i<u.length;i++){var c=u[i];if(0===c.type)r+=c.value;else if(1===c.type){var s=c.value,l=c.repeatable,f=c.optional,v=s in e?e[s]:"";if(Array.isArray(v)&&!l)throw new Error('Provided param "'+s+'" is an array but it is not repeatable (* or + modifiers)');var d=Array.isArray(v)?v.join("/"):v;if(!d){if(!f)throw new Error('Missing required param "'+s+'"');t=!0}r+=d}}}return r}}}function compareScoreArray(e,r){for(var t=0;t<e.length&&t<r.length;){var n=r[t]-e[t];if(n)return n;t++}return e.length<r.length?1===e.length&&80===e[0]?-1:1:e.length>r.length?1===r.length&&80===r[0]?1:-1:0}function comparePathParserScore(e,r){for(var t=0,n=e.score,o=r.score;t<n.length&&t<o.length;){var a=compareScoreArray(n[t],o[t]);if(a)return a;t++}return o.length-n.length}var ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(e){if(!e)return[[]];if("/"===e)return[[ROOT_TOKEN]];if("/"!==e[0])throw new Error('A non-empty path must start with "/"');function r(e){throw new Error("ERR ("+n+')/"'+s+'": '+e)}var t,n=0,o=n,a=[];function i(){t&&a.push(t),t=[]}var u,c=0,s="",l="";function f(){s&&(0===n?t.push({type:0,value:s}):1===n||2===n||3===n?(1<t.length&&("*"===u||"+"===u)&&r("A repeatable param ("+s+") must be alone in its segment. eg: '/:ids+."),t.push({type:1,value:s,regexp:l,repeatable:"*"===u||"+"===u,optional:"*"===u||"?"===u})):r("Invalid state to consume buffer"),s="")}function v(){s+=u}for(;c<e.length;)if("\\"!==(u=e[c++])||2===n)switch(n){case 0:"/"===u?(s&&f(),i()):":"===u?(f(),n=1):v();break;case 4:v(),n=o;break;case 1:"("===u?(n=2,l=""):VALID_PARAM_RE.test(u)?v():(f(),n=0,"*"!==u&&"?"!==u&&"+"!==u&&c--);break;case 2:")"===u?"\\"==l[l.length-1]?l=l.slice(0,-1)+u:n=3:l+=u;break;case 3:f(),n=0,"*"!==u&&"?"!==u&&"+"!==u&&c--;break;default:r("Unkwnonw state")}else o=n,n=4;return 2===n&&r('Unfinished custom RegExp for param "'+s+'"'),f(),i(),a}function createRouteRecordMatcher(e,r,t){var n=tokensToParser(tokenizePath(e.path),t),o=__assign(__assign({},n),{record:e,parent:r,children:[]});return r&&r.children.push(o),o}function createRouterMatcher(e,_){var c=[],s=new Map;function m(e,r){var t,n=normalizeRouteRecord(e),o=__assign(__assign({},_),e.options),a=[n];if("alias"in e)for(var i=0,u="string"==typeof e.alias?[e.alias]:e.alias;i<u.length;i++){var c=u[i];a.push(__assign(__assign({},n),{path:c}))}for(var s=0,l=a;s<l.length;s++){var f,v,d=l[s],p=d.path;if(r&&"/"!==p[0]&&(v="/"===(f=r.record.path)[f.length-1]?"":"/",d.path=r.record.path+(p&&v+p)),t=createRouteRecordMatcher(d,r,o),"children"in e)for(var h=0,g=e.children;h<g.length;h++){m(g[h],t)}R(t)}return function(){y(t)}}function y(e){var r,t;"string"==typeof e?(r=s.get(e))&&(s.delete(e),c.splice(c.indexOf(r),1),r.children.forEach(y)):-1<(t=c.indexOf(e))&&(c.splice(t,1),e.record.name&&s.delete(e.record.name),e.children.forEach(y))}function R(e){for(var r=0;r<c.length&&0<=comparePathParserScore(e,c[r]);)r++;c.splice(r,0,e),e.record.name&&s.set(e.record.name,e)}return e.forEach(function(e){return m(e)}),{addRoute:m,resolve:function(r,t){var e,n,o,a={};if("name"in r&&r.name){if(!(e=s.get(r.name)))throw new NoRouteMatchError(r);o=e.record.name,a=r.params||t.params,n=e.stringify(a)}else if("path"in r)e=c.find(function(e){return e.re.test(r.path)}),n=r.path,e&&(a=e.parse(r.path),o=e.record.name);else{if(!(e=t.name?s.get(t.name):c.find(function(e){return e.re.test(t.path)})))throw new NoRouteMatchError(r,t);o=e.record.name,a=r.params||t.params,n=e.stringify(a)}for(var i=[],u=e;u;)i.unshift(u.record),u=u.parent;return{name:o,path:n,params:a,matched:i,meta:e?e.record.meta:{}}},removeRoute:y,getRecordMatcher:function(e){return s.get(e)}}}function normalizeRouteRecord(e){var r,n,t;return t="redirect"in e?(r={},n=e.redirect,function(e,r,t){t("function"==typeof n?n(e):n)}):(r="components"in e?e.components:{default:e.component},e.beforeEnter),{path:e.path,components:r,children:e.children,name:e.name,beforeEnter:t,meta:e.meta||{},leaveGuards:[]}}function guardToPromiseFn(e,n,o){return function(){return new Promise(function(r,t){e(n,o,function(e){!1===e?t(new NavigationAborted(n,o)):isRouteLocation(e)?t(new NavigationGuardRedirect(n,e)):r()})})}}function extractComponentsGuards(t,i,u,c){return __awaiter(this,void 0,void 0,function(){var a,r=this;return __generator(this,function(e){switch(e.label){case 0:return a=[],[4,Promise.all(t.map(function(o){return __awaiter(r,void 0,void 0,function(){var r,t,n;return __generator(this,function(e){for(r in o.components)t=o.components[r],(n=t[i])&&a.push(guardToPromiseFn(n,u,c));return[2]})})}))];case 1:return e.sent(),[2,a]}})})}function applyToParams(e,r){var t={};for(var n in r){var o=r[n];t[n]=Array.isArray(o)?o.map(e):e(o)}return t}function useCallbacks(){var t=[];return{add:function(r){return t.push(r),function(){var e=t.indexOf(r);-1<e&&t.splice(e,1)}},list:function(){return t},reset:function(){t=[]}}}var HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g;function commonEncode(e){return encodeURI(""+e).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeQueryProperty(e){return commonEncode(e).replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(EQUAL_RE,"%3D").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodePath(e){return commonEncode(e).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(e){return encodePath(e).replace(SLASH_RE,"%2F")}function decode(r){try{return decodeURIComponent(r)}catch(e){"production"!==process.env.NODE_ENV&&vue.warn('Error decoding "'+r+'". Using original value')}return r}function parseQuery(e){var r={};if(""===e||"?"===e)return r;for(var t=("?"===e[0]?e.slice(1):e).split("&"),n=0;n<t.length;++n){var o,a=t[n].split("="),i=a[0],u=a[1],i=decode(i),c=null==u?null:decode(u);i in r?(o=r[i],Array.isArray(o)||(o=r[i]=[o]),o.push(c)):r[i]=c}return r}function stringifyQuery(e){var r="";for(var t in e){r.length&&(r+="&");var n=e[t],t=encodeQueryProperty(t);if(null!=n)for(var o=Array.isArray(n)?n.map(function(e){return e&&encodeQueryProperty(e)}):[n&&encodeQueryProperty(n)],a=0;a<o.length;a++)r+=(a?"&":"")+t,null!=o[a]&&(r+="="+o[a]);else void 0!==n&&(r+=t)}return r}function normalizeQuery(e){var r={};for(var t in e){var n=e[t];void 0!==n&&(r[t]=Array.isArray(n)?n.map(function(e){return null==e?null:""+e}):null==n?n:""+n)}return r}var routerKey="router",routeKey="route";function useRouter(){return vue.inject(routerKey)}function useRoute(){return vue.inject(routeKey)}function useLink(e){var r=vue.inject(routerKey),t=vue.computed(function(){return r.resolve(vue.isRef(e.to)?e.to.value:e.to)}),n=vue.computed(function(){return r.createHref(t.value)}),o=vue.computed(function(){return 0===r.currentRoute.value.path.indexOf(t.value.path)});return{route:t,href:n,isActive:o,navigate:function(e){void 0===e&&(e={}),guardEvent(e)&&r.push(t.value)}}}var Link=vue.defineComponent({name:"RouterLink",props:{to:{type:[String,Object],required:!0}},setup:function(e,r){var t=r.slots,n=r.attrs,o=useLink(e),a=o.route,i=o.isActive,u=o.href,c=o.navigate,s=vue.computed(function(){return{"router-link-active":i.value}});return function(){return vue.h("a",__assign({class:s.value,onClick:c,href:u.value},n),t.default(vue.reactive({route:a,href:u,isActive:i})))}}});function guardEvent(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var r=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(r))return}return e.preventDefault&&e.preventDefault(),!0}}var matchedRouteKey=Symbol(),View=vue.defineComponent({name:"RouterView",props:{name:{type:String,default:"default"}},setup:function(e,r){var t=r.attrs,n=vue.inject(routeKey),o=vue.inject("routerViewDepth",0);vue.provide("routerViewDepth",o+1);var a=vue.computed(function(){return n.value.matched[o]}),i=vue.computed(function(){return a.value&&a.value.components[e.name]});return vue.provide(matchedRouteKey,a),function(){return i.value?vue.h(i.value,__assign({},t)):null}}}),isClient="undefined"!=typeof window;function createRouter(e){var r=this,s=e.history,t=e.routes,l=e.scrollBehavior,i=createRouterMatcher(t,{}),m=useCallbacks(),f=useCallbacks(),v=vue.ref(START_LOCATION_NORMALIZED),d=START_LOCATION_NORMALIZED;isClient&&"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var u=applyToParams.bind(null,encodeParam),c=applyToParams.bind(null,decode);function p(e,r){if(r=r||v.value,"string"==typeof e){var t=parseURL(parseQuery,e),n=i.resolve({path:t.path},r);return __assign(__assign(__assign({},t),n),{params:c(n.params),redirectedFrom:void 0})}var o="params"in e,a=i.resolve(o?__assign(__assign({},e),{params:u(e.params)}):e,r);return a.params=o?e.params:c(a.params),__assign(__assign({fullPath:stringifyURL(stringifyQuery,__assign(__assign({},e),{path:a.path})),hash:e.hash||"",query:normalizeQuery(e.query||{})},a),{redirectedFrom:void 0})}function n(e){return h(e,void 0)}function h(o,a){return __awaiter(this,void 0,void 0,function(){var r,t,n;return __generator(this,function(e){switch(e.label){case 0:if(r=d=p(o),(t=v.value)!==START_LOCATION_NORMALIZED&&t.fullPath===r.fullPath)return[2,t];r.redirectedFrom=a,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,g(r,t)];case 2:return e.sent(),[3,4];case 3:return(n=e.sent(),NavigationGuardRedirect.is(n))?(d!==r&&R(new NavigationCancelled(r,t)),[2,h(n.to,a||r)]):(d!==r&&R(new NavigationCancelled(r,t)),R(n),[3,4]);case 4:return _(r,t,!0,!0===o.replace),[2,v.value]}})})}function g(g,_){return __awaiter(this,void 0,void 0,function(){var r,t,n,o,a,i,u,c,s,l,f,v,d,p,h;return __generator(this,function(e){switch(e.label){case 0:return[4,extractComponentsGuards(_.matched.filter(function(e){return g.matched.indexOf(e)<0}).reverse(),"beforeRouteLeave",g,_)];case 1:for(r=e.sent(),t=extractChangingRecords(g,_)[0],n=0,o=t;n<o.length;n++)for(v=o[n],a=0,i=v.leaveGuards;a<i.length;a++)s=i[a],r.push(guardToPromiseFn(s,g,_));return[4,runGuardQueue(r)];case 2:for(e.sent(),r=[],u=0,c=m.list();u<c.length;u++)s=c[u],r.push(guardToPromiseFn(s,g,_));return[4,runGuardQueue(r)];case 3:return e.sent(),[4,extractComponentsGuards(g.matched.filter(function(e){return-1<_.matched.indexOf(e)}),"beforeRouteUpdate",g,_)];case 4:return[4,runGuardQueue(r=e.sent())];case 5:for(e.sent(),r=[],l=0,f=g.matched;l<f.length;l++)if((v=f[l]).beforeEnter&&_.matched.indexOf(v)<0)if(Array.isArray(v.beforeEnter))for(d=0,p=v.beforeEnter;d<p.length;d++)h=p[d],r.push(guardToPromiseFn(h,g,_));else r.push(guardToPromiseFn(v.beforeEnter,g,_));return[4,runGuardQueue(r)];case 6:return e.sent(),[4,extractComponentsGuards(g.matched.filter(function(e){return _.matched.indexOf(e)<0}),"beforeRouteEnter",g,_)];case 7:return[4,runGuardQueue(r=e.sent())];case 8:return e.sent(),[2]}})})}function _(e,r,t,n){if(d!==e)return R(new NavigationCancelled(e,r),t);for(var o=0,a=extractChangingRecords(e,r)[0];o<a.length;o++){a[o].leaveGuards=[]}t&&(n||r===START_LOCATION_NORMALIZED?s.replace(e):s.push(e)),v.value=vue.markNonReactive(e);var i=t||!isClient?{}:window.history.state;(function(t,n,o){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(e){switch(e.label){case 0:return l?[4,vue.nextTick()]:[2];case 1:return e.sent(),[4,l(t,n,o||null)];case 2:return r=e.sent(),console.log("scrolling to",r),scrollToPosition(r),[2]}})})})(e,r,i&&i.scroll).catch(function(e){return R(e,!1)});for(var u=0,c=f.list();u<c.length;u++){(0,c[u])(e,r)}E()}s.listen(function(o,e,a){return __awaiter(r,void 0,void 0,function(){var r,t,n;return __generator(this,function(e){switch(e.label){case 0:r=p(o.fullPath),d=r,t=v.value,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,g(r,t)];case 2:return e.sent(),_(r,t,!1),[3,4];case 3:if(n=e.sent(),NavigationGuardRedirect.is(n)){if(d!==r)return[2,R(new NavigationCancelled(r,t),!1)];R(n,!1),h(n.to,r).catch(function(){})}else NavigationAborted.is(n)?(console.log("Cancelled, going to",-a.distance),s.go(-a.distance,!1)):R(n,!1);return[3,4];case 4:return[2]}})})});var o,a=useCallbacks(),y=useCallbacks();function R(r,e){if(void 0===e&&(e=!0),E(r),y.list().forEach(function(e){return e(r)}),e)throw r}function E(n){o||(o=!0,a.list().forEach(function(e){var r=e[0],t=e[1];return n?t(n):r()}),a.reset())}return{currentRoute:v,push:n,replace:function(e){return n(__assign(__assign({},"string"==typeof e?{path:e}:e),{replace:!0}))},resolve:p,beforeEach:m.add,afterEach:f.add,createHref:function(e){return s.base+e.fullPath},onError:y.add,isReady:function(){return o&&v.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise(function(e,r){a.add([e,r])})},history:s,install:function(e){applyRouterPlugin(e,this)}}}function applyRouterPlugin(e,r){e.component("RouterLink",Link),e.component("RouterView",View);var t=!1;isClient&&e.mixin({beforeCreate:function(){t||(r.push(r.history.location.fullPath).catch(function(e){console.error("Unhandled error",e)}),t=!0)}}),e.provide("router",r),e.provide("route",r.currentRoute)}function runGuardQueue(n){return __awaiter(this,void 0,void 0,function(){var r,t;return __generator(this,function(e){switch(e.label){case 0:r=0,t=n,e.label=1;case 1:return r<t.length?[4,(0,t[r])()]:[3,4];case 2:e.sent(),e.label=3;case 3:return r++,[3,1];case 4:return[2]}})})}function extractChangingRecords(e,r){for(var t=[],n=[],o=[],a=0,i=r.matched;a<i.length;a++){var u=i[a];e.matched.indexOf(u)<0?t.push(u):n.push(u)}for(var c=0,s=e.matched;c<s.length;c++){u=s[c];r.matched.indexOf(u)<0&&o.push(u)}return[t,n,o]}function onBeforeRouteLeave(e){var r,t=vue.getCurrentInstance();t&&(r=vue.inject(matchedRouteKey,{}).value)?r.leaveGuards.push(e.bind(t.proxy)):"production"!==process.env.NODE_ENV&&vue.warn("onRouteLeave must be called at the top of a setup function")}exports.Link=Link,exports.START_LOCATION=START_LOCATION_NORMALIZED,exports.View=View,exports.createHashHistory=createHashHistory,exports.createHistory=createHistory,exports.createMemoryHistory=createMemoryHistory,exports.createRouter=createRouter,exports.onBeforeRouteLeave=onBeforeRouteLeave,exports.useRoute=useRoute,exports.useRouter=useRouter;