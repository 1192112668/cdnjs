!function(s){var a=s(document),l="<style type='text/css'>",d="}</style>",c="position",e=":absolute;",f="append",u=s("head")[f](l+".CRZ{table-layout:fixed}.CRZ td,.CRZ th{overflow:hidden}.CRC{height:0px;"+c+":relative}.CRG{margin-left:-5px;"+c+e+" z-index:5}.CRG .CRZ{"+c+e+"background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;cursor:e-resize;height:100%}.CRL{"+c+e+"width:1px}.CRD{border-left:1px dotted black"+d),r=null,h=r,g=[],o="id",p="px",v="CRZ",b=parseInt,w=Math,C=s.browser.msie,m=!1,R="mousemove.",x="mouseup.",y="tr:first ",z="width",L="border-",Z="table",D='<div class="CR',G="removeClass",H="addClass",I="attr";function i(e,t){var i=s(e),r=i[I](o)||v+n++,n="currentStyle";if(t.disable)return function(e){var t=e[I](o);if(!(e=g[t])||!e.is(Z))return;e[G](v).d.remove(),delete g[t]}(i);i.is(Z)&&!g[r]&&(i[H](v)[I](o,r).before(D+'C"/>'),i.o=t,i.g=[],i.c=[],i.w=i[z](),i.d=i.prev(),i.s=b(C?e.cellSpacing||e[n].borderSpacing:i.css(L+"spacing"))||2,i.b=b(C?e.border||e[n].borderLeftWidth:i.css(L+"left-"+z))||1,function(r){var e=r.find(y+"th"),n="removeAttr";e.length||(e=r.find(y+"td"));r.l=e.length,e.each(function(e){var t=s(this),i=s(r.d[f](D+'G"></div>')[0].lastChild);i.t=r,i.i=e,(i.c=t).w=t[z](),r.g.push(i),r.c.push(t),t[z](t.w)[n](z),e<r.l-1?i.mousedown(j).html('<div class="'+v+'"></div>')[f](r.o.gripInnerHtml):i[H]("CRL")[G]("CRG"),i.data(v,{i:e,t:r[I](o)})}),S(r),r.find("tr:not(:first)").find("td,th").each(function(){s(this)[n](z)})}(g[r]=i))}function S(e){e.d[z](e.w);for(var t,i=0;i<e.l;i++)t=e.c[i],e.g[i].css({left:t.offset().left-e.offset().left+t.outerWidth()+e.s/2+p,height:e.outerHeight()})}function k(e,t,i){var r=h.x-h.l,n=e.c[t],o=e.c[t+1],s=n.w+r,a=o.w-r;n[z](s+p),o[z](a+p),i&&(n.w=s,o.w=a)}function W(e){if(h){var t=h.t,i=e.pageX-h.L+h.l,r=h.i,n=1.5*t.s+20+t.b,o=r==t.l-1?t.w-n:t.g[r+1][c]().left-t.s-20,s=r?t.g[r-1][c]().left+t.s+20:n,i=w.max(s,w.min(o,i));return h.x=i,h.css("left",i+p),t.o.liveDrag&&(k(t,r),S(t)),m}}function X(e){var t,i;a.unbind(R+v).unbind(x+v),s("head :last-child").remove(),h&&(i=(t=h[G](h.t.o.draggingClass).t).o.onResize,h.x&&(k(t,h.i,1),S(t),i&&(e.currentTarget=t[0],i(e))),h=r)}function j(e){var t,i=s(this).data(v),r=g[i.t],n=r.g[i.i],o=0;if(n.L=e.pageX,n.l=n[c]().left,a.bind(R+v,W).bind(x+v,X),u[f](l+"*{cursor:e-resize!important"+d),n[H](r.o.draggingClass),h=n,r.c[i.i].l)for(;o<r.l;o++)(t=r.c[o]).l=m,t.w=t[z]();return m}s(window).bind("resize."+v,function(){for(e in g){var e=g[e],t=0,i=0;if(e[G](v),e.w!=e[z]()){for(e.w=e[z]();t<e.l;t++)i+=e.c[t].w;for(t=0;t<e.l;t++)e.c[t].css(z,w.round(1e3*e.c[t].w/i)/10+"%").l=1}S(e[H](v))}}),s.fn.extend({colResizable:function(e){var t={draggingClass:"CRD",gripInnerHtml:"",onResize:r,liveDrag:m,disable:m},e=s.extend(t,e);return this.each(function(){i(this,e)})}})}(jQuery);