!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactMotion=t(require("react")):e.ReactMotion=t(e.React)}(this,function(r){return i={},n.m=a=[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var a=r(1);t.Motion=n(a);var i=r(10);t.StaggeredMotion=n(i);var l=r(11);t.TransitionMotion=n(l);var s=r(13);t.spring=n(s);var o=r(14);t.presets=n(o);var u=r(15);t.reorderKeys=n(u)},function(e,t,r){"use strict";t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function n(e){return e&&e.__esModule?e:{default:e}}var i=n(r(2)),l=n(r(3)),S=n(r(4)),P=n(r(5)),a=n(r(7)),g=n(r(8)),s=r(9),o=n(s),I=1e3/60,c=o.default.createClass({displayName:"Motion",propTypes:{defaultStyle:s.PropTypes.objectOf(s.PropTypes.number),style:s.PropTypes.objectOf(s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.object])).isRequired,children:s.PropTypes.func.isRequired,onRest:s.PropTypes.func},getInitialState:function(){var e=this.props,t=e.defaultStyle,r=e.style,n=t||l.default(r),a=i.default(n);return{currentStyle:n,currentVelocity:a,lastIdealStyle:n,lastIdealVelocity:a}},wasAnimating:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyle:null,clearUnreadPropStyle:function(e){var t,r=!1,n=this.state,a=n.currentStyle,i=n.currentVelocity,l=n.lastIdealStyle,s=n.lastIdealVelocity;for(var o in e){e.hasOwnProperty(o)&&("number"==typeof(t=e[o])&&(r||(r=!0,a=u({},a),i=u({},i),l=u({},l),s=u({},s)),a[o]=t,i[o]=0,l[o]=t,s[o]=0))}r&&this.setState({currentStyle:a,currentVelocity:i,lastIdealStyle:l,lastIdealVelocity:s})},startAnimationIfNecessary:function(){var T=this;this.animationID=a.default(function(){var e=T.props.style;if(g.default(T.state.currentStyle,e,T.state.currentVelocity))return T.wasAnimating&&T.props.onRest&&T.props.onRest(),T.animationID=null,T.wasAnimating=!1,void(T.accumulatedTime=0);T.wasAnimating=!0;var t=P.default(),r=t-T.prevTime;if(T.prevTime=t,T.accumulatedTime=T.accumulatedTime+r,T.accumulatedTime>10*I&&(T.accumulatedTime=0),0===T.accumulatedTime)return T.animationID=null,void T.startAnimationIfNecessary();var n=(T.accumulatedTime-Math.floor(T.accumulatedTime/I)*I)/I,a=Math.floor(T.accumulatedTime/I),i={},l={},s={},o={};for(var u in e)if(e.hasOwnProperty(u)){var c=e[u];if("number"==typeof c)s[u]=c,o[u]=0,i[u]=c,l[u]=0;else{for(var f=T.state.lastIdealStyle[u],d=T.state.lastIdealVelocity[u],p=0;p<a;p++)var y=S.default(I/1e3,f,d,c.val,c.stiffness,c.damping,c.precision),f=y[0],d=y[1];var m=S.default(I/1e3,f,d,c.val,c.stiffness,c.damping,c.precision),h=m[0],v=m[1];s[u]=f+(h-f)*n,o[u]=d+(v-d)*n,i[u]=f,l[u]=d}}T.animationID=null,T.accumulatedTime-=a*I,T.setState({currentStyle:s,currentVelocity:o,lastIdealStyle:i,lastIdealVelocity:l}),T.unreadPropStyle=null,T.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=P.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=P.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(a.default.cancel(this.animationID),this.animationID=null)},render:function(){var e=this.props.children(this.state.currentStyle);return e&&o.default.Children.only(e)}});t.default=c,e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=0);return t},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]="number"==typeof e[r]?e[r]:e[r].val);return t},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,r,n,a,i,l){var s=r+(-a*(t-n)+-i*r)*e,o=t+s*e;if(Math.abs(s)<l&&Math.abs(o-n)<l)return u[0]=n,u[1]=0,u;return u[0]=o,u[1]=s,u};var u=[];e.exports=t.default},function(a,e,t){(function(n){"use strict";(function(){var e,t,r;"undefined"!=typeof performance&&null!==performance&&performance.now?a.exports=function(){return performance.now()}:r=null!=n&&n.hrtime?(a.exports=function(){return(e()-r)/1e6},t=n.hrtime,(e=function(){var e=t();return 1e9*e[0]+e[1]})()):Date.now?(a.exports=function(){return Date.now()-r},Date.now()):(a.exports=function(){return(new Date).getTime()-r},(new Date).getTime())}).call(void 0)}).call(e,t(6))},function(e,t){"use strict";var r,n=e.exports={},a=[],i=!1,l=-1;function s(){i=!1,r.length?a=r.concat(a):l=-1,a.length&&o()}function o(){if(!i){var e=setTimeout(s);i=!0;for(var t=a.length;t;){for(r=a,a=[];++l<t;)r&&r[l].run();l=-1,t=a.length}r=null,i=!1,clearTimeout(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];a.push(new u(e,t)),1!==a.length||i||setTimeout(o,0)},u.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=c,n.addListener=c,n.once=c,n.off=c,n.removeListener=c,n.removeAllListeners=c,n.emit=c,n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(f,e,d){(function(e){"use strict";for(var n,a,i,l=d(5),t="undefined"==typeof window?e:window,r=["moz","webkit"],s="AnimationFrame",o=t["request"+s],u=t["cancel"+s]||t["cancelRequest"+s],c=0;!o&&c<r.length;c++)o=t[r[c]+"Request"+s],u=t[r[c]+"Cancel"+s]||t[r[c]+"CancelRequest"+s];o&&u||(a=n=0,i=[],o=function(e){var t,r;return 0===i.length&&(t=l(),r=Math.max(0,1e3/60-(t-n)),n=r+t,setTimeout(function(){for(var e=i.slice(0),t=i.length=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(n)}catch(e){setTimeout(function(){throw e},0)}},Math.round(r))),i.push({handle:++a,callback:e,cancelled:!1}),a},u=function(e){for(var t=0;t<i.length;t++)i[t].handle===e&&(i[t].cancelled=!0)}),f.exports=function(e){return o.call(t,e)},f.exports.cancel=function(){u.apply(t,arguments)},f.exports.polyfill=function(){t.requestAnimationFrame=o,t.cancelAnimationFrame=u}}).call(e,function(){return this}())},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,r){for(var n in t)if(t.hasOwnProperty(n)){if(0!==r[n])return!1;var a="number"==typeof t[n]?t[n]:t[n].val;if(e[n]!==a)return!1}return!0},e.exports=t.default},function(e,t){e.exports=r},function(e,t,r){"use strict";t.__esModule=!0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function n(e){return e&&e.__esModule?e:{default:e}}var i=n(r(2)),l=n(r(3)),k=n(r(4)),M=n(r(5)),a=n(r(7)),D=n(r(8)),s=r(9),o=n(s),O=1e3/60;var u=o.default.createClass({displayName:"StaggeredMotion",propTypes:{defaultStyles:s.PropTypes.arrayOf(s.PropTypes.objectOf(s.PropTypes.number)),styles:s.PropTypes.func.isRequired,children:s.PropTypes.func.isRequired},getInitialState:function(){var e=this.props,t=e.defaultStyles,r=e.styles,n=t||r().map(l.default),a=n.map(function(e){return i.default(e)});return{currentStyles:n,currentVelocities:a,lastIdealStyles:n,lastIdealVelocities:a}},animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(e){for(var t=this.state,r=t.currentStyles,n=t.currentVelocities,a=t.lastIdealStyles,i=t.lastIdealVelocities,l=!1,s=0;s<e.length;s++){var o,u=e[s],c=!1;for(var f in u){u.hasOwnProperty(f)&&("number"==typeof(o=u[f])&&(c||(l=c=!0,r[s]=d({},r[s]),n[s]=d({},n[s]),a[s]=d({},a[s]),i[s]=d({},i[s])),r[s][f]=o,n[s][f]=0,a[s][f]=o,i[s][f]=0))}}l&&this.setState({currentStyles:r,currentVelocities:n,lastIdealStyles:a,lastIdealVelocities:i})},startAnimationIfNecessary:function(){var b=this;this.animationID=a.default(function(){var e=b.props.styles(b.state.lastIdealStyles);if(function(e,t,r){for(var n=0;n<e.length;n++)if(!D.default(e[n],t[n],r[n]))return;return 1}(b.state.currentStyles,e,b.state.currentVelocities))return b.animationID=null,void(b.accumulatedTime=0);var t=M.default(),r=t-b.prevTime;if(b.prevTime=t,b.accumulatedTime=b.accumulatedTime+r,b.accumulatedTime>10*O&&(b.accumulatedTime=0),0===b.accumulatedTime)return b.animationID=null,void b.startAnimationIfNecessary();for(var n=(b.accumulatedTime-Math.floor(b.accumulatedTime/O)*O)/O,a=Math.floor(b.accumulatedTime/O),i=[],l=[],s=[],o=[],u=0;u<e.length;u++){var c=e[u],f={},d={},p={},y={};for(var m in c)if(c.hasOwnProperty(m)){var h=c[m];if("number"==typeof h)f[m]=h,d[m]=0,p[m]=h,y[m]=0;else{for(var v=b.state.lastIdealStyles[u][m],T=b.state.lastIdealVelocities[u][m],S=0;S<a;S++)var P=k.default(O/1e3,v,T,h.val,h.stiffness,h.damping,h.precision),v=P[0],T=P[1];var g=k.default(O/1e3,v,T,h.val,h.stiffness,h.damping,h.precision),I=g[0],w=g[1];f[m]=v+(I-v)*n,d[m]=T+(w-T)*n,p[m]=v,y[m]=T}}s[u]=f,o[u]=d,i[u]=p,l[u]=y}b.animationID=null,b.accumulatedTime-=a*O,b.setState({currentStyles:s,currentVelocities:o,lastIdealStyles:i,lastIdealVelocities:l}),b.unreadPropStyles=null,b.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=M.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=M.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(a.default.cancel(this.animationID),this.animationID=null)},render:function(){var e=this.props.children(this.state.currentStyles);return e&&o.default.Children.only(e)}});t.default=u,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function n(e){return e&&e.__esModule?e:{default:e}}var S=n(r(2)),f=n(r(3)),O=n(r(4)),P=n(r(12)),_=n(r(5)),a=n(r(7)),V=n(r(8)),i=r(9),l=n(i),x=1e3/60;function A(e,n,a){return null==n?e.map(function(e,t){return{key:e.key,data:e.data,style:a[t]}}):e.map(function(e,t){for(var r=0;r<n.length;r++)if(n[r].key===e.key)return{key:n[r].key,data:n[r].data,style:a[t]};return{key:e.key,data:e.data,style:a[t]}})}function R(e,n,t,r,a,i,l,s){for(var o=P.default(t,r,function(e,t){var r=n(t);return null==r||V.default(a[e],r,i[e])?null:{key:t.key,data:t.data,style:r}}),u=[],c=[],f=[],d=[],p=0;p<o.length;p++){for(var y,m,h=o[p],v=null,T=0;T<t.length;T++)if(t[T].key===h.key){v=T;break}null==v?(y=e(h),u[p]=y,f[p]=y,m=S.default(h.style),c[p]=m,d[p]=m):(u[p]=a[v],f[p]=l[v],c[p]=i[v],d[p]=s[v])}return[o,u,c,f,d]}var s=l.default.createClass({displayName:"TransitionMotion",propTypes:{defaultStyles:i.PropTypes.arrayOf(i.PropTypes.shape({key:i.PropTypes.string.isRequired,data:i.PropTypes.any,style:i.PropTypes.objectOf(i.PropTypes.number).isRequired})),styles:i.PropTypes.oneOfType([i.PropTypes.func,i.PropTypes.arrayOf(i.PropTypes.shape({key:i.PropTypes.string.isRequired,data:i.PropTypes.any,style:i.PropTypes.objectOf(i.PropTypes.oneOfType([i.PropTypes.number,i.PropTypes.object])).isRequired}))]).isRequired,children:i.PropTypes.func.isRequired,willLeave:i.PropTypes.func,willEnter:i.PropTypes.func},getDefaultProps:function(){return{willEnter:function(e){return f.default(e.style)},willLeave:function(){return null}}},getInitialState:function(){var e=this.props,t=e.defaultStyles,r=e.styles,n=e.willEnter,a=e.willLeave,i="function"==typeof r?r(t):r,l=void 0,l=null==t?i:t.map(function(e){for(var t=0;t<i.length;t++)if(i[t].key===e.key)return i[t];return e}),s=null==t?i.map(function(e){return f.default(e.style)}):t.map(function(e){return f.default(e.style)}),o=null==t?i.map(function(e){return S.default(e.style)}):t.map(function(e){return S.default(e.style)}),u=R(n,a,l,i,s,o,s,o),c=u[0];return{currentStyles:u[1],currentVelocities:u[2],lastIdealStyles:u[3],lastIdealVelocities:u[4],mergedPropsStyles:c}},animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(e){for(var t=R(this.props.willEnter,this.props.willLeave,this.state.mergedPropsStyles,e,this.state.currentStyles,this.state.currentVelocities,this.state.lastIdealStyles,this.state.lastIdealVelocities),r=t[0],n=t[1],a=t[2],i=t[3],l=t[4],s=0;s<e.length;s++){var o,u=e[s].style,c=!1;for(var f in u){u.hasOwnProperty(f)&&("number"==typeof(o=u[f])&&(c||(c=!0,n[s]=d({},n[s]),a[s]=d({},a[s]),i[s]=d({},i[s]),l[s]=d({},l[s]),r[s]={key:r[s].key,data:r[s].data,style:d({},r[s].style)}),n[s][f]=o,a[s][f]=0,i[s][f]=o,l[s][f]=0,r[s].style[f]=o))}}this.setState({currentStyles:n,currentVelocities:a,mergedPropsStyles:r,lastIdealStyles:i,lastIdealVelocities:l})},startAnimationIfNecessary:function(){var D=this;this.animationID=a.default(function(){var e=D.props.styles,t="function"==typeof e?e(A(D.state.mergedPropsStyles,D.unreadPropStyles,D.state.lastIdealStyles)):e;if(function(e,t,r,n){if(n.length===t.length){for(var a=0;a<n.length;a++)if(n[a].key!==t[a].key)return;for(a=0;a<n.length;a++)if(!V.default(e[a],t[a].style,r[a]))return;return 1}}(D.state.currentStyles,t,D.state.currentVelocities,D.state.mergedPropsStyles))return D.animationID=null,void(D.accumulatedTime=0);var r=_.default(),n=r-D.prevTime;if(D.prevTime=r,D.accumulatedTime=D.accumulatedTime+n,D.accumulatedTime>10*x&&(D.accumulatedTime=0),0===D.accumulatedTime)return D.animationID=null,void D.startAnimationIfNecessary();for(var a=(D.accumulatedTime-Math.floor(D.accumulatedTime/x)*x)/x,i=Math.floor(D.accumulatedTime/x),l=R(D.props.willEnter,D.props.willLeave,D.state.mergedPropsStyles,t,D.state.currentStyles,D.state.currentVelocities,D.state.lastIdealStyles,D.state.lastIdealVelocities),s=l[0],o=l[1],u=l[2],c=l[3],f=l[4],d=0;d<s.length;d++){var p=s[d].style,y={},m={},h={},v={};for(var T in p)if(p.hasOwnProperty(T)){var S=p[T];if("number"==typeof S)y[T]=S,m[T]=0,h[T]=S,v[T]=0;else{for(var P=c[d][T],g=f[d][T],I=0;I<i;I++)var w=O.default(x/1e3,P,g,S.val,S.stiffness,S.damping,S.precision),P=w[0],g=w[1];var b=O.default(x/1e3,P,g,S.val,S.stiffness,S.damping,S.precision),k=b[0],M=b[1];y[T]=P+(k-P)*a,m[T]=g+(M-g)*a,h[T]=P,v[T]=g}}c[d]=h,f[d]=v,o[d]=y,u[d]=m}D.animationID=null,D.accumulatedTime-=i*x,D.setState({currentStyles:o,currentVelocities:u,lastIdealStyles:c,lastIdealVelocities:f,mergedPropsStyles:s}),D.unreadPropStyles=null,D.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=_.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),"function"==typeof e.styles?this.unreadPropStyles=e.styles(A(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):this.unreadPropStyles=e.styles,null==this.animationID&&(this.prevTime=_.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(a.default.cancel(this.animationID),this.animationID=null)},render:function(){var e=A(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&l.default.Children.only(t)}});t.default=s,e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,o,t){for(var u={},r=0;r<e.length;r++)u[e[r].key]=r;for(var c={},r=0;r<o.length;r++)c[o[r].key]=r;for(var n=[],r=0;r<o.length;r++)n[r]=o[r];for(r=0;r<e.length;r++){var a;c.hasOwnProperty(e[r].key)||null!=(a=t(r,e[r]))&&n.push(a)}return n.sort(function(e,t){var r=c[e.key],n=c[t.key],a=u[e.key],i=u[t.key];if(null!=r&&null!=n)return c[e.key]-c[t.key];if(null!=a&&null!=i)return u[e.key]-u[t.key];if(null!=r){for(var l=0;l<o.length;l++){var s=o[l].key;if(u.hasOwnProperty(s)){if(r<c[s]&&i>u[s])return-1;if(r>c[s]&&i<u[s])return 1}}return 1}for(l=0;l<o.length;l++){s=o[l].key;if(u.hasOwnProperty(s)){if(n<c[s]&&a>u[s])return 1;if(n>c[s]&&a<u[s])return-1}}return-1})},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e,t){return n({},s,t,{val:e})};var a,i=r(14),l=(a=i)&&a.__esModule?a:{default:a},s=n({},l.default.noWobble,{precision:.01});e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},function(r,n,e){(function(e){"use strict";n.__esModule=!0;var t=!(n.default=function(){"development"===e.env.NODE_ENV&&(t||(t=!0,console.error("`reorderKeys` has been removed, since it is no longer needed for TransitionMotion's new styles array API.")))});r.exports=n.default}).call(n,e(6))}],n.c=i,n.p="build/",n(0);function n(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return a[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var a,i});