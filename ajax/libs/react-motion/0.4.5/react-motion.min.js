!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactMotion=t(require("react")):e.ReactMotion=t(e.React)}(this,function(r){return l={},n.m=a=[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var a=r(1);t.Motion=n(a);var l=r(10);t.StaggeredMotion=n(l);var i=r(11);t.TransitionMotion=n(i);var o=r(13);t.spring=n(o);var s=r(14);t.presets=n(s);var u=r(15);t.reorderKeys=n(u)},function(e,t,r){"use strict";t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function n(e){return e&&e.__esModule?e:{default:e}}var l=n(r(2)),i=n(r(3)),P=n(r(4)),g=n(r(5)),a=n(r(7)),I=n(r(8)),o=r(9),s=n(o),b=1e3/60,c=s.default.createClass({displayName:"Motion",propTypes:{defaultStyle:o.PropTypes.objectOf(o.PropTypes.number),style:o.PropTypes.objectOf(o.PropTypes.oneOfType([o.PropTypes.number,o.PropTypes.object])).isRequired,children:o.PropTypes.func.isRequired,onRest:o.PropTypes.func},getInitialState:function(){var e=this.props,t=e.defaultStyle,r=e.style,n=t||i.default(r),a=l.default(n);return{currentStyle:n,currentVelocity:a,lastIdealStyle:n,lastIdealVelocity:a}},wasAnimating:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyle:null,clearUnreadPropStyle:function(e){var t,r=!1,n=this.state,a=n.currentStyle,l=n.currentVelocity,i=n.lastIdealStyle,o=n.lastIdealVelocity;for(var s in e){Object.prototype.hasOwnProperty.call(e,s)&&("number"==typeof(t=e[s])&&(r||(r=!0,a=u({},a),l=u({},l),i=u({},i),o=u({},o)),a[s]=t,l[s]=0,i[s]=t,o[s]=0))}r&&this.setState({currentStyle:a,currentVelocity:l,lastIdealStyle:i,lastIdealVelocity:o})},startAnimationIfNecessary:function(){var S=this;this.animationID=a.default(function(e){var t=S.props.style;if(I.default(S.state.currentStyle,t,S.state.currentVelocity))return S.wasAnimating&&S.props.onRest&&S.props.onRest(),S.animationID=null,S.wasAnimating=!1,void(S.accumulatedTime=0);S.wasAnimating=!0;var r=e||g.default(),n=r-S.prevTime;if(S.prevTime=r,S.accumulatedTime=S.accumulatedTime+n,S.accumulatedTime>10*b&&(S.accumulatedTime=0),0===S.accumulatedTime)return S.animationID=null,void S.startAnimationIfNecessary();var a=(S.accumulatedTime-Math.floor(S.accumulatedTime/b)*b)/b,l=Math.floor(S.accumulatedTime/b),i={},o={},s={},u={};for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)){var f=t[c];if("number"==typeof f)s[c]=f,u[c]=0,i[c]=f,o[c]=0;else{for(var p=S.state.lastIdealStyle[c],d=S.state.lastIdealVelocity[c],y=0;y<l;y++)var m=P.default(b/1e3,p,d,f.val,f.stiffness,f.damping,f.precision),p=m[0],d=m[1];var h=P.default(b/1e3,p,d,f.val,f.stiffness,f.damping,f.precision),v=h[0],T=h[1];s[c]=p+(v-p)*a,u[c]=d+(T-d)*a,i[c]=p,o[c]=d}}S.animationID=null,S.accumulatedTime-=l*b,S.setState({currentStyle:s,currentVelocity:u,lastIdealStyle:i,lastIdealVelocity:o}),S.unreadPropStyle=null,S.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=g.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=g.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(a.default.cancel(this.animationID),this.animationID=null)},render:function(){var e=this.props.children(this.state.currentStyle);return e&&s.default.Children.only(e)}});t.default=c,e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=0);return t},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]="number"==typeof e[r]?e[r]:e[r].val);return t},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,r,n,a,l,i){var o=r+(-a*(t-n)+-l*r)*e,s=t+o*e;if(Math.abs(o)<i&&Math.abs(s-n)<i)return u[0]=n,u[1]=0,u;return u[0]=s,u[1]=o,u};var u=[0,0];e.exports=t.default},function(a,e,t){(function(n){"use strict";(function(){var e,t,r;"undefined"!=typeof performance&&null!==performance&&performance.now?a.exports=function(){return performance.now()}:r=null!=n&&n.hrtime?(a.exports=function(){return(e()-r)/1e6},t=n.hrtime,(e=function(){var e=t();return 1e9*e[0]+e[1]})()):Date.now?(a.exports=function(){return Date.now()-r},Date.now()):(a.exports=function(){return(new Date).getTime()-r},(new Date).getTime())}).call(void 0)}).call(e,t(6))},function(e,t){"use strict";var r,n,a=e.exports={};function l(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(r===setTimeout)return setTimeout(t,0);if((r===l||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:l}catch(e){r=l}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,u=[],c=!1,f=-1;function p(){c&&s&&(c=!1,s.length?u=s.concat(u):f=-1,u.length&&d())}function d(){if(!c){var e=o(p);c=!0;for(var t=u.length;t;){for(s=u,u=[];++f<t;)s&&s[f].run();f=-1,t=u.length}s=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new y(e,t)),1!==u.length||c||o(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(f,e,p){(function(e){"use strict";for(var n,a,l,i=p(5),t="undefined"==typeof window?e:window,r=["moz","webkit"],o="AnimationFrame",s=t["request"+o],u=t["cancel"+o]||t["cancelRequest"+o],c=0;!s&&c<r.length;c++)s=t[r[c]+"Request"+o],u=t[r[c]+"Cancel"+o]||t[r[c]+"CancelRequest"+o];s&&u||(a=n=0,l=[],s=function(e){var t,r;return 0===l.length&&(t=i(),r=Math.max(0,1e3/60-(t-n)),n=r+t,setTimeout(function(){for(var e=l.slice(0),t=l.length=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(n)}catch(e){setTimeout(function(){throw e},0)}},Math.round(r))),l.push({handle:++a,callback:e,cancelled:!1}),a},u=function(e){for(var t=0;t<l.length;t++)l[t].handle===e&&(l[t].cancelled=!0)}),f.exports=function(e){return s.call(t,e)},f.exports.cancel=function(){u.apply(t,arguments)},f.exports.polyfill=function(){t.requestAnimationFrame=s,t.cancelAnimationFrame=u}}).call(e,function(){return this}())},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,r){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0!==r[n])return!1;var a="number"==typeof t[n]?t[n]:t[n].val;if(e[n]!==a)return!1}return!0},e.exports=t.default},function(e,t){e.exports=r},function(e,t,r){"use strict";t.__esModule=!0;var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function n(e){return e&&e.__esModule?e:{default:e}}var l=n(r(2)),i=n(r(3)),k=n(r(4)),M=n(r(5)),a=n(r(7)),D=n(r(8)),o=r(9),s=n(o),_=1e3/60;var u=s.default.createClass({displayName:"StaggeredMotion",propTypes:{defaultStyles:o.PropTypes.arrayOf(o.PropTypes.objectOf(o.PropTypes.number)),styles:o.PropTypes.func.isRequired,children:o.PropTypes.func.isRequired},getInitialState:function(){var e=this.props,t=e.defaultStyles,r=e.styles,n=t||r().map(i.default),a=n.map(function(e){return l.default(e)});return{currentStyles:n,currentVelocities:a,lastIdealStyles:n,lastIdealVelocities:a}},animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(e){for(var t=this.state,r=t.currentStyles,n=t.currentVelocities,a=t.lastIdealStyles,l=t.lastIdealVelocities,i=!1,o=0;o<e.length;o++){var s,u=e[o],c=!1;for(var f in u){Object.prototype.hasOwnProperty.call(u,f)&&("number"==typeof(s=u[f])&&(c||(i=c=!0,r[o]=p({},r[o]),n[o]=p({},n[o]),a[o]=p({},a[o]),l[o]=p({},l[o])),r[o][f]=s,n[o][f]=0,a[o][f]=s,l[o][f]=0))}}i&&this.setState({currentStyles:r,currentVelocities:n,lastIdealStyles:a,lastIdealVelocities:l})},startAnimationIfNecessary:function(){var O=this;this.animationID=a.default(function(e){var t=O.props.styles(O.state.lastIdealStyles);if(function(e,t,r){for(var n=0;n<e.length;n++)if(!D.default(e[n],t[n],r[n]))return;return 1}(O.state.currentStyles,t,O.state.currentVelocities))return O.animationID=null,void(O.accumulatedTime=0);var r=e||M.default(),n=r-O.prevTime;if(O.prevTime=r,O.accumulatedTime=O.accumulatedTime+n,O.accumulatedTime>10*_&&(O.accumulatedTime=0),0===O.accumulatedTime)return O.animationID=null,void O.startAnimationIfNecessary();for(var a=(O.accumulatedTime-Math.floor(O.accumulatedTime/_)*_)/_,l=Math.floor(O.accumulatedTime/_),i=[],o=[],s=[],u=[],c=0;c<t.length;c++){var f=t[c],p={},d={},y={},m={};for(var h in f)if(Object.prototype.hasOwnProperty.call(f,h)){var v=f[h];if("number"==typeof v)p[h]=v,d[h]=0,y[h]=v,m[h]=0;else{for(var T=O.state.lastIdealStyles[c][h],S=O.state.lastIdealVelocities[c][h],P=0;P<l;P++)var g=k.default(_/1e3,T,S,v.val,v.stiffness,v.damping,v.precision),T=g[0],S=g[1];var I=k.default(_/1e3,T,S,v.val,v.stiffness,v.damping,v.precision),b=I[0],w=I[1];p[h]=T+(b-T)*a,d[h]=S+(w-S)*a,y[h]=T,m[h]=S}}s[c]=p,u[c]=d,i[c]=y,o[c]=m}O.animationID=null,O.accumulatedTime-=l*_,O.setState({currentStyles:s,currentVelocities:u,lastIdealStyles:i,lastIdealVelocities:o}),O.unreadPropStyles=null,O.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=M.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=M.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(a.default.cancel(this.animationID),this.animationID=null)},render:function(){var e=this.props.children(this.state.currentStyles);return e&&s.default.Children.only(e)}});t.default=u,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function n(e){return e&&e.__esModule?e:{default:e}}var S=n(r(2)),f=n(r(3)),_=n(r(4)),P=n(r(12)),V=n(r(5)),a=n(r(7)),x=n(r(8)),l=r(9),i=n(l),j=1e3/60;function A(e,t,n){var a=t;return null==a?e.map(function(e,t){return{key:e.key,data:e.data,style:n[t]}}):e.map(function(e,t){for(var r=0;r<a.length;r++)if(a[r].key===e.key)return{key:a[r].key,data:a[r].data,style:n[t]};return{key:e.key,data:e.data,style:n[t]}})}function R(e,n,t,r,a,l,i,o){for(var s=P.default(t,r,function(e,t){var r=n(t);return null==r||x.default(a[e],r,l[e])?null:{key:t.key,data:t.data,style:r}}),u=[],c=[],f=[],p=[],d=0;d<s.length;d++){for(var y,m,h=s[d],v=null,T=0;T<t.length;T++)if(t[T].key===h.key){v=T;break}null==v?(y=e(h),u[d]=y,f[d]=y,m=S.default(h.style),c[d]=m,p[d]=m):(u[d]=a[v],f[d]=i[v],c[d]=l[v],p[d]=o[v])}return[s,u,c,f,p]}var o=i.default.createClass({displayName:"TransitionMotion",propTypes:{defaultStyles:l.PropTypes.arrayOf(l.PropTypes.shape({key:l.PropTypes.string.isRequired,data:l.PropTypes.any,style:l.PropTypes.objectOf(l.PropTypes.number).isRequired})),styles:l.PropTypes.oneOfType([l.PropTypes.func,l.PropTypes.arrayOf(l.PropTypes.shape({key:l.PropTypes.string.isRequired,data:l.PropTypes.any,style:l.PropTypes.objectOf(l.PropTypes.oneOfType([l.PropTypes.number,l.PropTypes.object])).isRequired}))]).isRequired,children:l.PropTypes.func.isRequired,willLeave:l.PropTypes.func,willEnter:l.PropTypes.func},getDefaultProps:function(){return{willEnter:function(e){return f.default(e.style)},willLeave:function(){return null}}},getInitialState:function(){var e=this.props,t=e.defaultStyles,r=e.styles,n=e.willEnter,a=e.willLeave,l="function"==typeof r?r(t):r,i=void 0,i=null==t?l:t.map(function(e){for(var t=0;t<l.length;t++)if(l[t].key===e.key)return l[t];return e}),o=null==t?l.map(function(e){return f.default(e.style)}):t.map(function(e){return f.default(e.style)}),s=null==t?l.map(function(e){return S.default(e.style)}):t.map(function(e){return S.default(e.style)}),u=R(n,a,i,l,o,s,o,s),c=u[0];return{currentStyles:u[1],currentVelocities:u[2],lastIdealStyles:u[3],lastIdealVelocities:u[4],mergedPropsStyles:c}},unmounting:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(e){for(var t=R(this.props.willEnter,this.props.willLeave,this.state.mergedPropsStyles,e,this.state.currentStyles,this.state.currentVelocities,this.state.lastIdealStyles,this.state.lastIdealVelocities),r=t[0],n=t[1],a=t[2],l=t[3],i=t[4],o=0;o<e.length;o++){var s,u=e[o].style,c=!1;for(var f in u){Object.prototype.hasOwnProperty.call(u,f)&&("number"==typeof(s=u[f])&&(c||(c=!0,n[o]=p({},n[o]),a[o]=p({},a[o]),l[o]=p({},l[o]),i[o]=p({},i[o]),r[o]={key:r[o].key,data:r[o].data,style:p({},r[o].style)}),n[o][f]=s,a[o][f]=0,l[o][f]=s,i[o][f]=0,r[o].style[f]=s))}}this.setState({currentStyles:n,currentVelocities:a,mergedPropsStyles:r,lastIdealStyles:l,lastIdealVelocities:i})},startAnimationIfNecessary:function(){var D=this;this.unmounting||(this.animationID=a.default(function(e){var t=D.props.styles,r="function"==typeof t?t(A(D.state.mergedPropsStyles,D.unreadPropStyles,D.state.lastIdealStyles)):t;if(function(e,t,r,n){if(n.length===t.length){for(var a=0;a<n.length;a++)if(n[a].key!==t[a].key)return;for(a=0;a<n.length;a++)if(!x.default(e[a],t[a].style,r[a]))return;return 1}}(D.state.currentStyles,r,D.state.currentVelocities,D.state.mergedPropsStyles))return D.animationID=null,void(D.accumulatedTime=0);var n=e||V.default(),a=n-D.prevTime;if(D.prevTime=n,D.accumulatedTime=D.accumulatedTime+a,D.accumulatedTime>10*j&&(D.accumulatedTime=0),0===D.accumulatedTime)return D.animationID=null,void D.startAnimationIfNecessary();for(var l=(D.accumulatedTime-Math.floor(D.accumulatedTime/j)*j)/j,i=Math.floor(D.accumulatedTime/j),o=R(D.props.willEnter,D.props.willLeave,D.state.mergedPropsStyles,r,D.state.currentStyles,D.state.currentVelocities,D.state.lastIdealStyles,D.state.lastIdealVelocities),s=o[0],u=o[1],c=o[2],f=o[3],p=o[4],d=0;d<s.length;d++){var y=s[d].style,m={},h={},v={},T={};for(var S in y)if(Object.prototype.hasOwnProperty.call(y,S)){var P=y[S];if("number"==typeof P)m[S]=P,h[S]=0,v[S]=P,T[S]=0;else{for(var g=f[d][S],I=p[d][S],b=0;b<i;b++)var w=_.default(j/1e3,g,I,P.val,P.stiffness,P.damping,P.precision),g=w[0],I=w[1];var O=_.default(j/1e3,g,I,P.val,P.stiffness,P.damping,P.precision),k=O[0],M=O[1];m[S]=g+(k-g)*l,h[S]=I+(M-I)*l,v[S]=g,T[S]=I}}f[d]=v,p[d]=T,u[d]=m,c[d]=h}D.animationID=null,D.accumulatedTime-=i*j,D.setState({currentStyles:u,currentVelocities:c,lastIdealStyles:f,lastIdealVelocities:p,mergedPropsStyles:s}),D.unreadPropStyles=null,D.startAnimationIfNecessary()}))},componentDidMount:function(){this.prevTime=V.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"==typeof t?t(A(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=V.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){this.unmounting=!0,null!=this.animationID&&(a.default.cancel(this.animationID),this.animationID=null)},render:function(){var e=A(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&i.default.Children.only(t)}});t.default=o,e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,s,t){for(var u={},r=0;r<e.length;r++)u[e[r].key]=r;for(var c={},r=0;r<s.length;r++)c[s[r].key]=r;for(var n=[],r=0;r<s.length;r++)n[r]=s[r];for(r=0;r<e.length;r++){var a;Object.prototype.hasOwnProperty.call(c,e[r].key)||null!=(a=t(r,e[r]))&&n.push(a)}return n.sort(function(e,t){var r=c[e.key],n=c[t.key],a=u[e.key],l=u[t.key];if(null!=r&&null!=n)return c[e.key]-c[t.key];if(null!=a&&null!=l)return u[e.key]-u[t.key];if(null!=r){for(var i=0;i<s.length;i++){var o=s[i].key;if(Object.prototype.hasOwnProperty.call(u,o)){if(r<c[o]&&l>u[o])return-1;if(r>c[o]&&l<u[o])return 1}}return 1}for(i=0;i<s.length;i++){o=s[i].key;if(Object.prototype.hasOwnProperty.call(u,o)){if(n<c[o]&&a>u[o])return 1;if(n>c[o]&&a<u[o])return-1}}return-1})},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e,t){return n({},o,t,{val:e})};var a,l=r(14),i=(a=l)&&a.__esModule?a:{default:a},o=n({},i.default.noWobble,{precision:.01});e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},function(r,n,e){(function(e){"use strict";n.__esModule=!0;var t=!(n.default=function(){"development"===e.env.NODE_ENV&&(t||(t=!0,console.error("`reorderKeys` has been removed, since it is no longer needed for TransitionMotion's new styles array API.")))});r.exports=n.default}).call(n,e(6))}],n.c=l,n.p="build/",n(0);function n(e){if(l[e])return l[e].exports;var t=l[e]={exports:{},id:e,loaded:!1};return a[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var a,l});