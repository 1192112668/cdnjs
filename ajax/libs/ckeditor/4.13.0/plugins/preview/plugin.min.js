!function(){var d,t={modes:{wysiwyg:1,source:1},canUndo:!1,readOnly:1,exec:function(e){var t=(o=e.config).baseHref?'<base href="'+o.baseHref+'"/>':"",n=o.fullPage?e.getData().replace(/<head>/,"$&"+t).replace(/[^>]*(?=<\/title>)/,"$& &mdash; "+e.lang.preview.preview):(o="<body ",(i=e.document&&e.document.getBody())&&(i.getAttribute("id")&&(o+='id="'+i.getAttribute("id")+'" '),i.getAttribute("class")&&(o+='class="'+i.getAttribute("class")+'" ')),o+=">",e.config.docType+'<html dir="'+e.config.contentsLangDirection+'"><head>'+t+"<title>"+e.lang.preview.preview+"</title>"+CKEDITOR.tools.buildStyleHtml(e.config.contentsCss)+"</head>"+o+e.getData()+"</body></html>");t=640,o=420,i=80;try{var a=window.screen,t=Math.round(.8*a.width),o=Math.round(.7*a.height),i=Math.round(.1*a.width)}catch(e){}if(!1===e.fire("contentPreview",e={dataValue:n}))return!1;var r,a="";return CKEDITOR.env.ie&&(window._cke_htmlToLoad=e.dataValue,r="javascript:void( (function(){document.open();"+("("+CKEDITOR.tools.fixDomain+")();").replace(/\/\/.*?\n/g,"").replace(/parent\./g,"window.opener.")+"document.write( window.opener._cke_htmlToLoad );document.close();window.opener._cke_htmlToLoad = null;})() )",a=""),CKEDITOR.env.gecko&&(window._cke_htmlToLoad=e.dataValue,a=CKEDITOR.getUrl(d+"preview.html")),a=window.open(a,null,"toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width="+t+",height="+o+",left="+i),CKEDITOR.env.ie&&a&&(a.location=r),CKEDITOR.env.ie||CKEDITOR.env.gecko||((r=a.document).open(),r.write(e.dataValue),r.close()),!0}};CKEDITOR.plugins.add("preview",{lang:"af,ar,az,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,es-mx,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,oc,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn",icons:"preview,preview-rtl",hidpi:!0,init:function(e){e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&(d=this.path,e.addCommand("preview",t),e.ui.addButton&&e.ui.addButton("Preview",{label:e.lang.preview.preview,command:"preview",toolbar:"document,40"}))}})}();