/*!
  * vue-i18n v9.0.0-alpha.1
  * (c) 2020 kazuya kawaguchi
  * Released under the MIT License.
  */
import{inject as e,getCurrentInstance as t,provide as n,ref as r,computed as a}from"vue";const s="undefined"!=typeof Intl,o={dateTimeFormat:s&&void 0!==Intl.DateTimeFormat,numberFormat:s&&void 0!==Intl.NumberFormat},l=Symbol.for("vue-i18n"),c=new Map;function i(r){const a=e(l);if(!a)throw new Error("TODO");const s=t();if(null===s||!r)return a;const o=c.get(s);if(o){const t=e(o)||a;if(!t)throw new Error("TODO");return t}{const e=s.type;e.__i18n&&(r.__i18n=e.__i18n),a&&(r._root=a);const t=se(r),o=Symbol.for(`vue-i18n-${(new Date).getUTCMilliseconds().toString()}`);return c.set(s,o),n(o,t),t}}var u={name:"i18n"},f={name:"i18n-n"};function m(e,t,n,r){}function d(e,t){e.component(u.name,u),e.component(f.name,f),e.directive("t",m),e.provide(l,t)}const b=Array.isArray,p=e=>"number"==typeof e&&isFinite(e),g=e=>"function"==typeof e,k=e=>"string"==typeof e,h=e=>"boolean"==typeof e,v=e=>null!==e&&"object"==typeof e,F=e=>"[object RegExp]"===T(e),y=Object.prototype.toString,T=e=>y.call(e),x=e=>"[object Object]"===T(e),_=e=>null==e?"":b(e)||x(e)&&e.toString===y?JSON.stringify(e,null,2):String(e),L={upper:e=>e.toUpperCase(),lower:e=>e.toLowerCase(),capitalize:e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`};function w(e,t,n,r,a,s,o){let l=e.unresolving?h(s)&&s&&k(o)?o:-1:k(o)?o:"";return 0===e.fallbackLocales.length||e._fallbackLocaleStack&&0===e._fallbackLocaleStack.length||(e._fallbackLocaleStack||(e._fallbackLocaleStack=[...e.fallbackLocales]),l=a(e),e._fallbackLocaleStack&&0===e._fallbackLocaleStack.length&&(e._fallbackLocaleStack=void 0,""!==l&&l!==t||!e.unresolving||(l=-1))),l}const O=[];O[0]={w:[0],i:[3,0],"[":[4],o:[7]},O[1]={w:[1],".":[2],"[":[4],o:[7]},O[2]={w:[2],i:[3,0],0:[3,0]},O[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},O[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},O[5]={"'":[4,0],o:8,l:[5,0]},O[6]={'"':[4,0],o:8,l:[6,0]};const W=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function $(e){if(null==e)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function P(e){const t=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(W.test(t)?function(e){const t=e.charCodeAt(0);return t!==e.charCodeAt(e.length-1)||34!==t&&39!==t?e:e.slice(1,-1)}(t):"*"+t)}const S=new Map;function C(e,t){if(!v(e))return null;let n=S.get(t);if(n||(n=function(e){const t=[];let n,r,a,s,o,l,c,i=-1,u=0,f=0;const m=[];function d(){const t=e[i+1];if(5===u&&"'"===t||6===u&&'"'===t)return i++,a="\\"+t,m[0](),!0}for(m[0]=()=>{void 0===r?r=a:r+=a},m[1]=()=>{void 0!==r&&(t.push(r),r=void 0)},m[2]=()=>{m[0](),f++},m[3]=()=>{if(f>0)f--,u=4,m[0]();else{if(f=0,void 0===r)return!1;if(r=P(r),!1===r)return!1;m[1]()}};null!==u;)if(i++,n=e[i],"\\"!==n||!d()){if(s=$(n),c=O[u],o=c[s]||c.l||8,8===o)return;if(u=o[0],void 0!==o[1]&&(l=m[o[1]],l&&(a=n,!1===l())))return;if(7===u)return t}}(t),n&&S.set(t,n)),!n)return null;const r=n.length;let a=e,s=0;for(;s<r;){const e=a[n[s]];if(void 0===e)return null;a=e,s++}return a}const M=String.fromCharCode(8232),E=String.fromCharCode(8233);function R(e){const t=e;let n=0,r=1,a=1,s=0;const o=e=>"\r"===t[e]&&"\n"===t[e+1],l=e=>t[e]===E,c=e=>t[e]===M,i=e=>o(e)||(e=>"\n"===t[e])(e)||l(e)||c(e);function u(e){return o(e)||l(e)||c(e)?"\n":t[e]}function f(){return s=0,i(n)&&(r++,a=0),o(n)&&n++,n++,a++,t[n]}return Object.freeze({index:()=>n,line:()=>r,column:()=>a,peekOffset:()=>s,charAt:u,currentChar:()=>u(n),currentPeek:()=>u(n+s),next:f,peek:function(){return o(n+s)&&s++,s++,t[n+s]},reset:function(){n=0,r=1,a=1,s=0},resetPeek:function(e=0){s=e},skipToPeek:function(){const e=n+s;for(;e!==n;)f();s=0}})}function j(e,t,n){return{start:e,end:t,source:n}}function D(e){const t=R(e),n=()=>t.index(),r=()=>{return e=t.line(),n=t.column(),r=t.index(),{line:e,column:n,offset:r};var e,n,r},a=r(),s=n(),o={currentType:14,currentValue:null,offset:s,startLoc:a,endLoc:a,lastType:14,lastOffset:s,lastStartLoc:a,lastEndLoc:a},l=(e,t,n)=>(e.endLoc=r(),e.currentType=t,e.currentValue=n,{type:t,value:n,loc:j(e.startLoc,e.endLoc)}),c=e=>{for(;" "===e.currentPeek()||"\n"===e.currentPeek();)e.peek()},i=e=>{c(e),e.skipToPeek()},u=e=>{if(!e)return!1;const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90},f=e=>{c(e);const t="|"===e.currentPeek();return e.resetPeek(),t},m=(e,t)=>{const n=e.currentChar();if(void 0!==n)return t(n)?(e.next(),n):null},d=e=>m(e,e=>{const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t}),b=e=>m(e,e=>{const t=e.charCodeAt(0);return t>=48&&t<=57}),p=e=>{let t="",n="";for(;t=b(e);)n+=t;return n},g=(e,t)=>{let n={type:14};const r=e.currentChar();switch(r){case"{":e.next(),n=l(t,2,"{");break;case"}":e.next(),n=l(t,3,"}");break;case"@":e.next(),n=l(t,7,"@");break;case".":e.next(),n=l(t,8,".");break;case":":e.next(),n=l(t,9,":");break;case"(":e.next(),n=l(t,12,"(");break;case")":e.next(),n=l(t,13,")");break;case"%":e.next(),n=l(t,4,"%");break;default:f(e)?n=l(t,1,(e=>{i(e);const t=e.currentChar();return e.next(),i(e),t})(e)):((e,t)=>{const{currentType:n}=t;if(2===n||12===n||8===n||9===n)return!1;const r=(t=!1)=>{const n=e.currentPeek();return"{"!==n&&"%"!==n&&"@"!==n&&n?"|"!==n&&(" "===n?(e.peek(),r(!0)):"\n"!==n||(e.peek(),r(!0))):t},a=r();return e.resetPeek(),a})(e,t)?n=l(t,0,(e=>{const t=n=>{const r=e.currentChar();return"{"!==r&&"%"!==r&&"@"!==r&&r?(" "===r||"\n"===r)&&f(e)?n:(n+=r,e.next(),t(n)):n};return t("")})(e)):((e,t)=>{const{currentType:n}=t;if(2!==n)return!1;c(e);const r=u(e.currentPeek());return e.resetPeek(),r})(e,t)?n=l(t,5,(e=>{i(e);let t="",n="";for(;t=d(e);)n+=t;return i(e),n})(e)):((e,t)=>{const{currentType:n}=t;if(2!==n)return!1;c(e);const r=(e=>{if(!e)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57})("-"===e.currentPeek()?e.peek():e.currentPeek());return e.resetPeek(),r})(e,t)?n=l(t,6,(e=>{i(e);let t="";return"-"===e.currentChar()?(e.next(),t+=`-${p(e)}`):t+=p(e),i(e),parseInt(t,10)})(e)):((e,t)=>{const{currentType:n}=t;if(8!==n)return!1;const r=u(e.currentPeek());return e.resetPeek(),r})(e,t)?n=l(t,11,(e=>{let t="",n="";for(;t=d(e);)n+=t;return n})(e)):((e,t)=>{const{currentType:n}=t;if(9!==n&&12!==n)return!1;const r=()=>{const t=e.currentPeek();return"{"===t?u(e.peek()):!("@"===t||"%"===t||"|"===t||":"===t||"."===t||" "===t||!t)&&("\n"===t?r():u(t))},a=r();return e.resetPeek(),a})(e,t)&&("{"===r?(e.next(),n=l(t,2,"{")):n=l(t,10,((e,t)=>{const n=(t=!1,r=!1,a)=>{const s=e.currentChar();return"{"!==s&&"%"!==s&&"@"!==s&&")"!==s&&"|"!==s&&s?" "===s?r?(a+=s,e.next(),n(t,r,a)):a:"\n"===s?(a+=s,e.next(),n(t,r,a)):(a+=s,e.next(),n(!0,r,a)):a};return n(!1,12===t.currentType,"")})(e,t)))}return n};return Object.freeze({nextToken:()=>{const{currentType:e,offset:a,startLoc:s,endLoc:c}=o;return o.lastType=e,o.lastOffset=a,o.lastStartLoc=s,o.lastEndLoc=c,o.offset=n(),o.startLoc=r(),t.currentChar()?g(t,o):l(o,14)},currentOffset:n,currentPosition:r,context:()=>o})}function I(){const e=(e,t,n)=>({type:e,start:t,end:t,loc:{start:n,end:n}}),t=(e,t,n,r)=>{e.end=t,r&&(e.type=r),e.loc&&(e.loc.end=n)},n=(n,r)=>{const a=n.context(),s=e(3,a.offset,a.startLoc);return s.value=r,t(s,n.currentOffset(),n.currentPosition()),s},r=(n,r)=>{const a=n.context(),{lastOffset:s,lastStartLoc:o}=a,l=e(5,s,o);return l.index=r,n.nextToken(),t(l,n.currentOffset(),n.currentPosition()),l},a=(n,r)=>{const a=n.context(),{lastOffset:s,lastStartLoc:o}=a,l=e(4,s,o);return l.key=r,n.nextToken(),t(l,n.currentOffset(),n.currentPosition()),l},s=n=>{const s=n.context(),o=e(6,s.offset,s.startLoc);let l=n.nextToken();if(8===l.type&&(o.modifier=(n=>{const r=n.nextToken();if(!r.value||"number"==typeof r.value)throw new Error;const a=n.context(),{lastOffset:s,lastStartLoc:o}=a,l=e(8,s,o);return l.value=r.value,t(l,n.currentOffset(),n.currentPosition()),l})(n),l=n.nextToken()),9!==l.type)throw new Error;l=n.nextToken();let c=!1;switch(12===l.type&&(l=n.nextToken(),c=!0),2===l.type&&(l=n.nextToken()),l.type){case 10:if(!l.value||"string"!=typeof l.value)throw new Error;o.key=((n,r)=>{const a=n.context(),s=e(7,a.offset,a.startLoc);return s.value=r,t(s,n.currentOffset(),n.currentPosition()),s})(n,l.value);break;case 5:if(!l.value||"number"==typeof l.value)throw new Error;o.key=a(n,l.value);break;case 6:if(void 0===l.value||"string"==typeof l.value)throw new Error;o.key=r(n,l.value);break;default:throw new Error}return c&&(l=n.nextToken()),t(o,n.currentOffset(),n.currentPosition()),o},o=o=>{const l=o.context(),c=1===l.currentType?o.currentOffset():l.offset,i=e(2,c,1===l.currentType?l.endLoc:l.startLoc);i.items=[];do{const e=o.nextToken();switch(e.type){case 0:if(!e.value||"number"==typeof e.value)throw new Error;i.items.push(n(o,e.value));break;case 6:if(void 0===e.value||"string"==typeof e.value)throw new Error;i.items.push(r(o,e.value));break;case 5:if(!e.value||"number"==typeof e.value)throw new Error;i.items.push(a(o,e.value));break;case 7:i.items.push(s(o))}}while(14!==l.currentType&&1!==l.currentType);const u=1===l.currentType?l.lastOffset:o.currentOffset(),f=1===l.currentType?l.lastEndLoc:o.currentPosition();return t(i,u,f),i},l=n=>{const r=n.context(),{offset:a,startLoc:s}=r,l=o(n);return 14===r.currentType?l:((n,r,a,s)=>{const l=n.context(),c=e(1,r,a);c.cases=[],c.cases.push(s);do{const e=o(n);c.cases.push(e)}while(14!==l.currentType);return t(c,n.currentOffset(),n.currentPosition()),c})(n,a,s,l)};return Object.freeze({parse:function(n){const r=D(n),a=r.context(),s=e(0,a.offset,a.startLoc);if(s.body=l(r),14!==a.currentType)throw new Error;return t(s,r.currentOffset(),r.currentPosition()),s}})}function N(e,t){for(let n=0;n<e.length;n++)A(e[n],t)}function A(e,t){const n=t.context();switch(e.type){case 1:N(e.cases,t);break;case 2:N(e.items,t);break;case 6:const r=e;r.modifier&&A(r.modifier,t),A(r.key,t);break;case 5:case 4:n.needInterpolate=!0}}function z(e){const t=function(e){const t={ast:e,needInterpolate:!1};return Object.freeze({context:()=>t})}(e);e.body&&A(e.body,t);const n=t.context();e.needInterpolate=n.needInterpolate}function H(e,t){switch(t.type){case 0:!function(e,t){t.body?H(e,t.body):e.push("null")}(e,t);break;case 1:!function(e,t){if(t.cases.length>1){e.push("["),e.indent();for(let n=0;n<t.cases.length;n++)H(e,t.cases[n]),e.push(", ");e.push('""'),e.deindent(),e.push(`][ctx.pluralRule(ctx.pluralIndex, ${t.cases.length}, ctx.orgPluralRule)]`)}}(e,t);break;case 2:!function(e,t){if(t.items.length>1){e.push("["),e.indent();for(let n=0;n<t.items.length&&(H(e,t.items[n]),n!==t.items.length-1);n++)e.push(", ");e.deindent(),e.push('].join("")')}else H(e,t.items[0])}(e,t);break;case 6:!function(e,t){t.modifier&&(e.push("ctx.modifier("),H(e,t.modifier),e.push(")(")),e.push("ctx.message("),H(e,t.key),e.push(")(ctx)"),t.modifier&&e.push(")")}(e,t);break;case 8:case 7:e.push(JSON.stringify(t.value));break;case 5:e.push(`ctx.interpolate(ctx.list(${t.index}))`);break;case 4:e.push(`ctx.interpolate(ctx.named(${JSON.stringify(t.key)}))`);break;case 3:e.push(JSON.stringify(t.value));break;default:throw new Error(`unhandled codegen node type: ${t.type}`)}}const U=e=>{const t=function(e){const t={source:e,code:"",indentLevel:0},n=e=>{t.code+=e},r=e=>{n("\n"+"  ".repeat(e))};return Object.freeze({context:()=>t,push:n,indent:()=>{r(++t.indentLevel)},deindent:e=>{e?--t.indentLevel:r(--t.indentLevel)},newline:()=>{r(t.indentLevel)}})}(e.loc&&e.loc.source);return t.push("function __msg__ (ctx) {"),t.indent(),t.push("return "),H(t,e),t.deindent(),t.push("}"),t.context().code};const J=Object.create(null),V=function(){const e=I();return Object.freeze({compile:t=>{const n=e.parse(t);return z(n),{code:U(n),ast:n}}})}();function q(e,t={}){const{code:n}=V.compile(e,t),r=new Function(`return ${n}`)();return J[e]=r}const B=e=>e,G=e=>"";function K(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function Q(e={}){const t=e.locale,n=function(e){const t=p(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(p(e.named.count)||p(e.named.n))?p(e.named.count)?e.named.count:p(e.named.n)?e.named.n:t:t}(e),r=v(e.pluralRules)&&k(t)&&g(e.pluralRules[t])?e.pluralRules[t]:K,a=v(e.pluralRules)&&k(t)&&g(e.pluralRules[t])?K:void 0,s=e.list||[],o=e.named||{};p(e.pluralIndex)&&function(e,t){t.count||(t.count=e),t.n||(t.n=e)}(n,o);return{list:e=>s[e],named:e=>o[e],pluralIndex:n,pluralRule:r,orgPluralRule:a,modifier:t=>e.modifiers?e.modifiers[t]:B,message:t=>{const n=g(e.messages)?e.messages(t):!!v(e.messages)&&e.messages[t];return n||(e.parent?e.parent.message(t):G)},interpolate:_}}const X=()=>"";function Y(e,...t){const{messages:n,modifiers:r,pluralRules:a,fallbackFormat:s,postTranslation:o,_compileCache:l,_fallbackLocaleStack:c}=e,[i,u]=Z(...t);h(u.missingWarn),h(u.fallbackWarn);let f=k(u.locale)?u.locale:e.locale;b(c)&&c.length>0&&(f=c.shift()||f);const m=k(u.default)||h(u.default)?h(u.default)?i:u.default:s?i:"",d=s||""!==m,v=n[f]||{},F={locale:f,modifiers:r,pluralRules:a,messages:e=>{const t=l.get(e);if(t)return t;const n=C(v,e);if(k(n)){const e=q(n);return l.set(n,e),e}return g(n)?n:X}};u.list&&(F.list=u.list),u.named&&(F.named=u.named),p(u.plural)&&(F.pluralIndex=u.plural);let y=C(v,i);if(!k(y)){let n=function(e,t,n,r){const{missing:a}=e;if(null!==a){const r=a(e,n,t);return k(r)?r:t}return t}(e,i,f);if(n=w(e,i,0,0,e=>Y(e,...t),d,n),!d)return n;y=m}let T=l.get(y);T||(T=q(y),l.set(y,T));const x=T(Q(F));return o?o(x):x}function Z(...e){const[t,n,r]=e,a={};if(!k(t))throw new Error("TODO");const s=t;var o;return p(n)?a.plural=n:k(n)?a.default=n:x(n)&&(!x(o=n)||0!==Object.keys(o).length)?a.named=n:b(n)&&(a.list=n),p(r)?a.plural=r:k(r)?a.default=r:x(r)&&Object.assign(a,r),[s,a]}function ee(...e){const[t,n,r]=e;let a={};if(!p(t)&&"[object Date]"!==T(t))throw new Error("TODO");const s=t;return k(n)?a.key=n:x(n)&&(a=n),k(r)&&(a.locale=r),[s,a]}function te(e,t,n){for(const r in n){const n=`${t}__${r}`;e._datetimeFormatters.has(n)&&e._datetimeFormatters.delete(n)}}function ne(...e){const[t,n,r]=e;let a={};if(!p(t))throw new Error("TODO");const s=t;return k(n)?a.key=n:x(n)&&(a=n),k(r)&&(a.locale=r),[s,a]}function re(e,t,n){for(const r in n){const n=`${t}__${r}`;e._numberFormatters.has(n)&&e._numberFormatters.delete(n)}}function ae(e){return(n,r,a)=>e(r,a,t()||void 0)}function se(e={}){const{_root:t}=e,n=r(t?t.locale.value:k(e.locale)?e.locale:"en-US"),s=r(t?t.fallbackLocales.value:b(e.fallbackLocales)?e.fallbackLocales:[]),o=r(function(e,t){const{messages:n,__i18n:r}=e;let a=x(n)?n:b(r)?{}:{[t]:{}};return b(r)&&r.forEach(e=>{a=Object.assign(a,JSON.parse(e))}),a}(e,n.value)),l=r(x(e.datetimeFormats)?e.datetimeFormats:{[n.value]:{}}),c=r(x(e.numberFormats)?e.numberFormats:{[n.value]:{}});let i=t?t.missingWarn:!h(e.missingWarn)&&!F(e.missingWarn)||e.missingWarn,u=t?t.fallbackWarn:!h(e.fallbackWarn)&&!F(e.fallbackWarn)||e.fallbackWarn,f=!h(e.fallbackRoot)||e.fallbackRoot,m=!!h(e.fallbackFormat)&&e.fallbackFormat,y=g(e.missing)?e.missing:null,T=g(e.missing)?ae(e.missing):null,_=g(e.postTranslation)?e.postTranslation:null;const O=t?t.modifiers:x(e.modifiers)?e.modifiers:{},W=e.pluralRules;let $;$=function(e={}){const t=k(e.locale)?e.locale:"en-US",n=b(e.fallbackLocales)?e.fallbackLocales:[],r=x(e.messages)?e.messages:{[t]:{}},a=x(e.datetimeFormats)?e.datetimeFormats:{[t]:{}},s=x(e.numberFormats)?e.numberFormats:{[t]:{}},o=v(e._compileCache)?e._compileCache:new Map;return{locale:t,fallbackLocales:n,messages:r,datetimeFormats:a,numberFormats:s,modifiers:Object.assign({},e.modifiers||{},L),pluralRules:e.pluralRules||{},missing:g(e.missing)?e.missing:null,missingWarn:!h(e.missingWarn)&&!F(e.missingWarn)||e.missingWarn,fallbackWarn:!h(e.fallbackWarn)&&!F(e.fallbackWarn)||e.fallbackWarn,fallbackFormat:!!h(e.fallbackFormat)&&e.fallbackFormat,unresolving:!!h(e.unresolving)&&e.unresolving,postTranslation:g(e.postTranslation)?e.postTranslation:null,_compileCache:o,_datetimeFormatters:v(e._datetimeFormatters)?e._datetimeFormatters:new Map,_numberFormatters:v(e._numberFormatters)?e._numberFormatters:new Map}}({locale:n.value,fallbackLocales:s.value,messages:o.value,datetimeFormats:l.value,numberFormats:c.value,modifiers:O,pluralRules:W,missing:null===T?void 0:T,missingWarn:i,fallbackWarn:u,fallbackFormat:m,unresolving:!0,postTranslation:null===_?void 0:_,_compileCache:x($)?$._compileCache:void 0,_datetimeFormatters:x($)?$._datetimeFormatters:void 0,_numberFormatters:x($)?$._numberFormatters:void 0});const P={locale:a({get:()=>n.value,set:e=>{n.value=e,$.locale=n.value}}),fallbackLocales:a({get:()=>s.value,set:e=>{s.value=e,$.fallbackLocales=s.value}}),get availableLocales(){return Object.keys(o.value).sort()},messages:a(()=>o.value),datetimeFormats:a(()=>l.value),numberFormats:a(()=>c.value),get modifiers(){return O},get pluralRules(){return W},get missingWarn(){return i},set missingWarn(e){i=e,$.missingWarn=i},get fallbackWarn(){return u},set fallbackWarn(e){u=e,$.fallbackWarn=u},get fallbackRoot(){return f},set fallbackRoot(e){f=e},get fallbackFormat(){return m},set fallbackFormat(e){m=e,$.fallbackFormat=m},t:(...e)=>a(()=>{const n=Y($,...e);if(p(n)&&-1===n){const[n]=Z(...e);return f&&t?t.t(...e):n}if(k(n))return n;throw new Error("TODO:")}).value,d:(...e)=>a(()=>{const n=function e(t,...n){const{datetimeFormats:r,_datetimeFormatters:a,_fallbackLocaleStack:s}=t,[o,l]=ee(...n),{key:c}=l;h(l.fallbackWarn);let i=k(l.locale)?l.locale:t.locale;if(b(s)&&s.length>0&&(i=s.shift()||i),!k(c))return new Intl.DateTimeFormat(i).format(o);const u=r[i];if(!u)return w(t,c,0,0,t=>e(t,o,l));const f=u[c];if(!f)return w(t,c,0,0,t=>e(t,o,l));const m=`${i}__${c}`;let d=a.get(m);return d||(d=new Intl.DateTimeFormat(i,f),a.set(m,d)),d.format(o)}($,...e);if(p(n)&&-1===n){const[,n]=ee(...e);return f&&t?t.d(...e):""}if(k(n))return n;throw new Error("TODO:")}).value,n:(...e)=>a(()=>{const n=function e(t,...n){const{numberFormats:r,_numberFormatters:a,_fallbackLocaleStack:s}=t,[o,l]=ne(...n),{key:c}=l;h(l.fallbackWarn);let i=k(l.locale)?l.locale:t.locale;if(b(s)&&s.length>0&&(i=s.shift()||i),!k(c))return new Intl.NumberFormat(i).format(o);const u=r[i];if(!u)return w(t,c,0,0,t=>e(t,o,l));const f=u[c];if(!f)return w(t,c,0,0,t=>e(t,o,l));const m=`${i}__${c}`;let d=a.get(m);return d||(d=new Intl.NumberFormat(i,f),a.set(m,d)),d.format(o)}($,...e);if(p(n)&&-1===n){const[,n]=ne(...e);return f&&t?t.d(...e):""}if(k(n))return n;throw new Error("TODO:")}).value,getLocaleMessage:e=>o.value[e]||{},setLocaleMessage:(e,t)=>{o.value[e]=t,$.messages=o.value},mergeLocaleMessage:(e,t)=>{o.value[e]=Object.assign(o.value[e]||{},t),$.messages=o.value},getDateTimeFormat:e=>l.value[e]||{},setDateTimeFormat:(e,t)=>{l.value[e]=t,$.datetimeFormats=l.value,te($,e,t)},mergeDateTimeFormat:(e,t)=>{l.value[e]=Object.assign(l.value[e]||{},t),$.datetimeFormats=l.value,te($,e,t)},getNumberFormat:e=>c.value[e]||{},setNumberFormat:(e,t)=>{c.value[e]=t,$.numberFormats=c.value,re($,e,t)},mergeNumberFormat:(e,t)=>{c.value[e]=Object.assign(c.value[e]||{},t),$.numberFormats=c.value,re($,e,t)},getPostTranslationHandler:()=>g(_)?_:null,setPostTranslationHandler:e=>{_=e,$.postTranslation=e},getMissingHandler:()=>y,setMissingHandler:e=>{null!==e&&(T=ae(e)),y=e,$.missing=T},install(e){d(e,P)}};return P}function oe(e={}){const t=se(function(e){const t=k(e.locale)?e.locale:"en-US",n=k(e.fallbackLocale)?[e.fallbackLocale]:[],r=g(e.missing)?e.missing:void 0,a=!h(e.silentTranslationWarn)&&!F(e.silentTranslationWarn)||!e.silentTranslationWarn,s=!h(e.silentFallbackWarn)&&!F(e.silentFallbackWarn)||!e.silentFallbackWarn,o=!h(e.fallbackRoot)||e.fallbackRoot,l=!!h(e.formatFallbackMessages)&&e.formatFallbackMessages,c=e.pluralizationRules,i=g(e.postTranslation)?e.postTranslation:void 0;let u=e.messages;if(x(e.sharedMessages)){const t=e.sharedMessages;u=Object.keys(t).reduce((e,n)=>(Object.assign(e[n]||{[n]:{}},t[n]),e),u||{})}const{__i18n:f,_root:m}=e;return{locale:t,fallbackLocales:n,messages:u,datetimeFormats:e.datetimeFormats,numberFormats:e.numberFormats,missing:r,missingWarn:a,fallbackWarn:s,fallbackRoot:o,fallbackFormat:l,pluralRules:c,postTranslation:i,__i18n:f,_root:m}}(e)),n={get locale(){return t.locale.value},set locale(e){t.locale.value=e},get fallbackLocale(){return 0===t.fallbackLocales.value.length?"en-US":t.fallbackLocales.value[0]},set fallbackLocale(e){t.fallbackLocales.value=[e]},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get formatter(){return{interpolate:()=>[]}},set formatter(e){},get missing(){return t.getMissingHandler()},set missing(e){t.setMissingHandler(e)},get silentTranslationWarn(){return h(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(e){t.missingWarn=h(e)?!e:e},get silentFallbackWarn(){return h(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(e){t.fallbackWarn=h(e)?!e:e},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(e){t.fallbackFormat=e},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(e){t.setPostTranslationHandler(e)},t(...e){const[n,r,a]=e,s={};let o=null,l=null;if(!k(n))throw new Error("TODO");const c=n;return k(r)?s.locale=r:b(r)?o=r:x(r)&&(l=r),b(a)?o=a:x(a)&&(l=a),t.t(c,o||l||{},s)},tc(...e){const[n,r,a]=e,s={plural:1};let o=null,l=null;if(!k(n))throw new Error("TODO");const c=n;return k(r)?s.locale=r:p(r)?s.plural=r:b(r)?o=r:x(r)&&(l=r),k(a)?s.locale=a:b(a)?o=a:x(a)&&(l=a),t.t(c,o||l||{},s)},te(e,n){const r=k(n)?n:t.locale.value;return null!==C(t.getLocaleMessage(r),e)},getLocaleMessage:e=>t.getLocaleMessage(e),setLocaleMessage(e,n){t.setLocaleMessage(e,n)},mergeLocaleMessage(e,n){t.mergeLocaleMessage(e,n)},d:(...e)=>t.d(...e),getDateTimeFormat:e=>t.getDateTimeFormat(e),setDateTimeFormat(e,n){t.setDateTimeFormat(e,n)},mergeDateTimeFormat(e,n){t.mergeDateTimeFormat(e,n)},n:(...e)=>t.n(...e),getNumberFormat:e=>t.getNumberFormat(e),setNumberFormat(e,n){t.setNumberFormat(e,n)},mergeNumberFormat(e,n){t.mergeNumberFormat(e,n)},getChoiceIndex:(e,t)=>-1,install(e){d(e,t),e.mixin(function(e,t){return{beforeCreate(){const n=this.$options;if(n.i18n){const e=n.i18n;n.__i18n&&(e.__i18n=n.__i18n),e._root=t,this.$i18n=oe(e)}else if(n.__i18n)this.$i18n=oe({__i18n:n.__i18n,_root:t});else if(this.$root&&this.$root.proxy){this.$i18n=this.$root.proxy.$i18n||e}else if(this.$parent&&this.$parent.proxy){this.$i18n=this.$parent.proxy.$i18n||e}else this.$i18n=e;this.$t=(...e)=>this.$i18n.t(...e),this.$tc=(...e)=>this.$i18n.tc(...e),this.$te=(e,t)=>this.$i18n.te(e,t),this.$d=(...e)=>this.$i18n.d(...e),this.$n=(...e)=>this.$i18n.n(...e)}}}(n,t))}};return n}const le="9.0.0-alpha.1";export{o as Availabilities,le as VERSION,oe as createI18n,se as createI18nComposer,i as useI18n};
