/*!
  * vue-i18n v9.0.0-alpha.3
  * (c) 2020 kazuya kawaguchi
  * Released under the MIT License.
  */
var VueI18n=function(e,t){"use strict";const n="undefined"!=typeof Intl,r={dateTimeFormat:n&&void 0!==Intl.DateTimeFormat,numberFormat:n&&void 0!==Intl.NumberFormat},a=Array.isArray,o=e=>"number"==typeof e&&isFinite(e),s=e=>"function"==typeof e,l=e=>"string"==typeof e,c=e=>"boolean"==typeof e,u=e=>null!==e&&"object"==typeof e,i=e=>"[object RegExp]"===m(e),f=Object.prototype.toString,m=e=>f.call(e),p=e=>"[object Object]"===m(e),g=e=>p(e)&&0===Object.keys(e).length,d=t.defineComponent({name:"i18n-t",props:{tag:{type:String},keypath:{type:String,required:!0},locale:{type:String},plural:{type:[Number,String],validator:e=>o(e)||!isNaN(e)}},setup(e,n){const{slots:r,attrs:a}=n,o=he(),s=Object.keys(r).filter(e=>"_"!==e);return()=>{const r={};e.locale&&(r.locale=e.locale),void 0!==e.plural&&(r.plural=l(e.plural)?+e.plural:e.plural);const c=function({slots:e},t){return 1===t.length&&"default"===t[0]?e.default?e.default():[]:t.reduce((t,n)=>{const r=e[n];return r&&(t[n]=r()),t},{})}(n,s),u=o.__transrateVNode(e.keypath,c,r);return t.h(e.tag?e.tag:t.Fragment,{...a},u)}}});function b(e,n,r,o){const{slots:s,attrs:c}=n;return()=>{const n={part:!0};let u={};e.locale&&(n.locale=e.locale),l(e.format)?n.key=e.format:p(e.format)&&(l(e.format.key)&&(n.key=e.format.key),u=Object.keys(e.format).reduce((t,n)=>r.includes(n)?Object.assign({},t,{[n]:e.format[n]}):t,{}));const i=o(e.value,n,u);let f=[n.key];return a(i)?f=i.map((e,t)=>{const n=s[e.type];return n?n({[e.type]:e.value,index:t,parts:i}):[e.value]}):l(i)&&(f=[i]),t.h(e.tag?e.tag:"span",{...c},f)}}const k=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"],v=t.defineComponent({name:"i18n-n",props:{tag:{type:String},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},setup(e,t){const n=he();return b(e,t,k,(...e)=>n.__numberParts(...e))}}),h=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"],y=t.defineComponent({name:"i18n-d",props:{tag:{type:String},value:{type:[Number,Date],required:!0},format:{type:[String,Object]},locale:{type:String}},setup(e,t){const n=he();return b(e,t,h,(...e)=>n.__datetimeParts(...e))}});function _(e,t,n,r){}function F(e,t,...n){const r=function(...e){const[t]=e,n={};if(!p(t))return n;if(!l(t["i18n-t"]))return n;return n["i18n-t"]=t["i18n-t"],n}(...n);e.component(r["i18n-t"]||d.name,d),e.component(v.name,v),e.component(y.name,y),e.directive("t",_),e.provide(ke,t)}const T=e=>e,x=e=>"",w=e=>0===e.length?e[0]:e.join(""),L=e=>null==e?"":a(e)||p(e)&&e.toString===f?JSON.stringify(e,null,2):String(e);function O(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function C(e={}){const t=e.locale,n=function(e){const t=o(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(o(e.named.count)||o(e.named.n))?o(e.named.count)?e.named.count:o(e.named.n)?e.named.n:t:t}(e),r=u(e.pluralRules)&&l(t)&&s(e.pluralRules[t])?e.pluralRules[t]:O,a=u(e.pluralRules)&&l(t)&&s(e.pluralRules[t])?O:void 0,c=e.list||[],i=e.named||{};o(e.pluralIndex)&&function(e,t){t.count||(t.count=e),t.n||(t.n=e)}(n,i);const f=p(e.processor)&&l(e.processor.type)?e.processor.type:"text",m=p(e.processor)&&s(e.processor.normalize)?e.processor.normalize:w;return{list:e=>c[e],named:e=>i[e],pluralIndex:n,pluralRule:r,orgPluralRule:a,modifier:t=>e.modifiers?e.modifiers[t]:T,message:t=>{const n=s(e.messages)?e.messages(t):!!u(e.messages)&&e.messages[t];return n||(e.parent?e.parent.message(t):x)},type:f,interpolate:p(e.processor)&&s(e.processor.interpolate)?e.processor.interpolate:L,normalize:m}}const P={upper:(e,t)=>"text"===t?e.toUpperCase():e,lower:(e,t)=>"text"===t?e.toLowerCase():e,capitalize:(e,t)=>"text"===t?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e};function W(e,t,n,r,a){const{missing:o}=e;if(null!==o){const r=o(e,n,t,a);return l(r)?r:t}return t}function S(e,t,n=""){if(""===n)return[];e._localeChainCache||(e._localeChainCache=new Map);let r=e._localeChainCache.get(n);if(!r){r=[];let o=[n];for(;a(o);)o=I(r,o,t);const s=a(t)?t:p(t)?t.default?t.default:null:t;o=l(s)?[s]:s,a(o)&&I(r,o,!1),e._localeChainCache.set(n,r)}return r}function I(e,t,n){let r=!0;for(let a=0;a<t.length&&c(r);a++)r=M(e,t[a],n);return r}function M(e,t,n){let r;const a=t.split("-");do{r=j(e,a.join("-"),n),a.splice(-1,1)}while(a.length&&!0===r);return r}function j(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r="!"!==t[t.length-1];const o=t.replace(/!/g,"");e.push(o),(a(n)||p(n))&&n[o]&&(r=n[o])}return r}function N(e,t,n){e._localeChainCache=new Map,S(e,n,t)}const D=[];D[0]={w:[0],i:[3,0],"[":[4],o:[7]},D[1]={w:[1],".":[2],"[":[4],o:[7]},D[2]={w:[2],i:[3,0],0:[3,0]},D[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},D[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},D[5]={"'":[4,0],o:8,l:[5,0]},D[6]={'"':[4,0],o:8,l:[6,0]};const R=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function $(e){if(null==e)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function E(e){const t=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(R.test(t)?function(e){const t=e.charCodeAt(0);return t!==e.charCodeAt(e.length-1)||34!==t&&39!==t?e:e.slice(1,-1)}(t):"*"+t)}const A=new Map;function V(e,t){if(!u(e))return null;let n=A.get(t);if(n||(n=function(e){const t=[];let n,r,a,o,s,l,c,u=-1,i=0,f=0;const m=[];function p(){const t=e[u+1];if(5===i&&"'"===t||6===i&&'"'===t)return u++,a="\\"+t,m[0](),!0}for(m[0]=()=>{void 0===r?r=a:r+=a},m[1]=()=>{void 0!==r&&(t.push(r),r=void 0)},m[2]=()=>{m[0](),f++},m[3]=()=>{if(f>0)f--,i=4,m[0]();else{if(f=0,void 0===r)return!1;if(r=E(r),!1===r)return!1;m[1]()}};null!==i;)if(u++,n=e[u],"\\"!==n||!p()){if(o=$(n),c=D[i],s=c[o]||c.l||8,8===s)return;if(i=s[0],void 0!==s[1]&&(l=m[s[1]],l&&(a=n,!1===l())))return;if(7===i)return t}}(t),n&&A.set(t,n)),!n)return null;const r=n.length;let a=e,o=0;for(;o<r;){const e=a[n[o]];if(void 0===e)return null;a=e,o++}return a}const H=String.fromCharCode(8232),z=String.fromCharCode(8233);function J(e){const t=e;let n=0,r=1,a=1,o=0;const s=e=>"\r"===t[e]&&"\n"===t[e+1],l=e=>t[e]===z,c=e=>t[e]===H,u=e=>s(e)||(e=>"\n"===t[e])(e)||l(e)||c(e);function i(e){return s(e)||l(e)||c(e)?"\n":t[e]}function f(){return o=0,u(n)&&(r++,a=0),s(n)&&n++,n++,a++,t[n]}return{index:()=>n,line:()=>r,column:()=>a,peekOffset:()=>o,charAt:i,currentChar:()=>i(n),currentPeek:()=>i(n+o),next:f,peek:function(){return s(n+o)&&o++,o++,t[n+o]},reset:function(){n=0,r=1,a=1,o=0},resetPeek:function(e=0){o=e},skipToPeek:function(){const e=n+o;for(;e!==n;)f();o=0}}}function U(e,t,n){return{start:e,end:t,source:n}}function q(e){const t=J(e),n=()=>t.index(),r=()=>{return e=t.line(),n=t.column(),r=t.index(),{line:e,column:n,offset:r};var e,n,r},a=r(),o=n(),s={currentType:14,currentValue:null,offset:o,startLoc:a,endLoc:a,lastType:14,lastOffset:o,lastStartLoc:a,lastEndLoc:a},l=(e,t,n)=>(e.endLoc=r(),e.currentType=t,e.currentValue=n,{type:t,value:n,loc:U(e.startLoc,e.endLoc)}),c=e=>{for(;" "===e.currentPeek()||"\n"===e.currentPeek();)e.peek()},u=e=>{c(e),e.skipToPeek()},i=e=>{if(!e)return!1;const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90},f=e=>{c(e);const t="|"===e.currentPeek();return e.resetPeek(),t},m=(e,t)=>{const n=e.currentChar();if(void 0!==n)return t(n)?(e.next(),n):null},p=e=>m(e,e=>{const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t}),g=e=>m(e,e=>{const t=e.charCodeAt(0);return t>=48&&t<=57}),d=e=>{let t="",n="";for(;t=g(e);)n+=t;return n},b=(e,t)=>{let n={type:14};const r=e.currentChar();switch(r){case"{":e.next(),n=l(t,2,"{");break;case"}":e.next(),n=l(t,3,"}");break;case"@":e.next(),n=l(t,7,"@");break;case".":e.next(),n=l(t,8,".");break;case":":e.next(),n=l(t,9,":");break;case"(":e.next(),n=l(t,12,"(");break;case")":e.next(),n=l(t,13,")");break;case"%":e.next(),n=l(t,4,"%");break;default:f(e)?n=l(t,1,(e=>{u(e);const t=e.currentChar();return e.next(),u(e),t})(e)):((e,t)=>{const{currentType:n}=t;if(2===n||12===n||8===n||9===n)return!1;const r=(t=!1)=>{const n=e.currentPeek();return"{"!==n&&"%"!==n&&"@"!==n&&n?"|"!==n&&(" "===n?(e.peek(),r(!0)):"\n"!==n||(e.peek(),r(!0))):t},a=r();return e.resetPeek(),a})(e,t)?n=l(t,0,(e=>{const t=n=>{const r=e.currentChar();return"{"!==r&&"%"!==r&&"@"!==r&&r?(" "===r||"\n"===r)&&f(e)?n:(n+=r,e.next(),t(n)):n};return t("")})(e)):((e,t)=>{const{currentType:n}=t;if(2!==n)return!1;c(e);const r=i(e.currentPeek());return e.resetPeek(),r})(e,t)?n=l(t,5,(e=>{u(e);let t="",n="";for(;t=p(e);)n+=t;return u(e),n})(e)):((e,t)=>{const{currentType:n}=t;if(2!==n)return!1;c(e);const r=(e=>{if(!e)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57})("-"===e.currentPeek()?e.peek():e.currentPeek());return e.resetPeek(),r})(e,t)?n=l(t,6,(e=>{u(e);let t="";return"-"===e.currentChar()?(e.next(),t+="-"+d(e)):t+=d(e),u(e),parseInt(t,10)})(e)):((e,t)=>{const{currentType:n}=t;if(8!==n)return!1;const r=i(e.currentPeek());return e.resetPeek(),r})(e,t)?n=l(t,11,(e=>{let t="",n="";for(;t=p(e);)n+=t;return n})(e)):((e,t)=>{const{currentType:n}=t;if(9!==n&&12!==n)return!1;const r=()=>{const t=e.currentPeek();return"{"===t?i(e.peek()):!("@"===t||"%"===t||"|"===t||":"===t||"."===t||" "===t||!t)&&("\n"===t?r():i(t))},a=r();return e.resetPeek(),a})(e,t)&&("{"===r?(e.next(),n=l(t,2,"{")):n=l(t,10,((e,t)=>{const n=(t=!1,r=!1,a)=>{const o=e.currentChar();return"{"!==o&&"%"!==o&&"@"!==o&&")"!==o&&"|"!==o&&o?" "===o?r?(a+=o,e.next(),n(t,r,a)):a:"\n"===o?(a+=o,e.next(),n(t,r,a)):(a+=o,e.next(),n(!0,r,a)):a};return n(!1,12===t.currentType,"")})(e,t)))}return n};return{nextToken:()=>{const{currentType:e,offset:a,startLoc:o,endLoc:c}=s;return s.lastType=e,s.lastOffset=a,s.lastStartLoc=o,s.lastEndLoc=c,s.offset=n(),s.startLoc=r(),t.currentChar()?b(t,s):l(s,14)},currentOffset:n,currentPosition:r,context:()=>s}}function Z(){const e=(e,t,n)=>({type:e,start:t,end:t,loc:{start:n,end:n}}),t=(e,t,n,r)=>{e.end=t,r&&(e.type=r),e.loc&&(e.loc.end=n)},n=(n,r)=>{const a=n.context(),o=e(3,a.offset,a.startLoc);return o.value=r,t(o,n.currentOffset(),n.currentPosition()),o},r=(n,r)=>{const a=n.context(),{lastOffset:o,lastStartLoc:s}=a,l=e(5,o,s);return l.index=r,n.nextToken(),t(l,n.currentOffset(),n.currentPosition()),l},a=(n,r)=>{const a=n.context(),{lastOffset:o,lastStartLoc:s}=a,l=e(4,o,s);return l.key=r,n.nextToken(),t(l,n.currentOffset(),n.currentPosition()),l},o=n=>{const o=n.context(),s=e(6,o.offset,o.startLoc);let l=n.nextToken();if(8===l.type&&(s.modifier=(n=>{const r=n.nextToken();if(!r.value||"number"==typeof r.value)throw new Error;const a=n.context(),{lastOffset:o,lastStartLoc:s}=a,l=e(8,o,s);return l.value=r.value,t(l,n.currentOffset(),n.currentPosition()),l})(n),l=n.nextToken()),9!==l.type)throw new Error;l=n.nextToken();let c=!1;switch(12===l.type&&(l=n.nextToken(),c=!0),2===l.type&&(l=n.nextToken()),l.type){case 10:if(!l.value||"string"!=typeof l.value)throw new Error;s.key=((n,r)=>{const a=n.context(),o=e(7,a.offset,a.startLoc);return o.value=r,t(o,n.currentOffset(),n.currentPosition()),o})(n,l.value);break;case 5:if(!l.value||"number"==typeof l.value)throw new Error;s.key=a(n,l.value);break;case 6:if(void 0===l.value||"string"==typeof l.value)throw new Error;s.key=r(n,l.value);break;default:throw new Error}return c&&(l=n.nextToken()),t(s,n.currentOffset(),n.currentPosition()),s},s=s=>{const l=s.context(),c=1===l.currentType?s.currentOffset():l.offset,u=e(2,c,1===l.currentType?l.endLoc:l.startLoc);u.items=[];do{const e=s.nextToken();switch(e.type){case 0:if(!e.value||"number"==typeof e.value)throw new Error;u.items.push(n(s,e.value));break;case 6:if(void 0===e.value||"string"==typeof e.value)throw new Error;u.items.push(r(s,e.value));break;case 5:if(!e.value||"number"==typeof e.value)throw new Error;u.items.push(a(s,e.value));break;case 7:u.items.push(o(s))}}while(14!==l.currentType&&1!==l.currentType);const i=1===l.currentType?l.lastOffset:s.currentOffset(),f=1===l.currentType?l.lastEndLoc:s.currentPosition();return t(u,i,f),u},l=n=>{const r=n.context(),{offset:a,startLoc:o}=r,l=s(n);return 14===r.currentType?l:((n,r,a,o)=>{const l=n.context(),c=e(1,r,a);c.cases=[],c.cases.push(o);do{const e=s(n);c.cases.push(e)}while(14!==l.currentType);return t(c,n.currentOffset(),n.currentPosition()),c})(n,a,o,l)};return{parse:function(n){const r=q(n),a=r.context(),o=e(0,a.offset,a.startLoc);if(o.body=l(r),14!==a.currentType)throw new Error;return t(o,r.currentOffset(),r.currentPosition()),o}}}function G(e,t){for(let n=0;n<e.length;n++)B(e[n],t)}function B(e,t){const n=t.context();switch(e.type){case 1:G(e.cases,t);break;case 2:G(e.items,t);break;case 6:const r=e;r.modifier&&B(r.modifier,t),B(r.key,t);break;case 5:case 4:n.needInterpolate=!0}}function K(e,t){switch(t.type){case 0:!function(e,t){t.body?K(e,t.body):e.push("null")}(e,t);break;case 1:!function(e,t){if(t.cases.length>1){e.push("["),e.indent();const n=t.cases.length;for(let r=0;r<n&&(K(e,t.cases[r]),r!==n-1);r++)e.push(", ");e.deindent(),e.push(`][ctx.pluralRule(ctx.pluralIndex, ${n}, ctx.orgPluralRule)]`)}}(e,t);break;case 2:!function(e,t){e.push("ctx.normalize(["),e.indent();const n=t.items.length;for(let r=0;r<n&&(K(e,t.items[r]),r!==n-1);r++)e.push(", ");e.deindent(),e.push("])")}(e,t);break;case 6:!function(e,t){t.modifier&&(e.push("ctx.modifier("),K(e,t.modifier),e.push(")(")),e.push("ctx.message("),K(e,t.key),e.push(")(ctx)"),t.modifier&&e.push(", ctx.type)")}(e,t);break;case 8:case 7:e.push(JSON.stringify(t.value));break;case 5:e.push(`ctx.interpolate(ctx.list(${t.index}))`);break;case 4:e.push(`ctx.interpolate(ctx.named(${JSON.stringify(t.key)}))`);break;case 3:e.push(JSON.stringify(t.value));break;default:throw new Error("unhandled codegen node type: "+t.type)}}const Q=Object.create(null),X=function(){const e=Z();return{compile:t=>{const n=e.parse(t);return function(e){const t=function(e){const t={ast:e,needInterpolate:!1};return{context:()=>t}}(e);e.body&&B(e.body,t);const n=t.context();e.needInterpolate=n.needInterpolate}(n),{code:(e=>{const t=function(e){const t={source:e,code:"",indentLevel:0},n=e=>{t.code+=e},r=e=>{n("\n"+"  ".repeat(e))};return{context:()=>t,push:n,indent:()=>{r(++t.indentLevel)},deindent:e=>{e?--t.indentLevel:r(--t.indentLevel)},newline:()=>{r(t.indentLevel)}}}(e.loc&&e.loc.source);return t.push("function __msg__ (ctx) {"),t.indent(),t.push("return "),K(t,e),t.deindent(),t.push("}"),t.context().code})(n),ast:n}}}}();function Y(e,t={}){const{code:n}=X.compile(e,t),r=new Function("return "+n)();return Q[e]=r}const ee=()=>"",te=e=>s(e),ne=(e,t)=>`${e}__${t}`;function re(e,...t){const{messages:n,fallbackFormat:r,postTranslation:a,unresolving:u,fallbackLocale:i,_compileCache:f}=e,[m,p]=ae(...t),g=(c(p.missingWarn),c(p.fallbackWarn),l(p.default)||c(p.default)?c(p.default)?m:p.default:r?m:""),d=r||""!==g,b=S(e,i,l(p.locale)?p.locale:e.locale);let k,v={},h=null;for(let t=0;t<b.length&&(k=b[t],v=n[k]||{},h=V(v,m),!l(h)&&!s(h));t++)W(e,m,k,0,"translate");let y=m;if(l(h)||te(h)||d&&(h=g,y=h),!l(h)&&!te(h)||!l(k))return u?-1:m;const _=ne(k,y);let F=f.get(_);F||(F=l(h)?Y(h):h,f.set(_,F));const T=F(C(function(e,t,n,r){const{modifiers:a,pluralRules:s,_compileCache:c}=e,u={locale:t,modifiers:a,pluralRules:s,messages:e=>{const r=ne(t,e),a=c.get(r);if(a)return a;const o=V(n,e);if(l(o)){const e=Y(o);return c.set(r,e),e}return te(o)?(c.set(r,o),o):ee}};e.processor&&(u.processor=e.processor);r.list&&(u.list=r.list);r.named&&(u.named=r.named);o(r.plural)&&(u.pluralIndex=r.plural);return u}(e,k,v,p)));return a?a(T):T}function ae(...e){const[t,n,r]=e,s={};if(!l(t))throw new Error("TODO");const c=t;return o(n)?s.plural=n:l(n)?s.default=n:p(n)&&!g(n)?s.named=n:a(n)&&(s.list=n),o(r)?s.plural=r:l(r)?s.default=r:p(r)&&Object.assign(s,r),[c,s]}function oe(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:a,_datetimeFormatters:o}=e,[s,u,i,f]=se(...t),m=(c(i.missingWarn),c(i.fallbackWarn),!!c(i.part)&&i.part),d=l(i.locale)?i.locale:e.locale,b=S(e,a,d);if(!l(s)||""===s)return new Intl.DateTimeFormat(d).format(u);let k,v={},h=null;for(let t=0;t<b.length&&(k=b[t],v=n[k]||{},h=v[s],!p(h));t++)W(e,s,k,0,"datetime");if(!p(h)||!l(k))return r?-1:s;let y=`${k}__${s}`;g(f)||(y=`${y}__${JSON.stringify(f)}`);let _=o.get(y);return _||(_=new Intl.DateTimeFormat(k,Object.assign({},h,f)),o.set(y,_)),m?_.formatToParts(u):_.format(u)}function se(...e){const[t,n,r,a]=e;let s={},c={};if(!o(t)&&"[object Date]"!==m(t))throw new Error("TODO");const u=t;return l(n)?s.key=n:p(n)&&(s=n),l(r)?s.locale=r:p(r)&&(c=r),p(a)&&(c=a),[s.key||"",u,s,c]}function le(e,t,n){for(const r in n){const n=`${t}__${r}`;e._datetimeFormatters.has(n)&&e._datetimeFormatters.delete(n)}}function ce(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:a,_numberFormatters:o}=e,[s,u,i,f]=ue(...t),m=(c(i.missingWarn),c(i.fallbackWarn),!!c(i.part)&&i.part),d=l(i.locale)?i.locale:e.locale,b=S(e,a,d);if(!l(s)||""===s)return new Intl.NumberFormat(d).format(u);let k,v={},h=null;for(let t=0;t<b.length&&(k=b[t],v=n[k]||{},h=v[s],!p(h));t++)W(e,s,k,0,"number");if(!p(h)||!l(k))return r?-1:s;let y=`${k}__${s}`;g(f)||(y=`${y}__${JSON.stringify(f)}`);let _=o.get(y);return _||(_=new Intl.NumberFormat(k,Object.assign({},h,f)),o.set(y,_)),m?_.formatToParts(u):_.format(u)}function ue(...e){const[t,n,r,a]=e;let s={},c={};if(!o(t))throw new Error("TODO");const u=t;return l(n)?s.key=n:p(n)&&(s=n),l(r)?s.locale=r:p(r)&&(c=r),p(a)&&(c=a),[s.key||"",u,s,c]}function ie(e,t,n){for(const r in n){const n=`${t}__${r}`;e._numberFormatters.has(n)&&e._numberFormatters.delete(n)}}let fe=0;function me(e){return(n,r,a,o)=>e(r,a,t.getCurrentInstance()||void 0,o)}function pe(e={}){const{__root:n}=e,r=t.ref(n?n.locale.value:l(e.locale)?e.locale:"en-US"),f=t.ref(n?n.fallbackLocale.value:l(e.fallbackLocale)||a(e.fallbackLocale)||p(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:r.value),m=t.ref(function(e,t){const{messages:n,__i18n:r}=e;let o=p(n)?n:a(r)?{}:{[t]:{}};return a(r)&&r.forEach(e=>{o=Object.assign(o,JSON.parse(e))}),o}(e,r.value)),g=t.ref(p(e.datetimeFormats)?e.datetimeFormats:{[r.value]:{}}),d=t.ref(p(e.numberFormats)?e.numberFormats:{[r.value]:{}});let b=n?n.missingWarn:!c(e.missingWarn)&&!i(e.missingWarn)||e.missingWarn,k=n?n.fallbackWarn:!c(e.fallbackWarn)&&!i(e.fallbackWarn)||e.fallbackWarn,v=!c(e.fallbackRoot)||e.fallbackRoot,h=!!c(e.fallbackFormat)&&e.fallbackFormat,y=s(e.missing)?e.missing:null,_=s(e.missing)?me(e.missing):null,T=s(e.postTranslation)?e.postTranslation:null;const x=n?n.modifiers:p(e.modifiers)?e.modifiers:{},w=e.pluralRules;let L;L=function(e={}){const t=l(e.locale)?e.locale:"en-US",n=a(e.fallbackLocale)||p(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,r=p(e.messages)?e.messages:{[t]:{}},o=p(e.datetimeFormats)?e.datetimeFormats:{[t]:{}},f=p(e.numberFormats)?e.numberFormats:{[t]:{}},m=u(e._compileCache)?e._compileCache:new Map;return{locale:t,fallbackLocale:n,messages:r,datetimeFormats:o,numberFormats:f,modifiers:Object.assign({},e.modifiers||{},P),pluralRules:e.pluralRules||{},missing:s(e.missing)?e.missing:null,missingWarn:!c(e.missingWarn)&&!i(e.missingWarn)||e.missingWarn,fallbackWarn:!c(e.fallbackWarn)&&!i(e.fallbackWarn)||e.fallbackWarn,fallbackFormat:!!c(e.fallbackFormat)&&e.fallbackFormat,unresolving:!!c(e.unresolving)&&e.unresolving,postTranslation:s(e.postTranslation)?e.postTranslation:null,processor:p(e.processor)?e.processor:null,_compileCache:m,_datetimeFormatters:u(e._datetimeFormatters)?e._datetimeFormatters:new Map,_numberFormatters:u(e._numberFormatters)?e._numberFormatters:new Map}}({locale:r.value,fallbackLocale:f.value,messages:m.value,datetimeFormats:g.value,numberFormats:d.value,modifiers:x,pluralRules:w,missing:null===_?void 0:_,missingWarn:b,fallbackWarn:k,fallbackFormat:h,unresolving:!0,postTranslation:null===T?void 0:T,_compileCache:p(L)?L._compileCache:void 0,_datetimeFormatters:p(L)?L._datetimeFormatters:void 0,_numberFormatters:p(L)?L._numberFormatters:void 0}),N(L,r.value,f.value);const O=t.computed({get:()=>r.value,set:e=>{r.value=e,L.locale=r.value}}),C=t.computed({get:()=>f.value,set:e=>{f.value=e,L.fallbackLocale=f.value,N(L,r.value,e)}}),W=t.computed(()=>m.value),S=t.computed(()=>g.value),I=t.computed(()=>d.value),M=(e,r,a,s,l,c)=>t.computed(()=>{const t=e(L);if(o(t)&&-1===t){const e=r();return v&&n?s(n):l(e)}if(c(t))return t;throw new Error("TODO:")}),j={type:"vnode",normalize:e=>e.map(e=>l(e)?t.createTextVNode(e):e),interpolate:e=>e};fe++;const D={locale:O,fallbackLocale:C,get availableLocales(){return Object.keys(m.value).sort()},messages:W,datetimeFormats:S,numberFormats:I,get modifiers(){return x},get pluralRules(){return w},get missingWarn(){return b},set missingWarn(e){b=e,L.missingWarn=b},get fallbackWarn(){return k},set fallbackWarn(e){k=e,L.fallbackWarn=k},get fallbackRoot(){return v},set fallbackRoot(e){v=e},get fallbackFormat(){return h},set fallbackFormat(e){h=e,L.fallbackFormat=h},__id:fe,t:(...e)=>M(t=>re(t,...e),()=>ae(...e)[0],0,t=>t.t(...e),e=>e,e=>l(e)).value,d:(...e)=>M(t=>oe(t,...e),()=>se(...e)[0],0,t=>t.d(...e),()=>"",e=>l(e)).value,n:(...e)=>M(t=>ce(t,...e),()=>ue(...e)[0],0,t=>t.n(...e),()=>"",e=>l(e)).value,getLocaleMessage:e=>m.value[e]||{},setLocaleMessage:(e,t)=>{m.value[e]=t,L.messages=m.value},mergeLocaleMessage:(e,t)=>{m.value[e]=Object.assign(m.value[e]||{},t),L.messages=m.value},getDateTimeFormat:e=>g.value[e]||{},setDateTimeFormat:(e,t)=>{g.value[e]=t,L.datetimeFormats=g.value,le(L,e,t)},mergeDateTimeFormat:(e,t)=>{g.value[e]=Object.assign(g.value[e]||{},t),L.datetimeFormats=g.value,le(L,e,t)},getNumberFormat:e=>d.value[e]||{},setNumberFormat:(e,t)=>{d.value[e]=t,L.numberFormats=d.value,ie(L,e,t)},mergeNumberFormat:(e,t)=>{d.value[e]=Object.assign(d.value[e]||{},t),L.numberFormats=d.value,ie(L,e,t)},getPostTranslationHandler:()=>s(T)?T:null,setPostTranslationHandler:e=>{T=e,L.postTranslation=e},getMissingHandler:()=>y,setMissingHandler:e=>{null!==e&&(_=me(e)),y=e,L.missing=_},install(e,...t){F(e,D,...t)},__transrateVNode:(...e)=>M(t=>{let n;try{t.processor=j,n=re(t,...e)}finally{t.processor=null}return n},()=>ae(...e)[0],0,t=>t.__transrateVNode(...e),e=>e,e=>a(e)).value,__numberParts:(...e)=>M(t=>ce(t,...e),()=>ue(...e)[0],0,t=>t.__numberParts(...e),()=>[],e=>l(e)||a(e)).value,__datetimeParts:(...e)=>M(t=>oe(t,...e),()=>se(...e)[0],0,t=>t.__datetimeParts(...e),()=>[],e=>l(e)||a(e)).value};return D}const ge=new Map;function de(e,t){return e&&ge.get(e)||t}function be(e={}){const n=pe(function(e){const t=l(e.locale)?e.locale:"en-US",n=l(e.fallbackLocale)||a(e.fallbackLocale)||p(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,r=s(e.missing)?e.missing:void 0,o=!c(e.silentTranslationWarn)&&!i(e.silentTranslationWarn)||!e.silentTranslationWarn,u=!c(e.silentFallbackWarn)&&!i(e.silentFallbackWarn)||!e.silentFallbackWarn,f=!c(e.fallbackRoot)||e.fallbackRoot,m=!!c(e.formatFallbackMessages)&&e.formatFallbackMessages,g=e.pluralizationRules,d=s(e.postTranslation)?e.postTranslation:void 0;let b=e.messages;if(p(e.sharedMessages)){const t=e.sharedMessages;b=Object.keys(t).reduce((e,n)=>(Object.assign(e[n]||{[n]:{}},t[n]),e),b||{})}const{__i18n:k,__root:v}=e;return{locale:t,fallbackLocale:n,messages:b,datetimeFormats:e.datetimeFormats,numberFormats:e.numberFormats,missing:r,missingWarn:o,fallbackWarn:u,fallbackRoot:f,fallbackFormat:m,pluralRules:g,postTranslation:d,__i18n:k,__root:v}}(e)),r={get locale(){return n.locale.value},set locale(e){n.locale.value=e},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(e){n.fallbackLocale.value=e},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate:()=>[]}},set formatter(e){},get missing(){return n.getMissingHandler()},set missing(e){n.setMissingHandler(e)},get silentTranslationWarn(){return c(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(e){n.missingWarn=c(e)?!e:e},get silentFallbackWarn(){return c(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(e){n.fallbackWarn=c(e)?!e:e},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(e){n.fallbackFormat=e},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(e){n.setPostTranslationHandler(e)},t(...e){const[t,r,o]=e,s={};let c=null,u=null;if(!l(t))throw new Error("TODO");const i=t;return l(r)?s.locale=r:a(r)?c=r:p(r)&&(u=r),a(o)?c=o:p(o)&&(u=o),n.t(i,c||u||{},s)},tc(...e){const[t,r,s]=e,c={plural:1};let u=null,i=null;if(!l(t))throw new Error("TODO");const f=t;return l(r)?c.locale=r:o(r)?c.plural=r:a(r)?u=r:p(r)&&(i=r),l(s)?c.locale=s:a(s)?u=s:p(s)&&(i=s),n.t(f,u||i||{},c)},te(e,t){const r=l(t)?t:n.locale.value;return null!==V(n.getLocaleMessage(r),e)},getLocaleMessage:e=>n.getLocaleMessage(e),setLocaleMessage(e,t){n.setLocaleMessage(e,t)},mergeLocaleMessage(e,t){n.mergeLocaleMessage(e,t)},d:(...e)=>n.d(...e),getDateTimeFormat:e=>n.getDateTimeFormat(e),setDateTimeFormat(e,t){n.setDateTimeFormat(e,t)},mergeDateTimeFormat(e,t){n.mergeDateTimeFormat(e,t)},n:(...e)=>n.n(...e),getNumberFormat:e=>n.getNumberFormat(e),setNumberFormat(e,t){n.setNumberFormat(e,t)},mergeNumberFormat(e,t){n.mergeNumberFormat(e,t)},getChoiceIndex:(e,t)=>-1,install(e,...a){F(e,n,...a),e.mixin(function(e,n,r){return Object.defineProperty(e.config.globalProperties,"$i18n",{get:()=>{const e=t.getCurrentInstance();return e&&ge.get(e)||n}}),Object.defineProperty(e.config.globalProperties,"$t",{value:(...e)=>de(t.getCurrentInstance(),n).t(...e)}),Object.defineProperty(e.config.globalProperties,"$tc",{value:(...e)=>de(t.getCurrentInstance(),n).tc(...e)}),Object.defineProperty(e.config.globalProperties,"$te",{value:(e,r)=>de(t.getCurrentInstance(),n).te(e,r)}),Object.defineProperty(e.config.globalProperties,"$d",{value:(...e)=>de(t.getCurrentInstance(),n).d(...e)}),Object.defineProperty(e.config.globalProperties,"$n",{value:(...e)=>de(t.getCurrentInstance(),n).n(...e)}),{beforeCreate(){const e=this.$options;if(e.i18n){const n=e.i18n;e.__i18n&&(n.__i18n=e.__i18n),n.__root=r;const a=t.getCurrentInstance();a&&ge.set(a,be(n))}else if(e.__i18n){const n=t.getCurrentInstance();n&&ge.set(n,be({__i18n:e.__i18n,__root:r}))}}}}(e,r,n))}};return r}const ke=Symbol.for("vue-i18n"),ve=new Map;function he(e){const n=t.inject(ke);if(!n)throw new Error("TODO");const r=t.getCurrentInstance();if(null===r||!e)return n;const a=ve.get(r);if(a){const e=t.inject(a)||n;if(!e)throw new Error("TODO");return e}{const a=r.type;a.__i18n&&(e.__i18n=a.__i18n),n&&(e.__root=n);const o=pe(e),s=Symbol.for("vue-i18n-"+(new Date).getUTCMilliseconds().toString());return ve.set(r,s),t.provide(s,o),o}}return e.Availabilities=r,e.VERSION="9.0.0-alpha.3",e.createI18n=function(e={}){return!!c(e.legacy)&&e.legacy?be(e):pe(e)},e.useI18n=he,e}({},Vue);
