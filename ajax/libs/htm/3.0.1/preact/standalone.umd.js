!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.htmPreact={})}(this,function(e){var n,t,o,_,u,r={},l=[],i=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function c(e,n){for(var t in n)e[t]=n[t];return e}function f(e){var n=e.parentNode;n&&n.removeChild(e)}function s(e,n,t){var o,_=arguments,u={};for(o in n)"key"!==o&&"ref"!==o&&(u[o]=n[o]);if(arguments.length>3)for(t=[t],o=3;o<arguments.length;o++)t.push(_[o]);if(null!=t&&(u.children=t),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===u[o]&&(u[o]=e.defaultProps[o]);return p(e,u,n&&n.key,n&&n.ref)}function p(e,t,o,_){var u={type:e,props:t,key:o,ref:_,__k:null,__:null,__b:0,__e:null,__d:null,__c:null,constructor:void 0};return n.vnode&&n.vnode(u),u}function a(e){return e.children}function h(e,n){this.props=e,this.context=n}function d(e,n){if(null==n)return e.__?d(e.__,e.__.__k.indexOf(e)+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return"function"==typeof e.type?d(e):null}function v(e){var n,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return v(e)}}function m(e){(!e.__d&&(e.__d=!0)&&1===t.push(e)||_!==n.debounceRendering)&&((_=n.debounceRendering)||o)(y)}function y(){var e,n,o,_,u,r,l;for(t.sort(function(e,n){return n.__v.__b-e.__v.__b});e=t.pop();)e.__d&&(o=void 0,_=void 0,r=(u=(n=e).__v).__e,(l=n.__P)&&(o=[],_=S(l,u,c({},u),n.__n,void 0!==l.ownerSVGElement,null,o,null==r?d(u):r),E(o,u),_!=r&&v(u)))}function g(e,n,t,o,_,u,i,c,s){var p,a,h,v,m,y,g,b=t&&t.__k||l,w=b.length;if(c==r&&(c=null!=u?u[0]:w?d(t,0):null),p=0,n.__k=k(n.__k,function(t){if(null!=t){if(t.__=n,t.__b=n.__b+1,null===(h=b[p])||h&&t.key==h.key&&t.type===h.type)b[p]=void 0;else for(a=0;a<w;a++){if((h=b[a])&&t.key==h.key&&t.type===h.type){b[a]=void 0;break}h=null}if(v=S(e,t,h=h||r,o,_,u,i,c,s),(a=t.ref)&&h.ref!=a&&(g||(g=[]),h.ref&&g.push(h.ref,null,t),g.push(a,t.__c||v,t)),null!=v){if(null==y&&(y=v),null!=t.__d)v=t.__d,t.__d=null;else if(u==h||v!=c||null==v.parentNode){e:if(null==c||c.parentNode!==e)e.appendChild(v);else{for(m=c,a=0;(m=m.nextSibling)&&a<w;a+=2)if(m==v)break e;e.insertBefore(v,c)}"option"==n.type&&(e.value="")}c=v.nextSibling,"function"==typeof n.type&&(n.__d=v)}}return p++,t}),n.__e=y,null!=u&&"function"!=typeof n.type)for(p=u.length;p--;)null!=u[p]&&f(u[p]);for(p=w;p--;)null!=b[p]&&H(b[p],b[p]);if(g)for(p=0;p<g.length;p++)P(g[p],g[++p],g[++p])}function k(e,n,t){if(null==t&&(t=[]),null==e||"boolean"==typeof e)n&&t.push(n(null));else if(Array.isArray(e))for(var o=0;o<e.length;o++)k(e[o],n,t);else t.push(n?n("string"==typeof e||"number"==typeof e?p(null,e,null,null):null!=e.__e||null!=e.__c?p(e.type,e.props,e.key,null):e):e);return t}function b(e,n,t){"-"===n[0]?e.setProperty(n,t):e[n]="number"==typeof t&&!1===i.test(n)?t+"px":null==t?"":t}function w(e,n,t,o,_){var u,r,l,i,c;if(_?"className"===n&&(n="class"):"class"===n&&(n="className"),"key"===n||"children"===n);else if("style"===n)if(u=e.style,"string"==typeof t)u.cssText=t;else{if("string"==typeof o&&(u.cssText="",o=null),o)for(r in o)t&&r in t||b(u,r,"");if(t)for(l in t)o&&t[l]===o[l]||b(u,l,t[l])}else"o"===n[0]&&"n"===n[1]?(i=n!==(n=n.replace(/Capture$/,"")),c=n.toLowerCase(),n=(c in e?c:n).slice(2),t?(o||e.addEventListener(n,x,i),(e.l||(e.l={}))[n]=t):e.removeEventListener(n,x,i)):"list"!==n&&"tagName"!==n&&"form"!==n&&"type"!==n&&!_&&n in e?e[n]=null==t?"":t:"function"!=typeof t&&"dangerouslySetInnerHTML"!==n&&(n!==(n=n.replace(/^xlink:?/,""))?null==t||!1===t?e.removeAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase(),t):null==t||!1===t?e.removeAttribute(n):e.setAttribute(n,t))}function x(e){this.l[e.type](n.event?n.event(e):e)}function S(e,t,o,_,u,r,l,i,f){var s,p,d,v,m,y,b,w,x,S,E=t.type;if(void 0!==t.constructor)return null;(s=n.__b)&&s(t);try{e:if("function"==typeof E){if(w=t.props,x=(s=E.contextType)&&_[s.__c],S=s?x?x.props.value:s.__:_,o.__c?b=(p=t.__c=o.__c).__=p.__E:("prototype"in E&&E.prototype.render?t.__c=p=new E(w,S):(t.__c=p=new h(w,S),p.constructor=E,p.render=D),x&&x.sub(p),p.props=w,p.state||(p.state={}),p.context=S,p.__n=_,d=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=E.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=c({},p.__s)),c(p.__s,E.getDerivedStateFromProps(w,p.__s))),v=p.props,m=p.state,d)null==E.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==E.getDerivedStateFromProps&&w!==v&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(w,S),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(w,p.__s,S)){for(p.props=w,p.state=p.__s,p.__d=!1,p.__v=t,t.__e=o.__e,t.__k=o.__k,p.__h.length&&l.push(p),s=0;s<t.__k.length;s++)t.__k[s]&&(t.__k[s].__=t);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(w,p.__s,S),null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(v,m,y)})}p.context=S,p.props=w,p.state=p.__s,(s=n.__r)&&s(t),p.__d=!1,p.__v=t,p.__P=e,s=p.render(p.props,p.state,p.context),t.__k=k(null!=s&&s.type==a&&null==s.key?s.props.children:s),null!=p.getChildContext&&(_=c(c({},_),p.getChildContext())),d||null==p.getSnapshotBeforeUpdate||(y=p.getSnapshotBeforeUpdate(v,m)),g(e,t,o,_,u,r,l,i,f),p.base=t.__e,p.__h.length&&l.push(p),b&&(p.__E=p.__=null),p.__e=null}else t.__e=C(o.__e,t,o,_,u,r,l,f);(s=n.diffed)&&s(t)}catch(e){n.__e(e,t,o)}return t.__e}function E(e,t){n.__c&&n.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){n.__e(e,t.__v)}})}function C(e,n,t,o,_,u,i,c){var f,s,p,a,h,d=t.props,v=n.props;if(_="svg"===n.type||_,null==e&&null!=u)for(f=0;f<u.length;f++)if(null!=(s=u[f])&&(null===n.type?3===s.nodeType:s.localName===n.type)){e=s,u[f]=null;break}if(null==e){if(null===n.type)return document.createTextNode(v);e=_?document.createElementNS("http://www.w3.org/2000/svg",n.type):document.createElement(n.type),u=null}if(null===n.type)null!=u&&(u[u.indexOf(e)]=null),d!==v&&e.data!=v&&(e.data=v);else if(n!==t){if(null!=u&&(u=l.slice.call(e.childNodes)),p=(d=t.props||r).dangerouslySetInnerHTML,a=v.dangerouslySetInnerHTML,!c){if(d===r)for(d={},h=0;h<e.attributes.length;h++)d[e.attributes[h].name]=e.attributes[h].value;(a||p)&&(a&&p&&a.__html==p.__html||(e.innerHTML=a&&a.__html||""))}(function(e,n,t,o,_){var u;for(u in t)u in n||w(e,u,null,t[u],o);for(u in n)_&&"function"!=typeof n[u]||"value"===u||"checked"===u||t[u]===n[u]||w(e,u,n[u],t[u],o)})(e,v,d,_,c),n.__k=n.props.children,a||g(e,n,t,o,"foreignObject"!==n.type&&_,u,i,r,c),c||("value"in v&&void 0!==v.value&&v.value!==e.value&&(e.value=null==v.value?"":v.value),"checked"in v&&void 0!==v.checked&&v.checked!==e.checked&&(e.checked=v.checked))}return e}function P(e,t,o){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,o)}}function H(e,t,o){var _,u,r;if(n.unmount&&n.unmount(e),(_=e.ref)&&(_.current&&_.current!==e.__e||P(_,null,t)),o||"function"==typeof e.type||(o=null!=(u=e.__e)),e.__e=e.__d=null,null!=(_=e.__c)){if(_.componentWillUnmount)try{_.componentWillUnmount()}catch(e){n.__e(e,t)}_.base=_.__P=null}if(_=e.__k)for(r=0;r<_.length;r++)_[r]&&H(_[r],t,o);null!=u&&f(u)}function D(e,n,t){return this.constructor(e,t)}n={__e:function(e,n){for(var t,o;n=n.__;)if((t=n.__c)&&!t.__)try{if(t.constructor&&null!=t.constructor.getDerivedStateFromError&&(o=!0,t.setState(t.constructor.getDerivedStateFromError(e))),null!=t.componentDidCatch&&(o=!0,t.componentDidCatch(e)),o)return m(t.__E=t)}catch(n){e=n}throw e}},h.prototype.setState=function(e,n){var t;t=this.__s!==this.state?this.__s:this.__s=c({},this.state),"function"==typeof e&&(e=e(t,this.props)),e&&c(t,e),null!=e&&this.__v&&(this.__e=!1,n&&this.__h.push(n),m(this))},h.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),m(this))},h.prototype.render=a,t=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=r;var N,T,M,U=[],A=n.__r,F=n.diffed,L=n.__c,W=n.unmount;function R(e){n.__h&&n.__h(T);var t=T.__H||(T.__H={t:[],u:[]});return e>=t.t.length&&t.t.push({}),t.t[e]}function V(e,n,t){var o=R(N++);return o.__c||(o.__c=T,o.i=[t?t(n):G(void 0,n),function(n){var t=e(o.i[0],n);o.i[0]!==t&&(o.i[0]=t,o.__c.setState({}))}]),o.i}function I(e,n){var t=R(N++);$(t.o,n)&&(t.i=e,t.o=n,T.__h.push(t))}function O(e,n){var t=R(N++);return $(t.o,n)?(t.o=n,t.v=e,t.i=e()):t.i}function j(){U.some(function(e){e.__P&&(e.__H.u.forEach(q),e.__H.u.forEach(B),e.__H.u=[])}),U=[]}function q(e){e.m&&e.m()}function B(e){var n=e.i();"function"==typeof n&&(e.m=n)}function $(e,n){return!e||n.some(function(n,t){return n!==e[t]})}function G(e,n){return"function"==typeof n?n(e):n}n.__r=function(e){A&&A(e),N=0,(T=e.__c).__H&&(T.__H.u.forEach(q),T.__H.u.forEach(B),T.__H.u=[])},n.diffed=function(e){F&&F(e);var t=e.__c;if(t){var o=t.__H;o&&o.u.length&&(1!==U.push(t)&&M===n.requestAnimationFrame||((M=n.requestAnimationFrame)||function(e){var n,t=function(){clearTimeout(o),cancelAnimationFrame(n),setTimeout(e)},o=setTimeout(t,100);"undefined"!=typeof window&&(n=requestAnimationFrame(t))})(j))}},n.__c=function(e,n){n.some(function(e){e.__h.forEach(q),e.__h=e.__h.filter(function(e){return!e.i||B(e)})}),L&&L(e,n)},n.unmount=function(e){W&&W(e);var n=e.__c;if(n){var t=n.__H;t&&t.t.forEach(function(e){return e.m&&e.m()})}};var z=function(e,n,t,o){var _;n[0]=0;for(var u=1;u<n.length;u++){var r=n[u++],l=n[u]?(n[0]|=r?1:2,t[n[u++]]):n[++u];3===r?o[0]=l:4===r?o[1]=Object.assign(o[1]||{},l):5===r?(o[1]=o[1]||{})[n[++u]]=l:6===r?o[1][n[++u]]+=l+"":r?(_=e.apply(l,z(e,l,t,["",null])),o.push(_),l[0]?n[0]|=2:(n[u-2]=0,n[u]=_)):o.push(l)}return o},J=new Map,K=function(e){var n=J.get(this);return n||(n=new Map,J.set(this,n)),(n=z(this,n.get(e)||(n.set(e,n=function(e){for(var n,t,o=1,_="",u="",r=[0],l=function(e){1===o&&(e||(_=_.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?r.push(0,e,_):3===o&&(e||_)?(r.push(3,e,_),o=2):2===o&&"..."===_&&e?r.push(4,e,0):2===o&&_&&!e?r.push(5,0,!0,_):o>=5&&((_||!e&&5===o)&&(r.push(o,0,_,t),o=6),e&&(r.push(o,e,0,t),o=6)),_=""},i=0;i<e.length;i++){i&&(1===o&&l(),l(i));for(var c=0;c<e[i].length;c++)n=e[i][c],1===o?"<"===n?(l(),r=[r],o=3):_+=n:4===o?"--"===_&&">"===n?(o=1,_=""):_=n+_[0]:u?n===u?u="":_+=n:'"'===n||"'"===n?u=n:">"===n?(l(),o=1):o&&("="===n?(o=5,t=_,_=""):"/"===n&&(o<5||">"===e[i][c+1])?(l(),3===o&&(r=r[0]),o=r,(r=r[0]).push(2,0,o),o=0):" "===n||"\t"===n||"\n"===n||"\r"===n?(l(),o=2):_+=n),3===o&&"!--"===_&&(o=4,r=r[0])}return l(),r}(e)),n),arguments,[])).length>1?n:n[0]}.bind(s);e.h=s,e.html=K,e.render=function(e,t){var o,_,i,c,f,p;o=e,_=t,i=t.firstElementChild,n.__&&n.__(o,_),f=(c=i===u)?null:i&&i.__k||_.__k,o=s(a,null,[o]),p=[],S(_,(c?_:i||_).__k=o,f||r,r,void 0!==_.ownerSVGElement,i&&!c?[i]:f?null:l.slice.call(_.childNodes),p,i||r,c),E(p,o)},e.Component=h,e.useState=function(e){return V(G,e)},e.useReducer=V,e.useEffect=function(e,n){var t=R(N++);$(t.o,n)&&(t.i=e,t.o=n,T.__H.u.push(t))},e.useLayoutEffect=I,e.useRef=function(e){return O(function(){return{current:e}},[])},e.useImperativeHandle=function(e,n,t){I(function(){"function"==typeof e?e(n()):e&&(e.current=n())},null==t?t:t.concat(e))},e.useMemo=O,e.useCallback=function(e,n){return O(function(){return e},n)},e.useContext=function(e){var n=T.context[e.__c];if(!n)return e.__;var t=R(N++);return null==t.i&&(t.i=!0,n.sub(T)),n.props.value},e.useDebugValue=function(e,t){n.useDebugValue&&n.useDebugValue(t?t(e):e)}});
