!function(){function u(n){function t(n){1===r&&(n||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?f.push(n||o,0):3===r&&(n||o)?(f.push(n||o,1),r=2):2===r&&"..."===o&&n?f.push(n,3):2===r&&o&&!n?f.push(!0,5,o):5<=r&&((o||!n&&5===r)&&(f.push(o,r,u),r=6),n&&(f.push(n,r,u),r=6)),o=""}for(var e,u,r=1,o="",s="",f=[0],p=0;p<n.length;p++){p&&(1===r&&t(),t(p));for(var h=0;h<n[p].length;h++)e=n[p][h],1===r?"<"===e?(t(),f=[f],r=3):o+=e:4===r?o="--"===o&&">"===e?(r=1,""):e+o[0]:s?e===s?s="":o+=e:'"'===e||"'"===e?s=e:">"===e?(t(),r=1):r&&("="===e?(r=5,u=o,o=""):"/"===e&&(r<5||">"===n[p][h+1])?(t(),3===r&&(f=f[0]),(f=(r=f)[0]).push(r,2),r=0):" "===e||"\t"===e||"\n"===e||"\r"===e?(t(),r=2):o+=e),3===r&&"!--"===o&&(r=4,f=f[0])}return t(),f}function n(n){var t=p(this,e(n),arguments,[]);return 1<t.length?t:t[0]}var p=function(n,t,e,u){for(var r=1;r<t.length;r++){var o=t[r],s="number"==typeof o?e[o]:o,f=t[++r];1===f?u[0]=s:3===f?u[1]=Object.assign(u[1]||{},s):5===f?(u[1]=u[1]||{})[t[++r]]=s:6===f?u[1][t[++r]]+=s+"":u.push(f?n.apply(null,p(n,s,e,["",null])):s)}return u},t="function"==typeof Map,r=t?new Map:{},e=t?function(n){var t=r.get(n);return t||r.set(n,t=u(n)),t}:function(n){for(var t="",e=0;e<n.length;e++)t+=n[e].length+"-"+n[e];return r[t]||(r[t]=u(n))};"undefined"!=typeof module?module.exports=n:self.htm=n}();