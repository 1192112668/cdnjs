!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.htm=e()}(this,function(){function u(n){function e(n){1===r&&(n||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?p.push(n||o,0):3===r&&(n||o)?(p.push(n||o,1),r=2):2===r&&"..."===o&&n?p.push(n,3):2===r&&o&&!n?p.push(!0,5,o):5<=r&&((o||!n&&5===r)&&(p.push(o,r,u),r=6),n&&(p.push(n,r,u),r=6)),o=""}for(var t,u,r=1,o="",f="",p=[0],s=0;s<n.length;s++){s&&(1===r&&e(),e(s));for(var h=0;h<n[s].length;h++)t=n[s][h],1===r?"<"===t?(e(),p=[p],r=3):o+=t:4===r?o="--"===o&&">"===t?(r=1,""):t+o[0]:f?t===f?f="":o+=t:'"'===t||"'"===t?f=t:">"===t?(e(),r=1):r&&("="===t?(r=5,u=o,o=""):"/"===t&&(r<5||">"===n[s][h+1])?(e(),3===r&&(p=p[0]),(p=(r=p)[0]).push(r,2),r=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(e(),r=2):o+=t),3===r&&"!--"===o&&(r=4,p=p[0])}return e(),p}var s=function(n,e,t,u){for(var r=1;r<e.length;r++){var o=e[r],f="number"==typeof o?t[o]:o,p=e[++r];1===p?u[0]=f:3===p?u[1]=Object.assign(u[1]||{},f):5===p?(u[1]=u[1]||{})[e[++r]]=f:6===p?u[1][e[++r]]+=f+"":u.push(p?n.apply(null,s(n,f,t,["",null])):f)}return u},n="function"==typeof Map,r=n?new Map:{},t=n?function(n){var e=r.get(n);return e||r.set(n,e=u(n)),e}:function(n){for(var e="",t=0;t<n.length;t++)e+=n[t].length+"-"+n[t];return r[e]||(r[e]=u(n))};return function(n){var e=s(this,t(n),arguments,[]);return 1<e.length?e:e[0]}});