var _extends=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},SUPPORTED_FORMATS=["IMG"],KEY_ESC=27,KEY_Q=81,CANCEL_KEYS=[KEY_ESC,KEY_Q],isSupported=function(e){return-1<SUPPORTED_FORMATS.indexOf(e.tagName)},isScaled=function(e){return e.naturalWidth!==e.width},isListOrCollection=function(e){return NodeList.prototype.isPrototypeOf(e)||HTMLCollection.prototype.isPrototypeOf(e)},isNode=function(e){return e&&1===e.nodeType},mediumZoom=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=t.margin,n=void 0===o?0:o,i=t.background,r=void 0===i?"#fff":i,d=t.scrollOffset,a=void 0===d?48:d,l=t.metaClick,m=t.container,c=t.template,s=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{bubbles:!1,cancelable:!1,detail:void 0};if("function"==typeof window.CustomEvent)return new CustomEvent(e,t);var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o},u=function(){if(C.original){if(C.original.dispatchEvent(s("show")),O=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,S=!0,C.zoomed=function(e){var t=e.getBoundingClientRect(),o=t.top,n=t.left,i=t.width,r=t.height,d=e.cloneNode(),a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,l=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return d.removeAttribute("id"),d.style.position="absolute",d.style.top=o+a+"px",d.style.left=n+l+"px",d.style.width=i+"px",d.style.height=r+"px",d.style.transform="",d}(C.original),document.body.appendChild(L),b.template){var e=isNode(b.template)?b.template:document.querySelector(b.template);C.template=document.createElement("div"),C.template.appendChild(e.content.cloneNode(!0)),document.body.appendChild(C.template)}if(document.body.appendChild(C.zoomed),requestAnimationFrame(function(){document.body.classList.add("medium-zoom--open")}),C.original.style.visibility="hidden",C.zoomed.classList.add("medium-zoom-image--open"),C.zoomed.addEventListener("click",p),C.zoomed.addEventListener("transitionend",g),C.original.getAttribute("data-zoom-target")){C.zoomedHd=C.zoomed.cloneNode(),C.zoomedHd.src=C.zoomed.getAttribute("data-zoom-target"),C.zoomedHd.onerror=function(){clearInterval(t),console.error("Unable to reach the zoom image target "+C.zoomedHd.src),C.zoomedHd=null,E()};var t=setInterval(function(){C.zoomedHd.naturalWidth&&(clearInterval(t),C.zoomedHd.classList.add("medium-zoom-image--open"),C.zoomedHd.addEventListener("click",p),document.body.appendChild(C.zoomedHd),E())},10)}else E()}},p=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,o=function(){S||!C.original||(C.original.dispatchEvent(s("hide")),S=!0,document.body.classList.remove("medium-zoom--open"),C.zoomed.style.transform="",C.zoomedHd&&(C.zoomedHd.style.transform="",C.zoomedHd.removeEventListener("click",e)),C.template&&(C.template.style.transition="opacity 150ms",C.template.style.opacity=0),C.zoomed.removeEventListener("click",e),C.zoomed.addEventListener("transitionend",h))};0<t?setTimeout(o,t):o()},f=function(e){e&&e.target?(C.original=e.target,u()):C.original?p():(C.original=w[0],u())},v=function(e){return(e.metaKey||e.ctrlKey)&&b.metaClick?window.open(e.target.getAttribute("data-original")||e.target.parentNode.href||e.target.src,"_blank"):(e.preventDefault(),void f(e))},g=function e(){S=!1,C.zoomed.removeEventListener("transitionend",e),C.original.dispatchEvent(s("shown"))},h=function e(){C.original&&(C.original.style.visibility="",document.body.removeChild(C.zoomed),C.zoomedHd&&document.body.removeChild(C.zoomedHd),document.body.removeChild(L),C.zoomed.classList.remove("medium-zoom-image--open"),C.template&&document.body.removeChild(C.template),S=!1,C.zoomed.removeEventListener("transitionend",e),C.original.dispatchEvent(s("hidden")),C.original=null,C.zoomed=null,C.zoomedHd=null,C.template=null)},y=function(){if(!S&&C.original){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(O-e)>b.scrollOffset&&p(150)}},z=function(e){-1<CANCEL_KEYS.indexOf(e.keyCode||e.which)&&p()},E=function(){var e=Math.min;if(C.original){var t,o,n={width:window.innerWidth,height:window.innerHeight,left:0,top:0,right:0,bottom:0};if(b.container)if(b.container instanceof Object)_extends(n,b.container),t=n.width-n.left-n.right-2*b.margin,o=n.height-n.top-n.bottom-2*b.margin;else{var i=(isNode(b.container)?b.container:document.querySelector(b.container)).getBoundingClientRect(),r=i.width,d=i.height,a=i.left,l=i.top;_extends(n,{width:r,height:d,left:a,top:l})}t=t||n.width-2*b.margin,o=o||n.height-2*b.margin;var m=C.zoomedHd||C.original,c=m.naturalWidth,s=void 0===c?t:c,u=m.naturalHeight,p=void 0===u?o:u,f=m.getBoundingClientRect(),v=f.top,g=f.left,h=f.width,y=f.height,z=e(e(s,t)/h,e(p,o)/y)||1,E="scale("+z+") translate3d("+((t-h)/2-g+b.margin+n.left)/z+"px, "+((o-y)/2-v+b.margin+n.top)/z+"px, 0)";C.zoomed.style.transform=E,C.zoomedHd&&(C.zoomedHd.style.transform=E)}},b={margin:n,background:r,scrollOffset:a,metaClick:void 0===l||l,container:m,template:c};e instanceof Object&&_extends(b,e);var w=function(e){try{return Array.isArray(e)?e.filter(isSupported):isListOrCollection(e)?Array.apply(null,e).filter(isSupported):isNode(e)?[e].filter(isSupported):"string"==typeof e?Array.apply(null,document.querySelectorAll(e)).filter(isSupported):Array.apply(null,document.querySelectorAll(SUPPORTED_FORMATS.map(function(e){return e.toLowerCase()}).join(","))).filter(isScaled)}catch(e){throw new TypeError("The provided selector is invalid.\nExpects a CSS selector, a Node element, a NodeList, an HTMLCollection or an array.\nSee: https://github.com/francoischalifour/medium-zoom")}}(e),L=function(e){var t=document.createElement("div");return t.classList.add("medium-zoom-overlay"),t.style.backgroundColor=e,t}(b.background),C={original:null,zoomed:null,zoomedHd:null,template:null},O=0,S=!1;return w.forEach(function(e){e.classList.add("medium-zoom-image"),e.addEventListener("click",v)}),L.addEventListener("click",p),document.addEventListener("scroll",y),document.addEventListener("keyup",z),window.addEventListener("resize",p),{show:f,hide:p,toggle:f,update:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.background&&(L.style.backgroundColor=e.background),e.container&&e.container instanceof Object&&(e.container=_extends({},b.container,e.container)),_extends(b,e)},addEventListeners:function(e,t){w.forEach(function(o){o.addEventListener(e,t)})},detach:function(){C.zoomed&&p();var e=s("detach");w.forEach(function(t){t.classList.remove("medium-zoom-image"),t.removeEventListener("click",v),t.dispatchEvent(e)}),w.splice(0,w.length),L.removeEventListener("click",p),document.removeEventListener("scroll",y),document.removeEventListener("keyup",z),window.removeEventListener("resize",p)},images:w,options:b}},mediumZoom$1=Object.freeze({default:mediumZoom});function styleInject(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===o&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var css=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--open .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s}.medium-zoom-image--open{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";styleInject(css);var mediumZoom$2=mediumZoom$1&&mediumZoom||mediumZoom$1,src=mediumZoom$2;export default src;