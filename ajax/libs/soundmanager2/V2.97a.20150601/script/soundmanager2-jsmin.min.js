!function(lt,ut){function t(e,t){function i(e){return ge.preferFlash&&ae&&!ge.ignoreFlash&&ge.flash[e]!==ut&&ge.flash[e]}function n(n){return function(e){var t=this._s;return e=t&&t._a?n.call(this,e):(t&&t.id?ge._wD(t.id+": Ignoring "+e.type):ge._wD("HTML5::Ignoring "+e.type),null)}}this.setupOptions={url:e||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=t||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20150601",this.altURL=this.movieURL=this.version=null,this.enabled=this.swfLoaded=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.didFlashBlock=this.muted=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.ignoreFlash=this.html5Only=!1;var a,h,o,s,f,_,y,w,r,v,l,u,d,c,p,m,g,M,b,O,D,L,T,P,S,F,I,H,A,C,E,k,x,N,R,U,B,j,W,q,V,Q,K,$,J,G,X,z,Z,Y,ee,te,ne,oe,ie,ae,se,re,le,ue,de,ce,he,fe,pe,me,ge=this,_e=null,ye=null,we=navigator.userAgent,ve=lt.location.href.toString(),Me=document,be=[],Oe=!0,De=!1,Le=!1,Te=!1,Pe=!1,Se=!1,Fe=0,Ie=["log","info","warn","error"],He=null,Ae=null,Ce=!1,Ee=!1,ke=0,xe=null,Ne=[],Re=null,Ue=Array.prototype.slice,Be=!1,je=0,We=we.match(/(ipad|iphone|ipod)/i),qe=we.match(/android/i),Ve=we.match(/msie/i),Qe=we.match(/webkit/i),Ke=we.match(/safari/i)&&!we.match(/chrome/i),$e=we.match(/opera/i),Je=we.match(/(mobile|pre\/|xoom)/i)||We||qe,Ge=!ve.match(/usehtml5audio/i)&&!ve.match(/sm2\-ignorebadua/i)&&Ke&&!we.match(/silk/i)&&we.match(/OS X 10_6_([3-7])/i),Xe=lt.console!==ut&&console.log!==ut,ze=Me.hasFocus!==ut?Me.hasFocus():null,Ze=Ke&&(Me.hasFocus===ut||!Me.hasFocus()),Ye=!Ze,et=/(mp3|mp4|mpa|m4a|m4b)/i,tt=Me.location?Me.location.protocol.match(/http/i):null,nt=tt?"":"http://",ot=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,it="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),at=new RegExp("\\.("+it.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!tt;try{fe=Audio!==ut&&($e&&opera!==ut&&opera.version()<10?new Audio(null):new Audio).canPlayType!==ut}catch(e){fe=!1}function st(e){var t=(e=Ue.call(e)).length;return pe?(e[1]="on"+e[1],3<t&&e.pop()):3===t&&e.push(!1),e}function rt(e,t){var n=e.shift(),o=[me[t]];pe?n[o](e[0],e[1]):n[o].apply(n,e)}this.hasHTML5=fe,this.setup=function(e){var t=!ge.url;return e!==ut&&Te&&Re&&ge.ok()&&(e.flashVersion!==ut||e.url!==ut||e.html5Test!==ut)&&q(N("setupLate")),l(e),ge.setupOptions.useHTML5Audio&&!Be&&ge.setupOptions.forceUseGlobalHTML5Audio&&(Ne.push(D.globalHTML5),Be=!0),!he&&Je&&(ge.setupOptions.ignoreMobileRestrictions&&Ne.push(D.ignoreMobile),ge.setupOptions.useHTML5Audio&&!ge.setupOptions.preferFlash||ge._wD(D.mobileUA),ge.setupOptions.useHTML5Audio=!0,ge.setupOptions.preferFlash=!1,qe&&!we.match(/android\s2\.3/i)&&(ge._wD(D.globalHTML5),We&&(ge.ignoreFlash=!0),Be=!0)),e&&(t&&S&&e.url!==ut&&ge.beginDelayedInit(),S||e.url===ut||"complete"!==Me.readyState||setTimeout(T,1)),he=!0,ge},this.supported=this.ok=function(){return Re?Te&&!Pe:ge.useHTML5Audio&&ge.hasHTML5},this.getMovie=function(e){return h(e)||Me[e]||lt[e]},this.createSound=function(e,t){function n(){return o=j(o),ge.sounds[o.id]=new a(o),ge.soundIDs.push(o.id),ge.sounds[o.id]}var o,i=null;if(i="soundManager.createSound(): "+N(Te?"notOK":"notReady"),!Te||!ge.ok())return q(i),!1;if(t!==ut&&(e={id:e,url:t}),(o=v(e)).url=J(o.url),o.id===ut&&(o.id=ge.setupOptions.idPrefix+je++),o.id.toString().charAt(0).match(/^[0-9]$/)&&ge._wD("soundManager.createSound(): "+N("badID",o.id),2),ge._wD("soundManager.createSound(): "+o.id+(o.url?" ("+o.url+")":""),1),V(o.id,!0))return ge._wD("soundManager.createSound(): "+o.id+" exists",1),ge.sounds[o.id];if(z(o))i=n(),ge.html5Only||ge._wD(o.id+": Using HTML5"),i._setup_html5(o);else{if(ge.html5Only)return ge._wD(o.id+": No HTML5 support for this sound, and no Flash. Exiting."),n();if(ge.html5.usingFlash&&o.url&&o.url.match(/data\:/i))return ge._wD(o.id+": data: URIs not supported via Flash. Exiting."),n();8<_&&(null===o.isMovieStar&&(o.isMovieStar=!!(o.serverURL||o.type&&o.type.match(ot)||o.url&&o.url.match(at))),o.isMovieStar&&(ge._wD("soundManager.createSound(): using MovieStar handling"),1<o.loops&&w("noNSLoop"))),o=W(o,"soundManager.createSound(): "),i=n(),8===_?ye._createSound(o.id,o.loops||1,o.usePolicyFile):(ye._createSound(o.id,o.url,o.usePeakData,o.useWaveformData,o.useEQData,o.isMovieStar,!!o.isMovieStar&&o.bufferTime,o.loops||1,o.serverURL,o.duration||null,o.autoPlay,!0,o.autoLoad,o.usePolicyFile),o.serverURL||(i.connected=!0,o.onconnect&&o.onconnect.apply(i))),o.serverURL||!o.autoLoad&&!o.autoPlay||i.load(o)}return!o.serverURL&&o.autoPlay&&i.play(),i},this.destroySound=function(e,t){if(!V(e))return!1;var n,o=ge.sounds[e];for(o.stop(),o._iO={},o.unload(),n=0;n<ge.soundIDs.length;n++)if(ge.soundIDs[n]===e){ge.soundIDs.splice(n,1);break}return t||o.destruct(!0),delete ge.sounds[e],!0},this.load=function(e,t){return!!V(e)&&ge.sounds[e].load(t)},this.unload=function(e){return!!V(e)&&ge.sounds[e].unload()},this.onposition=this.onPosition=function(e,t,n,o){return!!V(e)&&ge.sounds[e].onposition(t,n,o)},this.clearOnPosition=function(e,t,n){return!!V(e)&&ge.sounds[e].clearOnPosition(t,n)},this.start=this.play=function(e,t){var n=null,o=t&&!(t instanceof Object);if(!Te||!ge.ok())return q("soundManager.play(): "+N(Te?"notOK":"notReady")),!1;if(V(e,o))o&&(t={url:t});else{if(!o)return!1;o&&(t={url:t}),t&&t.url&&(ge._wD('soundManager.play(): Attempting to create "'+e+'"',1),t.id=e,n=ge.createSound(t).play())}return null===n&&(n=ge.sounds[e].play(t)),n},this.setPosition=function(e,t){return!!V(e)&&ge.sounds[e].setPosition(t)},this.stop=function(e){return!!V(e)&&(ge._wD("soundManager.stop("+e+")",1),ge.sounds[e].stop())},this.stopAll=function(){var e;for(e in ge._wD("soundManager.stopAll()",1),ge.sounds)ge.sounds.hasOwnProperty(e)&&ge.sounds[e].stop()},this.pause=function(e){return!!V(e)&&ge.sounds[e].pause()},this.pauseAll=function(){for(var e=ge.soundIDs.length-1;0<=e;e--)ge.sounds[ge.soundIDs[e]].pause()},this.resume=function(e){return!!V(e)&&ge.sounds[e].resume()},this.resumeAll=function(){for(var e=ge.soundIDs.length-1;0<=e;e--)ge.sounds[ge.soundIDs[e]].resume()},this.togglePause=function(e){return!!V(e)&&ge.sounds[e].togglePause()},this.setPan=function(e,t){return!!V(e)&&ge.sounds[e].setPan(t)},this.setVolume=function(e,t){var n,o;if(e===ut||isNaN(e)||t!==ut)return!!V(e)&&ge.sounds[e].setVolume(t);for(n=0,o=ge.soundIDs.length;n<o;n++)ge.sounds[ge.soundIDs[n]].setVolume(e)},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return!!V(e)&&(ge._wD('soundManager.mute(): Muting "'+e+'"'),ge.sounds[e].mute());for(ge._wD("soundManager.mute(): Muting all sounds"),t=ge.soundIDs.length-1;0<=t;t--)ge.sounds[ge.soundIDs[t]].mute();return ge.muted=!0},this.muteAll=function(){ge.mute()},this.unmute=function(e){if(e instanceof String&&(e=null),e)return!!V(e)&&(ge._wD('soundManager.unmute(): Unmuting "'+e+'"'),ge.sounds[e].unmute());for(ge._wD("soundManager.unmute(): Unmuting all sounds"),e=ge.soundIDs.length-1;0<=e;e--)ge.sounds[ge.soundIDs[e]].unmute();return!(ge.muted=!1)},this.unmuteAll=function(){ge.unmute()},this.toggleMute=function(e){return!!V(e)&&ge.sounds[e].toggleMute()},this.getMemoryUse=function(){var e=0;return ye&&8!==_&&(e=parseInt(ye._getMemoryUse(),10)),e},this.disable=function(e){var t;if(e===ut&&(e=!1),Pe)return!1;for(Pe=!0,w("shutdown",1),t=ge.soundIDs.length-1;0<=t;t--)E(ge.sounds[ge.soundIDs[t]]);return r(e),oe.remove(lt,"load",p),!0},this.canPlayMIME=function(e){var t;return ge.hasHTML5&&(t=Z({type:e})),!t&&Re&&(t=e&&ge.ok()?!!(8<_&&e.match(ot)||e.match(ge.mimePattern)):null),t},this.canPlayURL=function(e){var t;return ge.hasHTML5&&(t=Z({url:e})),!t&&Re&&(t=e&&ge.ok()?!!e.match(ge.filePattern):null),t},this.canPlayLink=function(e){return!(e.type===ut||!e.type||!ge.canPlayMIME(e.type))||ge.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)return null;var n=ge.sounds[e];return n||t||ge._wD('soundManager.getSoundById(): Sound "'+e+'" not found.',2),n},this.onready=function(e,t){if("function"!=typeof e)throw N("needFunction","onready");return Te&&ge._wD(N("queue","onready")),d("onready",e,t=t||lt),c(),!0},this.ontimeout=function(e,t){if("function"!=typeof e)throw N("needFunction","ontimeout");return Te&&ge._wD(N("queue","ontimeout")),d("ontimeout",e,t=t||lt),c({type:"ontimeout"}),!0},this._writeDebug=function(e,t){var n,o;return!!ge.setupOptions.debugMode&&(!!(Xe&&ge.useConsole&&(t&&"object"==typeof t?console.log(e,t):Ie[t]!==ut?console[Ie[t]](e):console.log(e),ge.consoleOnly))||!!(n=h("soundmanager-debug"))&&(o=Me.createElement("div"),0==++Fe%2&&(o.className="sm2-alt"),t=t===ut?0:parseInt(t,10),o.appendChild(Me.createTextNode(e)),t&&(2<=t&&(o.style.fontWeight="bold"),3===t&&(o.style.color="#ff3333")),n.insertBefore(o,n.firstChild),!0))},-1!==ve.indexOf("sm2-debug=alert")&&(this._writeDebug=function(e){lt.alert(e)}),this._wD=this._writeDebug,this._debug=function(){var e,t;for(w("currentObj",1),e=0,t=ge.soundIDs.length;e<t;e++)ge.sounds[ge.soundIDs[e]]._debug()},this.reboot=function(e,t){var n,o,i;for(ge.soundIDs.length&&ge._wD("Destroying "+ge.soundIDs.length+" SMSound object"+(1!==ge.soundIDs.length?"s":"")+"..."),n=ge.soundIDs.length-1;0<=n;n--)ge.sounds[ge.soundIDs[n]].destruct();if(ye)try{Ve&&(Ae=ye.innerHTML),He=ye.parentNode.removeChild(ye)}catch(e){w("badRemove",2)}if(Ae=He=Re=ye=null,ge.enabled=S=Te=Ce=Ee=De=Le=Pe=Be=ge.swfLoaded=!1,ge.soundIDs=[],ge.sounds={},je=0,he=!1,e)be=[];else for(n in be)if(be.hasOwnProperty(n))for(o=0,i=be[n].length;o<i;o++)be[n][o].fired=!1;return t||ge._wD("soundManager: Rebooting..."),ge.html5={usingFlash:null},ge.flash={},ge.html5Only=!1,ge.ignoreFlash=!1,lt.setTimeout(function(){t||ge.beginDelayedInit()},20),ge},this.reset=function(){return w("reset"),ge.reboot(!0,!0)},this.getMoviePercent=function(){return ye&&"PercentLoaded"in ye?ye.PercentLoaded():null},this.beginDelayedInit=function(){Se=!0,T(),setTimeout(function(){return!Ee&&(I(),L(),Ee=!0)},20),m()},this.destruct=function(){ge._wD("soundManager.destruct()"),ge.disable(!0)},a=function(e){var i,a,s,t,n,l,u,o,d,c,h=this,f=!1,r=[],p=0,m=null,g=i=null;this.sID=this.id=e.id,this.url=e.url,this._iO=this.instanceOptions=this.options=v(e),this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,c=!this.url,this.id3={},this._debug=function(){ge._wD(h.id+": Merged options:",h.options)},this.load=function(e){var t;if(e!==ut?h._iO=v(e,h.options):(e=h.options,h._iO=e,m&&m!==h.url&&(w("manURL"),h._iO.url=h.url,h.url=null)),h._iO.url||(h._iO.url=h.url),h._iO.url=J(h._iO.url),t=h.instanceOptions=h._iO,ge._wD(h.id+": load ("+t.url+")"),!t.url&&!h.url)return ge._wD(h.id+": load(): url is unassigned. Exiting.",2),h;if(h.isHTML5||8!==_||h.url||t.autoPlay||ge._wD(h.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),t.url===h.url&&0!==h.readyState&&2!==h.readyState)return w("onURL",1),3===h.readyState&&t.onload&&ce(h,function(){t.onload.apply(h,[!!h.duration])}),h;if(h.loaded=!1,h.readyState=1,h.playState=0,h.id3={},z(t))h._setup_html5(t)._called_load?ge._wD(h.id+": Ignoring request to load again"):(h._html5_canplay=!1,h.url!==t.url&&(ge._wD(w("manURL")+": "+t.url),h._a.src=t.url,h.setPosition(0)),h._a.autobuffer="auto",h._a.preload="auto",h._a._called_load=!0);else{if(ge.html5Only)return ge._wD(h.id+": No flash support. Exiting."),h;if(h._iO.url&&h._iO.url.match(/data\:/i))return ge._wD(h.id+": data: URIs not supported via Flash. Exiting."),h;try{h.isHTML5=!1,h._iO=W(j(t)),h._iO.autoPlay&&(h._iO.position||h._iO.from)&&(ge._wD(h.id+": Disabling autoPlay because of non-zero offset case"),h._iO.autoPlay=!1),t=h._iO,8===_?ye._load(h.id,t.url,t.stream,t.autoPlay,t.usePolicyFile):ye._load(h.id,t.url,!!t.stream,!!t.autoPlay,t.loops||1,!!t.autoLoad,t.usePolicyFile)}catch(e){w("smError",2),y("onload",!1),H({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return h.url=t.url,h},this.unload=function(){return 0!==h.readyState&&(ge._wD(h.id+": unload()"),h.isHTML5?(n(),h._a&&(h._a.pause(),m=ee(h._a))):8===_?ye._unload(h.id,"about:blank"):ye._unload(h.id),a()),h},this.destruct=function(e){ge._wD(h.id+": Destruct"),h.isHTML5?(n(),h._a&&(h._a.pause(),ee(h._a),Be||t(),h._a._s=null,h._a=null)):(h._iO.onfailure=null,ye._destroySound(h.id)),e||ge.destroySound(h.id,!0)},this.start=this.play=function(e,t){var n,o,i,a,s=!0,s=null,r=h.id+": play(): ";if(t=t===ut||t,e=e||{},h.url&&(h._iO.url=h.url),h._iO=v(h._iO,h.options),h._iO=v(e,h._iO),h._iO.url=J(h._iO.url),h.instanceOptions=h._iO,!h.isHTML5&&h._iO.serverURL&&!h.connected)return h.getAutoPlay()||(ge._wD(r+" Netstream not connected yet - setting autoPlay"),h.setAutoPlay(!0)),h;if(z(h._iO)&&(h._setup_html5(h._iO),l()),1!==h.playState||h.paused||((n=h._iO.multiShot)?ge._wD(r+"Already playing (multi-shot)",1):(ge._wD(r+"Already playing (one-shot)",1),h.isHTML5&&h.setPosition(h._iO.position),s=h)),null!==s)return s;if(e.url&&e.url!==h.url&&(h.readyState||h.isHTML5||8!==_||!c?h.load(h._iO):c=!1),h.loaded?ge._wD(r.substr(0,r.lastIndexOf(":"))):0===h.readyState?(ge._wD(r+"Attempting to load"),h.isHTML5||ge.html5Only?h.isHTML5?h.load(h._iO):(ge._wD(r+"Unsupported type. Exiting."),s=h):(h._iO.autoPlay=!0,h.load(h._iO)),h.instanceOptions=h._iO):2===h.readyState?(ge._wD(r+"Could not load - exiting",2),s=h):ge._wD(r+"Loading - attempting to play..."),null!==s)return s;if(!h.isHTML5&&9===_&&0<h.position&&h.position===h.duration&&(ge._wD(r+"Sound at end, resetting to position: 0"),e.position=0),h.paused&&0<=h.position&&(!h._iO.serverURL||0<h.position))ge._wD(r+"Resuming from paused state",1),h.resume();else{if(h._iO=v(e,h._iO),(!h.isHTML5&&null!==h._iO.position&&0<h._iO.position||null!==h._iO.from&&0<h._iO.from||null!==h._iO.to)&&0===h.instanceCount&&0===h.playState&&!h._iO.serverURL){if(n=function(){h._iO=v(e,h._iO),h.play(h._iO)},h.isHTML5&&!h._html5_canplay?(ge._wD(r+"Beginning load for non-zero offset case"),h.load({_oncanplay:n}),s=!1):h.isHTML5||h.loaded||h.readyState&&2===h.readyState||(ge._wD(r+"Preloading for non-zero offset case"),h.load({onload:n}),s=!1),null!==s)return s;h._iO=d()}(!h.instanceCount||h._iO.multiShotEvents||h.isHTML5&&h._iO.multiShot&&!Be||!h.isHTML5&&8<_&&!h.getAutoPlay())&&h.instanceCount++,h._iO.onposition&&0===h.playState&&u(h),h.playState=1,h.paused=!1,h.position=h._iO.position===ut||isNaN(h._iO.position)?0:h._iO.position,h.isHTML5||(h._iO=W(j(h._iO))),h._iO.onplay&&t&&(h._iO.onplay.apply(h),f=!0),h.setVolume(h._iO.volume,!0),h.setPan(h._iO.pan,!0),h.isHTML5?h.instanceCount<2?(l(),r=h._setup_html5(),h.setPosition(h._iO.position),r.play()):(ge._wD(h.id+": Cloning Audio() for instance #"+h.instanceCount+"..."),o=new Audio(h._iO.url),i=function(){oe.remove(o,"ended",i),h._onfinish(h),ee(o),o=null},a=function(){oe.remove(o,"canplay",a);try{o.currentTime=h._iO.position/1e3}catch(e){q(h.id+": multiShot play() failed to apply position of "+h._iO.position/1e3)}o.play()},oe.add(o,"ended",i),h._iO.volume!==ut&&(o.volume=Math.max(0,Math.min(1,h._iO.volume/100))),h.muted&&(o.muted=!0),h._iO.position?oe.add(o,"canplay",a):o.play()):(s=ye._start(h.id,h._iO.loops||1,9===_?h.position:h.position/1e3,h._iO.multiShot||!1),9!==_||s||(ge._wD(r+"No sound hardware, or 32-sound ceiling hit",2),h._iO.onplayerror&&h._iO.onplayerror.apply(h)))}return h},this.stop=function(e){var t=h._iO;return 1===h.playState&&(ge._wD(h.id+": stop()"),h._onbufferchange(0),h._resetOnPosition(0),h.paused=!1,h.isHTML5||(h.playState=0),o(),t.to&&h.clearOnPosition(t.to),h.isHTML5?h._a&&(e=h.position,h.setPosition(0),h.position=e,h._a.pause(),h.playState=0,h._onTimer(),n()):(ye._stop(h.id,e),t.serverURL&&h.unload()),h.instanceCount=0,h._iO={},t.onstop&&t.onstop.apply(h)),h},this.setAutoPlay=function(e){ge._wD(h.id+": Autoplay turned "+(e?"on":"off")),h._iO.autoPlay=e,h.isHTML5||(ye._setAutoPlay(h.id,e),e&&!h.instanceCount&&1===h.readyState&&(h.instanceCount++,ge._wD(h.id+": Incremented instance count to "+h.instanceCount)))},this.getAutoPlay=function(){return h._iO.autoPlay},this.setPosition=function(t){t===ut&&(t=0);var e=h.isHTML5?Math.max(t,0):Math.min(h.duration||h._iO.duration,Math.max(t,0));if(h.position=e,t=h.position/1e3,h._resetOnPosition(h.position),h._iO.position=e,h.isHTML5){if(h._a){if(h._html5_canplay){if(h._a.currentTime!==t){ge._wD(h.id+": setPosition("+t+")");try{h._a.currentTime=t,0!==h.playState&&!h.paused||h._a.pause()}catch(e){ge._wD(h.id+": setPosition("+t+") failed: "+e.message,2)}}}else if(t)return ge._wD(h.id+": setPosition("+t+"): Cannot seek yet, sound not ready",2),h;h.paused&&h._onTimer(!0)}}else t=9===_?h.position:t,h.readyState&&2!==h.readyState&&ye._setPosition(h.id,t,h.paused||!h.playState,h._iO.multiShot);return h},this.pause=function(e){return h.paused||0===h.playState&&1!==h.readyState||(ge._wD(h.id+": pause()"),h.paused=!0,h.isHTML5?(h._setup_html5().pause(),n()):!e&&e!==ut||ye._pause(h.id,h._iO.multiShot),h._iO.onpause&&h._iO.onpause.apply(h)),h},this.resume=function(){var e=h._iO;return h.paused&&(ge._wD(h.id+": resume()"),h.paused=!1,h.playState=1,h.isHTML5?(h._setup_html5().play(),l()):(e.isMovieStar&&!e.serverURL&&h.setPosition(h.position),ye._pause(h.id,e.multiShot)),!f&&e.onplay?(e.onplay.apply(h),f=!0):e.onresume&&e.onresume.apply(h)),h},this.togglePause=function(){return ge._wD(h.id+": togglePause()"),0===h.playState?h.play({position:9!==_||h.isHTML5?h.position/1e3:h.position}):h.paused?h.resume():h.pause(),h},this.setPan=function(e,t){return e===ut&&(e=0),t===ut&&(t=!1),h.isHTML5||ye._setPan(h.id,e),h._iO.pan=e,t||(h.pan=e,h.options.pan=e),h},this.setVolume=function(e,t){return e===ut&&(e=100),t===ut&&(t=!1),h.isHTML5?h._a&&(ge.muted&&!h.muted&&(h.muted=!0,h._a.muted=!0),h._a.volume=Math.max(0,Math.min(1,e/100))):ye._setVolume(h.id,ge.muted&&!h.muted||h.muted?0:e),h._iO.volume=e,t||(h.volume=e,h.options.volume=e),h},this.mute=function(){return h.muted=!0,h.isHTML5?h._a&&(h._a.muted=!0):ye._setVolume(h.id,0),h},this.unmute=function(){h.muted=!1;var e=h._iO.volume!==ut;return h.isHTML5?h._a&&(h._a.muted=!1):ye._setVolume(h.id,e?h._iO.volume:h.options.volume),h},this.toggleMute=function(){return h.muted?h.unmute():h.mute()},this.onposition=this.onPosition=function(e,t,n){return r.push({position:parseInt(e,10),method:t,scope:n!==ut?n:h,fired:!1}),h},this.clearOnPosition=function(e,t){var n;if(e=parseInt(e,10),isNaN(e))return!1;for(n=0;n<r.length;n++)e!==r[n].position||t&&t!==r[n].method||(r[n].fired&&p--,r.splice(n,1))},this._processOnPosition=function(){var e,t=r.length;if(!t||!h.playState||t<=p)return!1;for(--t;0<=t;t--)!(e=r[t]).fired&&h.position>=e.position&&(e.fired=!0,p++,e.method.apply(e.scope,[e.position]));return!0},this._resetOnPosition=function(e){var t,n=r.length;if(!n)return!1;for(--n;0<=n;n--)(t=r[n]).fired&&e<=t.position&&(t.fired=!1,p--);return!0},d=function(){function e(){ge._wD(h.id+': Playing "from" '+n),null===o||isNaN(o)||h.onPosition(o,i)}var t=h._iO,n=t.from,o=t.to,i=function(){ge._wD(h.id+': "To" time of '+o+" reached."),h.clearOnPosition(o,i),h.stop()};return null===n||isNaN(n)||(t.position=n,t.multiShot=!1,e()),t},u=function(){var e,t=h._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&h.onPosition(parseInt(e,10),t[e])},o=function(){var e,t=h._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&h.clearOnPosition(parseInt(e,10))},l=function(){h.isHTML5&&Q(h)},n=function(){h.isHTML5&&K(h)},(a=function(e){e||(r=[],p=0),f=!1,h._hasTimer=null,h._a=null,h._html5_canplay=!1,h.bytesLoaded=null,h.bytesTotal=null,h.duration=h._iO&&h._iO.duration?h._iO.duration:null,h.durationEstimate=null,h.buffered=[],h.eqData=[],h.eqData.left=[],h.eqData.right=[],h.failures=0,h.isBuffering=!1,h.instanceOptions={},h.instanceCount=0,h.loaded=!1,h.metadata={},h.readyState=0,h.muted=!1,h.paused=!1,h.peakData={left:0,right:0},h.waveformData={left:[],right:[]},h.playState=0,h.position=null,h.id3={}})(),this._onTimer=function(e){var t,n=!1,o={};if(h._hasTimer||e)return h._a&&(e||(0<h.playState||1===h.readyState)&&!h.paused)&&((t=h._get_html5_duration())!==i&&(i=t,h.duration=t,n=!0),h.durationEstimate=h.duration,(t=1e3*h._a.currentTime||0)!==g&&(g=t,n=!0),(n||e)&&h._whileplaying(t,o,o,o,o)),n},this._get_html5_duration=function(){var e=h._iO;return(e=h._a&&h._a.duration?1e3*h._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&1/0!==e?e:null},this._apply_loop=function(e,t){!e.loop&&1<t&&ge._wD("Note: Native HTML5 looping is infinite.",1),e.loop=1<t?"loop":""},this._setup_html5=function(e){e=v(h._iO,e);var t,n=Be?_e:h._a,o=decodeURI(e.url);if(Be?o===decodeURI(ie)&&(t=!0):o===decodeURI(m)&&(t=!0),n){if(n._s)if(Be)n._s&&n._s.playState&&!t&&n._s.stop();else if(!Be&&o===decodeURI(m))return h._apply_loop(n,e.loops),n;t||(m&&a(!1),n.src=e.url,ie=m=h.url=e.url,n._called_load=!1)}else e.autoLoad||e.autoPlay?(h._a=new Audio(e.url),h._a.load()):h._a=$e&&opera.version()<10?new Audio(null):new Audio,(n=h._a)._called_load=!1,Be&&(_e=n);return h.isHTML5=!0,(h._a=n)._s=h,s(),h._apply_loop(n,e.loops),e.autoLoad||e.autoPlay?h.load():(n.autobuffer=!1,n.preload="auto"),n},s=function(){if(h._a._added_events)return!1;var e;for(e in h._a._added_events=!0,le)le.hasOwnProperty(e)&&h._a&&h._a.addEventListener(e,le[e],!1);return!0},t=function(){var e;for(e in ge._wD(h.id+": Removing event listeners"),h._a._added_events=!1,le)le.hasOwnProperty(e)&&h._a&&h._a.removeEventListener(e,le[e],!1)},this._onload=function(e){var t=!!e||!h.isHTML5&&8===_&&h.duration;return e=h.id+": ",ge._wD(e+(t?"onload()":"Failed to load / invalid sound?"+(h.duration?" -":" Zero-length duration reported.")+" ("+h.url+")"),t?1:2),t||h.isHTML5||(!0===ge.sandbox.noRemote&&ge._wD(e+N("noNet"),1),!0===ge.sandbox.noLocal&&ge._wD(e+N("noLocal"),1)),h.loaded=t,h.readyState=t?3:2,h._onbufferchange(0),h._iO.onload&&ce(h,function(){h._iO.onload.apply(h,[t])}),!0},this._onbufferchange=function(e){return!(0===h.playState||e&&h.isBuffering||!e&&!h.isBuffering)&&(h.isBuffering=1===e,h._iO.onbufferchange&&(ge._wD(h.id+": Buffer state change: "+e),h._iO.onbufferchange.apply(h,[e])),!0)},this._onsuspend=function(){return h._iO.onsuspend&&(ge._wD(h.id+": Playback suspended"),h._iO.onsuspend.apply(h)),!0},this._onfailure=function(e,t,n){h.failures++,ge._wD(h.id+": Failure ("+h.failures+"): "+e),h._iO.onfailure&&1===h.failures?h._iO.onfailure(e,t,n):ge._wD(h.id+": Ignoring failure")},this._onwarning=function(e,t,n){h._iO.onwarning&&h._iO.onwarning(e,t,n)},this._onfinish=function(){var e=h._iO.onfinish;h._onbufferchange(0),h._resetOnPosition(0),h.instanceCount&&(h.instanceCount--,h.instanceCount||(o(),h.playState=0,h.paused=!1,h.instanceCount=0,h.instanceOptions={},h._iO={},n(),h.isHTML5&&(h.position=0)),h.instanceCount&&!h._iO.multiShotEvents||!e||(ge._wD(h.id+": onfinish()"),ce(h,function(){e.apply(h)})))},this._whileloading=function(e,t,n,o){var i=h._iO;h.bytesLoaded=e,h.bytesTotal=t,h.duration=Math.floor(n),h.bufferLength=o,h.durationEstimate=h.isHTML5||i.isMovieStar?h.duration:i.duration?h.duration>i.duration?h.duration:i.duration:parseInt(h.bytesTotal/h.bytesLoaded*h.duration,10),h.isHTML5||(h.buffered=[{start:0,end:h.duration}]),(3!==h.readyState||h.isHTML5)&&i.whileloading&&i.whileloading.apply(h)},this._whileplaying=function(e,t,n,o,i){var a=h._iO;return!isNaN(e)&&null!==e&&(h.position=Math.max(0,e),h._processOnPosition(),!h.isHTML5&&8<_&&(a.usePeakData&&t!==ut&&t&&(h.peakData={left:t.leftPeak,right:t.rightPeak}),a.useWaveformData&&n!==ut&&n&&(h.waveformData={left:n.split(","),right:o.split(",")}),a.useEQData&&i!==ut&&i&&i.leftEQ&&(e=i.leftEQ.split(","),h.eqData=e,h.eqData.left=e,i.rightEQ!==ut&&i.rightEQ&&(h.eqData.right=i.rightEQ.split(",")))),1===h.playState&&(h.isHTML5||8!==_||h.position||!h.isBuffering||h._onbufferchange(0),a.whileplaying&&a.whileplaying.apply(h)),!0)},this._oncaptiondata=function(e){ge._wD(h.id+": Caption data received."),h.captiondata=e,h._iO.oncaptiondata&&h._iO.oncaptiondata.apply(h,[e])},this._onmetadata=function(e,t){ge._wD(h.id+": Metadata received.");for(var n={},o=0,i=e.length;o<i;o++)n[e[o]]=t[o];h.metadata=n,h._iO.onmetadata&&h._iO.onmetadata.call(h,h.metadata)},this._onid3=function(e,t){ge._wD(h.id+": ID3 data received.");for(var n=[],o=0,i=e.length;o<i;o++)n[e[o]]=t[o];h.id3=v(h.id3,n),h._iO.onid3&&h._iO.onid3.apply(h)},this._onconnect=function(e){e=1===e,ge._wD(h.id+": "+(e?"Connected.":"Failed to connect? - "+h.url),e?1:2),(h.connected=e)&&(h.failures=0,V(h.id)&&(h.getAutoPlay()?h.play(ut,h.getAutoPlay()):h._iO.autoLoad&&h.load()),h._iO.onconnect&&h._iO.onconnect.apply(h,[e]))},this._ondataerror=function(e){0<h.playState&&(ge._wD(h.id+": Data error: "+e),h._iO.ondataerror&&h._iO.ondataerror.apply(h))},this._debug()},F=function(){return Me.body||Me.getElementsByTagName("div")[0]},h=function(e){return Me.getElementById(e)},v=function(e,t){var n,o=e||{},i=t===ut?ge.defaultOptions:t;for(n in i)i.hasOwnProperty(n)&&o[n]===ut&&(o[n]="object"!=typeof i[n]||null===i[n]?i[n]:v(o[n],i[n]));return o},ce=function(e,t){e.isHTML5||8!==_?t():lt.setTimeout(t,0)},u={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},l=function(e,t){var n,o=!0,i=t!==ut,a=ge.setupOptions;if(e===ut){for(n in o=[],a)a.hasOwnProperty(n)&&o.push(n);for(n in u)u.hasOwnProperty(n)&&("object"==typeof ge[n]?o.push(n+": {...}"):ge[n]instanceof Function?o.push(n+": function() {...}"):o.push(n));return ge._wD(N("setup",o.join(", "))),!1}for(n in e)if(e.hasOwnProperty(n))if("object"!=typeof e[n]||null===e[n]||e[n]instanceof Array||e[n]instanceof RegExp)i&&u[t]!==ut?ge[t][n]=e[n]:a[n]!==ut?(ge.setupOptions[n]=e[n],ge[n]=e[n]):u[n]===ut?(q(N(ge[n]===ut?"setupUndef":"setupError",n),2),o=!1):ge[n]instanceof Function?ge[n].apply(ge,e[n]instanceof Array?e[n]:[e[n]]):ge[n]=e[n];else{if(u[n]!==ut)return l(e[n],n);q(N(ge[n]===ut?"setupUndef":"setupError",n),2),o=!1}return o},pe=lt.attachEvent,me={add:pe?"attachEvent":"addEventListener",remove:pe?"detachEvent":"removeEventListener"},oe={add:function(){rt(st(arguments),"add")},remove:function(){rt(st(arguments),"remove")}},le={abort:n(function(){ge._wD(this._s.id+": abort")}),canplay:n(function(){var t,n=this._s;if(n._html5_canplay)return!0;if(n._html5_canplay=!0,ge._wD(n.id+": canplay"),n._onbufferchange(0),t=n._iO.position===ut||isNaN(n._iO.position)?null:n._iO.position/1e3,this.currentTime!==t){ge._wD(n.id+": canplay: Setting position to "+t);try{this.currentTime=t}catch(e){ge._wD(n.id+": canplay: Setting position of "+t+" failed: "+e.message,2)}}n._iO._oncanplay&&n._iO._oncanplay()}),canplaythrough:n(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),durationchange:n(function(){var e=this._s,t=e._get_html5_duration();isNaN(t)||t===e.duration||(ge._wD(this._s.id+": durationchange ("+t+")"+(e.duration?", previously "+e.duration:"")),e.durationEstimate=e.duration=t)}),ended:n(function(){var e=this._s;ge._wD(e.id+": ended"),e._onfinish()}),error:n(function(){ge._wD(this._s.id+": HTML5 error, code "+this.error.code),this._s._onload(!1)}),loadeddata:n(function(){var e=this._s;ge._wD(e.id+": loadeddata"),e._loaded||Ke||(e.duration=e._get_html5_duration())}),loadedmetadata:n(function(){ge._wD(this._s.id+": loadedmetadata")}),loadstart:n(function(){ge._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:n(function(){this._s._onbufferchange(0)}),playing:n(function(){ge._wD(this._s.id+": playing "+String.fromCharCode(9835)),this._s._onbufferchange(0)}),progress:n(function(e){var t,n,o=this._s,i=0,a="progress"===e.type,s=e.target.buffered,r=e.loaded||0,l=e.total||1;if(o.buffered=[],s&&s.length){for(i=0,t=s.length;i<t;i++)o.buffered.push({start:1e3*s.start(i),end:1e3*s.end(i)});if(i=1e3*(s.end(0)-s.start(0)),r=Math.min(1,i/(1e3*e.target.duration)),a&&1<s.length){for(n=[],t=s.length,i=0;i<t;i++)n.push(1e3*e.target.buffered.start(i)+"-"+1e3*e.target.buffered.end(i));ge._wD(this._s.id+": progress, timeRanges: "+n.join(", "))}a&&!isNaN(r)&&ge._wD(this._s.id+": progress, "+Math.floor(100*r)+"% loaded")}isNaN(r)||(o._whileloading(r,l,o._get_html5_duration()),r&&l&&r===l&&le.canplaythrough.call(this,e))}),ratechange:n(function(){ge._wD(this._s.id+": ratechange")}),suspend:n(function(e){var t=this._s;ge._wD(this._s.id+": suspend"),le.progress.call(this,e),t._onsuspend()}),stalled:n(function(){ge._wD(this._s.id+": stalled")}),timeupdate:n(function(){this._s._onTimer()}),waiting:n(function(){var e=this._s;ge._wD(this._s.id+": waiting"),e._onbufferchange(1)})},z=function(e){return!(!e||!(e.type||e.url||e.serverURL))&&(!(e.serverURL||e.type&&i(e.type))&&(e.type?Z({type:e.type}):Z({url:e.url})||ge.html5Only||e.url.match(/data\:/i)))},ee=function(e){var t;return e&&(t=!Ke&&ge.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":"about:blank",e.src=t,e._called_unload!==ut&&(e._called_load=!1)),Be&&(ie=null),t},Z=function(e){if(!ge.useHTML5Audio||!ge.hasHTML5)return!1;var t=e.url||null;e=e.type||null;var n,o=ge.audioFormats;if(e&&ge.html5[e]!==ut)return ge.html5[e]&&!i(e);if(!Y){for(n in Y=[],o)o.hasOwnProperty(n)&&(Y.push(n),o[n].related&&(Y=Y.concat(o[n].related)));Y=new RegExp("\\.("+Y.join("|")+")(\\?.*)?$","i")}return(n=t?t.toLowerCase().match(Y):null)&&n.length?n=n[1]:e&&(n=(-1!==(t=e.indexOf(";"))?e.substr(0,t):e).substr(6)),t=n&&ge.html5[n]!==ut?ge.html5[n]&&!i(n):(e="audio/"+n,t=ge.html5.canPlayType({type:e}),(ge.html5[n]=t)&&ge.html5[e]&&!i(e))},ne=function(){function e(e){var t,n=t=!1;if(!i||"function"!=typeof i.canPlayType)return t;if(e instanceof Array){for(o=0,t=e.length;o<t;o++)(ge.html5[e[o]]||i.canPlayType(e[o]).match(ge.html5Test))&&(n=!0,ge.html5[e[o]]=!0,ge.flash[e[o]]=!!e[o].match(et));t=n}else t=!(!(e=!(!i||"function"!=typeof i.canPlayType)&&i.canPlayType(e))||!e.match(ge.html5Test));return t}if(!ge.useHTML5Audio||!ge.hasHTML5)return Re=ge.html5.usingFlash=!0,!1;var t,n,o,i=Audio!==ut?$e&&opera.version()<10?new Audio(null):new Audio:null,a={},s=ge.audioFormats;for(t in s)if(s.hasOwnProperty(t)&&(n="audio/"+t,a[t]=e(s[t].type),a[n]=a[t],t.match(et)?(ge.flash[t]=!0,ge.flash[n]=!0):(ge.flash[t]=!1,ge.flash[n]=!1),s[t]&&s[t].related))for(o=s[t].related.length-1;0<=o;o--)a["audio/"+s[t].related[o]]=a[t],ge.html5[s[t].related[o]]=a[t],ge.flash[s[t].related[o]]=a[t];return a.canPlayType=i?e:null,ge.html5=v(ge.html5,a),ge.html5.usingFlash=X(),Re=ge.html5.usingFlash,!0},D={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:"soundManagerexception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:"soundManager: Verify that %s is a valid path.",tryDebug:"Try soundManager.debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:"soundManager: Non-HTTP page ("+Me.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:"soundManager: Special case: Waiting for SWF to load with window focus...",waitForever:"soundManager: Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:"soundManager: Waiting for 100% SWF load...",needFunction:"soundManager: Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:"soundManager: _debug(): Current sound objects",waitOnload:"soundManager: Waiting for window.onload()",docLoaded:"soundManager: Document already loaded",onload:"soundManager: initComplete(): calling soundManager.onload()",onloadOK:"soundManager.onload() complete",didInit:"soundManager: init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:"soundManager: Failed to remove Flash node.",shutdown:"soundManager.disable(): Shutting down",queue:"soundManager: Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying .swf_timedout CSS...",fbLoaded:"Flash loaded",fbHandler:"soundManager: flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:"soundManager.load(): current URL already assigned.",badFV:'soundManager.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:"soundManager: Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:"soundManager: Got window focus.",policy:"Enabling usePolicyFile for data access",setup:"soundManager.setup(): allowed parameters: %s",setupError:'soundManager.setup(): "%s" cannot be assigned with this method.',setupUndef:'soundManager.setup(): Could not find option "%s"',setupLate:"soundManager.setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:"soundManager: Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. "+String.fromCharCode(10003),reset:"soundManager.reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},N=function(){var e,t,n=Ue.call(arguments),o=n.shift();if((t=D&&D[o]?D[o]:"")&&n&&n.length)for(o=0,e=n.length;o<e;o++)t=t.replace("%s",n[o]);return t},j=function(e){return 8===_&&1<e.loops&&e.stream&&(w("as2loop"),e.stream=!1),e},W=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(ge._wD((t||"")+N("policy")),e.usePolicyFile=!0),e},q=function(e){Xe&&console.warn!==ut?console.warn(e):ge._wD(e)},o=function(){return!1},E=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=o)},k=function(e){e===ut&&(e=!1),(Pe||e)&&ge.disable(e)},x=function(e){if(e)if(e.match(/\.swf(\?.*)?$/i)){if(e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+ge.movieURL,ge.noSWFCache&&(e+="?ts="+(new Date).getTime()),e},b=function(){8!==(_=parseInt(ge.flashVersion,10))&&9!==_&&(ge._wD(N("badFV",_,8)),ge.flashVersion=_=8);var e=ge.debugMode||ge.debugFlash?"_debug.swf":".swf";ge.useHTML5Audio&&!ge.html5Only&&ge.audioFormats.mp4.required&&_<9&&(ge._wD(N("needfl9")),ge.flashVersion=_=9),ge.version=ge.versionNumber+(ge.html5Only?" (HTML5-only mode)":9===_?" (AS3/Flash 9)":" (AS2/Flash 8)"),8<_?(ge.defaultOptions=v(ge.defaultOptions,ge.flash9Options),ge.features.buffering=!0,ge.defaultOptions=v(ge.defaultOptions,ge.movieStarOptions),ge.filePatterns.flash9=new RegExp("\\.(mp3|"+it.join("|")+")(\\?.*)?$","i"),ge.features.movieStar=!0):ge.features.movieStar=!1,ge.filePattern=ge.filePatterns[8!==_?"flash9":"flash8"],ge.movieURL=(8===_?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),ge.features.peakData=ge.features.waveformData=ge.features.eqData=8<_},A=function(e,t){if(!ye)return!1;ye._setPolling(e,t)},C=function(){if(ge.debugURLParam.test(ve)&&(ge.setupOptions.debugMode=ge.debugMode=!0),h(ge.debugID))return!1;var e,t,n,o;if(!(!ge.debugMode||h(ge.debugID)||Xe&&ge.useConsole&&ge.consoleOnly)){for(o in(e=Me.createElement("div")).id=ge.debugID+"-toggle",t={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(Me.createTextNode("-")),e.onclick=B,e.title="Toggle SM2 debug console",we.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand"),t)t.hasOwnProperty(o)&&(e.style[o]=t[o]);if((t=Me.createElement("div")).id=ge.debugID,t.style.display=ge.debugMode?"block":"none",ge.debugMode&&!h(e.id)){try{(n=F()).appendChild(e)}catch(e){throw Error(N("domError")+" \n"+e.toString())}n.appendChild(t)}}},V=this.getSoundById,w=function(e,t){return e?ge._wD(N(e),t):""},B=function(){var e=h(ge.debugID),t=h(ge.debugID+"-toggle");if(!e)return!1;Oe?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),Oe=!Oe},y=function(e,t,n){if(lt.sm2Debugger!==ut)try{sm2Debugger.handleEvent(e,t,n)}catch(e){return!1}return!0},U=function(){var e=[];return ge.debugMode&&e.push("sm2_debug"),ge.debugFlash&&e.push("flash_debug"),ge.useHighPerformance&&e.push("high_performance"),e.join(" ")},R=function(){var e=N("fbHandler"),t=ge.getMoviePercent(),n={type:"FLASHBLOCK"};if(ge.html5Only)return!1;ge.ok()?(ge.didFlashBlock&&ge._wD(e+": Unblocked"),ge.oMC&&(ge.oMC.className=[U(),"movieContainer","swf_loaded"+(ge.didFlashBlock?" swf_unblocked":"")].join(" "))):(Re&&(ge.oMC.className=U()+" movieContainer "+(null===t?"swf_timedout":"swf_error"),ge._wD(e+": "+N("fbTimeout")+(t?" ("+N("fbLoaded")+")":""))),ge.didFlashBlock=!0,c({type:"ontimeout",ignoreInit:!0,error:n}),H(n))},d=function(e,t,n){be[e]===ut&&(be[e]=[]),be[e].push({method:t,scope:n||null,fired:!1})},c=function(e){if(e=e||{type:ge.ok()?"onready":"ontimeout"},!Te&&e&&!e.ignoreInit||"ontimeout"===e.type&&(ge.ok()||Pe&&!e.ignoreInit))return!1;var t,n={success:e&&e.ignoreInit?ge.ok():!Pe},o=e&&e.type&&be[e.type]||[],i=[],n=[n],a=Re&&!ge.ok();for(e.error&&(n[0].error=e.error),e=0,t=o.length;e<t;e++)!0!==o[e].fired&&i.push(o[e]);if(i.length)for(e=0,t=i.length;e<t;e++)i[e].scope?i[e].method.apply(i[e].scope,n):i[e].method.apply(this,n),a||(i[e].fired=!0);return!0},p=function(){lt.setTimeout(function(){ge.useFlashBlock&&R(),c(),"function"==typeof ge.onload&&(w("onload",1),ge.onload.apply(lt),w("onloadOK",1)),ge.waitForWindowLoad&&oe.add(lt,"load",p)},1)},se=function(){if(ae!==ut)return ae;var t,e=!1,n=navigator,o=n.plugins,i=lt.ActiveXObject;if(o&&o.length)(n=n.mimeTypes)&&n["application/x-shockwave-flash"]&&n["application/x-shockwave-flash"].enabledPlugin&&n["application/x-shockwave-flash"].enabledPlugin.description&&(e=!0);else if(i!==ut&&!we.match(/MSAppHost/i)){try{t=new i("ShockwaveFlash.ShockwaveFlash")}catch(e){t=null}e=!!t}return ae=e},X=function(){var e,t,n=ge.audioFormats;if(We&&we.match(/os (1|2|3_0|3_1)\s/i)?(ge.hasHTML5=!1,ge.html5Only=!0,ge.oMC&&(ge.oMC.style.display="none")):ge.useHTML5Audio&&(ge.html5&&ge.html5.canPlayType||(ge._wD("SoundManager: No HTML5 Audio() support detected."),ge.hasHTML5=!1),Ge&&ge._wD("soundManager: Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(ae?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),ge.useHTML5Audio&&ge.hasHTML5)for(t in G=!0,n)n.hasOwnProperty(t)&&n[t].required&&(ge.html5.canPlayType(n[t].type)?ge.preferFlash&&(ge.flash[t]||ge.flash[n[t].type])&&(e=!0):e=!(G=!1));return ge.ignoreFlash&&(G=!(e=!1)),ge.html5Only=ge.hasHTML5&&ge.useHTML5Audio&&!e,!ge.html5Only},J=function(e){var t,n,o=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(ge.canPlayMIME(e[t].type)){o=t;break}}else if(ge.canPlayURL(e[t])){o=t;break}e[o].url&&(e[o]=e[o].url),e=e[o]}return e},Q=function(e){e._hasTimer||(e._hasTimer=!0,!Je&&ge.html5PollingInterval&&(null===xe&&0===ke&&(xe=setInterval($,ge.html5PollingInterval)),ke++))},K=function(e){e._hasTimer&&(e._hasTimer=!1,!Je&&ge.html5PollingInterval&&ke--)},$=function(){var e;if(null!==xe&&!ke)return clearInterval(xe),xe=null,!1;for(e=ge.soundIDs.length-1;0<=e;e--)ge.sounds[ge.soundIDs[e]].isHTML5&&ge.sounds[ge.soundIDs[e]]._hasTimer&&ge.sounds[ge.soundIDs[e]]._onTimer()},H=function(e){e=e!==ut?e:{},"function"==typeof ge.onerror&&ge.onerror.apply(lt,[{type:e.type!==ut?e.type:null}]),e.fatal!==ut&&e.fatal&&ge.disable()},re=function(){if(!Ge||!se())return!1;var e,t,n=ge.audioFormats;for(t in n)if(n.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(ge._wD("soundManager: Using flash fallback for "+t+" format"),ge.html5[t]=!1,n[t]&&n[t].related))for(e=n[t].related.length-1;0<=e;e--)ge.html5[n[t].related[e]]=!1},this._setSandboxType=function(e){var t=ge.sandbox;t.type=e,t.description=t.types[t.types[e]!==ut?e:"unknown"],"localWithFile"===t.type?(t.noRemote=!0,t.noLocal=!1,w("secNote",2)):"localWithNetwork"===t.type?(t.noRemote=!1,t.noLocal=!0):"localTrusted"===t.type&&(t.noRemote=!1,t.noLocal=!1)},this._externalInterfaceOK=function(e){return!ge.swfLoaded&&(y("swf",!0),y("flashtojs",!0),ge.swfLoaded=!0,Ze=!1,Ge&&re(),e&&e.replace(/\+dev/i,"")===ge.versionNumber.replace(/\+dev/i,"")?void setTimeout(f,Ve?100:1):(t='soundManager: Fatal: JavaScript file build "'+ge.versionNumber+'" does not match Flash SWF build "'+e+'" at '+ge.url+". Ensure both are up-to-date.",setTimeout(function(){throw Error(t)},0),!1));var t},I=function(e,t){function n(){var e=[],t=[],n="SoundManager "+ge.version+(!ge.html5Only&&ge.useHTML5Audio?ge.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"");ge.html5Only?ge.html5PollingInterval&&e.push("html5PollingInterval ("+ge.html5PollingInterval+"ms)"):(ge.preferFlash&&e.push("preferFlash"),ge.useHighPerformance&&e.push("useHighPerformance"),ge.flashPollingInterval&&e.push("flashPollingInterval ("+ge.flashPollingInterval+"ms)"),ge.html5PollingInterval&&e.push("html5PollingInterval ("+ge.html5PollingInterval+"ms)"),ge.wmode&&e.push("wmode ("+ge.wmode+")"),ge.debugFlash&&e.push("debugFlash"),ge.useFlashBlock&&e.push("flashBlock")),e.length&&(t=t.concat([e.join(" + ")])),ge._wD(n+(t.length?" + "+t.join(", "):""),1),ue()}function o(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(De&&Le)return!1;if(ge.html5Only)return b(),n(),ge.oMC=h(ge.movieID),f(),Le=De=!0,!1;var i,a,s,r=t||ge.url,l=ge.altURL||r,u=F(),d=U(),c=null,c=(c=Me.getElementsByTagName("html")[0])&&c.dir&&c.dir.match(/rtl/i);if(e=e===ut?ge.id:e,b(),ge.url=x(tt?r:l),t=ge.url,ge.wmode=!ge.wmode&&ge.useHighPerformance?"transparent":ge.wmode,null!==ge.wmode&&(we.match(/msie 8/i)||!Ve&&!ge.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Ne.push(D.spcWmode),ge.wmode=null),u={name:e,id:e,src:t,quality:"high",allowScriptAccess:ge.allowScriptAccess,bgcolor:ge.bgColor,pluginspage:nt+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:ge.wmode,hasPriority:"true"},ge.debugFlash&&(u.FlashVars="debug=1"),ge.wmode||delete u.wmode,Ve)r=Me.createElement("div"),a=['<object id="'+e+'" data="'+t+'" type="'+u.type+'" title="'+u.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',o("movie",t),o("AllowScriptAccess",ge.allowScriptAccess),o("quality",u.quality),ge.wmode?o("wmode",ge.wmode):"",o("bgcolor",ge.bgColor),o("hasPriority","true"),ge.debugFlash?o("FlashVars",u.FlashVars):"","</object>"].join("");else for(i in r=Me.createElement("embed"),u)u.hasOwnProperty(i)&&r.setAttribute(i,u[i]);if(C(),d=U(),u=F())if(ge.oMC=h(ge.movieID)||Me.createElement("div"),ge.oMC.id)s=ge.oMC.className,ge.oMC.className=(s?s+" ":"movieContainer")+(d?" "+d:""),ge.oMC.appendChild(r),Ve&&((i=ge.oMC.appendChild(Me.createElement("div"))).className="sm2-object-box",i.innerHTML=a),Le=!0;else{if(ge.oMC.id=ge.movieID,ge.oMC.className="movieContainer "+d,i=d=null,ge.useFlashBlock||(ge.useHighPerformance?d={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(d={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},c&&(d.left=Math.abs(parseInt(d.left,10))+"px"))),Qe&&(ge.oMC.style.zIndex=1e4),!ge.debugFlash)for(s in d)d.hasOwnProperty(s)&&(ge.oMC.style[s]=d[s]);try{Ve||ge.oMC.appendChild(r),u.appendChild(ge.oMC),Ve&&((i=ge.oMC.appendChild(Me.createElement("div"))).className="sm2-object-box",i.innerHTML=a),Le=!0}catch(e){throw Error(N("domError")+" \n"+e.toString())}}return De=!0,n(),!0},L=function(){return ge.html5Only?(I(),!1):!ye&&(ge.url?((ye=ge.getMovie(ge.id))||(He?(Ve?ge.oMC.innerHTML=Ae:ge.oMC.appendChild(He),De=!(He=null)):I(ge.id,ge.url),ye=ge.getMovie(ge.id)),"function"==typeof ge.oninitmovie&&setTimeout(ge.oninitmovie,1),de(),!0):(w("noURL"),!1))},m=function(){setTimeout(g,1e3)},M=function(){lt.setTimeout(function(){q("soundManager: useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),ge.setup({preferFlash:!1}).reboot(),ge.didFlashBlock=!0,ge.beginDelayedInit()},1)},g=function(){var e,t=!1;return!(!ge.url||Ce)&&(Ce=!0,oe.remove(lt,"load",m),ae&&Ze&&!ze?(w("waitFocus"),!1):(Te||0<(e=ge.getMoviePercent())&&e<100&&(t=!0),void setTimeout(function(){if(e=ge.getMoviePercent(),t)return Ce=!1,ge._wD(N("waitSWF")),lt.setTimeout(m,1),!1;Te||(ge._wD("soundManager: No Flash response within expected time. Likely causes: "+(0===e?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(ge.debugFlash?" "+N("checkSWF"):""),2),!tt&&e&&(w("localFail",2),ge.debugFlash||w("tryDebug",2)),0===e&&ge._wD(N("swf404",ge.url),1),y("flashtojs",!1,": Timed out"+(tt?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))),!Te&&Ye&&(null===e?ge.useFlashBlock||0===ge.flashLoadTimeout?(ge.useFlashBlock&&R(),w("waitForever")):!ge.useFlashBlock&&G?M():(w("waitForever"),c({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):0===ge.flashLoadTimeout?w("waitForever"):!ge.useFlashBlock&&G?M():k(!0))},ge.flashLoadTimeout)))},O=function(){return ze||!Ze||(ze=Ye=!0,w("gotFocus"),Ce=!1,m()),oe.remove(lt,"focus",O),!0},de=function(){Ne.length&&(ge._wD("SoundManager 2: "+Ne.join(" "),1),Ne=[])},ue=function(){de();var e,t=[];if(ge.useHTML5Audio&&ge.hasHTML5){for(e in ge.audioFormats)ge.audioFormats.hasOwnProperty(e)&&t.push(e+" = "+ge.html5[e]+(!ge.html5[e]&&Re&&ge.flash[e]?" (using flash)":ge.preferFlash&&ge.flash[e]&&Re?" (preferring flash)":ge.html5[e]?"":" ("+(ge.audioFormats[e].required?"required, ":"")+"and no flash support)"));ge._wD("SoundManager 2 HTML5 support: "+t.join(", "),1)}},r=function(e){if(Te)return!1;if(ge.html5Only)return w("sm2Loaded",1),Te=!0,p(),y("onload",!0),!0;var t,n=!0;return ge.useFlashBlock&&ge.flashLoadTimeout&&!ge.getMoviePercent()||(Te=!0),t={type:!ae&&Re?"NO_FLASH":"INIT_TIMEOUT"},ge._wD("SoundManager 2 "+(Pe?"failed to load":"loaded")+" ("+(Pe?"Flash security/load error":"OK")+") "+String.fromCharCode(Pe?10006:10003),Pe?2:1),Pe||e?(ge.useFlashBlock&&ge.oMC&&(ge.oMC.className=U()+" "+(null===ge.getMoviePercent()?"swf_timedout":"swf_error")),c({type:"ontimeout",error:t,ignoreInit:!0}),y("onload",!1),H(t),n=!1):y("onload",!0),Pe||(ge.waitForWindowLoad&&!Se?(w("waitOnload"),oe.add(lt,"load",p)):(ge.waitForWindowLoad&&Se&&w("docLoaded"),p())),n},s=function(){var e,t=ge.setupOptions;for(e in t)t.hasOwnProperty(e)&&(ge[e]===ut?ge[e]=t[e]:ge[e]!==t[e]&&(ge.setupOptions[e]=ge[e]))},f=function(){if(Te)return w("didInit"),!1;if(ge.html5Only)return Te||(oe.remove(lt,"load",ge.beginDelayedInit),ge.enabled=!0,r()),!0;L();try{ye._externalInterfaceTest(!1),A(!0,ge.flashPollingInterval||(ge.useHighPerformance?10:50)),ge.debugMode||ye._disableDebug(),ge.enabled=!0,y("jstoflash",!0),ge.html5Only||oe.add(lt,"unload",o)}catch(e){return ge._wD("js/flash exception: "+e.toString()),y("jstoflash",!1),H({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),k(!0),r(),!1}return r(),oe.remove(lt,"load",ge.beginDelayedInit),!0},T=function(){return!S&&(S=!0,s(),C(),!ae&&ge.hasHTML5&&(ge._wD("SoundManager 2: No Flash detected"+(ge.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),ge.setup({useHTML5Audio:!0,preferFlash:!1})),ne(),!ae&&Re&&(Ne.push(D.needFlash),ge.setup({flashLoadTimeout:1})),Me.removeEventListener&&Me.removeEventListener("DOMContentLoaded",T,!1),L(),!0)},te=function(){return"complete"===Me.readyState&&(T(),Me.detachEvent("onreadystatechange",te)),!0},P=function(){Se=!0,T(),oe.remove(lt,"load",P)},se(),oe.add(lt,"focus",O),oe.add(lt,"load",m),oe.add(lt,"load",P),Me.addEventListener?Me.addEventListener("DOMContentLoaded",T,!1):Me.attachEvent?Me.attachEvent("onreadystatechange",te):(y("onload",!1),H({type:"NO_DOM2_EVENTS",fatal:!0}))}if(!lt||!lt.document)throw Error("SoundManager requires a browser with window and document objects.");var e=null;lt.SM2_DEFER!==ut&&SM2_DEFER||(e=new t),"object"==typeof module&&module&&"object"==typeof module.exports?(module.exports.SoundManager=t,module.exports.soundManager=e):"function"==typeof define&&define.amd&&define(function(){return{constructor:t,getInstance:function(e){return!lt.soundManager&&e instanceof Function&&((e=e(t))instanceof t&&(lt.soundManager=e)),lt.soundManager}}}),lt.SoundManager=t,lt.soundManager=e}(window);