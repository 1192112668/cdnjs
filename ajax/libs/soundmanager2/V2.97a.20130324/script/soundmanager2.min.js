!function(ut,dt){"use strict";var e=null;function t(e,t){this.setupOptions={url:e||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=t||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20130324",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var r,y,n,s,w,_,g,v,o,b,l,u,i,a,d,f,h,O,c,D,p,m,M,L,T,P,S,F,I,H,E,A,k,C,R,x,N,U,B,W,j,q,V,Q,$,K,J,X,z,G,Y,Z,ee,te,ne,oe,ie,ae,se,re,le,ue,de,fe,he=this,ce=null,pe=null,me="soundManager",_e=me+": ",ge="HTML5::",ye=navigator.userAgent,we=ut.location.href.toString(),ve=document,be=[],Oe=!0,De=!1,Me=!1,Le=!1,Te=!1,Pe=!1,Se=0,Fe=["log","info","warn","error"],Ie=null,He=null,Ee=!1,Ae=!1,ke=0,Ce=null,Re=[],xe=null,Ne=Array.prototype.slice,Ue=!1,Be=ye.match(/(ipad|iphone|ipod)/i),We=ye.match(/android/i),je=ye.match(/msie/i),qe=ye.match(/webkit/i),Ve=ye.match(/safari/i)&&!ye.match(/chrome/i),Qe=ye.match(/opera/i),$e=ye.match(/(mobile|pre\/|xoom)/i)||Be||We,Ke=!we.match(/usehtml5audio/i)&&!we.match(/sm2\-ignorebadua/i)&&Ve&&!ye.match(/silk/i)&&ye.match(/OS X 10_6_([3-7])/i),Je=ut.console!==dt&&console.log!==dt,Xe=ve.hasFocus!==dt?ve.hasFocus():null,ze=Ve&&(ve.hasFocus===dt||!ve.hasFocus()),Ge=!ze,Ye=/(mp3|mp4|mpa|m4a|m4b)/i,Ze="about:blank",et=ve.location?ve.location.protocol.match(/http/i):null,tt=et?"":"http://",nt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,ot=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],it=new RegExp("\\.("+ot.join("|")+")(\\?.*)?$","i");function at(e){return he.preferFlash&&oe&&!he.ignoreFlash&&he.flash[e]!==dt&&he.flash[e]}function st(e){var t=Ne.call(e),n=t.length;return de?(t[1]="on"+t[1],3<n&&t.pop()):3===n&&t.push(!1),t}function rt(e,t){var n=e.shift(),o=[fe[t]];de?n[o](e[0],e[1]):n[o].apply(n,e)}function lt(o){return function(e){var t=this._s,n=t&&t._a?o.call(this,e):(t&&t.id?he._wD(t.id+": Ignoring "+e.type):he._wD(ge+"Ignoring "+e.type),null);return n}}this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!et,N={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},this.hasHTML5=function(){try{return Audio!==dt&&(Qe&&opera!==dt&&opera.version()<10?new Audio(null):new Audio).canPlayType!==dt}catch(e){return!1}}(),this.setup=function(e){var t=!he.url;return e!==dt&&Le&&xe&&he.ok()&&(e.flashVersion!==dt||e.url!==dt||e.html5Test!==dt)&&j(C("setupLate")),l(e),t&&T&&e.url!==dt&&he.beginDelayedInit(),T||e.url===dt||"complete"!==ve.readyState||setTimeout(M,1),he},this.ok=function(){return xe?Le&&!Te:he.useHTML5Audio&&he.hasHTML5},this.supported=this.ok,this.getMovie=function(e){return y(e)||ve[e]||ut[e]},this.createSound=function(e,t){var n,o=null,i=me+".createSound(): ",a=i+C(Le?"notOK":"notReady");if(!Le||!he.ok())return j(a),!1;if(t!==dt&&(e={id:e,url:t}),(n=b(e)).url=K(n.url),n.id.toString().charAt(0).match(/^[0-9]$/)&&he._wD(i+C("badID",n.id),2),he._wD(i+n.id+" ("+n.url+")",1),q(n.id,!0))return he._wD(i+n.id+" exists",1),he.sounds[n.id];function s(){return n=B(n),he.sounds[n.id]=new r(n),he.soundIDs.push(n.id),he.sounds[n.id]}return X(n)?(o=s(),he._wD(n.id+": Using HTML5"),o._setup_html5(n)):(8<_&&(null===n.isMovieStar&&(n.isMovieStar=!!(n.serverURL||n.type&&n.type.match(nt)||n.url.match(it))),n.isMovieStar&&(he._wD(i+"using MovieStar handling"),1<n.loops&&v("noNSLoop"))),n=W(n,i),o=s(),8===_?pe._createSound(n.id,n.loops||1,n.usePolicyFile):(pe._createSound(n.id,n.url,n.usePeakData,n.useWaveformData,n.useEQData,n.isMovieStar,!!n.isMovieStar&&n.bufferTime,n.loops||1,n.serverURL,n.duration||null,n.autoPlay,!0,n.autoLoad,n.usePolicyFile),n.serverURL||(o.connected=!0,n.onconnect&&n.onconnect.apply(o))),n.serverURL||!n.autoLoad&&!n.autoPlay||o.load(n)),!n.serverURL&&n.autoPlay&&o.play(),o},this.destroySound=function(e,t){if(!q(e))return!1;var n,o=he.sounds[e];for(o._iO={},o.stop(),o.unload(),n=0;n<he.soundIDs.length;n++)if(he.soundIDs[n]===e){he.soundIDs.splice(n,1);break}return t||o.destruct(!0),o=null,delete he.sounds[e],!0},this.load=function(e,t){return!!q(e)&&he.sounds[e].load(t)},this.unload=function(e){return!!q(e)&&he.sounds[e].unload()},this.onPosition=function(e,t,n,o){return!!q(e)&&he.sounds[e].onposition(t,n,o)},this.onposition=this.onPosition,this.clearOnPosition=function(e,t,n){return!!q(e)&&he.sounds[e].clearOnPosition(t,n)},this.play=function(e,t){var n=!1;return Le&&he.ok()?q(e)?he.sounds[e].play(t):(t instanceof Object||(t={url:t}),t&&t.url&&(he._wD(me+'.play(): attempting to create "'+e+'"',1),t.id=e,n=he.createSound(t).play()),n):(j(me+".play(): "+C(Le?"notOK":"notReady")),n)},this.start=this.play,this.setPosition=function(e,t){return!!q(e)&&he.sounds[e].setPosition(t)},this.stop=function(e){return!!q(e)&&(he._wD(me+".stop("+e+")",1),he.sounds[e].stop())},this.stopAll=function(){var e;for(e in he._wD(me+".stopAll()",1),he.sounds)he.sounds.hasOwnProperty(e)&&he.sounds[e].stop()},this.pause=function(e){return!!q(e)&&he.sounds[e].pause()},this.pauseAll=function(){for(var e=he.soundIDs.length-1;0<=e;e--)he.sounds[he.soundIDs[e]].pause()},this.resume=function(e){return!!q(e)&&he.sounds[e].resume()},this.resumeAll=function(){for(var e=he.soundIDs.length-1;0<=e;e--)he.sounds[he.soundIDs[e]].resume()},this.togglePause=function(e){return!!q(e)&&he.sounds[e].togglePause()},this.setPan=function(e,t){return!!q(e)&&he.sounds[e].setPan(t)},this.setVolume=function(e,t){return!!q(e)&&he.sounds[e].setVolume(t)},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return!!q(e)&&(he._wD(me+'.mute(): Muting "'+e+'"'),he.sounds[e].mute());for(he._wD(me+".mute(): Muting all sounds"),t=he.soundIDs.length-1;0<=t;t--)he.sounds[he.soundIDs[t]].mute();return he.muted=!0},this.muteAll=function(){he.mute()},this.unmute=function(e){var t;if(e instanceof String&&(e=null),e)return!!q(e)&&(he._wD(me+'.unmute(): Unmuting "'+e+'"'),he.sounds[e].unmute());for(he._wD(me+".unmute(): Unmuting all sounds"),t=he.soundIDs.length-1;0<=t;t--)he.sounds[he.soundIDs[t]].unmute();return!(he.muted=!1)},this.unmuteAll=function(){he.unmute()},this.toggleMute=function(e){return!!q(e)&&he.sounds[e].toggleMute()},this.getMemoryUse=function(){var e=0;return pe&&8!==_&&(e=parseInt(pe._getMemoryUse(),10)),e},this.disable=function(e){var t;if(e===dt&&(e=!1),Te)return!1;for(Te=!0,v("shutdown",1),t=he.soundIDs.length-1;0<=t;t--)E(he.sounds[he.soundIDs[t]]);return o(e),te.remove(ut,"load",d),!0},this.canPlayMIME=function(e){var t;return he.hasHTML5&&(t=z({type:e})),!t&&xe&&(t=e&&he.ok()?!!(8<_&&e.match(nt)||e.match(he.mimePattern)):null),t},this.canPlayURL=function(e){var t;return he.hasHTML5&&(t=z({url:e})),!t&&xe&&(t=e&&he.ok()?!!e.match(he.filePattern):null),t},this.canPlayLink=function(e){return!(e.type===dt||!e.type||!he.canPlayMIME(e.type))||he.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)throw new Error(me+".getSoundById(): sID is null/_undefined");var n=he.sounds[e];return n||t||he._wD('"'+e+'" is an invalid sound ID.',2),n},this.onready=function(e,t){var n="onready";if("function"!=typeof e)throw C("needFunction",n);return Le&&he._wD(C("queue",n)),i(n,e,t=t||ut),a(),!0},this.ontimeout=function(e,t){var n="ontimeout";if("function"!=typeof e)throw C("needFunction",n);return Le&&he._wD(C("queue",n)),i(n,e,t=t||ut),a({type:n}),!0},this._writeDebug=function(e,t){var n,o;return!!he.debugMode&&(!!(Je&&he.useConsole&&(t&&"object"==typeof t?console.log(e,t):Fe[t]!==dt?console[Fe[t]](e):console.log(e),he.consoleOnly))||!!(n=y("soundmanager-debug"))&&(o=ve.createElement("div"),++Se%2==0&&(o.className="sm2-alt"),t=t===dt?0:parseInt(t,10),o.appendChild(ve.createTextNode(e)),t&&(2<=t&&(o.style.fontWeight="bold"),3===t&&(o.style.color="#ff3333")),n.insertBefore(o,n.firstChild),!(n=null)))},-1!==we.indexOf("sm2-debug=alert")&&(this._writeDebug=function(e){ut.alert(e)}),this._wD=this._writeDebug,this._debug=function(){var e,t;for(v("currentObj",1),e=0,t=he.soundIDs.length;e<t;e++)he.sounds[he.soundIDs[e]]._debug()},this.reboot=function(e,t){var n,o,i;for(he.soundIDs.length&&he._wD("Destroying "+he.soundIDs.length+" SMSound objects..."),n=he.soundIDs.length-1;0<=n;n--)he.sounds[he.soundIDs[n]].destruct();if(pe)try{je&&(He=pe.innerHTML),Ie=pe.parentNode.removeChild(pe),v("flRemoved")}catch(e){v("badRemove",2)}if(He=Ie=xe=pe=null,he.enabled=T=Le=Ee=Ae=De=Me=Te=Ue=he.swfLoaded=!1,he.soundIDs=[],he.sounds={},e)be=[];else for(n in be)if(be.hasOwnProperty(n))for(o=0,i=be[n].length;o<i;o++)be[n][o].fired=!1;return t||he._wD(me+": Rebooting..."),he.html5={usingFlash:null},he.flash={},he.html5Only=!1,he.ignoreFlash=!1,ut.setTimeout(function(){m(),t||he.beginDelayedInit()},20),he},this.reset=function(){return v("reset"),he.reboot(!0,!0)},this.getMoviePercent=function(){return pe&&"PercentLoaded"in pe?pe.PercentLoaded():null},this.beginDelayedInit=function(){Pe=!0,M(),setTimeout(function(){return!Ae&&(S(),p(),Ae=!0)},20),f()},this.destruct=function(){he._wD(me+".destruct()"),he.disable(!0)},r=function(e){var a,s,t,o,r,l,i,u,d=this,f=!1,h=[],c=0,p=null,m={duration:null,time:null};this.id=e.id,this.sID=this.id,this.url=e.url,this.options=b(e),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,this.id3={},this._debug=function(){he._wD(d.id+": Merged options:",d.options)},this.load=function(e){var t;if(e!==dt?d._iO=b(e,d.options):(e=d.options,d._iO=e,p&&p!==d.url&&(v("manURL"),d._iO.url=d.url,d.url=null)),d._iO.url||(d._iO.url=d.url),d._iO.url=K(d._iO.url),d.instanceOptions=d._iO,t=d._iO,he._wD(d.id+": load ("+t.url+")"),t.url===d.url&&0!==d.readyState&&2!==d.readyState)return v("onURL",1),3===d.readyState&&t.onload&&ue(d,function(){t.onload.apply(d,[!!d.duration])}),d;if(d.loaded=!1,d.readyState=1,d.playState=0,d.id3={},X(t))d._setup_html5(t)._called_load?he._wD(d.id+": Ignoring request to load again"):(d._html5_canplay=!1,d.url!==t.url&&(he._wD(v("manURL")+": "+t.url),d._a.src=t.url,d.setPosition(0)),d._a.autobuffer="auto",d._a.preload="auto",d._a._called_load=!0,t.autoPlay&&d.play());else try{d.isHTML5=!1,d._iO=W(B(t)),t=d._iO,8===_?pe._load(d.id,t.url,t.stream,t.autoPlay,t.usePolicyFile):pe._load(d.id,t.url,!!t.stream,!!t.autoPlay,t.loops||1,!!t.autoLoad,t.usePolicyFile)}catch(e){v("smError",2),g("onload",!1),F({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}return d.url=t.url,d},this.unload=function(){return 0!==d.readyState&&(he._wD(d.id+": unload()"),d.isHTML5?(o(),d._a&&(d._a.pause(),Y(d._a,Ze),p=Ze)):8===_?pe._unload(d.id,Ze):pe._unload(d.id),a()),d},this.destruct=function(e){he._wD(d.id+": Destruct"),d.isHTML5?(o(),d._a&&(d._a.pause(),Y(d._a),Ue||t(),d._a._s=null,d._a=null)):(d._iO.onfailure=null,pe._destroySound(d.id)),e||he.destroySound(d.id,!0)},this.play=function(e,t){var n,o,i=!0,a=null,s=d.id+": play(): ";if(t=t===dt||t,e=e||{},d.url&&(d._iO.url=d.url),d._iO=b(d._iO,d.options),d._iO=b(e,d._iO),d._iO.url=K(d._iO.url),d.instanceOptions=d._iO,d._iO.serverURL&&!d.connected)return d.getAutoPlay()||(he._wD(s+" Netstream not connected yet - setting autoPlay"),d.setAutoPlay(!0)),d;if(X(d._iO)&&(d._setup_html5(d._iO),r()),1!==d.playState||d.paused||(d._iO.multiShot?he._wD(s+"Already playing (multi-shot)",1):(he._wD(s+"Already playing (one-shot)",1),a=d)),null!==a)return a;if(e.url&&e.url!==d.url&&d.load(d._iO),d.loaded?he._wD(s.substr(0,s.lastIndexOf(":"))):0===d.readyState?(he._wD(s+"Attempting to load"),d.isHTML5||(d._iO.autoPlay=!0),d.load(d._iO),d.instanceOptions=d._iO):2===d.readyState?(he._wD(s+"Could not load - exiting",2),a=d):he._wD(s+"Loading - attempting to play..."),null!==a)return a;if(!d.isHTML5&&9===_&&0<d.position&&d.position===d.duration&&(he._wD(s+"Sound at end, resetting to position:0"),e.position=0),d.paused&&0<=d.position&&(!d._iO.serverURL||0<d.position))he._wD(s+"Resuming from paused state",1),d.resume();else{if(d._iO=b(e,d._iO),null!==d._iO.from&&null!==d._iO.to&&0===d.instanceCount&&0===d.playState&&!d._iO.serverURL){if(o=function(){d._iO=b(e,d._iO),d.play(d._iO)},d.isHTML5&&!d._html5_canplay?(he._wD(s+"Beginning load for from/to case"),d.load({oncanplay:o}),a=!1):d.isHTML5||d.loaded||d.readyState&&2===d.readyState||(he._wD(s+"Preloading for from/to case"),d.load({onload:o}),a=!1),null!==a)return a;d._iO=u()}he._wD(s+"Starting to play"),(!d.instanceCount||d._iO.multiShotEvents||!d.isHTML5&&8<_&&!d.getAutoPlay())&&d.instanceCount++,d._iO.onposition&&0===d.playState&&l(d),d.playState=1,d.paused=!1,d.position=d._iO.position===dt||isNaN(d._iO.position)?0:d._iO.position,d.isHTML5||(d._iO=W(B(d._iO))),d._iO.onplay&&t&&(d._iO.onplay.apply(d),f=!0),d.setVolume(d._iO.volume,!0),d.setPan(d._iO.pan,!0),d.isHTML5?(r(),n=d._setup_html5(),d.setPosition(d._iO.position),n.play()):(i=pe._start(d.id,d._iO.loops||1,9===_?d.position:d.position/1e3,d._iO.multiShot||!1),9!==_||i||(he._wD(s+"No sound hardware, or 32-sound ceiling hit"),d._iO.onplayerror&&d._iO.onplayerror.apply(d)))}return d},this.start=this.play,this.stop=function(e){var t,n=d._iO;return 1===d.playState&&(he._wD(d.id+": stop()"),d._onbufferchange(0),d._resetOnPosition(0),d.paused=!1,d.isHTML5||(d.playState=0),i(),n.to&&d.clearOnPosition(n.to),d.isHTML5?d._a&&(t=d.position,d.setPosition(0),d.position=t,d._a.pause(),d.playState=0,d._onTimer(),o()):(pe._stop(d.id,e),n.serverURL&&d.unload()),d.instanceCount=0,d._iO={},n.onstop&&n.onstop.apply(d)),d},this.setAutoPlay=function(e){he._wD(d.id+": Autoplay turned "+(e?"on":"off")),d._iO.autoPlay=e,d.isHTML5||(pe._setAutoPlay(d.id,e),e&&(d.instanceCount||1!==d.readyState||(d.instanceCount++,he._wD(d.id+": Incremented instance count to "+d.instanceCount))))},this.getAutoPlay=function(){return d._iO.autoPlay},this.setPosition=function(e){e===dt&&(e=0);var t,n,o=d.isHTML5?Math.max(e,0):Math.min(d.duration||d._iO.duration,Math.max(e,0));d.position;if(d.position=o,n=d.position/1e3,d._resetOnPosition(d.position),d._iO.position=o,d.isHTML5){if(d._a)if(d._html5_canplay){if(d._a.currentTime!==n){he._wD(d.id+": setPosition("+n+")");try{d._a.currentTime=n,0!==d.playState&&!d.paused||d._a.pause()}catch(e){he._wD(d.id+": setPosition("+n+") failed: "+e.message,2)}}}else he._wD(d.id+": setPosition("+n+"): Cannot seek yet, sound not ready")}else t=9===_?d.position:n,d.readyState&&2!==d.readyState&&pe._setPosition(d.id,t,d.paused||!d.playState,d._iO.multiShot);return d.isHTML5&&d.paused&&d._onTimer(!0),d},this.pause=function(e){return d.paused||0===d.playState&&1!==d.readyState||(he._wD(d.id+": pause()"),d.paused=!0,d.isHTML5?(d._setup_html5().pause(),o()):!e&&e!==dt||pe._pause(d.id,d._iO.multiShot),d._iO.onpause&&d._iO.onpause.apply(d)),d},this.resume=function(){var e=d._iO;return d.paused&&(he._wD(d.id+": resume()"),d.paused=!1,d.playState=1,d.isHTML5?(d._setup_html5().play(),r()):(e.isMovieStar&&!e.serverURL&&d.setPosition(d.position),pe._pause(d.id,e.multiShot)),!f&&e.onplay?(e.onplay.apply(d),f=!0):e.onresume&&e.onresume.apply(d)),d},this.togglePause=function(){return he._wD(d.id+": togglePause()"),0===d.playState?d.play({position:9!==_||d.isHTML5?d.position/1e3:d.position}):d.paused?d.resume():d.pause(),d},this.setPan=function(e,t){return e===dt&&(e=0),t===dt&&(t=!1),d.isHTML5||pe._setPan(d.id,e),d._iO.pan=e,t||(d.pan=e,d.options.pan=e),d},this.setVolume=function(e,t){return e===dt&&(e=100),t===dt&&(t=!1),d.isHTML5?d._a&&(d._a.volume=Math.max(0,Math.min(1,e/100))):pe._setVolume(d.id,he.muted&&!d.muted||d.muted?0:e),d._iO.volume=e,t||(d.volume=e,d.options.volume=e),d},this.mute=function(){return d.muted=!0,d.isHTML5?d._a&&(d._a.muted=!0):pe._setVolume(d.id,0),d},this.unmute=function(){d.muted=!1;var e=d._iO.volume!==dt;return d.isHTML5?d._a&&(d._a.muted=!1):pe._setVolume(d.id,e?d._iO.volume:d.options.volume),d},this.toggleMute=function(){return d.muted?d.unmute():d.mute()},this.onPosition=function(e,t,n){return h.push({position:parseInt(e,10),method:t,scope:n!==dt?n:d,fired:!1}),d},this.onposition=this.onPosition,this.clearOnPosition=function(e,t){var n;if(e=parseInt(e,10),isNaN(e))return!1;for(n=0;n<h.length;n++)e===h[n].position&&(t&&t!==h[n].method||(h[n].fired&&c--,h.splice(n,1)))},this._processOnPosition=function(){var e,t,n=h.length;if(!n||!d.playState||n<=c)return!1;for(e=n-1;0<=e;e--)!(t=h[e]).fired&&d.position>=t.position&&(t.fired=!0,c++,t.method.apply(t.scope,[t.position]));return!0},this._resetOnPosition=function(e){var t,n,o=h.length;if(!o)return!1;for(t=o-1;0<=t;t--)(n=h[t]).fired&&e<=n.position&&(n.fired=!1,c--);return!0},u=function(){function e(){he._wD(d.id+': Playing "from" '+n),null===o||isNaN(o)||d.onPosition(o,i)}var t=d._iO,n=t.from,o=t.to,i=function(){he._wD(d.id+': "To" time of '+o+" reached."),d.clearOnPosition(o,i),d.stop()};return null===n||isNaN(n)||(t.position=n,t.multiShot=!1,e()),t},l=function(){var e,t=d._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&d.onPosition(parseInt(e,10),t[e])},i=function(){var e,t=d._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&d.clearOnPosition(parseInt(e,10))},r=function(){d.isHTML5&&V(d)},o=function(){d.isHTML5&&Q(d)},(a=function(e){e||(h=[],c=0),f=!1,d._hasTimer=null,d._a=null,d._html5_canplay=!1,d.bytesLoaded=null,d.bytesTotal=null,d.duration=d._iO&&d._iO.duration?d._iO.duration:null,d.durationEstimate=null,d.buffered=[],d.eqData=[],d.eqData.left=[],d.eqData.right=[],d.failures=0,d.isBuffering=!1,d.instanceOptions={},d.instanceCount=0,d.loaded=!1,d.metadata={},d.readyState=0,d.muted=!1,d.paused=!1,d.peakData={left:0,right:0},d.waveformData={left:[],right:[]},d.playState=0,d.position=null,d.id3={}})(),this._onTimer=function(e){var t,n,o=!1,i={};if(d._hasTimer||e)return d._a&&(e||(0<d.playState||1===d.readyState)&&!d.paused)&&((t=d._get_html5_duration())!==m.duration&&(m.duration=t,d.duration=t,o=!0),d.durationEstimate=d.duration,(n=1e3*d._a.currentTime||0)!==m.time&&(m.time=n,o=!0),(o||e)&&d._whileplaying(n,i,i,i,i)),o},this._get_html5_duration=function(){var e=d._iO,t=d._a&&d._a.duration?1e3*d._a.duration:e&&e.duration?e.duration:null;return t&&!isNaN(t)&&t!==1/0?t:null},this._apply_loop=function(e,t){!e.loop&&1<t&&he._wD("Note: Native HTML5 looping is infinite.",1),e.loop=1<t?"loop":""},this._setup_html5=function(e){var t,n=b(d._iO,e),o=Ue?ce:d._a,i=decodeURI(n.url);if(Ue?i===decodeURI(ne)&&(t=!0):i===decodeURI(p)&&(t=!0),o){if(o._s)if(Ue)o._s&&o._s.playState&&!t&&o._s.stop();else if(!Ue&&i===decodeURI(p))return d._apply_loop(o,n.loops),o;t||(a(!1),o.src=n.url,d.url=n.url,p=n.url,ne=n.url,o._called_load=!1)}else n.autoLoad||n.autoPlay?d._a=new Audio(n.url):d._a=Qe&&opera.version()<10?new Audio(null):new Audio,(o=d._a)._called_load=!1,Ue&&(ce=o);return d.isHTML5=!0,(d._a=o)._s=d,s(),d._apply_loop(o,n.loops),n.autoLoad||n.autoPlay?d.load():(o.autobuffer=!1,o.preload="auto"),o},s=function(){if(d._a._added_events)return!1;var e,t,n,o;for(e in d._a._added_events=!0,se)se.hasOwnProperty(e)&&(n=se[t=e],o=void 0,d._a&&d._a.addEventListener(t,n,o||!1));return!0},t=function(){var e,t,n,o;for(e in he._wD(d.id+": Removing event listeners"),d._a._added_events=!1,se)se.hasOwnProperty(e)&&(n=se[t=e],o=void 0,d._a&&d._a.removeEventListener(t,n,o||!1))},this._onload=function(e){var t=!!e||!d.isHTML5&&8===_&&d.duration,n=d.id+": ";return he._wD(n+(t?"onload()":"Failed to load? - "+d.url),t?1:2),t||d.isHTML5||(!0===he.sandbox.noRemote&&he._wD(n+C("noNet"),1),!0===he.sandbox.noLocal&&he._wD(n+C("noLocal"),1)),d.loaded=t,d.readyState=t?3:2,d._onbufferchange(0),d._iO.onload&&ue(d,function(){d._iO.onload.apply(d,[t])}),!0},this._onbufferchange=function(e){return 0!==d.playState&&(!(e&&d.isBuffering||!e&&!d.isBuffering)&&(d.isBuffering=1===e,d._iO.onbufferchange&&(he._wD(d.id+": Buffer state change: "+e),d._iO.onbufferchange.apply(d)),!0))},this._onsuspend=function(){return d._iO.onsuspend&&(he._wD(d.id+": Playback suspended"),d._iO.onsuspend.apply(d)),!0},this._onfailure=function(e,t,n){d.failures++,he._wD(d.id+": Failures = "+d.failures),d._iO.onfailure&&1===d.failures?d._iO.onfailure(d,e,t,n):he._wD(d.id+": Ignoring failure")},this._onfinish=function(){var e=d._iO.onfinish;d._onbufferchange(0),d._resetOnPosition(0),d.instanceCount&&(d.instanceCount--,d.instanceCount||(i(),d.playState=0,d.paused=!1,d.instanceCount=0,d.instanceOptions={},d._iO={},o(),d.isHTML5&&(d.position=0)),d.instanceCount&&!d._iO.multiShotEvents||e&&(he._wD(d.id+": onfinish()"),ue(d,function(){e.apply(d)})))},this._whileloading=function(e,t,n,o){var i=d._iO;d.bytesLoaded=e,d.bytesTotal=t,d.duration=Math.floor(n),d.bufferLength=o,d.isHTML5||i.isMovieStar?d.durationEstimate=d.duration:i.duration?d.durationEstimate=d.duration>i.duration?d.duration:i.duration:d.durationEstimate=parseInt(d.bytesTotal/d.bytesLoaded*d.duration,10),d.isHTML5||(d.buffered=[{start:0,end:d.duration}]),(3!==d.readyState||d.isHTML5)&&i.whileloading&&i.whileloading.apply(d)},this._whileplaying=function(e,t,n,o,i){var a,s=d._iO;return!isNaN(e)&&null!==e&&(d.position=Math.max(0,e),d._processOnPosition(),!d.isHTML5&&8<_&&(s.usePeakData&&t!==dt&&t&&(d.peakData={left:t.leftPeak,right:t.rightPeak}),s.useWaveformData&&n!==dt&&n&&(d.waveformData={left:n.split(","),right:o.split(",")}),s.useEQData&&i!==dt&&i&&i.leftEQ&&(a=i.leftEQ.split(","),d.eqData=a,d.eqData.left=a,i.rightEQ!==dt&&i.rightEQ&&(d.eqData.right=i.rightEQ.split(",")))),1===d.playState&&(d.isHTML5||8!==_||d.position||!d.isBuffering||d._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(d)),!0)},this._oncaptiondata=function(e){he._wD(d.id+": Caption data received."),d.captiondata=e,d._iO.oncaptiondata&&d._iO.oncaptiondata.apply(d,[e])},this._onmetadata=function(e,t){he._wD(d.id+": Metadata received.");for(var n={},o=0,i=e.length;o<i;o++)n[e[o]]=t[o];d.metadata=n,d._iO.onmetadata&&d._iO.onmetadata.apply(d)},this._onid3=function(e,t){he._wD(d.id+": ID3 data received.");for(var n=[],o=0,i=e.length;o<i;o++)n[e[o]]=t[o];d.id3=b(d.id3,n),d._iO.onid3&&d._iO.onid3.apply(d)},this._onconnect=function(e){e=1===e,he._wD(d.id+": "+(e?"Connected.":"Failed to connect? - "+d.url),e?1:2),(d.connected=e)&&(d.failures=0,q(d.id)&&(d.getAutoPlay()?d.play(dt,d.getAutoPlay()):d._iO.autoLoad&&d.load()),d._iO.onconnect&&d._iO.onconnect.apply(d,[e]))},this._ondataerror=function(e){0<d.playState&&(he._wD(d.id+": Data error: "+e),d._iO.ondataerror&&d._iO.ondataerror.apply(d))},this._debug()},P=function(){return ve.body||ve._docElement||ve.getElementsByTagName("div")[0]},y=function(e){return ve.getElementById(e)},b=function(e,t){var n,o=e||{},i=t===dt?he.defaultOptions:t;for(n in i)i.hasOwnProperty(n)&&o[n]===dt&&("object"!=typeof i[n]||null===i[n]?o[n]=i[n]:o[n]=b(o[n],i[n]));return o},ue=function(e,t){e.isHTML5||8!==_?t():ut.setTimeout(t,0)},u={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},l=function(e,t){var n,o=!0,i=t!==dt,a=he.setupOptions,s=u;if(e===dt){for(n in o=[],a)a.hasOwnProperty(n)&&o.push(n);for(n in s)s.hasOwnProperty(n)&&("object"==typeof he[n]?o.push(n+": {...}"):he[n]instanceof Function?o.push(n+": function() {...}"):o.push(n));return he._wD(C("setup",o.join(", "))),!1}for(n in e)if(e.hasOwnProperty(n))if("object"!=typeof e[n]||null===e[n]||e[n]instanceof Array||e[n]instanceof RegExp)i&&s[t]!==dt?he[t][n]=e[n]:a[n]!==dt?(he.setupOptions[n]=e[n],he[n]=e[n]):s[n]===dt?(j(C(he[n]===dt?"setupUndef":"setupError",n),2),o=!1):he[n]instanceof Function?he[n].apply(he,e[n]instanceof Array?e[n]:[e[n]]):he[n]=e[n];else{if(s[n]!==dt)return l(e[n],n);j(C(he[n]===dt?"setupUndef":"setupError",n),2),o=!1}return o},de=ut.attachEvent,fe={add:de?"attachEvent":"addEventListener",remove:de?"detachEvent":"removeEventListener"},te={add:function(){rt(st(arguments),"add")},remove:function(){rt(st(arguments),"remove")}},se={abort:lt(function(){he._wD(this._s.id+": abort")}),canplay:lt(function(){var t,n=this._s;if(n._html5_canplay)return!0;if(n._html5_canplay=!0,he._wD(n.id+": canplay"),n._onbufferchange(0),t=n._iO.position===dt||isNaN(n._iO.position)?null:n._iO.position/1e3,n.position&&this.currentTime!==t){he._wD(n.id+": canplay: Setting position to "+t);try{this.currentTime=t}catch(e){he._wD(n.id+": canplay: Setting position of "+t+" failed: "+e.message,2)}}n._iO._oncanplay&&n._iO._oncanplay()}),canplaythrough:lt(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:lt(function(){var e=this._s;he._wD(e.id+": ended"),e._onfinish()}),error:lt(function(){he._wD(this._s.id+": HTML5 error, code "+this.error.code),this._s._onload(!1)}),loadeddata:lt(function(){var e=this._s;he._wD(e.id+": loadeddata"),e._loaded||Ve||(e.duration=e._get_html5_duration())}),loadedmetadata:lt(function(){he._wD(this._s.id+": loadedmetadata")}),loadstart:lt(function(){he._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:lt(function(){he._wD(this._s.id+": play()"),this._s._onbufferchange(0)}),playing:lt(function(){he._wD(this._s.id+": playing"),this._s._onbufferchange(0)}),progress:lt(function(e){var t,n,o,i=this._s,a="progress"===e.type,s=e.target.buffered,r=e.loaded||0,l=e.total||1;if(i.buffered=[],s&&s.length){for(t=0,n=s.length;t<n;t++)i.buffered.push({start:1e3*s.start(t),end:1e3*s.end(t)});if(r=1e3*(s.end(0)-s.start(0))/(1e3*e.target.duration),a&&1<s.length){for(o=[],n=s.length,t=0;t<n;t++)o.push(1e3*e.target.buffered.start(t)+"-"+1e3*e.target.buffered.end(t));he._wD(this._s.id+": progress, timeRanges: "+o.join(", "))}a&&!isNaN(r)&&he._wD(this._s.id+": progress, "+Math.floor(100*r)+"% loaded")}isNaN(r)||(i._onbufferchange(0),i._whileloading(r,l,i._get_html5_duration()),r&&l&&r===l&&se.canplaythrough.call(this,e))}),ratechange:lt(function(){he._wD(this._s.id+": ratechange")}),suspend:lt(function(e){var t=this._s;he._wD(this._s.id+": suspend"),se.progress.call(this,e),t._onsuspend()}),stalled:lt(function(){he._wD(this._s.id+": stalled")}),timeupdate:lt(function(){this._s._onTimer()}),waiting:lt(function(){var e=this._s;he._wD(this._s.id+": waiting"),e._onbufferchange(1)})},X=function(e){var t=!(e.serverURL||e.type&&at(e.type))&&(e.type?z({type:e.type}):z({url:e.url})||he.html5Only);return t},Y=function(e,t){e&&(e.src=t,e._called_load=!1),Ue&&(ne=null)},z=function(e){if(!he.useHTML5Audio||!he.hasHTML5)return!1;var t,n,o,i,a=e.url||null,s=e.type||null,r=he.audioFormats;if(s&&he.html5[s]!==dt)return he.html5[s]&&!at(s);if(!G){for(i in G=[],r)r.hasOwnProperty(i)&&(G.push(i),r[i].related&&(G=G.concat(r[i].related)));G=new RegExp("\\.("+G.join("|")+")(\\?.*)?$","i")}return(o=a?a.toLowerCase().match(G):null)&&o.length?o=o[1]:s?o=(-1!==(n=s.indexOf(";"))?s.substr(0,n):s).substr(6):t=!1,t=o&&he.html5[o]!==dt?he.html5[o]&&!at(o):(s="audio/"+o,t=he.html5.canPlayType({type:s}),(he.html5[o]=t)&&he.html5[s]&&!at(s))},ee=function(){if(!he.useHTML5Audio||!he.hasHTML5)return!1;var e,t,n,o,s=Audio!==dt?Qe&&opera.version()<10?new Audio(null):new Audio:null,i={};function a(e){var t,n,o,i=!1,a=!1;if(!s||"function"!=typeof s.canPlayType)return i;if(e instanceof Array){for(n=0,o=e.length;n<o;n++)(he.html5[e[n]]||s.canPlayType(e[n]).match(he.html5Test))&&(a=!0,he.html5[e[n]]=!0,he.flash[e[n]]=!!e[n].match(Ye));i=a}else i=!(!(t=!(!s||"function"!=typeof s.canPlayType)&&s.canPlayType(e))||!t.match(he.html5Test));return i}for(e in n=he.audioFormats)if(n.hasOwnProperty(e)&&(t="audio/"+e,i[e]=a(n[e].type),i[t]=i[e],e.match(Ye)?(he.flash[e]=!0,he.flash[t]=!0):(he.flash[e]=!1,he.flash[t]=!1),n[e]&&n[e].related))for(o=n[e].related.length-1;0<=o;o--)i["audio/"+n[e].related[o]]=i[e],he.html5[n[e].related[o]]=i[e],he.flash[n[e].related[o]]=i[e];return i.canPlayType=s?a:null,he.html5=b(he.html5,i),!0},D={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:me+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:_e+"Verify that %s is a valid path.",tryDebug:"Try "+me+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:_e+"Non-HTTP page ("+ve.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:_e+"Special case: Waiting for SWF to load with window focus...",waitForever:_e+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:_e+"Waiting for 100% SWF load...",needFunction:_e+"Function object expected for %s",badID:'Warning: Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:_e+"_debug(): Current sound objects",waitOnload:_e+"Waiting for window.onload()",docLoaded:_e+"Document already loaded",onload:_e+"initComplete(): calling soundManager.onload()",onloadOK:me+".onload() complete",didInit:_e+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:_e+"Failed to remove Flash node.",shutdown:me+".disable(): Shutting down",queue:_e+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+N.swfTimedout+" CSS...",fbLoaded:"Flash loaded",flRemoved:_e+"Flash movie removed.",fbHandler:_e+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:me+".load(): current URL already assigned.",badFV:me+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:_e+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:_e+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:me+".setup(): allowed parameters: %s",setupError:me+'.setup(): "%s" cannot be assigned with this method.',setupUndef:me+'.setup(): Could not find option "%s"',setupLate:me+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:_e+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready.",reset:me+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device."},C=function(){var e,t,n=Ne.call(arguments),o=n.shift(),i=D[o]?D[o]:"";if(i&&n&&n.length)for(e=0,t=n.length;e<t;e++)i=i.replace("%s",n[e]);return i},B=function(e){return 8===_&&1<e.loops&&e.stream&&(v("as2loop"),e.stream=!1),e},W=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(he._wD((t||"")+C("policy")),e.usePolicyFile=!0),e},j=function(e){console!==dt&&console.warn!==dt?console.warn(e):he._wD(e)},n=function(){return!1},E=function(e){var t;for(t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=n);t=null},A=function(e){e===dt&&(e=!1),(Te||e)&&he.disable(e)},k=function(e){var t;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return t=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+he.movieURL,he.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},O=function(){8!==(_=parseInt(he.flashVersion,10))&&9!==_&&(he._wD(C("badFV",_,8)),he.flashVersion=_=8);var e=he.debugMode||he.debugFlash?"_debug.swf":".swf";he.useHTML5Audio&&!he.html5Only&&he.audioFormats.mp4.required&&_<9&&(he._wD(C("needfl9")),he.flashVersion=_=9),he.version=he.versionNumber+(he.html5Only?" (HTML5-only mode)":9===_?" (AS3/Flash 9)":" (AS2/Flash 8)"),8<_?(he.defaultOptions=b(he.defaultOptions,he.flash9Options),he.features.buffering=!0,he.defaultOptions=b(he.defaultOptions,he.movieStarOptions),he.filePatterns.flash9=new RegExp("\\.(mp3|"+ot.join("|")+")(\\?.*)?$","i"),he.features.movieStar=!0):he.features.movieStar=!1,he.filePattern=he.filePatterns[8!==_?"flash9":"flash8"],he.movieURL=(8===_?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),he.features.peakData=he.features.waveformData=he.features.eqData=8<_},I=function(e,t){if(!pe)return!1;pe._setPolling(e,t)},H=function(){if(he.debugURLParam.test(we)&&(he.debugMode=!0),y(he.debugID))return!1;var e,t,n,o,i;if(he.debugMode&&!y(he.debugID)&&(!Je||!he.useConsole||!he.consoleOnly)){for(i in(e=ve.createElement("div")).id=he.debugID+"-toggle",o={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(ve.createTextNode("-")),e.onclick=U,e.title="Toggle SM2 debug console",ye.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand"),o)o.hasOwnProperty(i)&&(e.style[i]=o[i]);if((t=ve.createElement("div")).id=he.debugID,t.style.display=he.debugMode?"block":"none",he.debugMode&&!y(e.id)){try{(n=P()).appendChild(e)}catch(e){throw new Error(C("domError")+" \n"+e.toString())}n.appendChild(t)}}n=null},q=this.getSoundById,v=function(e,t){return e?he._wD(C(e),t):""},U=function(){var e=y(he.debugID),t=y(he.debugID+"-toggle");if(!e)return!1;Oe?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),Oe=!Oe},g=function(e,t,n){if(ut.sm2Debugger!==dt)try{sm2Debugger.handleEvent(e,t,n)}catch(e){}return!0},x=function(){var e=[];return he.debugMode&&e.push(N.sm2Debug),he.debugFlash&&e.push(N.flashDebug),he.useHighPerformance&&e.push(N.highPerf),e.join(" ")},R=function(){var e=C("fbHandler"),t=he.getMoviePercent(),n=N,o={type:"FLASHBLOCK"};if(he.html5Only)return!1;he.ok()?(he.didFlashBlock&&he._wD(e+": Unblocked"),he.oMC&&(he.oMC.className=[x(),n.swfDefault,n.swfLoaded+(he.didFlashBlock?" "+n.swfUnblocked:"")].join(" "))):(xe&&(he.oMC.className=x()+" "+n.swfDefault+" "+(null===t?n.swfTimedout:n.swfError),he._wD(e+": "+C("fbTimeout")+(t?" ("+C("fbLoaded")+")":""))),he.didFlashBlock=!0,a({type:"ontimeout",ignoreInit:!0,error:o}),F(o))},i=function(e,t,n){be[e]===dt&&(be[e]=[]),be[e].push({method:t,scope:n||null,fired:!1})},a=function(e){if(e=e||{type:he.ok()?"onready":"ontimeout"},!Le&&e&&!e.ignoreInit)return!1;if("ontimeout"===e.type&&(he.ok()||Te&&!e.ignoreInit))return!1;var t,n,o={success:e&&e.ignoreInit?he.ok():!Te},i=e&&e.type&&be[e.type]||[],a=[],s=[o],r=xe&&!he.ok();for(e.error&&(s[0].error=e.error),t=0,n=i.length;t<n;t++)!0!==i[t].fired&&a.push(i[t]);if(a.length)for(t=0,n=a.length;t<n;t++)a[t].scope?a[t].method.apply(a[t].scope,s):a[t].method.apply(this,s),r||(a[t].fired=!0);return!0},d=function(){ut.setTimeout(function(){he.useFlashBlock&&R(),a(),"function"==typeof he.onload&&(v("onload",1),he.onload.apply(ut),v("onloadOK",1)),he.waitForWindowLoad&&te.add(ut,"load",d)},1)},ie=function(){if(oe!==dt)return oe;var e,t,n,o=!1,i=navigator,a=i.plugins,s=ut.ActiveXObject;if(a&&a.length)t="application/x-shockwave-flash",(n=i.mimeTypes)&&n[t]&&n[t].enabledPlugin&&n[t].enabledPlugin.description&&(o=!0);else if(s!==dt&&!ye.match(/MSAppHost/i)){try{e=new s("ShockwaveFlash.ShockwaveFlash")}catch(e){}o=!!e,e=null}return oe=o},J=function(){var e,t,n=he.audioFormats;if(Be&&!!ye.match(/os (1|2|3_0|3_1)/i)?(he.hasHTML5=!1,he.html5Only=!0,he.oMC&&(he.oMC.style.display="none"),0):he.useHTML5Audio&&(he.html5&&he.html5.canPlayType||(he._wD("SoundManager: No HTML5 Audio() support detected."),he.hasHTML5=!1),Ke&&he._wD(_e+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(oe?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),he.useHTML5Audio&&he.hasHTML5)for(t in n)n.hasOwnProperty(t)&&(n[t].required&&!he.html5.canPlayType(n[t].type)||he.preferFlash&&(he.flash[t]||he.flash[n[t].type]))&&(e=!0);return he.ignoreFlash&&(e=!1),he.html5Only=he.hasHTML5&&he.useHTML5Audio&&!e,!he.html5Only},K=function(e){var t,n,o,i=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(he.canPlayMIME(e[t].type)){i=t;break}}else if(he.canPlayURL(e[t])){i=t;break}e[i].url&&(e[i]=e[i].url),o=e[i]}else o=e;return o},V=function(e){e._hasTimer||(e._hasTimer=!0,!$e&&he.html5PollingInterval&&(null===Ce&&0===ke&&(Ce=setInterval($,he.html5PollingInterval)),ke++))},Q=function(e){e._hasTimer&&(e._hasTimer=!1,!$e&&he.html5PollingInterval&&ke--)},$=function(){var e;if(null!==Ce&&!ke)return clearInterval(Ce),Ce=null,!1;for(e=he.soundIDs.length-1;0<=e;e--)he.sounds[he.soundIDs[e]].isHTML5&&he.sounds[he.soundIDs[e]]._hasTimer&&he.sounds[he.soundIDs[e]]._onTimer()},F=function(e){e=e!==dt?e:{},"function"==typeof he.onerror&&he.onerror.apply(ut,[{type:e.type!==dt?e.type:null}]),e.fatal!==dt&&e.fatal&&he.disable()},ae=function(){if(!Ke||!ie())return!1;var e,t,n=he.audioFormats;for(t in n)if(n.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(he._wD(me+": Using flash fallback for "+t+" format"),he.html5[t]=!1,n[t]&&n[t].related))for(e=n[t].related.length-1;0<=e;e--)he.html5[n[t].related[e]]=!1},this._setSandboxType=function(e){var t=he.sandbox;t.type=e,t.description=t.types[t.types[e]!==dt?e:"unknown"],"localWithFile"===t.type?(t.noRemote=!0,t.noLocal=!1,v("secNote",2)):"localWithNetwork"===t.type?(t.noRemote=!1,t.noLocal=!0):"localTrusted"===t.type&&(t.noRemote=!1,t.noLocal=!1)},this._externalInterfaceOK=function(e,t){return!he.swfLoaded&&(g("swf",!0),g("flashtojs",!0),he.swfLoaded=!0,ze=!1,Ke&&ae(),t&&t.replace(/\+dev/i,"")===he.versionNumber.replace(/\+dev/i,"")?void setTimeout(w,je?100:1):(n=me+': Fatal: JavaScript file build "'+he.versionNumber+'" does not match Flash SWF build "'+t+'" at '+he.url+". Ensure both are up-to-date.",setTimeout(function(){throw new Error(n)},0),!1));var n},S=function(e,t){if(De&&Me)return!1;function n(){var e=[],t=[],n="SoundManager "+he.version+(!he.html5Only&&he.useHTML5Audio?he.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"");he.html5Only?he.html5PollingInterval&&e.push("html5PollingInterval ("+he.html5PollingInterval+"ms)"):(he.preferFlash&&e.push("preferFlash"),he.useHighPerformance&&e.push("useHighPerformance"),he.flashPollingInterval&&e.push("flashPollingInterval ("+he.flashPollingInterval+"ms)"),he.html5PollingInterval&&e.push("html5PollingInterval ("+he.html5PollingInterval+"ms)"),he.wmode&&e.push("wmode ("+he.wmode+")"),he.debugFlash&&e.push("debugFlash"),he.useFlashBlock&&e.push("flashBlock")),e.length&&(t=t.concat([e.join(" + ")])),he._wD(n+(t.length?" + "+t.join(", "):""),1),re()}if(he.html5Only)return O(),n(),he.oMC=y(he.movieID),w(),!(Me=De=!0);var o,i,a,s,r,l,u,d,f,h=t||he.url,c=he.altURL||h,p=P(),m=x(),_=ve.getElementsByTagName("html")[0];function g(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(o=_&&_.dir&&_.dir.match(/rtl/i),e=e===dt?he.id:e,O(),he.url=k(et?h:c),t=he.url,he.wmode=!he.wmode&&he.useHighPerformance?"transparent":he.wmode,null!==he.wmode&&(ye.match(/msie 8/i)||!je&&!he.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Re.push(D.spcWmode),he.wmode=null),i={name:e,id:e,src:t,quality:"high",allowScriptAccess:he.allowScriptAccess,bgcolor:he.bgColor,pluginspage:tt+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:he.wmode,hasPriority:"true"},he.debugFlash&&(i.FlashVars="debug=1"),he.wmode||delete i.wmode,je)a=ve.createElement("div"),r=['<object id="'+e+'" data="'+t+'" type="'+i.type+'" title="'+i.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+tt+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',g("movie",t),g("AllowScriptAccess",he.allowScriptAccess),g("quality",i.quality),he.wmode?g("wmode",he.wmode):"",g("bgcolor",he.bgColor),g("hasPriority","true"),he.debugFlash?g("FlashVars",i.FlashVars):"","</object>"].join("");else for(s in a=ve.createElement("embed"),i)i.hasOwnProperty(s)&&a.setAttribute(s,i[s]);if(H(),m=x(),p=P())if(he.oMC=y(he.movieID)||ve.createElement("div"),he.oMC.id)f=he.oMC.className,he.oMC.className=(f?f+" ":N.swfDefault)+(m?" "+m:""),he.oMC.appendChild(a),je&&((l=he.oMC.appendChild(ve.createElement("div"))).className=N.swfBox,l.innerHTML=r),Me=!0;else{if(he.oMC.id=he.movieID,he.oMC.className=N.swfDefault+" "+m,l=u=null,he.useFlashBlock||(he.useHighPerformance?u={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(u={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},o&&(u.left=Math.abs(parseInt(u.left,10))+"px"))),qe&&(he.oMC.style.zIndex=1e4),!he.debugFlash)for(d in u)u.hasOwnProperty(d)&&(he.oMC.style[d]=u[d]);try{je||he.oMC.appendChild(a),p.appendChild(he.oMC),je&&((l=he.oMC.appendChild(ve.createElement("div"))).className=N.swfBox,l.innerHTML=r),Me=!0}catch(e){throw new Error(C("domError")+" \n"+e.toString())}}return De=!0,n(),!0},p=function(){return he.html5Only?(S(),!1):!pe&&(he.url?((pe=he.getMovie(he.id))||(Ie?(je?he.oMC.innerHTML=He:he.oMC.appendChild(Ie),De=!(Ie=null)):S(he.id,he.url),pe=he.getMovie(he.id)),"function"==typeof he.oninitmovie&&setTimeout(he.oninitmovie,1),le(),!0):(v("noURL"),!1))},f=function(){setTimeout(h,1e3)},h=function(){var e,t=!1;return!!he.url&&(!Ee&&(Ee=!0,te.remove(ut,"load",f),ze&&!Xe?(v("waitFocus"),!1):(Le||0<(e=he.getMoviePercent())&&e<100&&(t=!0),void setTimeout(function(){if(e=he.getMoviePercent(),t)return Ee=!1,he._wD(C("waitSWF")),ut.setTimeout(f,1),!1;Le||(he._wD(me+": No Flash response within expected time. Likely causes: "+(0===e?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(he.debugFlash?" "+C("checkSWF"):""),2),!et&&e&&(v("localFail",2),he.debugFlash||v("tryDebug",2)),0===e&&he._wD(C("swf404",he.url),1),g("flashtojs",!1," (Check flash security or flash blockers)")),!Le&&Ge&&(null===e?he.useFlashBlock||0===he.flashLoadTimeout?(he.useFlashBlock&&R(),v("waitForever")):(v("waitForever"),a({type:"ontimeout",ignoreInit:!0})):0===he.flashLoadTimeout?v("waitForever"):A(!0))},he.flashLoadTimeout))))},c=function(){function e(){te.remove(ut,"focus",c)}return Xe||!ze||(Xe=Ge=!0,v("gotFocus"),Ee=!1,f()),e(),!0},le=function(){Re.length&&(he._wD("SoundManager 2: "+Re.join(" "),1),Re=[])},re=function(){le();var e,t=[];if(he.useHTML5Audio&&he.hasHTML5){for(e in he.audioFormats)he.audioFormats.hasOwnProperty(e)&&t.push(e+" = "+he.html5[e]+(!he.html5[e]&&oe&&he.flash[e]?" (using flash)":he.preferFlash&&he.flash[e]&&oe?" (preferring flash)":he.html5[e]?"":" ("+(he.audioFormats[e].required?"required, ":"")+"and no flash support)"));he._wD("SoundManager 2 HTML5 support: "+t.join(", "),1)}},o=function(e){if(Le)return!1;if(he.html5Only)return v("sm2Loaded"),Le=!0,d(),g("onload",!0),!0;var t,n=!0;return he.useFlashBlock&&he.flashLoadTimeout&&!he.getMoviePercent()||(Le=!0,Te&&(t={type:!oe&&xe?"NO_FLASH":"INIT_TIMEOUT"})),he._wD("SoundManager 2 "+(Te?"failed to load":"loaded")+" ("+(Te?"Flash security/load error":"OK")+")",Te?2:1),Te||e?(he.useFlashBlock&&he.oMC&&(he.oMC.className=x()+" "+(null===he.getMoviePercent()?N.swfTimedout:N.swfError)),a({type:"ontimeout",error:t,ignoreInit:!0}),g("onload",!1),F(t),n=!1):g("onload",!0),Te||(he.waitForWindowLoad&&!Pe?(v("waitOnload"),te.add(ut,"load",d)):(he.waitForWindowLoad&&Pe&&v("docLoaded"),d())),n},s=function(){var e,t=he.setupOptions;for(e in t)t.hasOwnProperty(e)&&(he[e]===dt?he[e]=t[e]:he[e]!==t[e]&&(he.setupOptions[e]=he[e]))},w=function(){if(Le)return v("didInit"),!1;function e(){te.remove(ut,"load",he.beginDelayedInit)}if(he.html5Only)return Le||(e(),he.enabled=!0,o()),!0;p();try{pe._externalInterfaceTest(!1),I(!0,he.flashPollingInterval||(he.useHighPerformance?10:50)),he.debugMode||pe._disableDebug(),he.enabled=!0,g("jstoflash",!0),he.html5Only||te.add(ut,"unload",n)}catch(e){return he._wD("js/flash exception: "+e.toString()),g("jstoflash",!1),F({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),A(!0),o(),!1}return o(),e(),!0},M=function(){return!T&&(T=!0,s(),H(),e="sm2-usehtml5audio=",t="sm2-preferflash=",o=n=null,i=ut.console!==dt&&"function"==typeof console.log,-1!==(a=we.toLowerCase()).indexOf(e)&&(n="1"===a.charAt(a.indexOf(e)+e.length),i&&console.log((n?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter"),he.setup({useHTML5Audio:n})),-1!==a.indexOf(t)&&(o="1"===a.charAt(a.indexOf(t)+t.length),i&&console.log((o?"Enabling ":"Disabling ")+"preferFlash via URL parameter"),he.setup({preferFlash:o})),!oe&&he.hasHTML5&&(he._wD("SoundManager: No Flash detected"+(he.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),he.setup({useHTML5Audio:!0,preferFlash:!1})),ee(),he.html5.usingFlash=J(),xe=he.html5.usingFlash,!oe&&xe&&(Re.push(D.needFlash),he.setup({flashLoadTimeout:1})),ve.removeEventListener&&ve.removeEventListener("DOMContentLoaded",M,!1),p(),!0);var e,t,n,o,i,a},Z=function(){return"complete"===ve.readyState&&(M(),ve.detachEvent("onreadystatechange",Z)),!0},L=function(){Pe=!0,te.remove(ut,"load",L)},(m=function(){$e&&(he.setupOptions.useHTML5Audio&&!he.setupOptions.preferFlash||Re.push(D.mobileUA),he.setupOptions.useHTML5Audio=!0,he.setupOptions.preferFlash=!1,(Be||We&&!ye.match(/android\s2\.3/i))&&(Re.push(D.globalHTML5),Be&&(he.ignoreFlash=!0),Ue=!0))})(),ie(),te.add(ut,"focus",c),te.add(ut,"load",f),te.add(ut,"load",L),ve.addEventListener?ve.addEventListener("DOMContentLoaded",M,!1):ve.attachEvent?ve.attachEvent("onreadystatechange",Z):(g("onload",!1),F({type:"NO_DOM2_EVENTS",fatal:!0}))}void 0!==ut.SM2_DEFER&&SM2_DEFER||(e=new t),ut.SoundManager=t,ut.soundManager=e}(window);