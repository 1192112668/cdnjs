!function(ct,pt){"use strict";var e=null;function t(e,t){this.setupOptions={url:e||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=t||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20131201",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var r,y,n,a,w,g,v,b,o,O,l,u,i,s,d,h,f,c,D,p,M,m,_,L,T,P,S,F,I,H,A,E,k,C,x,R,N,U,B,W,j,q,V,Q,K,$,J,X,G,Z,Y,z,ee,te,ne,oe,ie,ae,se,re,le,ue,de,he,fe,ce,pe=this,me=null,_e=null,ge="soundManager",ye=ge+": ",we="HTML5::",ve=navigator.userAgent,be=ct.location.href.toString(),Oe=document,De=[],Me=!0,Le=!1,Te=!1,Pe=!1,Se=!1,Fe=!1,Ie=0,He=["log","info","warn","error"],Ae=null,Ee=null,ke=!1,Ce=!1,xe=0,Re=null,Ne=[],Ue=null,Be=Array.prototype.slice,We=!1,je=0,qe=ve.match(/(ipad|iphone|ipod)/i),Ve=ve.match(/android/i),Qe=ve.match(/msie/i),Ke=ve.match(/webkit/i),$e=ve.match(/safari/i)&&!ve.match(/chrome/i),Je=ve.match(/opera/i),Xe=ve.match(/(mobile|pre\/|xoom)/i)||qe||Ve,Ge=!be.match(/usehtml5audio/i)&&!be.match(/sm2\-ignorebadua/i)&&$e&&!ve.match(/silk/i)&&ve.match(/OS X 10_6_([3-7])/i),Ze=ct.console!==pt&&console.log!==pt,Ye=Oe.hasFocus!==pt?Oe.hasFocus():null,ze=$e&&(Oe.hasFocus===pt||!Oe.hasFocus()),et=!ze,tt=/(mp3|mp4|mpa|m4a|m4b)/i,nt=1e3,ot="about:blank",it=Oe.location?Oe.location.protocol.match(/http/i):null,at=it?"":"http://",st=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,rt=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],lt=new RegExp("\\.("+rt.join("|")+")(\\?.*)?$","i");function ut(e){return pe.preferFlash&&ae&&!pe.ignoreFlash&&pe.flash[e]!==pt&&pe.flash[e]}function dt(e){var t=Be.call(e),n=t.length;return fe?(t[1]="on"+t[1],3<n&&t.pop()):3===n&&t.push(!1),t}function ht(e,t){var n=e.shift(),o=[ce[t]];fe?n[o](e[0],e[1]):n[o].apply(n,e)}function ft(o){return function(e){var t=this._s,n=t&&t._a?o.call(this,e):(t&&t.id?pe._wD(t.id+": Ignoring "+e.type):pe._wD(we+"Ignoring "+e.type),null);return n}}this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!it,U={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},this.hasHTML5=function(){try{return Audio!==pt&&(Je&&opera!==pt&&opera.version()<10?new Audio(null):new Audio).canPlayType!==pt}catch(e){return!1}}(),this.setup=function(e){var t=!pe.url;return e!==pt&&Pe&&Ue&&pe.ok()&&(e.flashVersion!==pt||e.url!==pt||e.html5Test!==pt)&&q(x("setupLate")),l(e),e&&(t&&P&&e.url!==pt&&pe.beginDelayedInit(),P||e.url===pt||"complete"!==Oe.readyState||setTimeout(L,1)),pe},this.ok=function(){return Ue?Pe&&!Se:pe.useHTML5Audio&&pe.hasHTML5},this.supported=this.ok,this.getMovie=function(e){return y(e)||Oe[e]||ct[e]},this.createSound=function(e,t){var n,o=null,i=ge+".createSound(): ",a=i+x(Pe?"notOK":"notReady");if(!Pe||!pe.ok())return q(a),!1;if(t!==pt&&(e={id:e,url:t}),(n=O(e)).url=J(n.url),void 0===n.id&&(n.id=pe.setupOptions.idPrefix+je++),n.id.toString().charAt(0).match(/^[0-9]$/)&&pe._wD(i+x("badID",n.id),2),pe._wD(i+n.id+(n.url?" ("+n.url+")":""),1),V(n.id,!0))return pe._wD(i+n.id+" exists",1),pe.sounds[n.id];function s(){return n=W(n),pe.sounds[n.id]=new r(n),pe.soundIDs.push(n.id),pe.sounds[n.id]}if(Z(n))o=s(),pe._wD(n.id+": Using HTML5"),o._setup_html5(n);else{if(pe.html5Only)return pe._wD(n.id+": No HTML5 support for this sound, and no Flash. Exiting."),s();if(pe.html5.usingFlash&&n.url&&n.url.match(/data\:/i))return pe._wD(n.id+": data: URIs not supported via Flash. Exiting."),s();8<g&&(null===n.isMovieStar&&(n.isMovieStar=!!(n.serverURL||n.type&&n.type.match(st)||n.url&&n.url.match(lt))),n.isMovieStar&&(pe._wD(i+"using MovieStar handling"),1<n.loops&&b("noNSLoop"))),n=j(n,i),o=s(),8===g?_e._createSound(n.id,n.loops||1,n.usePolicyFile):(_e._createSound(n.id,n.url,n.usePeakData,n.useWaveformData,n.useEQData,n.isMovieStar,!!n.isMovieStar&&n.bufferTime,n.loops||1,n.serverURL,n.duration||null,n.autoPlay,!0,n.autoLoad,n.usePolicyFile),n.serverURL||(o.connected=!0,n.onconnect&&n.onconnect.apply(o))),n.serverURL||!n.autoLoad&&!n.autoPlay||o.load(n)}return!n.serverURL&&n.autoPlay&&o.play(),o},this.destroySound=function(e,t){if(!V(e))return!1;var n,o=pe.sounds[e];for(o._iO={},o.stop(),o.unload(),n=0;n<pe.soundIDs.length;n++)if(pe.soundIDs[n]===e){pe.soundIDs.splice(n,1);break}return t||o.destruct(!0),o=null,delete pe.sounds[e],!0},this.load=function(e,t){return!!V(e)&&pe.sounds[e].load(t)},this.unload=function(e){return!!V(e)&&pe.sounds[e].unload()},this.onPosition=function(e,t,n,o){return!!V(e)&&pe.sounds[e].onposition(t,n,o)},this.onposition=this.onPosition,this.clearOnPosition=function(e,t,n){return!!V(e)&&pe.sounds[e].clearOnPosition(t,n)},this.play=function(e,t){var n=null,o=t&&!(t instanceof Object);if(!Pe||!pe.ok())return q(ge+".play(): "+x(Pe?"notOK":"notReady")),!1;if(V(e,o))o&&(t={url:t});else{if(!o)return!1;o&&(t={url:t}),t&&t.url&&(pe._wD(ge+'.play(): Attempting to create "'+e+'"',1),t.id=e,n=pe.createSound(t).play())}return null===n&&(n=pe.sounds[e].play(t)),n},this.start=this.play,this.setPosition=function(e,t){return!!V(e)&&pe.sounds[e].setPosition(t)},this.stop=function(e){return!!V(e)&&(pe._wD(ge+".stop("+e+")",1),pe.sounds[e].stop())},this.stopAll=function(){var e;for(e in pe._wD(ge+".stopAll()",1),pe.sounds)pe.sounds.hasOwnProperty(e)&&pe.sounds[e].stop()},this.pause=function(e){return!!V(e)&&pe.sounds[e].pause()},this.pauseAll=function(){for(var e=pe.soundIDs.length-1;0<=e;e--)pe.sounds[pe.soundIDs[e]].pause()},this.resume=function(e){return!!V(e)&&pe.sounds[e].resume()},this.resumeAll=function(){for(var e=pe.soundIDs.length-1;0<=e;e--)pe.sounds[pe.soundIDs[e]].resume()},this.togglePause=function(e){return!!V(e)&&pe.sounds[e].togglePause()},this.setPan=function(e,t){return!!V(e)&&pe.sounds[e].setPan(t)},this.setVolume=function(e,t){return!!V(e)&&pe.sounds[e].setVolume(t)},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return!!V(e)&&(pe._wD(ge+'.mute(): Muting "'+e+'"'),pe.sounds[e].mute());for(pe._wD(ge+".mute(): Muting all sounds"),t=pe.soundIDs.length-1;0<=t;t--)pe.sounds[pe.soundIDs[t]].mute();return pe.muted=!0},this.muteAll=function(){pe.mute()},this.unmute=function(e){var t;if(e instanceof String&&(e=null),e)return!!V(e)&&(pe._wD(ge+'.unmute(): Unmuting "'+e+'"'),pe.sounds[e].unmute());for(pe._wD(ge+".unmute(): Unmuting all sounds"),t=pe.soundIDs.length-1;0<=t;t--)pe.sounds[pe.soundIDs[t]].unmute();return!(pe.muted=!1)},this.unmuteAll=function(){pe.unmute()},this.toggleMute=function(e){return!!V(e)&&pe.sounds[e].toggleMute()},this.getMemoryUse=function(){var e=0;return _e&&8!==g&&(e=parseInt(_e._getMemoryUse(),10)),e},this.disable=function(e){var t;if(e===pt&&(e=!1),Se)return!1;for(Se=!0,b("shutdown",1),t=pe.soundIDs.length-1;0<=t;t--)E(pe.sounds[pe.soundIDs[t]]);return o(e),oe.remove(ct,"load",d),!0},this.canPlayMIME=function(e){var t;return pe.hasHTML5&&(t=Y({type:e})),!t&&Ue&&(t=e&&pe.ok()?!!(8<g&&e.match(st)||e.match(pe.mimePattern)):null),t},this.canPlayURL=function(e){var t;return pe.hasHTML5&&(t=Y({url:e})),!t&&Ue&&(t=e&&pe.ok()?!!e.match(pe.filePattern):null),t},this.canPlayLink=function(e){return!(e.type===pt||!e.type||!pe.canPlayMIME(e.type))||pe.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)return null;var n=pe.sounds[e];return n||t||pe._wD(ge+'.getSoundById(): Sound "'+e+'" not found.',2),n},this.onready=function(e,t){var n="onready";if("function"!=typeof e)throw x("needFunction",n);return Pe&&pe._wD(x("queue",n)),i(n,e,t=t||ct),s(),!0},this.ontimeout=function(e,t){var n="ontimeout";if("function"!=typeof e)throw x("needFunction",n);return Pe&&pe._wD(x("queue",n)),i(n,e,t=t||ct),s({type:n}),!0},this._writeDebug=function(e,t){var n,o;return!!pe.debugMode&&(!!(Ze&&pe.useConsole&&(t&&"object"==typeof t?console.log(e,t):He[t]!==pt?console[He[t]](e):console.log(e),pe.consoleOnly))||!!(n=y("soundmanager-debug"))&&(o=Oe.createElement("div"),++Ie%2==0&&(o.className="sm2-alt"),t=t===pt?0:parseInt(t,10),o.appendChild(Oe.createTextNode(e)),t&&(2<=t&&(o.style.fontWeight="bold"),3===t&&(o.style.color="#ff3333")),n.insertBefore(o,n.firstChild),!(n=null)))},-1!==be.indexOf("sm2-debug=alert")&&(this._writeDebug=function(e){ct.alert(e)}),this._wD=this._writeDebug,this._debug=function(){var e,t;for(b("currentObj",1),e=0,t=pe.soundIDs.length;e<t;e++)pe.sounds[pe.soundIDs[e]]._debug()},this.reboot=function(e,t){var n,o,i;for(pe.soundIDs.length&&pe._wD("Destroying "+pe.soundIDs.length+" SMSound object"+(1!==pe.soundIDs.length?"s":"")+"..."),n=pe.soundIDs.length-1;0<=n;n--)pe.sounds[pe.soundIDs[n]].destruct();if(_e)try{Qe&&(Ee=_e.innerHTML),Ae=_e.parentNode.removeChild(_e)}catch(e){b("badRemove",2)}if(Ee=Ae=Ue=_e=null,pe.enabled=P=Pe=ke=Ce=Le=Te=Se=We=pe.swfLoaded=!1,pe.soundIDs=[],pe.sounds={},je=0,e)De=[];else for(n in De)if(De.hasOwnProperty(n))for(o=0,i=De[n].length;o<i;o++)De[n][o].fired=!1;return t||pe._wD(ge+": Rebooting..."),pe.html5={usingFlash:null},pe.flash={},pe.html5Only=!1,pe.ignoreFlash=!1,ct.setTimeout(function(){_(),t||pe.beginDelayedInit()},20),pe},this.reset=function(){return b("reset"),pe.reboot(!0,!0)},this.getMoviePercent=function(){return _e&&"PercentLoaded"in _e?_e.PercentLoaded():null},this.beginDelayedInit=function(){Fe=!0,L(),setTimeout(function(){return!Ce&&(F(),m(),Ce=!0)},20),h()},this.destruct=function(){pe._wD(ge+".destruct()"),pe.disable(!0)},r=function(e){var a,s,t,o,d,h,i,f,c,p=this,m=!1,r=[],l=0,u=null,_={duration:null,time:null};this.id=e.id,this.sID=this.id,this.url=e.url,this.options=O(e),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,c=!this.url,this.id3={},this._debug=function(){pe._wD(p.id+": Merged options:",p.options)},this.load=function(e){var t;if(e!==pt?p._iO=O(e,p.options):(e=p.options,p._iO=e,u&&u!==p.url&&(b("manURL"),p._iO.url=p.url,p.url=null)),p._iO.url||(p._iO.url=p.url),p._iO.url=J(p._iO.url),p.instanceOptions=p._iO,t=p._iO,pe._wD(p.id+": load ("+t.url+")"),!t.url&&!p.url)return pe._wD(p.id+": load(): url is unassigned. Exiting.",2),p;if(p.isHTML5||8!==g||p.url||t.autoPlay||pe._wD(p.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),t.url===p.url&&0!==p.readyState&&2!==p.readyState)return b("onURL",1),3===p.readyState&&t.onload&&he(p,function(){t.onload.apply(p,[!!p.duration])}),p;if(p.loaded=!1,p.readyState=1,p.playState=0,p.id3={},Z(t))p._setup_html5(t)._called_load?pe._wD(p.id+": Ignoring request to load again"):(p._html5_canplay=!1,p.url!==t.url&&(pe._wD(b("manURL")+": "+t.url),p._a.src=t.url,p.setPosition(0)),p._a.autobuffer="auto",p._a.preload="auto",p._a._called_load=!0);else{if(pe.html5Only)return pe._wD(p.id+": No flash support. Exiting."),p;if(p._iO.url&&p._iO.url.match(/data\:/i))return pe._wD(p.id+": data: URIs not supported via Flash. Exiting."),p;try{p.isHTML5=!1,p._iO=j(W(t)),t=p._iO,8===g?_e._load(p.id,t.url,t.stream,t.autoPlay,t.usePolicyFile):_e._load(p.id,t.url,!!t.stream,!!t.autoPlay,t.loops||1,!!t.autoLoad,t.usePolicyFile)}catch(e){b("smError",2),v("onload",!1),I({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return p.url=t.url,p},this.unload=function(){return 0!==p.readyState&&(pe._wD(p.id+": unload()"),p.isHTML5?(o(),p._a&&(p._a.pause(),u=ee(p._a))):8===g?_e._unload(p.id,ot):_e._unload(p.id),a()),p},this.destruct=function(e){pe._wD(p.id+": Destruct"),p.isHTML5?(o(),p._a&&(p._a.pause(),ee(p._a),We||t(),p._a._s=null,p._a=null)):(p._iO.onfailure=null,_e._destroySound(p.id)),e||pe.destroySound(p.id,!0)},this.play=function(e,t){var n,o,i,a,s,r=!0,l=null,u=p.id+": play(): ";if(t=t===pt||t,e=e||{},p.url&&(p._iO.url=p.url),p._iO=O(p._iO,p.options),p._iO=O(e,p._iO),p._iO.url=J(p._iO.url),p.instanceOptions=p._iO,!p.isHTML5&&p._iO.serverURL&&!p.connected)return p.getAutoPlay()||(pe._wD(u+" Netstream not connected yet - setting autoPlay"),p.setAutoPlay(!0)),p;if(Z(p._iO)&&(p._setup_html5(p._iO),d()),1!==p.playState||p.paused||(p._iO.multiShot?pe._wD(u+"Already playing (multi-shot)",1):(pe._wD(u+"Already playing (one-shot)",1),p.isHTML5&&p.setPosition(p._iO.position),l=p)),null!==l)return l;if(e.url&&e.url!==p.url&&(p.readyState||p.isHTML5||8!==g||!c?p.load(p._iO):c=!1),p.loaded?pe._wD(u.substr(0,u.lastIndexOf(":"))):0===p.readyState?(pe._wD(u+"Attempting to load"),p.isHTML5||pe.html5Only?p.isHTML5?p.load(p._iO):(pe._wD(u+"Unsupported type. Exiting."),l=p):(p._iO.autoPlay=!0,p.load(p._iO)),p.instanceOptions=p._iO):2===p.readyState?(pe._wD(u+"Could not load - exiting",2),l=p):pe._wD(u+"Loading - attempting to play..."),null!==l)return l;if(!p.isHTML5&&9===g&&0<p.position&&p.position===p.duration&&(pe._wD(u+"Sound at end, resetting to position:0"),e.position=0),p.paused&&0<=p.position&&(!p._iO.serverURL||0<p.position))pe._wD(u+"Resuming from paused state",1),p.resume();else{if(p._iO=O(e,p._iO),null!==p._iO.from&&null!==p._iO.to&&0===p.instanceCount&&0===p.playState&&!p._iO.serverURL){if(o=function(){p._iO=O(e,p._iO),p.play(p._iO)},p.isHTML5&&!p._html5_canplay?(pe._wD(u+"Beginning load for from/to case"),p.load({_oncanplay:o}),l=!1):p.isHTML5||p.loaded||p.readyState&&2===p.readyState||(pe._wD(u+"Preloading for from/to case"),p.load({onload:o}),l=!1),null!==l)return l;p._iO=f()}(!p.instanceCount||p._iO.multiShotEvents||p.isHTML5&&p._iO.multiShot&&!We||!p.isHTML5&&8<g&&!p.getAutoPlay())&&p.instanceCount++,p._iO.onposition&&0===p.playState&&h(p),p.playState=1,p.paused=!1,p.position=p._iO.position===pt||isNaN(p._iO.position)?0:p._iO.position,p.isHTML5||(p._iO=j(W(p._iO))),p._iO.onplay&&t&&(p._iO.onplay.apply(p),m=!0),p.setVolume(p._iO.volume,!0),p.setPan(p._iO.pan,!0),p.isHTML5?p.instanceCount<2?(d(),n=p._setup_html5(),p.setPosition(p._iO.position),n.play()):(pe._wD(p.id+": Cloning Audio() for instance #"+p.instanceCount+"..."),i=new Audio(p._iO.url),a=function(){oe.remove(i,"ended",a),p._onfinish(p),ee(i),i=null},s=function(){oe.remove(i,"canplay",s);try{i.currentTime=p._iO.position/nt}catch(e){q(p.id+": multiShot play() failed to apply position of "+p._iO.position/nt)}i.play()},oe.add(i,"ended",a),void 0!==p._iO.volume&&(i.volume=Math.max(0,Math.min(1,p._iO.volume/100))),p.muted&&(i.muted=!0),p._iO.position?oe.add(i,"canplay",s):i.play()):(r=_e._start(p.id,p._iO.loops||1,9===g?p.position:p.position/nt,p._iO.multiShot||!1),9!==g||r||(pe._wD(u+"No sound hardware, or 32-sound ceiling hit",2),p._iO.onplayerror&&p._iO.onplayerror.apply(p)))}return p},this.start=this.play,this.stop=function(e){var t,n=p._iO;return 1===p.playState&&(pe._wD(p.id+": stop()"),p._onbufferchange(0),p._resetOnPosition(0),p.paused=!1,p.isHTML5||(p.playState=0),i(),n.to&&p.clearOnPosition(n.to),p.isHTML5?p._a&&(t=p.position,p.setPosition(0),p.position=t,p._a.pause(),p.playState=0,p._onTimer(),o()):(_e._stop(p.id,e),n.serverURL&&p.unload()),p.instanceCount=0,p._iO={},n.onstop&&n.onstop.apply(p)),p},this.setAutoPlay=function(e){pe._wD(p.id+": Autoplay turned "+(e?"on":"off")),p._iO.autoPlay=e,p.isHTML5||(_e._setAutoPlay(p.id,e),e&&(p.instanceCount||1!==p.readyState||(p.instanceCount++,pe._wD(p.id+": Incremented instance count to "+p.instanceCount))))},this.getAutoPlay=function(){return p._iO.autoPlay},this.setPosition=function(e){e===pt&&(e=0);var t,n,o=p.isHTML5?Math.max(e,0):Math.min(p.duration||p._iO.duration,Math.max(e,0));if(p.position=o,n=p.position/nt,p._resetOnPosition(p.position),p._iO.position=o,p.isHTML5){if(p._a){if(p._html5_canplay){if(p._a.currentTime!==n){pe._wD(p.id+": setPosition("+n+")");try{p._a.currentTime=n,0!==p.playState&&!p.paused||p._a.pause()}catch(e){pe._wD(p.id+": setPosition("+n+") failed: "+e.message,2)}}}else if(n)return pe._wD(p.id+": setPosition("+n+"): Cannot seek yet, sound not ready",2),p;p.paused&&p._onTimer(!0)}}else t=9===g?p.position:n,p.readyState&&2!==p.readyState&&_e._setPosition(p.id,t,p.paused||!p.playState,p._iO.multiShot);return p},this.pause=function(e){return p.paused||0===p.playState&&1!==p.readyState||(pe._wD(p.id+": pause()"),p.paused=!0,p.isHTML5?(p._setup_html5().pause(),o()):!e&&e!==pt||_e._pause(p.id,p._iO.multiShot),p._iO.onpause&&p._iO.onpause.apply(p)),p},this.resume=function(){var e=p._iO;return p.paused&&(pe._wD(p.id+": resume()"),p.paused=!1,p.playState=1,p.isHTML5?(p._setup_html5().play(),d()):(e.isMovieStar&&!e.serverURL&&p.setPosition(p.position),_e._pause(p.id,e.multiShot)),!m&&e.onplay?(e.onplay.apply(p),m=!0):e.onresume&&e.onresume.apply(p)),p},this.togglePause=function(){return pe._wD(p.id+": togglePause()"),0===p.playState?p.play({position:9!==g||p.isHTML5?p.position/nt:p.position}):p.paused?p.resume():p.pause(),p},this.setPan=function(e,t){return e===pt&&(e=0),t===pt&&(t=!1),p.isHTML5||_e._setPan(p.id,e),p._iO.pan=e,t||(p.pan=e,p.options.pan=e),p},this.setVolume=function(e,t){return e===pt&&(e=100),t===pt&&(t=!1),p.isHTML5?p._a&&(pe.muted&&!p.muted&&(p.muted=!0,p._a.muted=!0),p._a.volume=Math.max(0,Math.min(1,e/100))):_e._setVolume(p.id,pe.muted&&!p.muted||p.muted?0:e),p._iO.volume=e,t||(p.volume=e,p.options.volume=e),p},this.mute=function(){return p.muted=!0,p.isHTML5?p._a&&(p._a.muted=!0):_e._setVolume(p.id,0),p},this.unmute=function(){p.muted=!1;var e=p._iO.volume!==pt;return p.isHTML5?p._a&&(p._a.muted=!1):_e._setVolume(p.id,e?p._iO.volume:p.options.volume),p},this.toggleMute=function(){return p.muted?p.unmute():p.mute()},this.onPosition=function(e,t,n){return r.push({position:parseInt(e,10),method:t,scope:n!==pt?n:p,fired:!1}),p},this.onposition=this.onPosition,this.clearOnPosition=function(e,t){var n;if(e=parseInt(e,10),isNaN(e))return!1;for(n=0;n<r.length;n++)e===r[n].position&&(t&&t!==r[n].method||(r[n].fired&&l--,r.splice(n,1)))},this._processOnPosition=function(){var e,t,n=r.length;if(!n||!p.playState||n<=l)return!1;for(e=n-1;0<=e;e--)!(t=r[e]).fired&&p.position>=t.position&&(t.fired=!0,l++,t.method.apply(t.scope,[t.position]),n=r.length);return!0},this._resetOnPosition=function(e){var t,n,o=r.length;if(!o)return!1;for(t=o-1;0<=t;t--)(n=r[t]).fired&&e<=n.position&&(n.fired=!1,l--);return!0},f=function(){function e(){pe._wD(p.id+': Playing "from" '+n),null===o||isNaN(o)||p.onPosition(o,i)}var t=p._iO,n=t.from,o=t.to,i=function(){pe._wD(p.id+': "To" time of '+o+" reached."),p.clearOnPosition(o,i),p.stop()};return null===n||isNaN(n)||(t.position=n,t.multiShot=!1,e()),t},h=function(){var e,t=p._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&p.onPosition(parseInt(e,10),t[e])},i=function(){var e,t=p._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&p.clearOnPosition(parseInt(e,10))},d=function(){p.isHTML5&&Q(p)},o=function(){p.isHTML5&&K(p)},(a=function(e){e||(r=[],l=0),m=!1,p._hasTimer=null,p._a=null,p._html5_canplay=!1,p.bytesLoaded=null,p.bytesTotal=null,p.duration=p._iO&&p._iO.duration?p._iO.duration:null,p.durationEstimate=null,p.buffered=[],p.eqData=[],p.eqData.left=[],p.eqData.right=[],p.failures=0,p.isBuffering=!1,p.instanceOptions={},p.instanceCount=0,p.loaded=!1,p.metadata={},p.readyState=0,p.muted=!1,p.paused=!1,p.peakData={left:0,right:0},p.waveformData={left:[],right:[]},p.playState=0,p.position=null,p.id3={}})(),this._onTimer=function(e){var t,n,o=!1,i={};if(p._hasTimer||e)return p._a&&(e||(0<p.playState||1===p.readyState)&&!p.paused)&&((t=p._get_html5_duration())!==_.duration&&(_.duration=t,p.duration=t,o=!0),p.durationEstimate=p.duration,(n=p._a.currentTime*nt||0)!==_.time&&(_.time=n,o=!0),(o||e)&&p._whileplaying(n,i,i,i,i)),o},this._get_html5_duration=function(){var e=p._iO,t=p._a&&p._a.duration?p._a.duration*nt:e&&e.duration?e.duration:null;return t&&!isNaN(t)&&t!==1/0?t:null},this._apply_loop=function(e,t){!e.loop&&1<t&&pe._wD("Note: Native HTML5 looping is infinite.",1),e.loop=1<t?"loop":""},this._setup_html5=function(e){var t,n=O(p._iO,e),o=We?me:p._a,i=decodeURI(n.url);if(We?i===decodeURI(ie)&&(t=!0):i===decodeURI(u)&&(t=!0),o){if(o._s)if(We)o._s&&o._s.playState&&!t&&o._s.stop();else if(!We&&i===decodeURI(u))return p._apply_loop(o,n.loops),o;t||(u&&a(!1),o.src=n.url,p.url=n.url,u=n.url,ie=n.url,o._called_load=!1)}else n.autoLoad||n.autoPlay?(p._a=new Audio(n.url),p._a.load()):p._a=Je&&opera.version()<10?new Audio(null):new Audio,(o=p._a)._called_load=!1,We&&(me=o);return p.isHTML5=!0,(p._a=o)._s=p,s(),p._apply_loop(o,n.loops),n.autoLoad||n.autoPlay?p.load():(o.autobuffer=!1,o.preload="auto"),o},s=function(){if(p._a._added_events)return!1;var e,t,n,o;for(e in p._a._added_events=!0,le)le.hasOwnProperty(e)&&(n=le[t=e],o=void 0,p._a&&p._a.addEventListener(t,n,o||!1));return!0},t=function(){var e,t,n,o;for(e in pe._wD(p.id+": Removing event listeners"),p._a._added_events=!1,le)le.hasOwnProperty(e)&&(n=le[t=e],o=void 0,p._a&&p._a.removeEventListener(t,n,o||!1))},this._onload=function(e){var t=!!e||!p.isHTML5&&8===g&&p.duration,n=p.id+": ";return pe._wD(n+(t?"onload()":"Failed to load / invalid sound?"+(p.duration?" -":" Zero-length duration reported.")+" ("+p.url+")"),t?1:2),t||p.isHTML5||(!0===pe.sandbox.noRemote&&pe._wD(n+x("noNet"),1),!0===pe.sandbox.noLocal&&pe._wD(n+x("noLocal"),1)),p.loaded=t,p.readyState=t?3:2,p._onbufferchange(0),p._iO.onload&&he(p,function(){p._iO.onload.apply(p,[t])}),!0},this._onbufferchange=function(e){return 0!==p.playState&&(!(e&&p.isBuffering||!e&&!p.isBuffering)&&(p.isBuffering=1===e,p._iO.onbufferchange&&(pe._wD(p.id+": Buffer state change: "+e),p._iO.onbufferchange.apply(p)),!0))},this._onsuspend=function(){return p._iO.onsuspend&&(pe._wD(p.id+": Playback suspended"),p._iO.onsuspend.apply(p)),!0},this._onfailure=function(e,t,n){p.failures++,pe._wD(p.id+": Failures = "+p.failures),p._iO.onfailure&&1===p.failures?p._iO.onfailure(p,e,t,n):pe._wD(p.id+": Ignoring failure")},this._onfinish=function(){var e=p._iO.onfinish;p._onbufferchange(0),p._resetOnPosition(0),p.instanceCount&&(p.instanceCount--,p.instanceCount||(i(),p.playState=0,p.paused=!1,p.instanceCount=0,p.instanceOptions={},p._iO={},o(),p.isHTML5&&(p.position=0)),p.instanceCount&&!p._iO.multiShotEvents||e&&(pe._wD(p.id+": onfinish()"),he(p,function(){e.apply(p)})))},this._whileloading=function(e,t,n,o){var i=p._iO;p.bytesLoaded=e,p.bytesTotal=t,p.duration=Math.floor(n),p.bufferLength=o,p.isHTML5||i.isMovieStar?p.durationEstimate=p.duration:i.duration?p.durationEstimate=p.duration>i.duration?p.duration:i.duration:p.durationEstimate=parseInt(p.bytesTotal/p.bytesLoaded*p.duration,10),p.isHTML5||(p.buffered=[{start:0,end:p.duration}]),(3!==p.readyState||p.isHTML5)&&i.whileloading&&i.whileloading.apply(p)},this._whileplaying=function(e,t,n,o,i){var a,s=p._iO;return!isNaN(e)&&null!==e&&(p.position=Math.max(0,e),p._processOnPosition(),!p.isHTML5&&8<g&&(s.usePeakData&&t!==pt&&t&&(p.peakData={left:t.leftPeak,right:t.rightPeak}),s.useWaveformData&&n!==pt&&n&&(p.waveformData={left:n.split(","),right:o.split(",")}),s.useEQData&&i!==pt&&i&&i.leftEQ&&(a=i.leftEQ.split(","),p.eqData=a,p.eqData.left=a,i.rightEQ!==pt&&i.rightEQ&&(p.eqData.right=i.rightEQ.split(",")))),1===p.playState&&(p.isHTML5||8!==g||p.position||!p.isBuffering||p._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(p)),!0)},this._oncaptiondata=function(e){pe._wD(p.id+": Caption data received."),p.captiondata=e,p._iO.oncaptiondata&&p._iO.oncaptiondata.apply(p,[e])},this._onmetadata=function(e,t){pe._wD(p.id+": Metadata received.");for(var n={},o=0,i=e.length;o<i;o++)n[e[o]]=t[o];p.metadata=n,p._iO.onmetadata&&p._iO.onmetadata.apply(p)},this._onid3=function(e,t){pe._wD(p.id+": ID3 data received.");for(var n=[],o=0,i=e.length;o<i;o++)n[e[o]]=t[o];p.id3=O(p.id3,n),p._iO.onid3&&p._iO.onid3.apply(p)},this._onconnect=function(e){e=1===e,pe._wD(p.id+": "+(e?"Connected.":"Failed to connect? - "+p.url),e?1:2),(p.connected=e)&&(p.failures=0,V(p.id)&&(p.getAutoPlay()?p.play(pt,p.getAutoPlay()):p._iO.autoLoad&&p.load()),p._iO.onconnect&&p._iO.onconnect.apply(p,[e]))},this._ondataerror=function(e){0<p.playState&&(pe._wD(p.id+": Data error: "+e),p._iO.ondataerror&&p._iO.ondataerror.apply(p))},this._debug()},S=function(){return Oe.body||Oe.getElementsByTagName("div")[0]},y=function(e){return Oe.getElementById(e)},O=function(e,t){var n,o=e||{},i=t===pt?pe.defaultOptions:t;for(n in i)i.hasOwnProperty(n)&&o[n]===pt&&("object"!=typeof i[n]||null===i[n]?o[n]=i[n]:o[n]=O(o[n],i[n]));return o},he=function(e,t){e.isHTML5||8!==g?t():ct.setTimeout(t,0)},u={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},l=function(e,t){var n,o=!0,i=t!==pt,a=pe.setupOptions,s=u;if(e===pt){for(n in o=[],a)a.hasOwnProperty(n)&&o.push(n);for(n in s)s.hasOwnProperty(n)&&("object"==typeof pe[n]?o.push(n+": {...}"):pe[n]instanceof Function?o.push(n+": function() {...}"):o.push(n));return pe._wD(x("setup",o.join(", "))),!1}for(n in e)if(e.hasOwnProperty(n))if("object"!=typeof e[n]||null===e[n]||e[n]instanceof Array||e[n]instanceof RegExp)i&&s[t]!==pt?pe[t][n]=e[n]:a[n]!==pt?(pe.setupOptions[n]=e[n],pe[n]=e[n]):s[n]===pt?(q(x(pe[n]===pt?"setupUndef":"setupError",n),2),o=!1):pe[n]instanceof Function?pe[n].apply(pe,e[n]instanceof Array?e[n]:[e[n]]):pe[n]=e[n];else{if(s[n]!==pt)return l(e[n],n);q(x(pe[n]===pt?"setupUndef":"setupError",n),2),o=!1}return o},fe=ct.attachEvent,ce={add:fe?"attachEvent":"addEventListener",remove:fe?"detachEvent":"removeEventListener"},oe={add:function(){ht(dt(arguments),"add")},remove:function(){ht(dt(arguments),"remove")}},le={abort:ft(function(){pe._wD(this._s.id+": abort")}),canplay:ft(function(){var t,n=this._s;if(n._html5_canplay)return!0;if(n._html5_canplay=!0,pe._wD(n.id+": canplay"),n._onbufferchange(0),t=n._iO.position===pt||isNaN(n._iO.position)?null:n._iO.position/nt,n.position&&this.currentTime!==t){pe._wD(n.id+": canplay: Setting position to "+t);try{this.currentTime=t}catch(e){pe._wD(n.id+": canplay: Setting position of "+t+" failed: "+e.message,2)}}n._iO._oncanplay&&n._iO._oncanplay()}),canplaythrough:ft(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:ft(function(){var e=this._s;pe._wD(e.id+": ended"),e._onfinish()}),error:ft(function(){pe._wD(this._s.id+": HTML5 error, code "+this.error.code),this._s._onload(!1)}),loadeddata:ft(function(){var e=this._s;pe._wD(e.id+": loadeddata"),e._loaded||$e||(e.duration=e._get_html5_duration())}),loadedmetadata:ft(function(){pe._wD(this._s.id+": loadedmetadata")}),loadstart:ft(function(){pe._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:ft(function(){this._s._onbufferchange(0)}),playing:ft(function(){pe._wD(this._s.id+": playing"),this._s._onbufferchange(0)}),progress:ft(function(e){var t,n,o,i=this._s,a=0,s="progress"===e.type,r=e.target.buffered,l=e.loaded||0,u=e.total||1;if(i.buffered=[],r&&r.length){for(t=0,n=r.length;t<n;t++)i.buffered.push({start:r.start(t)*nt,end:r.end(t)*nt});if(a=(r.end(0)-r.start(0))*nt,l=Math.min(1,a/(e.target.duration*nt)),s&&1<r.length){for(o=[],n=r.length,t=0;t<n;t++)o.push(e.target.buffered.start(t)*nt+"-"+e.target.buffered.end(t)*nt);pe._wD(this._s.id+": progress, timeRanges: "+o.join(", "))}s&&!isNaN(l)&&pe._wD(this._s.id+": progress, "+Math.floor(100*l)+"% loaded")}isNaN(l)||(i._onbufferchange(0),i._whileloading(l,u,i._get_html5_duration()),l&&u&&l===u&&le.canplaythrough.call(this,e))}),ratechange:ft(function(){pe._wD(this._s.id+": ratechange")}),suspend:ft(function(e){var t=this._s;pe._wD(this._s.id+": suspend"),le.progress.call(this,e),t._onsuspend()}),stalled:ft(function(){pe._wD(this._s.id+": stalled")}),timeupdate:ft(function(){this._s._onTimer()}),waiting:ft(function(){var e=this._s;pe._wD(this._s.id+": waiting"),e._onbufferchange(1)})},Z=function(e){var t=!(!e||!(e.type||e.url||e.serverURL))&&(!(e.serverURL||e.type&&ut(e.type))&&(e.type?Y({type:e.type}):Y({url:e.url})||pe.html5Only||e.url.match(/data\:/i)));return t},ee=function(e){var t;return e&&(t=!$e&&pe.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":ot,e.src=t,void 0!==e._called_unload&&(e._called_load=!1)),We&&(ie=null),t},Y=function(e){if(!pe.useHTML5Audio||!pe.hasHTML5)return!1;var t,n,o,i,a=e.url||null,s=e.type||null,r=pe.audioFormats;if(s&&pe.html5[s]!==pt)return pe.html5[s]&&!ut(s);if(!z){for(i in z=[],r)r.hasOwnProperty(i)&&(z.push(i),r[i].related&&(z=z.concat(r[i].related)));z=new RegExp("\\.("+z.join("|")+")(\\?.*)?$","i")}return(o=a?a.toLowerCase().match(z):null)&&o.length?o=o[1]:s?o=(-1!==(n=s.indexOf(";"))?s.substr(0,n):s).substr(6):t=!1,t=o&&pe.html5[o]!==pt?pe.html5[o]&&!ut(o):(s="audio/"+o,t=pe.html5.canPlayType({type:s}),(pe.html5[o]=t)&&pe.html5[s]&&!ut(s))},ne=function(){if(!pe.useHTML5Audio||!pe.hasHTML5)return pe.html5.usingFlash=!0,!(Ue=!0);var e,t,n,a,s=Audio!==pt?Je&&opera.version()<10?new Audio(null):new Audio:null,o={};function i(e){var t,n,o=!1,i=!1;if(!s||"function"!=typeof s.canPlayType)return o;if(e instanceof Array){for(a=0,n=e.length;a<n;a++)(pe.html5[e[a]]||s.canPlayType(e[a]).match(pe.html5Test))&&(i=!0,pe.html5[e[a]]=!0,pe.flash[e[a]]=!!e[a].match(tt));o=i}else o=!(!(t=!(!s||"function"!=typeof s.canPlayType)&&s.canPlayType(e))||!t.match(pe.html5Test));return o}for(e in n=pe.audioFormats)if(n.hasOwnProperty(e)&&(t="audio/"+e,o[e]=i(n[e].type),o[t]=o[e],e.match(tt)?(pe.flash[e]=!0,pe.flash[t]=!0):(pe.flash[e]=!1,pe.flash[t]=!1),n[e]&&n[e].related))for(a=n[e].related.length-1;0<=a;a--)o["audio/"+n[e].related[a]]=o[e],pe.html5[n[e].related[a]]=o[e],pe.flash[n[e].related[a]]=o[e];return o.canPlayType=s?i:null,pe.html5=O(pe.html5,o),pe.html5.usingFlash=G(),Ue=pe.html5.usingFlash,!0},M={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:ge+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:ye+"Verify that %s is a valid path.",tryDebug:"Try "+ge+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:ye+"Non-HTTP page ("+Oe.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:ye+"Special case: Waiting for SWF to load with window focus...",waitForever:ye+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:ye+"Waiting for 100% SWF load...",needFunction:ye+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:ye+"_debug(): Current sound objects",waitOnload:ye+"Waiting for window.onload()",docLoaded:ye+"Document already loaded",onload:ye+"initComplete(): calling soundManager.onload()",onloadOK:ge+".onload() complete",didInit:ye+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:ye+"Failed to remove Flash node.",shutdown:ge+".disable(): Shutting down",queue:ye+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+U.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:ye+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:ge+".load(): current URL already assigned.",badFV:ge+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:ye+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:ye+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:ge+".setup(): allowed parameters: %s",setupError:ge+'.setup(): "%s" cannot be assigned with this method.',setupUndef:ge+'.setup(): Could not find option "%s"',setupLate:ge+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:ye+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready.",reset:ge+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device."},x=function(){var e,t,n=Be.call(arguments),o=n.shift(),i=M[o]?M[o]:"";if(i&&n&&n.length)for(e=0,t=n.length;e<t;e++)i=i.replace("%s",n[e]);return i},W=function(e){return 8===g&&1<e.loops&&e.stream&&(b("as2loop"),e.stream=!1),e},j=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(pe._wD((t||"")+x("policy")),e.usePolicyFile=!0),e},q=function(e){Ze&&console.warn!==pt?console.warn(e):pe._wD(e)},n=function(){return!1},E=function(e){var t;for(t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=n);t=null},k=function(e){e===pt&&(e=!1),(Se||e)&&pe.disable(e)},C=function(e){var t;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return t=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+pe.movieURL,pe.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},D=function(){8!==(g=parseInt(pe.flashVersion,10))&&9!==g&&(pe._wD(x("badFV",g,8)),pe.flashVersion=g=8);var e=pe.debugMode||pe.debugFlash?"_debug.swf":".swf";pe.useHTML5Audio&&!pe.html5Only&&pe.audioFormats.mp4.required&&g<9&&(pe._wD(x("needfl9")),pe.flashVersion=g=9),pe.version=pe.versionNumber+(pe.html5Only?" (HTML5-only mode)":9===g?" (AS3/Flash 9)":" (AS2/Flash 8)"),8<g?(pe.defaultOptions=O(pe.defaultOptions,pe.flash9Options),pe.features.buffering=!0,pe.defaultOptions=O(pe.defaultOptions,pe.movieStarOptions),pe.filePatterns.flash9=new RegExp("\\.(mp3|"+rt.join("|")+")(\\?.*)?$","i"),pe.features.movieStar=!0):pe.features.movieStar=!1,pe.filePattern=pe.filePatterns[8!==g?"flash9":"flash8"],pe.movieURL=(8===g?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),pe.features.peakData=pe.features.waveformData=pe.features.eqData=8<g},H=function(e,t){if(!_e)return!1;_e._setPolling(e,t)},A=function(){if(pe.debugURLParam.test(be)&&(pe.debugMode=!0),y(pe.debugID))return!1;var e,t,n,o,i;if(pe.debugMode&&!y(pe.debugID)&&(!Ze||!pe.useConsole||!pe.consoleOnly)){for(i in(e=Oe.createElement("div")).id=pe.debugID+"-toggle",o={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(Oe.createTextNode("-")),e.onclick=B,e.title="Toggle SM2 debug console",ve.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand"),o)o.hasOwnProperty(i)&&(e.style[i]=o[i]);if((t=Oe.createElement("div")).id=pe.debugID,t.style.display=pe.debugMode?"block":"none",pe.debugMode&&!y(e.id)){try{(n=S()).appendChild(e)}catch(e){throw new Error(x("domError")+" \n"+e.toString())}n.appendChild(t)}}n=null},V=this.getSoundById,b=function(e,t){return e?pe._wD(x(e),t):""},B=function(){var e=y(pe.debugID),t=y(pe.debugID+"-toggle");if(!e)return!1;Me?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),Me=!Me},v=function(e,t,n){if(ct.sm2Debugger!==pt)try{sm2Debugger.handleEvent(e,t,n)}catch(e){return!1}return!0},N=function(){var e=[];return pe.debugMode&&e.push(U.sm2Debug),pe.debugFlash&&e.push(U.flashDebug),pe.useHighPerformance&&e.push(U.highPerf),e.join(" ")},R=function(){var e=x("fbHandler"),t=pe.getMoviePercent(),n=U,o={type:"FLASHBLOCK"};if(pe.html5Only)return!1;pe.ok()?(pe.didFlashBlock&&pe._wD(e+": Unblocked"),pe.oMC&&(pe.oMC.className=[N(),n.swfDefault,n.swfLoaded+(pe.didFlashBlock?" "+n.swfUnblocked:"")].join(" "))):(Ue&&(pe.oMC.className=N()+" "+n.swfDefault+" "+(null===t?n.swfTimedout:n.swfError),pe._wD(e+": "+x("fbTimeout")+(t?" ("+x("fbLoaded")+")":""))),pe.didFlashBlock=!0,s({type:"ontimeout",ignoreInit:!0,error:o}),I(o))},i=function(e,t,n){De[e]===pt&&(De[e]=[]),De[e].push({method:t,scope:n||null,fired:!1})},s=function(e){if(e=e||{type:pe.ok()?"onready":"ontimeout"},!Pe&&e&&!e.ignoreInit)return!1;if("ontimeout"===e.type&&(pe.ok()||Se&&!e.ignoreInit))return!1;var t,n,o={success:e&&e.ignoreInit?pe.ok():!Se},i=e&&e.type&&De[e.type]||[],a=[],s=[o],r=Ue&&!pe.ok();for(e.error&&(s[0].error=e.error),t=0,n=i.length;t<n;t++)!0!==i[t].fired&&a.push(i[t]);if(a.length)for(t=0,n=a.length;t<n;t++)a[t].scope?a[t].method.apply(a[t].scope,s):a[t].method.apply(this,s),r||(a[t].fired=!0);return!0},d=function(){ct.setTimeout(function(){pe.useFlashBlock&&R(),s(),"function"==typeof pe.onload&&(b("onload",1),pe.onload.apply(ct),b("onloadOK",1)),pe.waitForWindowLoad&&oe.add(ct,"load",d)},1)},se=function(){if(ae!==pt)return ae;var t,e,n,o=!1,i=navigator,a=i.plugins,s=ct.ActiveXObject;if(a&&a.length)e="application/x-shockwave-flash",(n=i.mimeTypes)&&n[e]&&n[e].enabledPlugin&&n[e].enabledPlugin.description&&(o=!0);else if(s!==pt&&!ve.match(/MSAppHost/i)){try{t=new s("ShockwaveFlash.ShockwaveFlash")}catch(e){t=null}o=!!t,t=null}return ae=o},G=function(){var e,t,n=pe.audioFormats;if(qe&&!!ve.match(/os (1|2|3_0|3_1)/i)?(pe.hasHTML5=!1,pe.html5Only=!0,pe.oMC&&(pe.oMC.style.display="none")):pe.useHTML5Audio&&(pe.html5&&pe.html5.canPlayType||(pe._wD("SoundManager: No HTML5 Audio() support detected."),pe.hasHTML5=!1),Ge&&pe._wD(ye+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(ae?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),pe.useHTML5Audio&&pe.hasHTML5)for(t in X=!0,n)n.hasOwnProperty(t)&&n[t].required&&(pe.html5.canPlayType(n[t].type)?pe.preferFlash&&(pe.flash[t]||pe.flash[n[t].type])&&(e=!0):e=!(X=!1));return pe.ignoreFlash&&(X=!(e=!1)),pe.html5Only=pe.hasHTML5&&pe.useHTML5Audio&&!e,!pe.html5Only},J=function(e){var t,n,o,i=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(pe.canPlayMIME(e[t].type)){i=t;break}}else if(pe.canPlayURL(e[t])){i=t;break}e[i].url&&(e[i]=e[i].url),o=e[i]}else o=e;return o},Q=function(e){e._hasTimer||(e._hasTimer=!0,!Xe&&pe.html5PollingInterval&&(null===Re&&0===xe&&(Re=setInterval($,pe.html5PollingInterval)),xe++))},K=function(e){e._hasTimer&&(e._hasTimer=!1,!Xe&&pe.html5PollingInterval&&xe--)},$=function(){var e;if(null!==Re&&!xe)return clearInterval(Re),Re=null,!1;for(e=pe.soundIDs.length-1;0<=e;e--)pe.sounds[pe.soundIDs[e]].isHTML5&&pe.sounds[pe.soundIDs[e]]._hasTimer&&pe.sounds[pe.soundIDs[e]]._onTimer()},I=function(e){e=e!==pt?e:{},"function"==typeof pe.onerror&&pe.onerror.apply(ct,[{type:e.type!==pt?e.type:null}]),e.fatal!==pt&&e.fatal&&pe.disable()},re=function(){if(!Ge||!se())return!1;var e,t,n=pe.audioFormats;for(t in n)if(n.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(pe._wD(ge+": Using flash fallback for "+t+" format"),pe.html5[t]=!1,n[t]&&n[t].related))for(e=n[t].related.length-1;0<=e;e--)pe.html5[n[t].related[e]]=!1},this._setSandboxType=function(e){var t=pe.sandbox;t.type=e,t.description=t.types[t.types[e]!==pt?e:"unknown"],"localWithFile"===t.type?(t.noRemote=!0,t.noLocal=!1,b("secNote",2)):"localWithNetwork"===t.type?(t.noRemote=!1,t.noLocal=!0):"localTrusted"===t.type&&(t.noRemote=!1,t.noLocal=!1)},this._externalInterfaceOK=function(e){return!pe.swfLoaded&&(v("swf",!0),v("flashtojs",!0),pe.swfLoaded=!0,ze=!1,Ge&&re(),e&&e.replace(/\+dev/i,"")===pe.versionNumber.replace(/\+dev/i,"")?void setTimeout(w,Qe?100:1):(t=ge+': Fatal: JavaScript file build "'+pe.versionNumber+'" does not match Flash SWF build "'+e+'" at '+pe.url+". Ensure both are up-to-date.",setTimeout(function(){throw new Error(t)},0),!1));var t},F=function(e,t){if(Le&&Te)return!1;function n(){var e=[],t=[],n="SoundManager "+pe.version+(!pe.html5Only&&pe.useHTML5Audio?pe.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"");pe.html5Only?pe.html5PollingInterval&&e.push("html5PollingInterval ("+pe.html5PollingInterval+"ms)"):(pe.preferFlash&&e.push("preferFlash"),pe.useHighPerformance&&e.push("useHighPerformance"),pe.flashPollingInterval&&e.push("flashPollingInterval ("+pe.flashPollingInterval+"ms)"),pe.html5PollingInterval&&e.push("html5PollingInterval ("+pe.html5PollingInterval+"ms)"),pe.wmode&&e.push("wmode ("+pe.wmode+")"),pe.debugFlash&&e.push("debugFlash"),pe.useFlashBlock&&e.push("flashBlock")),e.length&&(t=t.concat([e.join(" + ")])),pe._wD(n+(t.length?" + "+t.join(", "):""),1),ue()}if(pe.html5Only)return D(),n(),pe.oMC=y(pe.movieID),w(),!(Te=Le=!0);var o,i,a,s,r,l,u,d,h,f=t||pe.url,c=pe.altURL||f,p=S(),m=N(),_=Oe.getElementsByTagName("html")[0];function g(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(o=_&&_.dir&&_.dir.match(/rtl/i),e=e===pt?pe.id:e,D(),pe.url=C(it?f:c),t=pe.url,pe.wmode=!pe.wmode&&pe.useHighPerformance?"transparent":pe.wmode,null!==pe.wmode&&(ve.match(/msie 8/i)||!Qe&&!pe.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Ne.push(M.spcWmode),pe.wmode=null),i={name:e,id:e,src:t,quality:"high",allowScriptAccess:pe.allowScriptAccess,bgcolor:pe.bgColor,pluginspage:at+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:pe.wmode,hasPriority:"true"},pe.debugFlash&&(i.FlashVars="debug=1"),pe.wmode||delete i.wmode,Qe)a=Oe.createElement("div"),r=['<object id="'+e+'" data="'+t+'" type="'+i.type+'" title="'+i.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+at+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',g("movie",t),g("AllowScriptAccess",pe.allowScriptAccess),g("quality",i.quality),pe.wmode?g("wmode",pe.wmode):"",g("bgcolor",pe.bgColor),g("hasPriority","true"),pe.debugFlash?g("FlashVars",i.FlashVars):"","</object>"].join("");else for(s in a=Oe.createElement("embed"),i)i.hasOwnProperty(s)&&a.setAttribute(s,i[s]);if(A(),m=N(),p=S())if(pe.oMC=y(pe.movieID)||Oe.createElement("div"),pe.oMC.id)h=pe.oMC.className,pe.oMC.className=(h?h+" ":U.swfDefault)+(m?" "+m:""),pe.oMC.appendChild(a),Qe&&((l=pe.oMC.appendChild(Oe.createElement("div"))).className=U.swfBox,l.innerHTML=r),Te=!0;else{if(pe.oMC.id=pe.movieID,pe.oMC.className=U.swfDefault+" "+m,l=u=null,pe.useFlashBlock||(pe.useHighPerformance?u={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(u={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},o&&(u.left=Math.abs(parseInt(u.left,10))+"px"))),Ke&&(pe.oMC.style.zIndex=1e4),!pe.debugFlash)for(d in u)u.hasOwnProperty(d)&&(pe.oMC.style[d]=u[d]);try{Qe||pe.oMC.appendChild(a),p.appendChild(pe.oMC),Qe&&((l=pe.oMC.appendChild(Oe.createElement("div"))).className=U.swfBox,l.innerHTML=r),Te=!0}catch(e){throw new Error(x("domError")+" \n"+e.toString())}}return Le=!0,n(),!0},m=function(){return pe.html5Only?(F(),!1):!_e&&(pe.url?((_e=pe.getMovie(pe.id))||(Ae?(Qe?pe.oMC.innerHTML=Ee:pe.oMC.appendChild(Ae),Le=!(Ae=null)):F(pe.id,pe.url),_e=pe.getMovie(pe.id)),"function"==typeof pe.oninitmovie&&setTimeout(pe.oninitmovie,1),de(),!0):(b("noURL"),!1))},h=function(){setTimeout(f,1e3)},c=function(){ct.setTimeout(function(){q(ye+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),pe.setup({preferFlash:!1}).reboot(),pe.didFlashBlock=!0,pe.beginDelayedInit()},1)},f=function(){var e,t=!1;return!!pe.url&&(!ke&&(ke=!0,oe.remove(ct,"load",h),ae&&ze&&!Ye?(b("waitFocus"),!1):(Pe||0<(e=pe.getMoviePercent())&&e<100&&(t=!0),void setTimeout(function(){if(e=pe.getMoviePercent(),t)return ke=!1,pe._wD(x("waitSWF")),ct.setTimeout(h,1),!1;Pe||(pe._wD(ge+": No Flash response within expected time. Likely causes: "+(0===e?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(pe.debugFlash?" "+x("checkSWF"):""),2),!it&&e&&(b("localFail",2),pe.debugFlash||b("tryDebug",2)),0===e&&pe._wD(x("swf404",pe.url),1),v("flashtojs",!1," (Check flash security or flash blockers)")),!Pe&&et&&(null===e?pe.useFlashBlock||0===pe.flashLoadTimeout?(pe.useFlashBlock&&R(),b("waitForever")):!pe.useFlashBlock&&X?c():(b("waitForever"),s({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):0===pe.flashLoadTimeout?b("waitForever"):!pe.useFlashBlock&&X?c():k(!0))},pe.flashLoadTimeout))))},p=function(){function e(){oe.remove(ct,"focus",p)}return Ye||!ze||(Ye=et=!0,b("gotFocus"),ke=!1,h()),e(),!0},de=function(){Ne.length&&(pe._wD("SoundManager 2: "+Ne.join(" "),1),Ne=[])},ue=function(){de();var e,t=[];if(pe.useHTML5Audio&&pe.hasHTML5){for(e in pe.audioFormats)pe.audioFormats.hasOwnProperty(e)&&t.push(e+" = "+pe.html5[e]+(!pe.html5[e]&&Ue&&pe.flash[e]?" (using flash)":pe.preferFlash&&pe.flash[e]&&Ue?" (preferring flash)":pe.html5[e]?"":" ("+(pe.audioFormats[e].required?"required, ":"")+"and no flash support)"));pe._wD("SoundManager 2 HTML5 support: "+t.join(", "),1)}},o=function(e){if(Pe)return!1;if(pe.html5Only)return b("sm2Loaded"),Pe=!0,d(),v("onload",!0),!0;var t,n=!0;return pe.useFlashBlock&&pe.flashLoadTimeout&&!pe.getMoviePercent()||(Pe=!0),t={type:!ae&&Ue?"NO_FLASH":"INIT_TIMEOUT"},pe._wD("SoundManager 2 "+(Se?"failed to load":"loaded")+" ("+(Se?"Flash security/load error":"OK")+")",Se?2:1),Se||e?(pe.useFlashBlock&&pe.oMC&&(pe.oMC.className=N()+" "+(null===pe.getMoviePercent()?U.swfTimedout:U.swfError)),s({type:"ontimeout",error:t,ignoreInit:!0}),v("onload",!1),I(t),n=!1):v("onload",!0),Se||(pe.waitForWindowLoad&&!Fe?(b("waitOnload"),oe.add(ct,"load",d)):(pe.waitForWindowLoad&&Fe&&b("docLoaded"),d())),n},a=function(){var e,t=pe.setupOptions;for(e in t)t.hasOwnProperty(e)&&(pe[e]===pt?pe[e]=t[e]:pe[e]!==t[e]&&(pe.setupOptions[e]=pe[e]))},w=function(){if(Pe)return b("didInit"),!1;function e(){oe.remove(ct,"load",pe.beginDelayedInit)}if(pe.html5Only)return Pe||(e(),pe.enabled=!0,o()),!0;m();try{_e._externalInterfaceTest(!1),H(!0,pe.flashPollingInterval||(pe.useHighPerformance?10:50)),pe.debugMode||_e._disableDebug(),pe.enabled=!0,v("jstoflash",!0),pe.html5Only||oe.add(ct,"unload",n)}catch(e){return pe._wD("js/flash exception: "+e.toString()),v("jstoflash",!1),I({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),k(!0),o(),!1}return o(),e(),!0},L=function(){return!P&&(P=!0,a(),A(),e="sm2-usehtml5audio=",t="sm2-preferflash=",o=n=null,-1!==(i=be.toLowerCase()).indexOf(e)&&(n="1"===i.charAt(i.indexOf(e)+e.length),Ze&&console.log((n?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter"),pe.setup({useHTML5Audio:n})),-1!==i.indexOf(t)&&(o="1"===i.charAt(i.indexOf(t)+t.length),Ze&&console.log((o?"Enabling ":"Disabling ")+"preferFlash via URL parameter"),pe.setup({preferFlash:o})),!ae&&pe.hasHTML5&&(pe._wD("SoundManager 2: No Flash detected"+(pe.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),pe.setup({useHTML5Audio:!0,preferFlash:!1})),ne(),!ae&&Ue&&(Ne.push(M.needFlash),pe.setup({flashLoadTimeout:1})),Oe.removeEventListener&&Oe.removeEventListener("DOMContentLoaded",L,!1),m(),!0);var e,t,n,o,i},te=function(){return"complete"===Oe.readyState&&(L(),Oe.detachEvent("onreadystatechange",te)),!0},T=function(){Fe=!0,oe.remove(ct,"load",T)},(_=function(){Xe&&(pe.setupOptions.useHTML5Audio&&!pe.setupOptions.preferFlash||Ne.push(M.mobileUA),pe.setupOptions.useHTML5Audio=!0,pe.setupOptions.preferFlash=!1,(qe||Ve&&!ve.match(/android\s2\.3/i))&&(Ne.push(M.globalHTML5),qe&&(pe.ignoreFlash=!0),We=!0))})(),se(),oe.add(ct,"focus",p),oe.add(ct,"load",h),oe.add(ct,"load",T),Oe.addEventListener?Oe.addEventListener("DOMContentLoaded",L,!1):Oe.attachEvent?Oe.attachEvent("onreadystatechange",te):(v("onload",!1),I({type:"NO_DOM2_EVENTS",fatal:!0}))}void 0!==ct.SM2_DEFER&&SM2_DEFER||(e=new t),ct.SoundManager=t,ct.soundManager=e}(window);