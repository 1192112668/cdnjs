!function(ot){function e(e,t){function i(e){return q.preferFlash&&R&&!q.ignoreFlash&&void 0!==q.flash[e]&&q.flash[e]}function o(o){return function(e){var t=this._s;return e=t&&t._a?o.call(this,e):(t&&t.id?q._wD(Q+"ignoring "+e.type+": "+t.id):q._wD(Q+"ignoring "+e.type),null)}}this.setupOptions={url:e||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=t||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20121104",this.altURL=this.movieURL=this.version=null,this.enabled=this.swfLoaded=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.didFlashBlock=this.muted=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.ignoreFlash=this.html5Only=!1;var a,f,n,h,g,_,s,y,r,l,u,d,c,p,m,v,w,M,b,S,O,D,L,T,P,F,I,H,E,C,k,A,x,N,R,U,W,B,j,q=this,V=null,J=null,Q="HTML5::",$=navigator.userAgent,K=ot,X=K.location.href.toString(),G=document,z=[],Y=!0,Z=!1,ee=!1,te=!1,oe=!1,ne=!1,ie=0,ae=["log","info","warn","error"],se=null,re=null,le=!1,ue=!1,de=0,ce=null,fe=null,he=Array.prototype.slice,pe=!1,me=$.match(/(ipad|iphone|ipod)/i),ge=$.match(/msie/i),_e=$.match(/webkit/i),ye=$.match(/safari/i)&&!$.match(/chrome/i),ve=$.match(/opera/i),we=$.match(/(mobile|pre\/|xoom)/i)||me,Me=!X.match(/usehtml5audio/i)&&!X.match(/sm2\-ignorebadua/i)&&ye&&!$.match(/silk/i)&&$.match(/OS X 10_6_([3-7])/i),be=void 0!==ot.console&&void 0!==console.log,Se=void 0!==G.hasFocus?G.hasFocus():null,Oe=ye&&(void 0===G.hasFocus||!G.hasFocus()),De=!Oe,Le=/(mp3|mp4|mpa|m4a|m4b)/i,Te=G.location?G.location.protocol.match(/http/i):null,Pe=Te?"":"http://",Fe=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Ie="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),He=RegExp("\\.("+Ie.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!Te,we&&(q.useHTML5Audio=!0,q.preferFlash=!1,me&&(pe=q.ignoreFlash=!0));try{j=void 0!==Audio&&void 0!==(ve&&void 0!==opera&&opera.version()<10?new Audio(null):new Audio).canPlayType}catch(e){j=!1}this.hasHTML5=j,this.setup=function(e){var t=!q.url;return void 0!==e&&te&&fe&&q.ok()&&(void 0!==e.flashVersion||void 0!==e.url)&&Ye(Xe("setupLate")),r(e),t&&S&&void 0!==e.url&&q.beginDelayedInit(),S||void 0===e.url||"complete"!==G.readyState||setTimeout(M,1),q},this.supported=this.ok=function(){return fe?te&&!oe:q.useHTML5Audio&&q.hasHTML5},this.getMovie=function(e){return f(e)||G[e]||K[e]},this.createSound=function(e,t){function o(){return n=Ge(n),q.sounds[n.id]=new a(n),q.soundIDs.push(n.id),q.sounds[n.id]}var n,i=null;return i="soundManager.createSound(): "+Xe(te?"notOK":"notReady"),te&&q.ok()?(void 0!==t&&(e={id:e,url:t}),(n=y(e)).url=C(n.url),n.id.toString().charAt(0).match(/^[0-9]$/)&&q._wD("soundManager.createSound(): "+Xe("badID",n.id),2),q._wD("soundManager.createSound(): "+n.id+" ("+n.url+")",1),et(n.id,!0)?(q._wD("soundManager.createSound(): "+n.id+" exists",1),q.sounds[n.id]):(Je(n)?(i=o(),q._wD("Creating sound "+n.id+", using HTML5"),i._setup_html5(n)):(8<g&&(null===n.isMovieStar&&(n.isMovieStar=!(!n.serverURL&&!(n.type&&n.type.match(Fe)||n.url.match(He)))),n.isMovieStar&&(q._wD("soundManager.createSound(): using MovieStar handling"),1<n.loops&&tt("noNSLoop"))),n=ze(n,"soundManager.createSound(): "),i=o(),8===g?J._createSound(n.id,n.loops||1,n.usePolicyFile):(J._createSound(n.id,n.url,n.usePeakData,n.useWaveformData,n.useEQData,n.isMovieStar,!!n.isMovieStar&&n.bufferTime,n.loops||1,n.serverURL,n.duration||null,n.autoPlay,!0,n.autoLoad,n.usePolicyFile),n.serverURL||(i.connected=!0,n.onconnect&&n.onconnect.apply(i))),n.serverURL||!n.autoLoad&&!n.autoPlay||i.load(n)),!n.serverURL&&n.autoPlay&&i.play(),i)):(Ye(i),!1)},this.destroySound=function(e,t){if(!et(e))return!1;var o,n=q.sounds[e];for(n._iO={},n.stop(),n.unload(),o=0;o<q.soundIDs.length;o++)if(q.soundIDs[o]===e){q.soundIDs.splice(o,1);break}return t||n.destruct(!0),delete q.sounds[e],!0},this.load=function(e,t){return!!et(e)&&q.sounds[e].load(t)},this.unload=function(e){return!!et(e)&&q.sounds[e].unload()},this.onposition=this.onPosition=function(e,t,o,n){return!!et(e)&&q.sounds[e].onposition(t,o,n)},this.clearOnPosition=function(e,t,o){return!!et(e)&&q.sounds[e].clearOnPosition(t,o)},this.start=this.play=function(e,t){var o=!1;return te&&q.ok()?et(e)?q.sounds[e].play(t):(t instanceof Object||(t={url:t}),t&&t.url&&(q._wD('soundManager.play(): attempting to create "'+e+'"',1),t.id=e,o=q.createSound(t).play()),o):(Ye("soundManager.play(): "+Xe(te?"notOK":"notReady")),o)},this.setPosition=function(e,t){return!!et(e)&&q.sounds[e].setPosition(t)},this.stop=function(e){return!!et(e)&&(q._wD("soundManager.stop("+e+")",1),q.sounds[e].stop())},this.stopAll=function(){var e;for(e in q._wD("soundManager.stopAll()",1),q.sounds)q.sounds.hasOwnProperty(e)&&q.sounds[e].stop()},this.pause=function(e){return!!et(e)&&q.sounds[e].pause()},this.pauseAll=function(){for(var e=q.soundIDs.length-1;0<=e;e--)q.sounds[q.soundIDs[e]].pause()},this.resume=function(e){return!!et(e)&&q.sounds[e].resume()},this.resumeAll=function(){for(var e=q.soundIDs.length-1;0<=e;e--)q.sounds[q.soundIDs[e]].resume()},this.togglePause=function(e){return!!et(e)&&q.sounds[e].togglePause()},this.setPan=function(e,t){return!!et(e)&&q.sounds[e].setPan(t)},this.setVolume=function(e,t){return!!et(e)&&q.sounds[e].setVolume(t)},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return!!et(e)&&(q._wD('soundManager.mute(): Muting "'+e+'"'),q.sounds[e].mute());for(q._wD("soundManager.mute(): Muting all sounds"),t=q.soundIDs.length-1;0<=t;t--)q.sounds[q.soundIDs[t]].mute();return q.muted=!0},this.muteAll=function(){q.mute()},this.unmute=function(e){if(e instanceof String&&(e=null),e)return!!et(e)&&(q._wD('soundManager.unmute(): Unmuting "'+e+'"'),q.sounds[e].unmute());for(q._wD("soundManager.unmute(): Unmuting all sounds"),e=q.soundIDs.length-1;0<=e;e--)q.sounds[q.soundIDs[e]].unmute();return!(q.muted=!1)},this.unmuteAll=function(){q.unmute()},this.toggleMute=function(e){return!!et(e)&&q.sounds[e].toggleMute()},this.getMemoryUse=function(){var e=0;return J&&8!==g&&(e=parseInt(J._getMemoryUse(),10)),e},this.disable=function(e){var t;if(void 0===e&&(e=!1),oe)return!1;for(oe=!0,tt("shutdown",1),t=q.soundIDs.length-1;0<=t;t--)Ze(q.sounds[q.soundIDs[t]]);return s(e),qe.remove(K,"load",c),!0},this.canPlayMIME=function(e){var t;return q.hasHTML5&&(t=$e({type:e})),!t&&fe&&(t=e&&q.ok()?!!(8<g&&e.match(Fe)||e.match(q.mimePattern)):null),t},this.canPlayURL=function(e){var t;return q.hasHTML5&&(t=$e({url:e})),!t&&fe&&(t=e&&q.ok()?!!e.match(q.filePattern):null),t},this.canPlayLink=function(e){return!(void 0===e.type||!e.type||!q.canPlayMIME(e.type))||q.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)throw Error("soundManager.getSoundById(): sID is null/undefined");var o=q.sounds[e];return o||t||q._wD('"'+e+'" is an invalid sound ID.',2),o},this.onready=function(e,t){if("function"!=typeof e)throw Xe("needFunction","onready");return te&&q._wD(Xe("queue","onready")),u("onready",e,t=t||K),d(),!0},this.ontimeout=function(e,t){if("function"!=typeof e)throw Xe("needFunction","ontimeout");return te&&q._wD(Xe("queue","ontimeout")),u("ontimeout",e,t=t||K),d({type:"ontimeout"}),!0},this._wD=this._writeDebug=function(e,t,o){var n,i;if(!q.debugMode)return!1;if(void 0!==o&&o&&(e=e+" | "+(new Date).getTime()),be&&q.useConsole&&(o=ae[t],void 0!==console[o]?console[o](e):console.log(e),q.consoleOnly))return!0;try{if(!(n=f("soundmanager-debug")))return!1;i=G.createElement("div"),0==++ie%2&&(i.className="sm2-alt"),t=void 0===t?0:parseInt(t,10),i.appendChild(G.createTextNode(e)),t&&(2<=t&&(i.style.fontWeight="bold"),3===t&&(i.style.color="#ff3333")),n.insertBefore(i,n.firstChild)}catch(e){}return!0},this._debug=function(){var e,t;for(tt("currentObj",1),e=0,t=q.soundIDs.length;e<t;e++)q.sounds[q.soundIDs[e]]._debug()},this.reboot=function(){var e,t;for(q._wD("soundManager.reboot()"),q.soundIDs.length&&q._wD("Destroying "+q.soundIDs.length+" SMSound objects..."),e=q.soundIDs.length-1;0<=e;e--)q.sounds[q.soundIDs[e]].destruct();if(J)try{ge&&(re=J.innerHTML),se=J.parentNode.removeChild(J),q._wD("Flash movie removed.")}catch(e){tt("badRemove",2)}for(e in re=se=fe=null,q.enabled=S=te=le=ue=Z=ee=oe=q.swfLoaded=!1,q.soundIDs=[],q.sounds={},J=null,z)if(z.hasOwnProperty(e))for(t=z[e].length-1;0<=t;t--)z[e][t].fired=!1;q._wD("soundManager: Rebooting..."),K.setTimeout(q.beginDelayedInit,20)},this.getMoviePercent=function(){return J&&"PercentLoaded"in J?J.PercentLoaded():null},this.beginDelayedInit=function(){ne=!0,M(),setTimeout(function(){return!ue&&(D(),w(),ue=!0)},20),p()},this.destruct=function(){q._wD("soundManager.destruct()"),q.disable(!0)},a=function(e){var i,a,s,t,o,r,l,n,u,d=this,c=!1,f=[],h=0,p=null,m=i=null;this.sID=this.id=e.id,this.url=e.url,this._iO=this.instanceOptions=this.options=y(e),this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,this.id3={},this._debug=function(){if(q.debugMode){var e,t,o=null,n=[];for(o in d.options)null!==d.options[o]&&("function"==typeof d.options[o]?(t=(e=(e=d.options[o].toString()).replace(/\s\s+/g," ")).indexOf("{"),n.push(" "+o+": {"+e.substr(t+1,Math.min(Math.max(e.indexOf("\n")-1,64),64)).replace(/\n/g,"")+"... }")):n.push(" "+o+": "+d.options[o]));q._wD("SMSound() merged options: {\n"+n.join(", \n")+"\n}")}},this._debug(),this.load=function(e){if(void 0!==e?d._iO=y(e,d.options):(e=d.options,d._iO=e,p&&p!==d.url&&(tt("manURL"),d._iO.url=d.url,d.url=null)),d._iO.url||(d._iO.url=d.url),d._iO.url=C(d._iO.url),e=d.instanceOptions=d._iO,q._wD("SMSound.load(): "+e.url,1),e.url===d.url&&0!==d.readyState&&2!==d.readyState)return tt("onURL",1),3===d.readyState&&e.onload&&e.onload.apply(d,[!!d.duration]),d;if(d.loaded=!1,d.readyState=1,d.playState=0,d.id3={},Je(e))d._setup_html5(e)._called_load?q._wD(Q+"ignoring request to load again: "+d.id):(q._wD(Q+"load: "+d.id),d._html5_canplay=!1,d.url!==e.url&&(q._wD(tt("manURL")+": "+e.url),d._a.src=e.url,d.setPosition(0)),d._a.autobuffer="auto",d._a.preload="auto",d._a._called_load=!0,e.autoPlay&&d.play());else try{d.isHTML5=!1,d._iO=ze(Ge(e)),e=d._iO,8===g?J._load(d.id,e.url,e.stream,e.autoPlay,e.usePolicyFile):J._load(d.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(e){tt("smError",2),_("onload",!1),L({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}return d.url=e.url,d},this.unload=function(){return 0!==d.readyState&&(q._wD('SMSound.unload(): "'+d.id+'"'),d.isHTML5?(o(),d._a&&(d._a.pause(),Qe(d._a,"about:blank"),p="about:blank")):8===g?J._unload(d.id,"about:blank"):J._unload(d.id),a()),d},this.destruct=function(e){q._wD('SMSound.destruct(): "'+d.id+'"'),d.isHTML5?(o(),d._a&&(d._a.pause(),Qe(d._a),pe||t(),d._a._s=null,d._a=null)):(d._iO.onfailure=null,J._destroySound(d.id)),e||q.destroySound(d.id,!0)},this.start=this.play=function(e,t){var o,n=!0;if(n=null,t=void 0===t||t,e=e||{},d.url&&(d._iO.url=d.url),d._iO=y(d._iO,d.options),d._iO=y(e,d._iO),d._iO.url=C(d._iO.url),d.instanceOptions=d._iO,d._iO.serverURL&&!d.connected)return d.getAutoPlay()||(q._wD("SMSound.play():  Netstream not connected yet - setting autoPlay"),d.setAutoPlay(!0)),d;if(Je(d._iO)&&(d._setup_html5(d._iO),r()),1!==d.playState||d.paused||((o=d._iO.multiShot)?q._wD('SMSound.play(): "'+d.id+'" already playing (multi-shot)',1):(q._wD('SMSound.play(): "'+d.id+'" already playing (one-shot)',1),n=d)),null!==n)return n;if(e.url&&e.url!==d.url&&d.load(d._iO),d.loaded?q._wD('SMSound.play(): "'+d.id+'"'):0===d.readyState?(q._wD('SMSound.play(): Attempting to load "'+d.id+'"',1),d.isHTML5||(d._iO.autoPlay=!0),d.load(d._iO),d.instanceOptions=d._iO):2===d.readyState?(q._wD('SMSound.play(): Could not load "'+d.id+'" - exiting',2),n=d):q._wD('SMSound.play(): "'+d.id+'" is loading - attempting to play..',1),null!==n)return n;if(!d.isHTML5&&9===g&&0<d.position&&d.position===d.duration&&(q._wD('SMSound.play(): "'+d.id+'": Sound at end, resetting to position:0'),e.position=0),d.paused&&0<=d.position&&(!d._iO.serverURL||0<d.position))q._wD('SMSound.play(): "'+d.id+'" is resuming from paused state',1),d.resume();else{if(d._iO=y(e,d._iO),null!==d._iO.from&&null!==d._iO.to&&0===d.instanceCount&&0===d.playState&&!d._iO.serverURL){if(o=function(){d._iO=y(e,d._iO),d.play(d._iO)},d.isHTML5&&!d._html5_canplay?(q._wD('SMSound.play(): Beginning load of "'+d.id+'" for from/to case'),d.load({oncanplay:o}),n=!1):d.isHTML5||d.loaded||d.readyState&&2===d.readyState||(q._wD('SMSound.play(): Preloading "'+d.id+'" for from/to case'),d.load({onload:o}),n=!1),null!==n)return n;d._iO=u()}q._wD('SMSound.play(): "'+d.id+'" is starting to play'),(!d.instanceCount||d._iO.multiShotEvents||!d.isHTML5&&8<g&&!d.getAutoPlay())&&d.instanceCount++,d._iO.onposition&&0===d.playState&&l(d),d.playState=1,d.paused=!1,d.position=void 0===d._iO.position||isNaN(d._iO.position)?0:d._iO.position,d.isHTML5||(d._iO=ze(Ge(d._iO))),d._iO.onplay&&t&&(d._iO.onplay.apply(d),c=!0),d.setVolume(d._iO.volume,!0),d.setPan(d._iO.pan,!0),d.isHTML5?(r(),n=d._setup_html5(),d.setPosition(d._iO.position),n.play()):(n=J._start(d.id,d._iO.loops||1,9===g?d._iO.position:d._iO.position/1e3,d._iO.multiShot),9!==g||n||(q._wD("SMSound.play(): "+d.id+": No sound hardware, or 32-sound ceiling hit"),d._iO.onplayerror&&d._iO.onplayerror.apply(d)))}return d},this.stop=function(e){var t=d._iO;return 1===d.playState&&(d._onbufferchange(0),d._resetOnPosition(0),d.paused=!1,d.isHTML5||(d.playState=0),n(),t.to&&d.clearOnPosition(t.to),d.isHTML5?d._a&&(e=d.position,d.setPosition(0),d.position=e,d._a.pause(),d.playState=0,d._onTimer(),o()):(J._stop(d.id,e),t.serverURL&&d.unload()),d.instanceCount=0,d._iO={},t.onstop&&t.onstop.apply(d)),d},this.setAutoPlay=function(e){q._wD("sound "+d.id+" turned autoplay "+(e?"on":"off")),d._iO.autoPlay=e,d.isHTML5||(J._setAutoPlay(d.id,e),e&&!d.instanceCount&&1===d.readyState&&(d.instanceCount++,q._wD("sound "+d.id+" incremented instance count to "+d.instanceCount)))},this.getAutoPlay=function(){return d._iO.autoPlay},this.setPosition=function(t){void 0===t&&(t=0);var e=d.isHTML5?Math.max(t,0):Math.min(d.duration||d._iO.duration,Math.max(t,0));if(d.position=e,t=d.position/1e3,d._resetOnPosition(d.position),d._iO.position=e,d.isHTML5){if(d._a)if(d._html5_canplay){if(d._a.currentTime!==t){q._wD("setPosition("+t+"): setting position");try{d._a.currentTime=t,0!==d.playState&&!d.paused||d._a.pause()}catch(e){q._wD("setPosition("+t+"): setting position failed: "+e.message,2)}}}else q._wD("setPosition("+t+"): delaying, sound not ready")}else t=9===g?d.position:t,d.readyState&&2!==d.readyState&&J._setPosition(d.id,t,d.paused||!d.playState,d._iO.multiShot);return d.isHTML5&&d.paused&&d._onTimer(!0),d},this.pause=function(e){return d.paused||0===d.playState&&1!==d.readyState||(q._wD("SMSound.pause()"),d.paused=!0,d.isHTML5?(d._setup_html5().pause(),o()):!e&&void 0!==e||J._pause(d.id,d._iO.multiShot),d._iO.onpause&&d._iO.onpause.apply(d)),d},this.resume=function(){var e=d._iO;return d.paused&&(q._wD("SMSound.resume()"),d.paused=!1,d.playState=1,d.isHTML5?(d._setup_html5().play(),r()):(e.isMovieStar&&!e.serverURL&&d.setPosition(d.position),J._pause(d.id,e.multiShot)),!c&&e.onplay?(e.onplay.apply(d),c=!0):e.onresume&&e.onresume.apply(d)),d},this.togglePause=function(){return q._wD("SMSound.togglePause()"),0===d.playState?d.play({position:9!==g||d.isHTML5?d.position/1e3:d.position}):d.paused?d.resume():d.pause(),d},this.setPan=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=!1),d.isHTML5||J._setPan(d.id,e),d._iO.pan=e,t||(d.pan=e,d.options.pan=e),d},this.setVolume=function(e,t){return void 0===e&&(e=100),void 0===t&&(t=!1),d.isHTML5?d._a&&(d._a.volume=Math.max(0,Math.min(1,e/100))):J._setVolume(d.id,q.muted&&!d.muted||d.muted?0:e),d._iO.volume=e,t||(d.volume=e,d.options.volume=e),d},this.mute=function(){return d.muted=!0,d.isHTML5?d._a&&(d._a.muted=!0):J._setVolume(d.id,0),d},this.unmute=function(){d.muted=!1;var e=void 0!==d._iO.volume;return d.isHTML5?d._a&&(d._a.muted=!1):J._setVolume(d.id,e?d._iO.volume:d.options.volume),d},this.toggleMute=function(){return d.muted?d.unmute():d.mute()},this.onposition=this.onPosition=function(e,t,o){return f.push({position:parseInt(e,10),method:t,scope:void 0!==o?o:d,fired:!1}),d},this.clearOnPosition=function(e,t){var o,e=parseInt(e,10);if(isNaN(e))return!1;for(o=0;o<f.length;o++)e!==f[o].position||t&&t!==f[o].method||(f[o].fired&&h--,f.splice(o,1))},this._processOnPosition=function(){var e,t=f.length;if(!t||!d.playState||t<=h)return!1;for(--t;0<=t;t--)!(e=f[t]).fired&&d.position>=e.position&&(e.fired=!0,h++,e.method.apply(e.scope,[e.position]));return!0},this._resetOnPosition=function(e){var t,o=f.length;if(!o)return!1;for(--o;0<=o;o--)(t=f[o]).fired&&e<=t.position&&(t.fired=!1,h--);return!0},u=function(){function e(){q._wD(d.id+': playing "from" '+o),null===n||isNaN(n)||d.onPosition(n,i)}var t=d._iO,o=t.from,n=t.to,i=function(){q._wD(d.id+': "to" time of '+n+" reached."),d.clearOnPosition(n,i),d.stop()};return null===o||isNaN(o)||(t.position=o,t.multiShot=!1,e()),t},l=function(){var e,t=d._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&d.onPosition(parseInt(e,10),t[e])},n=function(){var e,t=d._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&d.clearOnPosition(parseInt(e,10))},r=function(){d.isHTML5&&I(d)},o=function(){d.isHTML5&&H(d)},(a=function(e){e||(f=[],h=0),c=!1,d._hasTimer=null,d._a=null,d._html5_canplay=!1,d.bytesLoaded=null,d.bytesTotal=null,d.duration=d._iO&&d._iO.duration?d._iO.duration:null,d.durationEstimate=null,d.buffered=[],d.eqData=[],d.eqData.left=[],d.eqData.right=[],d.failures=0,d.isBuffering=!1,d.instanceOptions={},d.instanceCount=0,d.loaded=!1,d.metadata={},d.readyState=0,d.muted=!1,d.paused=!1,d.peakData={left:0,right:0},d.waveformData={left:[],right:[]},d.playState=0,d.position=null,d.id3={}})(),this._onTimer=function(e){var t,o=!1,n={};if(d._hasTimer||e)return d._a&&(e||(0<d.playState||1===d.readyState)&&!d.paused)&&((t=d._get_html5_duration())!==i&&(i=t,d.duration=t,o=!0),d.durationEstimate=d.duration,(t=1e3*d._a.currentTime||0)!==m&&(m=t,o=!0),(o||e)&&d._whileplaying(t,n,n,n,n)),o},this._get_html5_duration=function(){var e=d._iO;return(e=d._a&&d._a.duration?1e3*d._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&1/0!==e?e:null},this._apply_loop=function(e,t){!e.loop&&1<t&&q._wD("Note: Native HTML5 looping is infinite."),e.loop=1<t?"loop":""},this._setup_html5=function(e){var t,e=y(d._iO,e),o=decodeURI,n=pe?V:d._a,i=o(e.url);if(pe?i===N&&(t=!0):i===p&&(t=!0),n){if(n._s)if(pe)n._s&&n._s.playState&&!t&&n._s.stop();else if(!pe&&i===o(p))return d._apply_loop(n,e.loops),n;t||(a(!1),n.src=e.url,N=p=d.url=e.url,n._called_load=!1)}else tt("h5a"),d._a=e.autoLoad||e.autoPlay?new Audio(e.url):ve&&opera.version()<10?new Audio(null):new Audio,(n=d._a)._called_load=!1,pe&&(V=n);return d.isHTML5=!0,(d._a=n)._s=d,s(),d._apply_loop(n,e.loops),e.autoLoad||e.autoPlay?d.load():(n.autobuffer=!1,n.preload="auto"),n},s=function(){if(d._a._added_events)return!1;var e;for(e in d._a._added_events=!0,Ve)Ve.hasOwnProperty(e)&&d._a&&d._a.addEventListener(e,Ve[e],!1);return!0},t=function(){var e;for(e in q._wD(Q+"removing event listeners: "+d.id),d._a._added_events=!1,Ve)Ve.hasOwnProperty(e)&&d._a&&d._a.removeEventListener(e,Ve[e],!1)},this._onload=function(e){return e=!!e||!d.isHTML5&&8===g&&d.duration,q._wD('SMSound._onload(): "'+d.id+'"'+(e?" loaded.":" failed to load? - "+d.url),e?1:2),e||d.isHTML5||(!0===q.sandbox.noRemote&&q._wD("SMSound._onload(): "+Xe("noNet"),1),!0===q.sandbox.noLocal&&q._wD("SMSound._onload(): "+Xe("noLocal"),1)),d.loaded=e,d.readyState=e?3:2,d._onbufferchange(0),d._iO.onload&&d._iO.onload.apply(d,[e]),!0},this._onbufferchange=function(e){return!(0===d.playState||e&&d.isBuffering||!e&&!d.isBuffering)&&(d.isBuffering=1===e,d._iO.onbufferchange&&(q._wD("SMSound._onbufferchange(): "+e),d._iO.onbufferchange.apply(d)),!0)},this._onsuspend=function(){return d._iO.onsuspend&&(q._wD("SMSound._onsuspend()"),d._iO.onsuspend.apply(d)),!0},this._onfailure=function(e,t,o){d.failures++,q._wD('SMSound._onfailure(): "'+d.id+'" count '+d.failures),d._iO.onfailure&&1===d.failures?d._iO.onfailure(d,e,t,o):q._wD("SMSound._onfailure(): ignoring")},this._onfinish=function(){var e=d._iO.onfinish;d._onbufferchange(0),d._resetOnPosition(0),d.instanceCount&&(d.instanceCount--,d.instanceCount||(n(),d.playState=0,d.paused=!1,d.instanceCount=0,d.instanceOptions={},d._iO={},o(),d.isHTML5&&(d.position=0)),(!d.instanceCount||d._iO.multiShotEvents)&&e)&&(q._wD('SMSound._onfinish(): "'+d.id+'"'),e.apply(d))},this._whileloading=function(e,t,o,n){var i=d._iO;d.bytesLoaded=e,d.bytesTotal=t,d.duration=Math.floor(o),d.bufferLength=n,d.durationEstimate=d.isHTML5||i.isMovieStar?d.duration:i.duration?d.duration>i.duration?d.duration:i.duration:parseInt(d.bytesTotal/d.bytesLoaded*d.duration,10),d.isHTML5||(d.buffered=[{start:0,end:d.duration}]),(3!==d.readyState||d.isHTML5)&&i.whileloading&&i.whileloading.apply(d)},this._whileplaying=function(e,t,o,n,i){var a=d._iO;return!isNaN(e)&&null!==e&&(d.position=Math.max(0,e),d._processOnPosition(),!d.isHTML5&&8<g&&(a.usePeakData&&void 0!==t&&t&&(d.peakData={left:t.leftPeak,right:t.rightPeak}),a.useWaveformData&&void 0!==o&&o&&(d.waveformData={left:o.split(","),right:n.split(",")}),a.useEQData&&void 0!==i&&i&&i.leftEQ&&(e=i.leftEQ.split(","),d.eqData=e,d.eqData.left=e,void 0!==i.rightEQ&&i.rightEQ&&(d.eqData.right=i.rightEQ.split(",")))),1===d.playState&&(d.isHTML5||8!==g||d.position||!d.isBuffering||d._onbufferchange(0),a.whileplaying&&a.whileplaying.apply(d)),!0)},this._oncaptiondata=function(e){q._wD('SMSound._oncaptiondata(): "'+this.id+'" caption data received.'),d.captiondata=e,d._iO.oncaptiondata&&d._iO.oncaptiondata.apply(d,[e])},this._onmetadata=function(e,t){q._wD('SMSound._onmetadata(): "'+this.id+'" metadata received.');for(var o={},n=0,i=e.length;n<i;n++)o[e[n]]=t[n];d.metadata=o,d._iO.onmetadata&&d._iO.onmetadata.apply(d)},this._onid3=function(e,t){q._wD('SMSound._onid3(): "'+this.id+'" ID3 data received.');for(var o=[],n=0,i=e.length;n<i;n++)o[e[n]]=t[n];d.id3=y(d.id3,o),d._iO.onid3&&d._iO.onid3.apply(d)},this._onconnect=function(e){e=1===e,q._wD('SMSound._onconnect(): "'+d.id+'"'+(e?" connected.":" failed to connect? - "+d.url),e?1:2),(d.connected=e)&&(d.failures=0,et(d.id)&&(d.getAutoPlay()?d.play(void 0,d.getAutoPlay()):d._iO.autoLoad&&d.load()),d._iO.onconnect&&d._iO.onconnect.apply(d,[e]))},this._ondataerror=function(e){0<d.playState&&(q._wD("SMSound._ondataerror(): "+e),d._iO.ondataerror&&d._iO.ondataerror.apply(d))}},O=function(){return G.body||G._docElement||G.getElementsByTagName("div")[0]},f=function(e){return G.getElementById(e)},y=function(e,t){var o,n=e||{},i=void 0===t?q.defaultOptions:t;for(o in i)i.hasOwnProperty(o)&&void 0===n[o]&&(n[o]="object"!=typeof i[o]||null===i[o]?i[o]:y(n[o],i[o]));return n},l={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},r=function(e,t){var o,n=!0,i=void 0!==t,a=q.setupOptions;if(void 0===e){for(o in n=[],a)a.hasOwnProperty(o)&&n.push(o);for(o in l)l.hasOwnProperty(o)&&("object"==typeof q[o]?n.push(o+": {...}"):q[o]instanceof Function?n.push(o+": function() {...}"):n.push(o));return q._wD(Xe("setup",n.join(", "))),!1}for(o in e)if(e.hasOwnProperty(o))if("object"!=typeof e[o]||null===e[o]||e[o]instanceof Array)i&&void 0!==l[t]?q[t][o]=e[o]:void 0!==a[o]?(q.setupOptions[o]=e[o],q[o]=e[o]):void 0===l[o]?(Ye(Xe(void 0===q[o]?"setupUndef":"setupError",o),2),n=!1):q[o]instanceof Function?q[o].apply(q,e[o]instanceof Array?e[o]:[e[o]]):q[o]=e[o];else{if(void 0!==l[o])return r(e[o],o);Ye(Xe(void 0===q[o]?"setupUndef":"setupError",o),2),n=!1}return n};function Ee(e){var t=(e=he.call(e)).length;return Be?(e[1]="on"+e[1],3<t&&e.pop()):3===t&&e.push(!1),e}function Ce(e,t){var o=e.shift(),n=[je[t]];Be?o[n](e[0],e[1]):o[n].apply(o,e)}function ke(){function e(e){var t,o,n=t=!1;if(!i||"function"!=typeof i.canPlayType)return t;if(e instanceof Array){for(t=0,o=e.length;t<o;t++)(q.html5[e[t]]||i.canPlayType(e[t]).match(q.html5Test))&&(n=!0,q.html5[e[t]]=!0,q.flash[e[t]]=!!e[t].match(Le));t=n}else t=!(!(e=!(!i||"function"!=typeof i.canPlayType)&&i.canPlayType(e))||!e.match(q.html5Test));return t}if(!q.useHTML5Audio||!q.hasHTML5)return!1;var t,o,i=void 0!==Audio?ve&&opera.version()<10?new Audio(null):new Audio:null,n={},a=q.audioFormats;for(t in a)if(a.hasOwnProperty(t)&&(o="audio/"+t,n[t]=e(a[t].type),n[o]=n[t],t.match(Le)?(q.flash[t]=!0,q.flash[o]=!0):(q.flash[t]=!1,q.flash[o]=!1),a[t]&&a[t].related))for(o=a[t].related.length-1;0<=o;o--)n["audio/"+a[t].related[o]]=n[t],q.html5[a[t].related[o]]=n[t],q.flash[a[t].related[o]]=n[t];return n.canPlayType=i?e:null,q.html5=y(q.html5,n),!0}function Ae(){return!1}function xe(e){void 0===e&&(e=!1),(oe||e)&&(tt("smFail",2),q.disable(e))}function Ne(e){if(e)if(e.match(/\.swf(\?.*)?$/i)){if(e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+q.movieURL,q.noSWFCache&&(e+="?ts="+(new Date).getTime()),e}function Re(){8!==(g=parseInt(q.flashVersion,10))&&9!==g&&(q._wD(Xe("badFV",g,8)),q.flashVersion=g=8);var e=q.debugMode||q.debugFlash?"_debug.swf":".swf";q.useHTML5Audio&&!q.html5Only&&q.audioFormats.mp4.required&&g<9&&(q._wD(Xe("needfl9")),q.flashVersion=g=9),q.version=q.versionNumber+(q.html5Only?" (HTML5-only mode)":9===g?" (AS3/Flash 9)":" (AS2/Flash 8)"),8<g?(q.defaultOptions=y(q.defaultOptions,q.flash9Options),q.features.buffering=!0,q.defaultOptions=y(q.defaultOptions,q.movieStarOptions),q.filePatterns.flash9=RegExp("\\.(mp3|"+Ie.join("|")+")(\\?.*)?$","i"),q.features.movieStar=!0):q.features.movieStar=!1,q.filePattern=q.filePatterns[8!==g?"flash9":"flash8"],q.movieURL=(8===g?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),q.features.peakData=q.features.waveformData=q.features.eqData=8<g}function Ue(e,t){if(!J)return!1;J._setPolling(e,t)}function We(){if(q.debugURLParam.test(X)&&(q.debugMode=!0),f(q.debugID))return!1;var e,t,o,n;if(q.debugMode&&!f(q.debugID)&&(!be||!q.useConsole||!q.consoleOnly)){for(n in(e=G.createElement("div")).id=q.debugID+"-toggle",t={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(G.createTextNode("-")),e.onclick=F,e.title="Toggle SM2 debug console",$.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand"),t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);if((t=G.createElement("div")).id=q.debugID,t.style.display=q.debugMode?"block":"none",q.debugMode&&!f(e.id)){try{(o=O()).appendChild(e)}catch(e){throw Error(Xe("domError")+" \n"+e.toString())}o.appendChild(t)}}}var Be=K.attachEvent,je={add:Be?"attachEvent":"addEventListener",remove:Be?"detachEvent":"removeEventListener"},qe={add:function(){Ce(Ee(arguments),"add")},remove:function(){Ce(Ee(arguments),"remove")}},Ve={abort:o(function(){q._wD(Q+"abort: "+this._s.id)}),canplay:o(function(){var t,e=this._s;if(e._html5_canplay)return!0;if(e._html5_canplay=!0,q._wD(Q+"canplay: "+e.id+", "+e.url),e._onbufferchange(0),t=void 0===e._iO.position||isNaN(e._iO.position)?null:e._iO.position/1e3,e.position&&this.currentTime!==t){q._wD(Q+"canplay: setting position to "+t);try{this.currentTime=t}catch(e){q._wD(Q+"setting position of "+t+" failed: "+e.message,2)}}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:o(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:o(function(){var e=this._s;q._wD(Q+"ended: "+e.id),e._onfinish()}),error:o(function(){q._wD(Q+"error: "+this.error.code),this._s._onload(!1)}),loadeddata:o(function(){var e=this._s;q._wD(Q+"loadeddata: "+e.id),e._loaded||ye||(e.duration=e._get_html5_duration())}),loadedmetadata:o(function(){q._wD(Q+"loadedmetadata: "+this._s.id)}),loadstart:o(function(){q._wD(Q+"loadstart: "+this._s.id),this._s._onbufferchange(1)}),play:o(function(){q._wD(Q+"play: "+this._s.id+", "+this._s.url),this._s._onbufferchange(0)}),playing:o(function(){q._wD(Q+"playing: "+this._s.id),this._s._onbufferchange(0)}),progress:o(function(e){var t,o,n=this._s,i=0,a="progress"===e.type,s=e.target.buffered,r=e.loaded||0,l=e.total||1;if(n.buffered=[],s&&s.length){for(i=0,t=s.length;i<t;i++)n.buffered.push({start:1e3*s.start(i),end:1e3*s.end(i)});if(r=(i=1e3*(s.end(0)-s.start(0)))/(1e3*e.target.duration),a&&1<s.length){for(o=[],t=s.length,i=0;i<t;i++)o.push(1e3*e.target.buffered.start(i)+"-"+1e3*e.target.buffered.end(i));q._wD(Q+"progress: timeRanges: "+o.join(", "))}a&&!isNaN(r)&&q._wD(Q+"progress: "+n.id+": "+Math.floor(100*r)+"% loaded")}isNaN(r)||(n._onbufferchange(0),n._whileloading(r,l,n._get_html5_duration()),r&&l&&r===l&&Ve.canplaythrough.call(this,e))}),ratechange:o(function(){q._wD(Q+"ratechange: "+this._s.id)}),suspend:o(function(e){var t=this._s;q._wD(Q+"suspend: "+t.id),Ve.progress.call(this,e),t._onsuspend()}),stalled:o(function(){q._wD(Q+"stalled: "+this._s.id)}),timeupdate:o(function(){this._s._onTimer()}),waiting:o(function(){var e=this._s;q._wD(Q+"waiting: "+e.id),e._onbufferchange(1)})},Je=function(e){return!(e.serverURL||e.type&&i(e.type))&&(e.type?$e({type:e.type}):$e({url:e.url})||q.html5Only)},Qe=function(e,t){e&&(e.src=t)},$e=function(e){if(!q.useHTML5Audio||!q.hasHTML5)return!1;var t,o=e.url||null,e=e.type||null,n=q.audioFormats;if(e&&void 0!==q.html5[e])return q.html5[e]&&!i(e);if(!A){for(t in A=[],n)n.hasOwnProperty(t)&&(A.push(t),n[t].related&&(A=A.concat(n[t].related)));A=RegExp("\\.("+A.join("|")+")(\\?.*)?$","i")}return(t=o?o.toLowerCase().match(A):null)&&t.length?t=t[1]:e&&(t=(-1!==(o=e.indexOf(";"))?e.substr(0,o):e).substr(6)),o=t&&void 0!==q.html5[t]?q.html5[t]&&!i(t):(e="audio/"+t,o=q.html5.canPlayType({type:e}),(q.html5[t]=o)&&q.html5[e]&&!i(e))},Ke={notReady:"Not loaded yet - wait for soundManager.onready()",notOK:"Audio support is not available.",domError:"soundManager::createMovie(): appendChild/innerHTML call failed. DOM not ready or other error.",spcWmode:"soundManager::createMovie(): Removing wmode, preventing known SWF loading issue(s)",swf404:"soundManager: Verify that %s is a valid path.",tryDebug:"Try soundManager.debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:"soundManager: Non-HTTP page ("+G.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:"soundManager: Special case: Waiting for SWF to load with window focus...",waitImpatient:"soundManager: Getting impatient, still waiting for Flash%s...",waitForever:"soundManager: Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:"soundManager: Retrying, waiting for 100% SWF load...",needFunction:"soundManager: Function object expected for %s",badID:'Warning: Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:"--- soundManager._debug(): Current sound objects ---",waitEI:"soundManager::initMovie(): Waiting for ExternalInterface call from Flash...",waitOnload:"soundManager: Waiting for window.onload()",docLoaded:"soundManager: Document already loaded",onload:"soundManager::initComplete(): calling soundManager.onload()",onloadOK:"soundManager.onload() complete",init:"soundManager::init()",didInit:"soundManager::init(): Already called?",flashJS:"soundManager: Attempting JS to Flash call...",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:"Warning: Failed to remove flash movie.",shutdown:"soundManager.disable(): Shutting down",queue:"soundManager: Queueing %s handler",smFail:"soundManager: Failed to initialise.",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying .swf_timedout CSS...",fbLoaded:"Flash loaded",fbHandler:"soundManager::flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:"soundManager.load(): current URL already assigned.",badFV:'soundManager.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:"soundManager: Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:"soundManager: Got window focus.",mfOn:"mobileFlash::enabling on-screen flash repositioning",policy:"Enabling usePolicyFile for data access",setup:"soundManager.setup(): allowed parameters: %s",setupError:'soundManager.setup(): "%s" cannot be assigned with this method.',setupUndef:'soundManager.setup(): Could not find option "%s"',setupLate:"soundManager.setup(): url + flashVersion changes will not take effect until reboot().",h5a:"creating HTML5 Audio() object",noURL:"soundManager: Flash URL required. Call soundManager.setup({url:...}) to get started."},Xe=function(){var e,t,o=he.call(arguments),n=o.shift();if((n=Ke[n]?Ke[n]:"")&&o&&o.length)for(e=0,t=o.length;e<t;e++)n=n.replace("%s",o[e]);return n},Ge=function(e){return 8===g&&1<e.loops&&e.stream&&(tt("as2loop"),e.stream=!1),e},ze=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(q._wD((t||"")+Xe("policy")),e.usePolicyFile=!0),e},Ye=function(e){void 0!==console&&void 0!==console.warn?console.warn(e):q._wD(e)},Ze=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=Ae)},et=this.getSoundById,tt=function(e,t){return e?q._wD(Xe(e),t):""};X.indexOf("sm2-debug=alert")+1&&q.debugMode&&(q._wD=function(e){ot.alert(e)}),F=function(){var e=f(q.debugID),t=f(q.debugID+"-toggle");if(!e)return!1;Y?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),Y=!Y},_=function(e,t,o){if(void 0!==K.sm2Debugger)try{sm2Debugger.handleEvent(e,t,o)}catch(e){}return!0},P=function(){var e=[];return q.debugMode&&e.push("sm2_debug"),q.debugFlash&&e.push("flash_debug"),q.useHighPerformance&&e.push("high_performance"),e.join(" ")},T=function(){var e=Xe("fbHandler"),t=q.getMoviePercent(),o={type:"FLASHBLOCK"};if(q.html5Only)return!1;q.ok()?(q.didFlashBlock&&q._wD(e+": Unblocked"),q.oMC&&(q.oMC.className=[P(),"movieContainer","swf_loaded"+(q.didFlashBlock?" swf_unblocked":"")].join(" "))):(fe&&(q.oMC.className=P()+" movieContainer "+(null===t?"swf_timedout":"swf_error"),q._wD(e+": "+Xe("fbTimeout")+(t?" ("+Xe("fbLoaded")+")":""))),q.didFlashBlock=!0,d({type:"ontimeout",ignoreInit:!0,error:o}),L(o))},u=function(e,t,o){void 0===z[e]&&(z[e]=[]),z[e].push({method:t,scope:o||null,fired:!1})},d=function(e){if(e=e||{type:q.ok()?"onready":"ontimeout"},!te&&e&&!e.ignoreInit||"ontimeout"===e.type&&(q.ok()||oe&&!e.ignoreInit))return!1;var t,o={success:e&&e.ignoreInit?q.ok():!oe},n=e&&e.type&&z[e.type]||[],i=[],a=[o],s=fe&&q.useFlashBlock&&!q.ok();for(e.error&&(a[0].error=e.error),o=0,t=n.length;o<t;o++)!0!==n[o].fired&&i.push(n[o]);if(i.length)for(q._wD("soundManager: Firing "+i.length+" "+e.type+"() item"+(1===i.length?"":"s")),o=0,t=i.length;o<t;o++)i[o].scope?i[o].method.apply(i[o].scope,a):i[o].method.apply(this,a),s||(i[o].fired=!0);return!0},c=function(){K.setTimeout(function(){q.useFlashBlock&&T(),d(),"function"==typeof q.onload&&(tt("onload",1),q.onload.apply(K),tt("onloadOK",1)),q.waitForWindowLoad&&qe.add(K,"load",c)},1)},U=function(){if(void 0!==R)return R;var e,t=!1,o=navigator,n=o.plugins,i=K.ActiveXObject;if(n&&n.length)(o=o.mimeTypes)&&o["application/x-shockwave-flash"]&&o["application/x-shockwave-flash"].enabledPlugin&&o["application/x-shockwave-flash"].enabledPlugin.description&&(t=!0);else if(void 0!==i&&!$.match(/MSAppHost/i)){try{e=new i("ShockwaveFlash.ShockwaveFlash")}catch(e){}t=!!e}return R=t},k=function(){var e,t,o=q.audioFormats;if(me&&$.match(/os (1|2|3_0|3_1)/i)?(q.hasHTML5=!1,q.html5Only=!0,q.oMC&&(q.oMC.style.display="none")):q.useHTML5Audio&&(q.html5&&q.html5.canPlayType||(q._wD("SoundManager: No HTML5 Audio() support detected."),q.hasHTML5=!1),Me&&q._wD("soundManager::Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(R?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),q.useHTML5Audio&&q.hasHTML5)for(t in o)o.hasOwnProperty(t)&&(o[t].required&&!q.html5.canPlayType(o[t].type)||q.preferFlash&&(q.flash[t]||q.flash[o[t].type]))&&(e=!0);return q.ignoreFlash&&(e=!1),q.html5Only=q.hasHTML5&&q.useHTML5Audio&&!e,!q.html5Only},C=function(e){var t,o,n=0;if(e instanceof Array){for(t=0,o=e.length;t<o;t++)if(e[t]instanceof Object){if(q.canPlayMIME(e[t].type)){n=t;break}}else if(q.canPlayURL(e[t])){n=t;break}e[n].url&&(e[n]=e[n].url),e=e[n]}return e},I=function(e){e._hasTimer||(e._hasTimer=!0,!we&&q.html5PollingInterval&&(null===ce&&0===de&&(ce=K.setInterval(E,q.html5PollingInterval)),de++))},H=function(e){e._hasTimer&&(e._hasTimer=!1,!we&&q.html5PollingInterval&&de--)},E=function(){var e;if(null!==ce&&!de)return K.clearInterval(ce),ce=null,!1;for(e=q.soundIDs.length-1;0<=e;e--)q.sounds[q.soundIDs[e]].isHTML5&&q.sounds[q.soundIDs[e]]._hasTimer&&q.sounds[q.soundIDs[e]]._onTimer()},L=function(e){e=void 0!==e?e:{},"function"==typeof q.onerror&&q.onerror.apply(K,[{type:void 0!==e.type?e.type:null}]),void 0!==e.fatal&&e.fatal&&q.disable()},W=function(){if(!Me||!U())return!1;var e,t,o=q.audioFormats;for(t in o)if(o.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(q._wD("soundManager: Using flash fallback for "+t+" format"),q.html5[t]=!1,o[t]&&o[t].related))for(e=o[t].related.length-1;0<=e;e--)q.html5[o[t].related[e]]=!1},this._setSandboxType=function(e){var t=q.sandbox;t.type=e,t.description=t.types[void 0!==t.types[e]?e:"unknown"],q._wD("Flash security sandbox type: "+t.type),"localWithFile"===t.type?(t.noRemote=!0,t.noLocal=!1,tt("secNote",2)):"localWithNetwork"===t.type?(t.noRemote=!1,t.noLocal=!0):"localTrusted"===t.type&&(t.noRemote=!1,t.noLocal=!1)},this._externalInterfaceOK=function(e,t){if(q.swfLoaded)return!1;var o,n=(new Date).getTime();if(q._wD("soundManager::externalInterfaceOK()"+(e?" (~"+(n-e)+" ms)":"")),_("swf",!0),_("flashtojs",!0),q.swfLoaded=!0,Oe=!1,Me&&W(),!t||t.replace(/\+dev/i,"")!==q.versionNumber.replace(/\+dev/i,""))return o='soundManager: Fatal: JavaScript file build "'+q.versionNumber+'" does not match Flash SWF build "'+t+'" at '+q.url+". Ensure both are up-to-date.",setTimeout(function(){throw Error(o)},0),!1;setTimeout(h,ge?100:1)},D=function(e,t){function o(){q._wD("-- SoundManager 2 "+q.version+(!q.html5Only&&q.useHTML5Audio?q.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"")+(q.html5Only?"":(q.useHighPerformance?", high performance mode, ":", ")+(q.flashPollingInterval?"custom ("+q.flashPollingInterval+"ms)":"normal")+" polling"+(q.wmode?", wmode: "+q.wmode:"")+(q.debugFlash?", flash debug mode":"")+(q.useFlashBlock?", flashBlock mode":""))+" --",1)}function n(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(Z&&ee)return!1;if(q.html5Only)return Re(),o(),q.oMC=f(q.movieID),h(),ee=Z=!0,!1;var i,a,s,r=t||q.url,l=q.altURL||r,u=O(),d=P(),c=null,c=(c=G.getElementsByTagName("html")[0])&&c.dir&&c.dir.match(/rtl/i),e=void 0===e?q.id:e;if(Re(),q.url=Ne(Te?r:l),t=q.url,q.wmode=!q.wmode&&q.useHighPerformance?"transparent":q.wmode,null!==q.wmode&&($.match(/msie 8/i)||!ge&&!q.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(tt("spcWmode"),q.wmode=null),u={name:e,id:e,src:t,quality:"high",allowScriptAccess:q.allowScriptAccess,bgcolor:q.bgColor,pluginspage:Pe+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:q.wmode,hasPriority:"true"},q.debugFlash&&(u.FlashVars="debug=1"),q.wmode||delete u.wmode,ge)r=G.createElement("div"),a=['<object id="'+e+'" data="'+t+'" type="'+u.type+'" title="'+u.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+Pe+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',n("movie",t),n("AllowScriptAccess",q.allowScriptAccess),n("quality",u.quality),q.wmode?n("wmode",q.wmode):"",n("bgcolor",q.bgColor),n("hasPriority","true"),q.debugFlash?n("FlashVars",u.FlashVars):"","</object>"].join("");else for(i in r=G.createElement("embed"),u)u.hasOwnProperty(i)&&r.setAttribute(i,u[i]);if(We(),d=P(),u=O())if(q.oMC=f(q.movieID)||G.createElement("div"),q.oMC.id)s=q.oMC.className,q.oMC.className=(s?s+" ":"movieContainer")+(d?" "+d:""),q.oMC.appendChild(r),ge&&((i=q.oMC.appendChild(G.createElement("div"))).className="sm2-object-box",i.innerHTML=a),ee=!0;else{if(q.oMC.id=q.movieID,q.oMC.className="movieContainer "+d,i=d=null,q.useFlashBlock||(q.useHighPerformance?d={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(d={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},c&&(d.left=Math.abs(parseInt(d.left,10))+"px"))),_e&&(q.oMC.style.zIndex=1e4),!q.debugFlash)for(s in d)d.hasOwnProperty(s)&&(q.oMC.style[s]=d[s]);try{ge||q.oMC.appendChild(r),u.appendChild(q.oMC),ge&&((i=q.oMC.appendChild(G.createElement("div"))).className="sm2-object-box",i.innerHTML=a),ee=!0}catch(e){throw Error(Xe("domError")+" \n"+e.toString())}}return Z=!0,o(),q._wD("soundManager::createMovie(): Trying to load "+t+(!Te&&q.altURL?" (alternate URL)":""),1),!0},w=function(){return q.html5Only?(D(),!1):!J&&(q.url?((J=q.getMovie(q.id))||(se?(ge?q.oMC.innerHTML=re:q.oMC.appendChild(se),Z=!(se=null)):D(q.id,q.url),J=q.getMovie(q.id)),J&&tt("waitEI"),"function"==typeof q.oninitmovie&&setTimeout(q.oninitmovie,1),!0):(tt("noURL"),!1))},p=function(){setTimeout(m,1e3)},m=function(){var e,t=!1;return!(!q.url||le)&&(le=!0,qe.remove(K,"load",p),Oe&&!Se?(tt("waitFocus"),!1):(te||(e=q.getMoviePercent(),q._wD(Xe("waitImpatient",0<e?" (SWF "+e+"% loaded)":"")),0<e&&e<100&&(t=!0)),void setTimeout(function(){if(e=q.getMoviePercent(),t)return le=!1,q._wD(Xe("waitSWF")),K.setTimeout(p,1),!1;te||(q._wD("soundManager: No Flash response within expected time.\nLikely causes: "+(0===e?"Loading "+q.movieURL+" may have failed (and/or Flash "+g+"+ not present?), ":"")+"Flash blocked or JS-Flash security error."+(q.debugFlash?" "+Xe("checkSWF"):""),2),!Te&&e&&(tt("localFail",2),q.debugFlash||tt("tryDebug",2)),0===e&&q._wD(Xe("swf404",q.url)),_("flashtojs",!1," (Check flash security or flash blockers)")),!te&&De&&(null===e?q.useFlashBlock||0===q.flashLoadTimeout?(q.useFlashBlock&&T(),tt("waitForever")):xe(!0):0===q.flashLoadTimeout?tt("waitForever"):xe(!0))},q.flashLoadTimeout)))},v=function(){return Se||!Oe||(Se=De=!0,tt("gotFocus"),le=!1,p()),qe.remove(K,"focus",v),!0},B=function(){var e,t=[];if(q.useHTML5Audio&&q.hasHTML5){for(e in q.audioFormats)q.audioFormats.hasOwnProperty(e)&&t.push(e+": "+q.html5[e]+(!q.html5[e]&&R&&q.flash[e]?" (using flash)":q.preferFlash&&q.flash[e]&&R?" (preferring flash)":q.html5[e]?"":" ("+(q.audioFormats[e].required?"required, ":"")+"and no flash support)"));q._wD("-- SoundManager 2: HTML5 support tests ("+q.html5Test+"): "+t.join(", ")+" --",1)}},s=function(e){if(te)return!1;if(q.html5Only)return q._wD("-- SoundManager 2: loaded --"),te=!0,c(),_("onload",!0),!0;var t,o=!0;return q.useFlashBlock&&q.flashLoadTimeout&&!q.getMoviePercent()||(te=!0,oe&&(t={type:!R&&fe?"NO_FLASH":"INIT_TIMEOUT"})),q._wD("-- SoundManager 2 "+(oe?"failed to load":"loaded")+" ("+(oe?"Flash security/load error":"OK")+") --",1),oe||e?(q.useFlashBlock&&q.oMC&&(q.oMC.className=P()+" "+(null===q.getMoviePercent()?"swf_timedout":"swf_error")),d({type:"ontimeout",error:t,ignoreInit:!0}),_("onload",!1),L(t),o=!1):_("onload",!0),oe||(q.waitForWindowLoad&&!ne?(tt("waitOnload"),qe.add(K,"load",c)):(q.waitForWindowLoad&&ne&&tt("docLoaded"),c())),o},n=function(){var e,t=q.setupOptions;for(e in t)t.hasOwnProperty(e)&&(void 0===q[e]?q[e]=t[e]:q[e]!==t[e]&&(q.setupOptions[e]=q[e]))},h=function(){if(tt("init"),te)return tt("didInit"),!1;if(q.html5Only)return te||(qe.remove(K,"load",q.beginDelayedInit),q.enabled=!0,s()),!0;w();try{tt("flashJS"),J._externalInterfaceTest(!1),Ue(!0,q.flashPollingInterval||(q.useHighPerformance?10:50)),q.debugMode||J._disableDebug(),q.enabled=!0,_("jstoflash",!0),q.html5Only||qe.add(K,"unload",Ae)}catch(e){return q._wD("js/flash exception: "+e.toString()),_("jstoflash",!1),L({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),xe(!0),s(),!1}return s(),qe.remove(K,"load",q.beginDelayedInit),!0},M=function(){if(S)return!1;S=!0,n(),We();var e=null,e=null,t=void 0!==ot.console&&"function"==typeof console.log,o=X.toLowerCase();return-1!==o.indexOf("sm2-usehtml5audio=")&&(e="1"===o.charAt(o.indexOf("sm2-usehtml5audio=")+18),t&&console.log((e?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter"),q.setup({useHTML5Audio:e})),-1!==o.indexOf("sm2-preferflash=")&&(e="1"===o.charAt(o.indexOf("sm2-preferflash=")+16),t&&console.log((e?"Enabling ":"Disabling ")+"preferFlash via URL parameter"),q.setup({preferFlash:e})),!R&&q.hasHTML5&&(q._wD("SoundManager: No Flash detected"+(q.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5.")),q.setup({useHTML5Audio:!0,preferFlash:!1})),ke(),q.html5.usingFlash=k(),fe=q.html5.usingFlash,B(),!R&&fe&&(tt("needFlash"),q.setup({flashLoadTimeout:1})),G.removeEventListener&&G.removeEventListener("DOMContentLoaded",M,!1),w(),!0},x=function(){return"complete"===G.readyState&&(M(),G.detachEvent("onreadystatechange",x)),!0},b=function(){ne=!0,qe.remove(K,"load",b)},U(),qe.add(K,"focus",v),qe.add(K,"load",p),qe.add(K,"load",b),G.addEventListener?G.addEventListener("DOMContentLoaded",M,!1):G.attachEvent?G.attachEvent("onreadystatechange",x):(_("onload",!1),L({type:"NO_DOM2_EVENTS",fatal:!0}))}var t=null;void 0!==ot.SM2_DEFER&&SM2_DEFER||(t=new e),ot.SoundManager=e,ot.soundManager=t}(window);