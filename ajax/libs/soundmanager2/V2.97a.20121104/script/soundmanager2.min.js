!function(at){var e=null;function t(e,t){this.setupOptions={url:e||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=t||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20121104",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var r,y,o,s,v,_,g,w,n,b,l,u,i,a,d,f,c,O,h,p,m,D,M,S,L,T,P,F,I,H,E,k,A,C,x,N,R,U,B,W,j,q,V,J,Q,$,K,X,G,z,Y,Z,ee,te,oe,ne,ie,ae,se,re,le,ue=this,de=null,fe=null,ce="soundManager",he=ce+"::",pe="HTML5::",me=navigator.userAgent,_e=at,ge=_e.location.href.toString(),ye=document,ve=[],we=!0,be=!1,Oe=!1,De=!1,Me=!1,Se=!1,Le=0,Te=["log","info","warn","error"],Pe=null,Fe=null,Ie=!1,He=!1,Ee=0,ke=null,Ae=null,Ce=Array.prototype.slice,xe=!1,Ne=me.match(/(ipad|iphone|ipod)/i),Re=me.match(/msie/i),Ue=me.match(/webkit/i),Be=me.match(/safari/i)&&!me.match(/chrome/i),We=me.match(/opera/i),je=me.match(/(mobile|pre\/|xoom)/i)||Ne,qe=!ge.match(/usehtml5audio/i)&&!ge.match(/sm2\-ignorebadua/i)&&Be&&!me.match(/silk/i)&&me.match(/OS X 10_6_([3-7])/i),Ve=void 0!==at.console&&void 0!==console.log,Je=void 0!==ye.hasFocus?ye.hasFocus():null,Qe=Be&&(void 0===ye.hasFocus||!ye.hasFocus()),$e=!Qe,Ke=/(mp3|mp4|mpa|m4a|m4b)/i,Xe="about:blank",Ge=ye.location?ye.location.protocol.match(/http/i):null,ze=Ge?"":"http://",Ye=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Ze=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],et=new RegExp("\\.("+Ze.join("|")+")(\\?.*)?$","i");function tt(e){return ue.preferFlash&&oe&&!ue.ignoreFlash&&void 0!==ue.flash[e]&&ue.flash[e]}function ot(e){var t=Ce.call(e),o=t.length;return re?(t[1]="on"+t[1],3<o&&t.pop()):3===o&&t.push(!1),t}function nt(e,t){var o=e.shift(),n=[le[t]];re?o[n](e[0],e[1]):o[n].apply(o,e)}function it(n){return function(e){var t=this._s,o=t&&t._a?n.call(this,e):(t&&t.id?ue._wD(pe+"ignoring "+e.type+": "+t.id):ue._wD(pe+"ignoring "+e.type),null);return o}}this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!Ge,N={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},je&&(ue.useHTML5Audio=!0,ue.preferFlash=!1,Ne&&(ue.ignoreFlash=!0,xe=!0)),this.hasHTML5=function(){try{return void 0!==Audio&&void 0!==(We&&void 0!==opera&&opera.version()<10?new Audio(null):new Audio).canPlayType}catch(e){return!1}}(),this.setup=function(e){var t=!ue.url;return void 0!==e&&De&&Ae&&ue.ok()&&(void 0!==e.flashVersion||void 0!==e.url)&&W(A("setupLate")),l(e),t&&S&&void 0!==e.url&&ue.beginDelayedInit(),S||void 0===e.url||"complete"!==ye.readyState||setTimeout(D,1),ue},this.ok=function(){return Ae?De&&!Me:ue.useHTML5Audio&&ue.hasHTML5},this.supported=this.ok,this.getMovie=function(e){return y(e)||ye[e]||_e[e]},this.createSound=function(e,t){var o,n=null,i=ce+".createSound(): ",a=i+A(De?"notOK":"notReady");if(!De||!ue.ok())return W(a),!1;if(void 0!==t&&(e={id:e,url:t}),(o=b(e)).url=Q(o.url),o.id.toString().charAt(0).match(/^[0-9]$/)&&ue._wD(i+A("badID",o.id),2),ue._wD(i+o.id+" ("+o.url+")",1),j(o.id,!0))return ue._wD(i+o.id+" exists",1),ue.sounds[o.id];function s(){return o=U(o),ue.sounds[o.id]=new r(o),ue.soundIDs.push(o.id),ue.sounds[o.id]}return K(o)?(n=s(),ue._wD("Creating sound "+o.id+", using HTML5"),n._setup_html5(o)):(8<_&&(null===o.isMovieStar&&(o.isMovieStar=!!(o.serverURL||o.type&&o.type.match(Ye)||o.url.match(et))),o.isMovieStar&&(ue._wD(i+"using MovieStar handling"),1<o.loops&&w("noNSLoop"))),o=B(o,i),n=s(),8===_?fe._createSound(o.id,o.loops||1,o.usePolicyFile):(fe._createSound(o.id,o.url,o.usePeakData,o.useWaveformData,o.useEQData,o.isMovieStar,!!o.isMovieStar&&o.bufferTime,o.loops||1,o.serverURL,o.duration||null,o.autoPlay,!0,o.autoLoad,o.usePolicyFile),o.serverURL||(n.connected=!0,o.onconnect&&o.onconnect.apply(n))),o.serverURL||!o.autoLoad&&!o.autoPlay||n.load(o)),!o.serverURL&&o.autoPlay&&n.play(),n},this.destroySound=function(e,t){if(!j(e))return!1;var o,n=ue.sounds[e];for(n._iO={},n.stop(),n.unload(),o=0;o<ue.soundIDs.length;o++)if(ue.soundIDs[o]===e){ue.soundIDs.splice(o,1);break}return t||n.destruct(!0),n=null,delete ue.sounds[e],!0},this.load=function(e,t){return!!j(e)&&ue.sounds[e].load(t)},this.unload=function(e){return!!j(e)&&ue.sounds[e].unload()},this.onPosition=function(e,t,o,n){return!!j(e)&&ue.sounds[e].onposition(t,o,n)},this.onposition=this.onPosition,this.clearOnPosition=function(e,t,o){return!!j(e)&&ue.sounds[e].clearOnPosition(t,o)},this.play=function(e,t){var o=!1;return De&&ue.ok()?j(e)?ue.sounds[e].play(t):(t instanceof Object||(t={url:t}),t&&t.url&&(ue._wD(ce+'.play(): attempting to create "'+e+'"',1),t.id=e,o=ue.createSound(t).play()),o):(W(ce+".play(): "+A(De?"notOK":"notReady")),o)},this.start=this.play,this.setPosition=function(e,t){return!!j(e)&&ue.sounds[e].setPosition(t)},this.stop=function(e){return!!j(e)&&(ue._wD(ce+".stop("+e+")",1),ue.sounds[e].stop())},this.stopAll=function(){var e;for(e in ue._wD(ce+".stopAll()",1),ue.sounds)ue.sounds.hasOwnProperty(e)&&ue.sounds[e].stop()},this.pause=function(e){return!!j(e)&&ue.sounds[e].pause()},this.pauseAll=function(){for(var e=ue.soundIDs.length-1;0<=e;e--)ue.sounds[ue.soundIDs[e]].pause()},this.resume=function(e){return!!j(e)&&ue.sounds[e].resume()},this.resumeAll=function(){for(var e=ue.soundIDs.length-1;0<=e;e--)ue.sounds[ue.soundIDs[e]].resume()},this.togglePause=function(e){return!!j(e)&&ue.sounds[e].togglePause()},this.setPan=function(e,t){return!!j(e)&&ue.sounds[e].setPan(t)},this.setVolume=function(e,t){return!!j(e)&&ue.sounds[e].setVolume(t)},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return!!j(e)&&(ue._wD(ce+'.mute(): Muting "'+e+'"'),ue.sounds[e].mute());for(ue._wD(ce+".mute(): Muting all sounds"),t=ue.soundIDs.length-1;0<=t;t--)ue.sounds[ue.soundIDs[t]].mute();return ue.muted=!0},this.muteAll=function(){ue.mute()},this.unmute=function(e){var t;if(e instanceof String&&(e=null),e)return!!j(e)&&(ue._wD(ce+'.unmute(): Unmuting "'+e+'"'),ue.sounds[e].unmute());for(ue._wD(ce+".unmute(): Unmuting all sounds"),t=ue.soundIDs.length-1;0<=t;t--)ue.sounds[ue.soundIDs[t]].unmute();return!(ue.muted=!1)},this.unmuteAll=function(){ue.unmute()},this.toggleMute=function(e){return!!j(e)&&ue.sounds[e].toggleMute()},this.getMemoryUse=function(){var e=0;return fe&&8!==_&&(e=parseInt(fe._getMemoryUse(),10)),e},this.disable=function(e){var t;if(void 0===e&&(e=!1),Me)return!1;for(Me=!0,w("shutdown",1),t=ue.soundIDs.length-1;0<=t;t--)H(ue.sounds[ue.soundIDs[t]]);return n(e),ee.remove(_e,"load",d),!0},this.canPlayMIME=function(e){var t;return ue.hasHTML5&&(t=X({type:e})),!t&&Ae&&(t=e&&ue.ok()?!!(8<_&&e.match(Ye)||e.match(ue.mimePattern)):null),t},this.canPlayURL=function(e){var t;return ue.hasHTML5&&(t=X({url:e})),!t&&Ae&&(t=e&&ue.ok()?!!e.match(ue.filePattern):null),t},this.canPlayLink=function(e){return!(void 0===e.type||!e.type||!ue.canPlayMIME(e.type))||ue.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)throw new Error(ce+".getSoundById(): sID is null/undefined");var o=ue.sounds[e];return o||t||ue._wD('"'+e+'" is an invalid sound ID.',2),o},this.onready=function(e,t){var o="onready";if("function"!=typeof e)throw A("needFunction",o);return De&&ue._wD(A("queue",o)),i(o,e,t=t||_e),a(),!0},this.ontimeout=function(e,t){var o="ontimeout";if("function"!=typeof e)throw A("needFunction",o);return De&&ue._wD(A("queue",o)),i(o,e,t=t||_e),a({type:o}),!0},this._writeDebug=function(e,t,o){var n,i,a;if(!ue.debugMode)return!1;if(void 0!==o&&o&&(e=e+" | "+(new Date).getTime()),Ve&&ue.useConsole&&(a=Te[t],void 0!==console[a]?console[a](e):console.log(e),ue.consoleOnly))return!0;try{if(!(n=y("soundmanager-debug")))return!1;i=ye.createElement("div"),++Le%2==0&&(i.className="sm2-alt"),t=void 0===t?0:parseInt(t,10),i.appendChild(ye.createTextNode(e)),t&&(2<=t&&(i.style.fontWeight="bold"),3===t&&(i.style.color="#ff3333")),n.insertBefore(i,n.firstChild)}catch(e){}return!(n=null)},this._wD=this._writeDebug,this._debug=function(){var e,t;for(w("currentObj",1),e=0,t=ue.soundIDs.length;e<t;e++)ue.sounds[ue.soundIDs[e]]._debug()},this.reboot=function(){var e,t;for(ue._wD(ce+".reboot()"),ue.soundIDs.length&&ue._wD("Destroying "+ue.soundIDs.length+" SMSound objects..."),e=ue.soundIDs.length-1;0<=e;e--)ue.sounds[ue.soundIDs[e]].destruct();if(fe)try{Re&&(Fe=fe.innerHTML),Pe=fe.parentNode.removeChild(fe),ue._wD("Flash movie removed.")}catch(e){w("badRemove",2)}for(e in Fe=Pe=Ae=null,ue.enabled=S=De=Ie=He=be=Oe=Me=ue.swfLoaded=!1,ue.soundIDs=[],ue.sounds={},fe=null,ve)if(ve.hasOwnProperty(e))for(t=ve[e].length-1;0<=t;t--)ve[e][t].fired=!1;ue._wD(ce+": Rebooting..."),_e.setTimeout(ue.beginDelayedInit,20)},this.getMoviePercent=function(){return fe&&"PercentLoaded"in fe?fe.PercentLoaded():null},this.beginDelayedInit=function(){Se=!0,D(),setTimeout(function(){return!He&&(T(),m(),He=!0)},20),f()},this.destruct=function(){ue._wD(ce+".destruct()"),ue.disable(!0)},r=function(e){var s,r,t,n,l,u,i,d,f=this,c=!1,a=[],h=0,p=null,m={duration:null,time:null};this.id=e.id,this.sID=this.id,this.url=e.url,this.options=b(e),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,this.id3={},this._debug=function(){if(ue.debugMode){var e,t,o=null,n=[];for(o in f.options)null!==f.options[o]&&("function"==typeof f.options[o]?(t=(e=(e=f.options[o].toString()).replace(/\s\s+/g," ")).indexOf("{"),n.push(" "+o+": {"+e.substr(t+1,Math.min(Math.max(e.indexOf("\n")-1,64),64)).replace(/\n/g,"")+"... }")):n.push(" "+o+": "+f.options[o]));ue._wD("SMSound() merged options: {\n"+n.join(", \n")+"\n}")}},this._debug(),this.load=function(e){var t;if(void 0!==e?f._iO=b(e,f.options):(e=f.options,f._iO=e,p&&p!==f.url&&(w("manURL"),f._iO.url=f.url,f.url=null)),f._iO.url||(f._iO.url=f.url),f._iO.url=Q(f._iO.url),f.instanceOptions=f._iO,t=f._iO,ue._wD("SMSound.load(): "+t.url,1),t.url===f.url&&0!==f.readyState&&2!==f.readyState)return w("onURL",1),3===f.readyState&&t.onload&&t.onload.apply(f,[!!f.duration]),f;if(f.loaded=!1,f.readyState=1,f.playState=0,f.id3={},K(t))f._setup_html5(t)._called_load?ue._wD(pe+"ignoring request to load again: "+f.id):(ue._wD(pe+"load: "+f.id),f._html5_canplay=!1,f.url!==t.url&&(ue._wD(w("manURL")+": "+t.url),f._a.src=t.url,f.setPosition(0)),f._a.autobuffer="auto",f._a.preload="auto",f._a._called_load=!0,t.autoPlay&&f.play());else try{f.isHTML5=!1,f._iO=B(U(t)),t=f._iO,8===_?fe._load(f.id,t.url,t.stream,t.autoPlay,t.usePolicyFile):fe._load(f.id,t.url,!!t.stream,!!t.autoPlay,t.loops||1,!!t.autoLoad,t.usePolicyFile)}catch(e){w("smError",2),g("onload",!1),P({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}return f.url=t.url,f},this.unload=function(){return 0!==f.readyState&&(ue._wD('SMSound.unload(): "'+f.id+'"'),f.isHTML5?(n(),f._a&&(f._a.pause(),z(f._a,Xe),p=Xe)):8===_?fe._unload(f.id,Xe):fe._unload(f.id),s()),f},this.destruct=function(e){ue._wD('SMSound.destruct(): "'+f.id+'"'),f.isHTML5?(n(),f._a&&(f._a.pause(),z(f._a),xe||t(),f._a._s=null,f._a=null)):(f._iO.onfailure=null,fe._destroySound(f.id)),e||ue.destroySound(f.id,!0)},this.play=function(e,t){var o,n,i=!0,a=null,s="SMSound.play(): ";if(t=void 0===t||t,e=e||{},f.url&&(f._iO.url=f.url),f._iO=b(f._iO,f.options),f._iO=b(e,f._iO),f._iO.url=Q(f._iO.url),f.instanceOptions=f._iO,f._iO.serverURL&&!f.connected)return f.getAutoPlay()||(ue._wD(s+" Netstream not connected yet - setting autoPlay"),f.setAutoPlay(!0)),f;if(K(f._iO)&&(f._setup_html5(f._iO),l()),1!==f.playState||f.paused||(f._iO.multiShot?ue._wD(s+'"'+f.id+'" already playing (multi-shot)',1):(ue._wD(s+'"'+f.id+'" already playing (one-shot)',1),a=f)),null!==a)return a;if(e.url&&e.url!==f.url&&f.load(f._iO),f.loaded?ue._wD(s+'"'+f.id+'"'):0===f.readyState?(ue._wD(s+'Attempting to load "'+f.id+'"',1),f.isHTML5||(f._iO.autoPlay=!0),f.load(f._iO),f.instanceOptions=f._iO):2===f.readyState?(ue._wD(s+'Could not load "'+f.id+'" - exiting',2),a=f):ue._wD(s+'"'+f.id+'" is loading - attempting to play..',1),null!==a)return a;if(!f.isHTML5&&9===_&&0<f.position&&f.position===f.duration&&(ue._wD(s+'"'+f.id+'": Sound at end, resetting to position:0'),e.position=0),f.paused&&0<=f.position&&(!f._iO.serverURL||0<f.position))ue._wD(s+'"'+f.id+'" is resuming from paused state',1),f.resume();else{if(f._iO=b(e,f._iO),null!==f._iO.from&&null!==f._iO.to&&0===f.instanceCount&&0===f.playState&&!f._iO.serverURL){if(n=function(){f._iO=b(e,f._iO),f.play(f._iO)},f.isHTML5&&!f._html5_canplay?(ue._wD(s+'Beginning load of "'+f.id+'" for from/to case'),f.load({oncanplay:n}),a=!1):f.isHTML5||f.loaded||f.readyState&&2===f.readyState||(ue._wD(s+'Preloading "'+f.id+'" for from/to case'),f.load({onload:n}),a=!1),null!==a)return a;f._iO=d()}ue._wD(s+'"'+f.id+'" is starting to play'),(!f.instanceCount||f._iO.multiShotEvents||!f.isHTML5&&8<_&&!f.getAutoPlay())&&f.instanceCount++,f._iO.onposition&&0===f.playState&&u(f),f.playState=1,f.paused=!1,f.position=void 0===f._iO.position||isNaN(f._iO.position)?0:f._iO.position,f.isHTML5||(f._iO=B(U(f._iO))),f._iO.onplay&&t&&(f._iO.onplay.apply(f),c=!0),f.setVolume(f._iO.volume,!0),f.setPan(f._iO.pan,!0),f.isHTML5?(l(),o=f._setup_html5(),f.setPosition(f._iO.position),o.play()):(i=fe._start(f.id,f._iO.loops||1,9===_?f._iO.position:f._iO.position/1e3,f._iO.multiShot),9!==_||i||(ue._wD(s+f.id+": No sound hardware, or 32-sound ceiling hit"),f._iO.onplayerror&&f._iO.onplayerror.apply(f)))}return f},this.start=this.play,this.stop=function(e){var t,o=f._iO;return 1===f.playState&&(f._onbufferchange(0),f._resetOnPosition(0),f.paused=!1,f.isHTML5||(f.playState=0),i(),o.to&&f.clearOnPosition(o.to),f.isHTML5?f._a&&(t=f.position,f.setPosition(0),f.position=t,f._a.pause(),f.playState=0,f._onTimer(),n()):(fe._stop(f.id,e),o.serverURL&&f.unload()),f.instanceCount=0,f._iO={},o.onstop&&o.onstop.apply(f)),f},this.setAutoPlay=function(e){ue._wD("sound "+f.id+" turned autoplay "+(e?"on":"off")),f._iO.autoPlay=e,f.isHTML5||(fe._setAutoPlay(f.id,e),e&&(f.instanceCount||1!==f.readyState||(f.instanceCount++,ue._wD("sound "+f.id+" incremented instance count to "+f.instanceCount))))},this.getAutoPlay=function(){return f._iO.autoPlay},this.setPosition=function(e){void 0===e&&(e=0);var t,o,n=f.isHTML5?Math.max(e,0):Math.min(f.duration||f._iO.duration,Math.max(e,0));f.position;if(f.position=n,o=f.position/1e3,f._resetOnPosition(f.position),f._iO.position=n,f.isHTML5){if(f._a)if(f._html5_canplay){if(f._a.currentTime!==o){ue._wD("setPosition("+o+"): setting position");try{f._a.currentTime=o,0!==f.playState&&!f.paused||f._a.pause()}catch(e){ue._wD("setPosition("+o+"): setting position failed: "+e.message,2)}}}else ue._wD("setPosition("+o+"): delaying, sound not ready")}else t=9===_?f.position:o,f.readyState&&2!==f.readyState&&fe._setPosition(f.id,t,f.paused||!f.playState,f._iO.multiShot);return f.isHTML5&&f.paused&&f._onTimer(!0),f},this.pause=function(e){return f.paused||0===f.playState&&1!==f.readyState||(ue._wD("SMSound.pause()"),f.paused=!0,f.isHTML5?(f._setup_html5().pause(),n()):!e&&void 0!==e||fe._pause(f.id,f._iO.multiShot),f._iO.onpause&&f._iO.onpause.apply(f)),f},this.resume=function(){var e=f._iO;return f.paused&&(ue._wD("SMSound.resume()"),f.paused=!1,f.playState=1,f.isHTML5?(f._setup_html5().play(),l()):(e.isMovieStar&&!e.serverURL&&f.setPosition(f.position),fe._pause(f.id,e.multiShot)),!c&&e.onplay?(e.onplay.apply(f),c=!0):e.onresume&&e.onresume.apply(f)),f},this.togglePause=function(){return ue._wD("SMSound.togglePause()"),0===f.playState?f.play({position:9!==_||f.isHTML5?f.position/1e3:f.position}):f.paused?f.resume():f.pause(),f},this.setPan=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=!1),f.isHTML5||fe._setPan(f.id,e),f._iO.pan=e,t||(f.pan=e,f.options.pan=e),f},this.setVolume=function(e,t){return void 0===e&&(e=100),void 0===t&&(t=!1),f.isHTML5?f._a&&(f._a.volume=Math.max(0,Math.min(1,e/100))):fe._setVolume(f.id,ue.muted&&!f.muted||f.muted?0:e),f._iO.volume=e,t||(f.volume=e,f.options.volume=e),f},this.mute=function(){return f.muted=!0,f.isHTML5?f._a&&(f._a.muted=!0):fe._setVolume(f.id,0),f},this.unmute=function(){f.muted=!1;var e=void 0!==f._iO.volume;return f.isHTML5?f._a&&(f._a.muted=!1):fe._setVolume(f.id,e?f._iO.volume:f.options.volume),f},this.toggleMute=function(){return f.muted?f.unmute():f.mute()},this.onPosition=function(e,t,o){return a.push({position:parseInt(e,10),method:t,scope:void 0!==o?o:f,fired:!1}),f},this.onposition=this.onPosition,this.clearOnPosition=function(e,t){var o;if(e=parseInt(e,10),isNaN(e))return!1;for(o=0;o<a.length;o++)e===a[o].position&&(t&&t!==a[o].method||(a[o].fired&&h--,a.splice(o,1)))},this._processOnPosition=function(){var e,t,o=a.length;if(!o||!f.playState||o<=h)return!1;for(e=o-1;0<=e;e--)!(t=a[e]).fired&&f.position>=t.position&&(t.fired=!0,h++,t.method.apply(t.scope,[t.position]));return!0},this._resetOnPosition=function(e){var t,o,n=a.length;if(!n)return!1;for(t=n-1;0<=t;t--)(o=a[t]).fired&&e<=o.position&&(o.fired=!1,h--);return!0},d=function(){function e(){ue._wD(f.id+': playing "from" '+o),null===n||isNaN(n)||f.onPosition(n,i)}var t=f._iO,o=t.from,n=t.to,i=function(){ue._wD(f.id+': "to" time of '+n+" reached."),f.clearOnPosition(n,i),f.stop()};return null===o||isNaN(o)||(t.position=o,t.multiShot=!1,e()),t},u=function(){var e,t=f._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&f.onPosition(parseInt(e,10),t[e])},i=function(){var e,t=f._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&f.clearOnPosition(parseInt(e,10))},l=function(){f.isHTML5&&q(f)},n=function(){f.isHTML5&&V(f)},(s=function(e){e||(a=[],h=0),c=!1,f._hasTimer=null,f._a=null,f._html5_canplay=!1,f.bytesLoaded=null,f.bytesTotal=null,f.duration=f._iO&&f._iO.duration?f._iO.duration:null,f.durationEstimate=null,f.buffered=[],f.eqData=[],f.eqData.left=[],f.eqData.right=[],f.failures=0,f.isBuffering=!1,f.instanceOptions={},f.instanceCount=0,f.loaded=!1,f.metadata={},f.readyState=0,f.muted=!1,f.paused=!1,f.peakData={left:0,right:0},f.waveformData={left:[],right:[]},f.playState=0,f.position=null,f.id3={}})(),this._onTimer=function(e){var t,o,n=!1,i={};if(f._hasTimer||e)return f._a&&(e||(0<f.playState||1===f.readyState)&&!f.paused)&&((t=f._get_html5_duration())!==m.duration&&(m.duration=t,f.duration=t,n=!0),f.durationEstimate=f.duration,(o=1e3*f._a.currentTime||0)!==m.time&&(m.time=o,n=!0),(n||e)&&f._whileplaying(o,i,i,i,i)),n},this._get_html5_duration=function(){var e=f._iO,t=f._a&&f._a.duration?1e3*f._a.duration:e&&e.duration?e.duration:null;return t&&!isNaN(t)&&t!==1/0?t:null},this._apply_loop=function(e,t){!e.loop&&1<t&&ue._wD("Note: Native HTML5 looping is infinite."),e.loop=1<t?"loop":""},this._setup_html5=function(e){var t,o=b(f._iO,e),n=decodeURI,i=xe?de:f._a,a=n(o.url);if(xe?a===te&&(t=!0):a===p&&(t=!0),i){if(i._s)if(xe)i._s&&i._s.playState&&!t&&i._s.stop();else if(!xe&&a===n(p))return f._apply_loop(i,o.loops),i;t||(s(!1),i.src=o.url,f.url=o.url,p=o.url,te=o.url,i._called_load=!1)}else w("h5a"),o.autoLoad||o.autoPlay?f._a=new Audio(o.url):f._a=We&&opera.version()<10?new Audio(null):new Audio,(i=f._a)._called_load=!1,xe&&(de=i);return f.isHTML5=!0,(f._a=i)._s=f,r(),f._apply_loop(i,o.loops),o.autoLoad||o.autoPlay?f.load():(i.autobuffer=!1,i.preload="auto"),i},r=function(){if(f._a._added_events)return!1;var e,t,o,n;for(e in f._a._added_events=!0,ae)ae.hasOwnProperty(e)&&(o=ae[t=e],n=void 0,f._a&&f._a.addEventListener(t,o,n||!1));return!0},t=function(){var e,t,o,n;for(e in ue._wD(pe+"removing event listeners: "+f.id),f._a._added_events=!1,ae)ae.hasOwnProperty(e)&&(o=ae[t=e],n=void 0,f._a&&f._a.removeEventListener(t,o,n||!1))},this._onload=function(e){var t=!!e||!f.isHTML5&&8===_&&f.duration,o="SMSound._onload(): ";return ue._wD(o+'"'+f.id+'"'+(t?" loaded.":" failed to load? - "+f.url),t?1:2),t||f.isHTML5||(!0===ue.sandbox.noRemote&&ue._wD(o+A("noNet"),1),!0===ue.sandbox.noLocal&&ue._wD(o+A("noLocal"),1)),f.loaded=t,f.readyState=t?3:2,f._onbufferchange(0),f._iO.onload&&f._iO.onload.apply(f,[t]),!0},this._onbufferchange=function(e){return 0!==f.playState&&(!(e&&f.isBuffering||!e&&!f.isBuffering)&&(f.isBuffering=1===e,f._iO.onbufferchange&&(ue._wD("SMSound._onbufferchange(): "+e),f._iO.onbufferchange.apply(f)),!0))},this._onsuspend=function(){return f._iO.onsuspend&&(ue._wD("SMSound._onsuspend()"),f._iO.onsuspend.apply(f)),!0},this._onfailure=function(e,t,o){f.failures++,ue._wD('SMSound._onfailure(): "'+f.id+'" count '+f.failures),f._iO.onfailure&&1===f.failures?f._iO.onfailure(f,e,t,o):ue._wD("SMSound._onfailure(): ignoring")},this._onfinish=function(){var e=f._iO.onfinish;f._onbufferchange(0),f._resetOnPosition(0),f.instanceCount&&(f.instanceCount--,f.instanceCount||(i(),f.playState=0,f.paused=!1,f.instanceCount=0,f.instanceOptions={},f._iO={},n(),f.isHTML5&&(f.position=0)),f.instanceCount&&!f._iO.multiShotEvents||e&&(ue._wD('SMSound._onfinish(): "'+f.id+'"'),e.apply(f)))},this._whileloading=function(e,t,o,n){var i=f._iO;f.bytesLoaded=e,f.bytesTotal=t,f.duration=Math.floor(o),f.bufferLength=n,f.isHTML5||i.isMovieStar?f.durationEstimate=f.duration:i.duration?f.durationEstimate=f.duration>i.duration?f.duration:i.duration:f.durationEstimate=parseInt(f.bytesTotal/f.bytesLoaded*f.duration,10),f.isHTML5||(f.buffered=[{start:0,end:f.duration}]),(3!==f.readyState||f.isHTML5)&&i.whileloading&&i.whileloading.apply(f)},this._whileplaying=function(e,t,o,n,i){var a,s=f._iO;return!isNaN(e)&&null!==e&&(f.position=Math.max(0,e),f._processOnPosition(),!f.isHTML5&&8<_&&(s.usePeakData&&void 0!==t&&t&&(f.peakData={left:t.leftPeak,right:t.rightPeak}),s.useWaveformData&&void 0!==o&&o&&(f.waveformData={left:o.split(","),right:n.split(",")}),s.useEQData&&void 0!==i&&i&&i.leftEQ&&(a=i.leftEQ.split(","),f.eqData=a,f.eqData.left=a,void 0!==i.rightEQ&&i.rightEQ&&(f.eqData.right=i.rightEQ.split(",")))),1===f.playState&&(f.isHTML5||8!==_||f.position||!f.isBuffering||f._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(f)),!0)},this._oncaptiondata=function(e){ue._wD('SMSound._oncaptiondata(): "'+this.id+'" caption data received.'),f.captiondata=e,f._iO.oncaptiondata&&f._iO.oncaptiondata.apply(f,[e])},this._onmetadata=function(e,t){ue._wD('SMSound._onmetadata(): "'+this.id+'" metadata received.');for(var o={},n=0,i=e.length;n<i;n++)o[e[n]]=t[n];f.metadata=o,f._iO.onmetadata&&f._iO.onmetadata.apply(f)},this._onid3=function(e,t){ue._wD('SMSound._onid3(): "'+this.id+'" ID3 data received.');for(var o=[],n=0,i=e.length;n<i;n++)o[e[n]]=t[n];f.id3=b(f.id3,o),f._iO.onid3&&f._iO.onid3.apply(f)},this._onconnect=function(e){e=1===e,ue._wD('SMSound._onconnect(): "'+f.id+'"'+(e?" connected.":" failed to connect? - "+f.url),e?1:2),(f.connected=e)&&(f.failures=0,j(f.id)&&(f.getAutoPlay()?f.play(void 0,f.getAutoPlay()):f._iO.autoLoad&&f.load()),f._iO.onconnect&&f._iO.onconnect.apply(f,[e]))},this._ondataerror=function(e){0<f.playState&&(ue._wD("SMSound._ondataerror(): "+e),f._iO.ondataerror&&f._iO.ondataerror.apply(f))}},L=function(){return ye.body||ye._docElement||ye.getElementsByTagName("div")[0]},y=function(e){return ye.getElementById(e)},b=function(e,t){var o,n=e||{},i=void 0===t?ue.defaultOptions:t;for(o in i)i.hasOwnProperty(o)&&void 0===n[o]&&("object"!=typeof i[o]||null===i[o]?n[o]=i[o]:n[o]=b(n[o],i[o]));return n},u={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},l=function(e,t){var o,n=!0,i=void 0!==t,a=ue.setupOptions,s=u;if(void 0===e){for(o in n=[],a)a.hasOwnProperty(o)&&n.push(o);for(o in s)s.hasOwnProperty(o)&&("object"==typeof ue[o]?n.push(o+": {...}"):ue[o]instanceof Function?n.push(o+": function() {...}"):n.push(o));return ue._wD(A("setup",n.join(", "))),!1}for(o in e)if(e.hasOwnProperty(o))if("object"!=typeof e[o]||null===e[o]||e[o]instanceof Array)i&&void 0!==s[t]?ue[t][o]=e[o]:void 0!==a[o]?(ue.setupOptions[o]=e[o],ue[o]=e[o]):void 0===s[o]?(W(A(void 0===ue[o]?"setupUndef":"setupError",o),2),n=!1):ue[o]instanceof Function?ue[o].apply(ue,e[o]instanceof Array?e[o]:[e[o]]):ue[o]=e[o];else{if(void 0!==s[o])return l(e[o],o);W(A(void 0===ue[o]?"setupUndef":"setupError",o),2),n=!1}return n},re=_e.attachEvent,le={add:re?"attachEvent":"addEventListener",remove:re?"detachEvent":"removeEventListener"},ee={add:function(){nt(ot(arguments),"add")},remove:function(){nt(ot(arguments),"remove")}},ae={abort:it(function(){ue._wD(pe+"abort: "+this._s.id)}),canplay:it(function(){var t,e=this._s;if(e._html5_canplay)return!0;if(e._html5_canplay=!0,ue._wD(pe+"canplay: "+e.id+", "+e.url),e._onbufferchange(0),t=void 0===e._iO.position||isNaN(e._iO.position)?null:e._iO.position/1e3,e.position&&this.currentTime!==t){ue._wD(pe+"canplay: setting position to "+t);try{this.currentTime=t}catch(e){ue._wD(pe+"setting position of "+t+" failed: "+e.message,2)}}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:it(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:it(function(){var e=this._s;ue._wD(pe+"ended: "+e.id),e._onfinish()}),error:it(function(){ue._wD(pe+"error: "+this.error.code),this._s._onload(!1)}),loadeddata:it(function(){var e=this._s;ue._wD(pe+"loadeddata: "+e.id),e._loaded||Be||(e.duration=e._get_html5_duration())}),loadedmetadata:it(function(){ue._wD(pe+"loadedmetadata: "+this._s.id)}),loadstart:it(function(){ue._wD(pe+"loadstart: "+this._s.id),this._s._onbufferchange(1)}),play:it(function(){ue._wD(pe+"play: "+this._s.id+", "+this._s.url),this._s._onbufferchange(0)}),playing:it(function(){ue._wD(pe+"playing: "+this._s.id),this._s._onbufferchange(0)}),progress:it(function(e){var t,o,n,i=this._s,a="progress"===e.type,s=e.target.buffered,r=e.loaded||0,l=e.total||1;if(i.buffered=[],s&&s.length){for(t=0,o=s.length;t<o;t++)i.buffered.push({start:1e3*s.start(t),end:1e3*s.end(t)});if(r=1e3*(s.end(0)-s.start(0))/(1e3*e.target.duration),a&&1<s.length){for(n=[],o=s.length,t=0;t<o;t++)n.push(1e3*e.target.buffered.start(t)+"-"+1e3*e.target.buffered.end(t));ue._wD(pe+"progress: timeRanges: "+n.join(", "))}a&&!isNaN(r)&&ue._wD(pe+"progress: "+i.id+": "+Math.floor(100*r)+"% loaded")}isNaN(r)||(i._onbufferchange(0),i._whileloading(r,l,i._get_html5_duration()),r&&l&&r===l&&ae.canplaythrough.call(this,e))}),ratechange:it(function(){ue._wD(pe+"ratechange: "+this._s.id)}),suspend:it(function(e){var t=this._s;ue._wD(pe+"suspend: "+t.id),ae.progress.call(this,e),t._onsuspend()}),stalled:it(function(){ue._wD(pe+"stalled: "+this._s.id)}),timeupdate:it(function(){this._s._onTimer()}),waiting:it(function(){var e=this._s;ue._wD(pe+"waiting: "+e.id),e._onbufferchange(1)})},K=function(e){var t=!(e.serverURL||e.type&&tt(e.type))&&(e.type?X({type:e.type}):X({url:e.url})||ue.html5Only);return t},z=function(e,t){e&&(e.src=t)},X=function(e){if(!ue.useHTML5Audio||!ue.hasHTML5)return!1;var t,o,n,i,a=e.url||null,s=e.type||null,r=ue.audioFormats;if(s&&void 0!==ue.html5[s])return ue.html5[s]&&!tt(s);if(!G){for(i in G=[],r)r.hasOwnProperty(i)&&(G.push(i),r[i].related&&(G=G.concat(r[i].related)));G=new RegExp("\\.("+G.join("|")+")(\\?.*)?$","i")}return(n=a?a.toLowerCase().match(G):null)&&n.length?n=n[1]:s?n=(-1!==(o=s.indexOf(";"))?s.substr(0,o):s).substr(6):t=!1,t=n&&void 0!==ue.html5[n]?ue.html5[n]&&!tt(n):(s="audio/"+n,t=ue.html5.canPlayType({type:s}),(ue.html5[n]=t)&&ue.html5[s]&&!tt(s))},Z=function(){if(!ue.useHTML5Audio||!ue.hasHTML5)return!1;var e,t,o,n,s=void 0!==Audio?We&&opera.version()<10?new Audio(null):new Audio:null,i={};function a(e){var t,o,n,i=!1,a=!1;if(!s||"function"!=typeof s.canPlayType)return i;if(e instanceof Array){for(o=0,n=e.length;o<n;o++)(ue.html5[e[o]]||s.canPlayType(e[o]).match(ue.html5Test))&&(a=!0,ue.html5[e[o]]=!0,ue.flash[e[o]]=!!e[o].match(Ke));i=a}else i=!(!(t=!(!s||"function"!=typeof s.canPlayType)&&s.canPlayType(e))||!t.match(ue.html5Test));return i}for(e in o=ue.audioFormats)if(o.hasOwnProperty(e)&&(t="audio/"+e,i[e]=a(o[e].type),i[t]=i[e],e.match(Ke)?(ue.flash[e]=!0,ue.flash[t]=!0):(ue.flash[e]=!1,ue.flash[t]=!1),o[e]&&o[e].related))for(n=o[e].related.length-1;0<=n;n--)i["audio/"+o[e].related[n]]=i[e],ue.html5[o[e].related[n]]=i[e],ue.flash[o[e].related[n]]=i[e];return i.canPlayType=s?a:null,ue.html5=b(ue.html5,i),!0},p={notReady:"Not loaded yet - wait for soundManager.onready()",notOK:"Audio support is not available.",domError:he+"createMovie(): appendChild/innerHTML call failed. DOM not ready or other error.",spcWmode:he+"createMovie(): Removing wmode, preventing known SWF loading issue(s)",swf404:ce+": Verify that %s is a valid path.",tryDebug:"Try "+ce+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:ce+": Non-HTTP page ("+ye.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:ce+": Special case: Waiting for SWF to load with window focus...",waitImpatient:ce+": Getting impatient, still waiting for Flash%s...",waitForever:ce+": Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:ce+": Retrying, waiting for 100% SWF load...",needFunction:ce+": Function object expected for %s",badID:'Warning: Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:"--- "+ce+"._debug(): Current sound objects ---",waitEI:he+"initMovie(): Waiting for ExternalInterface call from Flash...",waitOnload:ce+": Waiting for window.onload()",docLoaded:ce+": Document already loaded",onload:he+"initComplete(): calling soundManager.onload()",onloadOK:ce+".onload() complete",init:he+"init()",didInit:he+"init(): Already called?",flashJS:ce+": Attempting JS to Flash call...",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:"Warning: Failed to remove flash movie.",shutdown:ce+".disable(): Shutting down",queue:ce+": Queueing %s handler",smFail:ce+": Failed to initialise.",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+N.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:he+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:ce+".load(): current URL already assigned.",badFV:ce+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:ce+": Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:ce+": Got window focus.",mfOn:"mobileFlash::enabling on-screen flash repositioning",policy:"Enabling usePolicyFile for data access",setup:ce+".setup(): allowed parameters: %s",setupError:ce+'.setup(): "%s" cannot be assigned with this method.',setupUndef:ce+'.setup(): Could not find option "%s"',setupLate:ce+".setup(): url + flashVersion changes will not take effect until reboot().",h5a:"creating HTML5 Audio() object",noURL:ce+": Flash URL required. Call soundManager.setup({url:...}) to get started."},A=function(){var e,t,o=Ce.call(arguments),n=o.shift(),i=p[n]?p[n]:"";if(i&&o&&o.length)for(e=0,t=o.length;e<t;e++)i=i.replace("%s",o[e]);return i},U=function(e){return 8===_&&1<e.loops&&e.stream&&(w("as2loop"),e.stream=!1),e},B=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(ue._wD((t||"")+A("policy")),e.usePolicyFile=!0),e},W=function(e){void 0!==console&&void 0!==console.warn?console.warn(e):ue._wD(e)},o=function(){return!1},H=function(e){var t;for(t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=o);t=null},E=function(e){void 0===e&&(e=!1),(Me||e)&&(w("smFail",2),ue.disable(e))},k=function(e){var t;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return t=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+ue.movieURL,ue.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},O=function(){8!==(_=parseInt(ue.flashVersion,10))&&9!==_&&(ue._wD(A("badFV",_,8)),ue.flashVersion=_=8);var e=ue.debugMode||ue.debugFlash?"_debug.swf":".swf";ue.useHTML5Audio&&!ue.html5Only&&ue.audioFormats.mp4.required&&_<9&&(ue._wD(A("needfl9")),ue.flashVersion=_=9),ue.version=ue.versionNumber+(ue.html5Only?" (HTML5-only mode)":9===_?" (AS3/Flash 9)":" (AS2/Flash 8)"),8<_?(ue.defaultOptions=b(ue.defaultOptions,ue.flash9Options),ue.features.buffering=!0,ue.defaultOptions=b(ue.defaultOptions,ue.movieStarOptions),ue.filePatterns.flash9=new RegExp("\\.(mp3|"+Ze.join("|")+")(\\?.*)?$","i"),ue.features.movieStar=!0):ue.features.movieStar=!1,ue.filePattern=ue.filePatterns[8!==_?"flash9":"flash8"],ue.movieURL=(8===_?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),ue.features.peakData=ue.features.waveformData=ue.features.eqData=8<_},F=function(e,t){if(!fe)return!1;fe._setPolling(e,t)},I=function(){if(ue.debugURLParam.test(ge)&&(ue.debugMode=!0),y(ue.debugID))return!1;var e,t,o,n,i;if(ue.debugMode&&!y(ue.debugID)&&(!Ve||!ue.useConsole||!ue.consoleOnly)){for(i in(e=ye.createElement("div")).id=ue.debugID+"-toggle",n={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(ye.createTextNode("-")),e.onclick=R,e.title="Toggle SM2 debug console",me.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand"),n)n.hasOwnProperty(i)&&(e.style[i]=n[i]);if((t=ye.createElement("div")).id=ue.debugID,t.style.display=ue.debugMode?"block":"none",ue.debugMode&&!y(e.id)){try{(o=L()).appendChild(e)}catch(e){throw new Error(A("domError")+" \n"+e.toString())}o.appendChild(t)}}o=null},j=this.getSoundById,w=function(e,t){return e?ue._wD(A(e),t):""},ge.indexOf("sm2-debug=alert")+1&&ue.debugMode&&(ue._wD=function(e){at.alert(e)}),R=function(){var e=y(ue.debugID),t=y(ue.debugID+"-toggle");if(!e)return!1;we?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),we=!we},g=function(e,t,o){if(void 0!==_e.sm2Debugger)try{sm2Debugger.handleEvent(e,t,o)}catch(e){}return!0},x=function(){var e=[];return ue.debugMode&&e.push(N.sm2Debug),ue.debugFlash&&e.push(N.flashDebug),ue.useHighPerformance&&e.push(N.highPerf),e.join(" ")},C=function(){var e=A("fbHandler"),t=ue.getMoviePercent(),o=N,n={type:"FLASHBLOCK"};if(ue.html5Only)return!1;ue.ok()?(ue.didFlashBlock&&ue._wD(e+": Unblocked"),ue.oMC&&(ue.oMC.className=[x(),o.swfDefault,o.swfLoaded+(ue.didFlashBlock?" "+o.swfUnblocked:"")].join(" "))):(Ae&&(ue.oMC.className=x()+" "+o.swfDefault+" "+(null===t?o.swfTimedout:o.swfError),ue._wD(e+": "+A("fbTimeout")+(t?" ("+A("fbLoaded")+")":""))),ue.didFlashBlock=!0,a({type:"ontimeout",ignoreInit:!0,error:n}),P(n))},i=function(e,t,o){void 0===ve[e]&&(ve[e]=[]),ve[e].push({method:t,scope:o||null,fired:!1})},a=function(e){if(e=e||{type:ue.ok()?"onready":"ontimeout"},!De&&e&&!e.ignoreInit)return!1;if("ontimeout"===e.type&&(ue.ok()||Me&&!e.ignoreInit))return!1;var t,o,n={success:e&&e.ignoreInit?ue.ok():!Me},i=e&&e.type&&ve[e.type]||[],a=[],s=[n],r=Ae&&ue.useFlashBlock&&!ue.ok();for(e.error&&(s[0].error=e.error),t=0,o=i.length;t<o;t++)!0!==i[t].fired&&a.push(i[t]);if(a.length)for(ue._wD(ce+": Firing "+a.length+" "+e.type+"() item"+(1===a.length?"":"s")),t=0,o=a.length;t<o;t++)a[t].scope?a[t].method.apply(a[t].scope,s):a[t].method.apply(this,s),r||(a[t].fired=!0);return!0},d=function(){_e.setTimeout(function(){ue.useFlashBlock&&C(),a(),"function"==typeof ue.onload&&(w("onload",1),ue.onload.apply(_e),w("onloadOK",1)),ue.waitForWindowLoad&&ee.add(_e,"load",d)},1)},ne=function(){if(void 0!==oe)return oe;var e,t,o,n=!1,i=navigator,a=i.plugins,s=_e.ActiveXObject;if(a&&a.length)t="application/x-shockwave-flash",(o=i.mimeTypes)&&o[t]&&o[t].enabledPlugin&&o[t].enabledPlugin.description&&(n=!0);else if(void 0!==s&&!me.match(/MSAppHost/i)){try{e=new s("ShockwaveFlash.ShockwaveFlash")}catch(e){}n=!!e,e=null}return oe=n},$=function(){var e,t,o=ue.audioFormats;if(Ne&&!!me.match(/os (1|2|3_0|3_1)/i)?(ue.hasHTML5=!1,ue.html5Only=!0,ue.oMC&&(ue.oMC.style.display="none"),0):ue.useHTML5Audio&&(ue.html5&&ue.html5.canPlayType||(ue._wD("SoundManager: No HTML5 Audio() support detected."),ue.hasHTML5=!1),qe&&ue._wD(he+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(oe?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),ue.useHTML5Audio&&ue.hasHTML5)for(t in o)o.hasOwnProperty(t)&&(o[t].required&&!ue.html5.canPlayType(o[t].type)||ue.preferFlash&&(ue.flash[t]||ue.flash[o[t].type]))&&(e=!0);return ue.ignoreFlash&&(e=!1),ue.html5Only=ue.hasHTML5&&ue.useHTML5Audio&&!e,!ue.html5Only},Q=function(e){var t,o,n,i=0;if(e instanceof Array){for(t=0,o=e.length;t<o;t++)if(e[t]instanceof Object){if(ue.canPlayMIME(e[t].type)){i=t;break}}else if(ue.canPlayURL(e[t])){i=t;break}e[i].url&&(e[i]=e[i].url),n=e[i]}else n=e;return n},q=function(e){e._hasTimer||(e._hasTimer=!0,!je&&ue.html5PollingInterval&&(null===ke&&0===Ee&&(ke=_e.setInterval(J,ue.html5PollingInterval)),Ee++))},V=function(e){e._hasTimer&&(e._hasTimer=!1,!je&&ue.html5PollingInterval&&Ee--)},J=function(){var e;if(null!==ke&&!Ee)return _e.clearInterval(ke),ke=null,!1;for(e=ue.soundIDs.length-1;0<=e;e--)ue.sounds[ue.soundIDs[e]].isHTML5&&ue.sounds[ue.soundIDs[e]]._hasTimer&&ue.sounds[ue.soundIDs[e]]._onTimer()},P=function(e){e=void 0!==e?e:{},"function"==typeof ue.onerror&&ue.onerror.apply(_e,[{type:void 0!==e.type?e.type:null}]),void 0!==e.fatal&&e.fatal&&ue.disable()},ie=function(){if(!qe||!ne())return!1;var e,t,o=ue.audioFormats;for(t in o)if(o.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(ue._wD(ce+": Using flash fallback for "+t+" format"),ue.html5[t]=!1,o[t]&&o[t].related))for(e=o[t].related.length-1;0<=e;e--)ue.html5[o[t].related[e]]=!1},this._setSandboxType=function(e){var t=ue.sandbox;t.type=e,t.description=t.types[void 0!==t.types[e]?e:"unknown"],ue._wD("Flash security sandbox type: "+t.type),"localWithFile"===t.type?(t.noRemote=!0,t.noLocal=!1,w("secNote",2)):"localWithNetwork"===t.type?(t.noRemote=!1,t.noLocal=!0):"localTrusted"===t.type&&(t.noRemote=!1,t.noLocal=!1)},this._externalInterfaceOK=function(e,t){if(ue.swfLoaded)return!1;var o,n=(new Date).getTime();if(ue._wD(he+"externalInterfaceOK()"+(e?" (~"+(n-e)+" ms)":"")),g("swf",!0),g("flashtojs",!0),ue.swfLoaded=!0,Qe=!1,qe&&ie(),!t||t.replace(/\+dev/i,"")!==ue.versionNumber.replace(/\+dev/i,""))return o=ce+': Fatal: JavaScript file build "'+ue.versionNumber+'" does not match Flash SWF build "'+t+'" at '+ue.url+". Ensure both are up-to-date.",setTimeout(function(){throw new Error(o)},0),!1;setTimeout(v,Re?100:1)},T=function(e,t){if(be&&Oe)return!1;function o(){ue._wD("-- SoundManager 2 "+ue.version+(!ue.html5Only&&ue.useHTML5Audio?ue.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"")+(ue.html5Only?"":(ue.useHighPerformance?", high performance mode, ":", ")+(ue.flashPollingInterval?"custom ("+ue.flashPollingInterval+"ms)":"normal")+" polling"+(ue.wmode?", wmode: "+ue.wmode:"")+(ue.debugFlash?", flash debug mode":"")+(ue.useFlashBlock?", flashBlock mode":""))+" --",1)}if(ue.html5Only)return O(),o(),ue.oMC=y(ue.movieID),v(),!(Oe=be=!0);var n,i,a,s,r,l,u,d,f,c=t||ue.url,h=ue.altURL||c,p=L(),m=x(),_=ye.getElementsByTagName("html")[0];function g(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(n=_&&_.dir&&_.dir.match(/rtl/i),e=void 0===e?ue.id:e,O(),ue.url=k(Ge?c:h),t=ue.url,ue.wmode=!ue.wmode&&ue.useHighPerformance?"transparent":ue.wmode,null!==ue.wmode&&(me.match(/msie 8/i)||!Re&&!ue.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(w("spcWmode"),ue.wmode=null),i={name:e,id:e,src:t,quality:"high",allowScriptAccess:ue.allowScriptAccess,bgcolor:ue.bgColor,pluginspage:ze+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:ue.wmode,hasPriority:"true"},ue.debugFlash&&(i.FlashVars="debug=1"),ue.wmode||delete i.wmode,Re)a=ye.createElement("div"),r=['<object id="'+e+'" data="'+t+'" type="'+i.type+'" title="'+i.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+ze+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',g("movie",t),g("AllowScriptAccess",ue.allowScriptAccess),g("quality",i.quality),ue.wmode?g("wmode",ue.wmode):"",g("bgcolor",ue.bgColor),g("hasPriority","true"),ue.debugFlash?g("FlashVars",i.FlashVars):"","</object>"].join("");else for(s in a=ye.createElement("embed"),i)i.hasOwnProperty(s)&&a.setAttribute(s,i[s]);if(I(),m=x(),p=L())if(ue.oMC=y(ue.movieID)||ye.createElement("div"),ue.oMC.id)f=ue.oMC.className,ue.oMC.className=(f?f+" ":N.swfDefault)+(m?" "+m:""),ue.oMC.appendChild(a),Re&&((l=ue.oMC.appendChild(ye.createElement("div"))).className=N.swfBox,l.innerHTML=r),Oe=!0;else{if(ue.oMC.id=ue.movieID,ue.oMC.className=N.swfDefault+" "+m,l=u=null,ue.useFlashBlock||(ue.useHighPerformance?u={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(u={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},n&&(u.left=Math.abs(parseInt(u.left,10))+"px"))),Ue&&(ue.oMC.style.zIndex=1e4),!ue.debugFlash)for(d in u)u.hasOwnProperty(d)&&(ue.oMC.style[d]=u[d]);try{Re||ue.oMC.appendChild(a),p.appendChild(ue.oMC),Re&&((l=ue.oMC.appendChild(ye.createElement("div"))).className=N.swfBox,l.innerHTML=r),Oe=!0}catch(e){throw new Error(A("domError")+" \n"+e.toString())}}return be=!0,o(),ue._wD(he+"createMovie(): Trying to load "+t+(!Ge&&ue.altURL?" (alternate URL)":""),1),!0},m=function(){return ue.html5Only?(T(),!1):!fe&&(ue.url?((fe=ue.getMovie(ue.id))||(Pe?(Re?ue.oMC.innerHTML=Fe:ue.oMC.appendChild(Pe),be=!(Pe=null)):T(ue.id,ue.url),fe=ue.getMovie(ue.id)),fe&&w("waitEI"),"function"==typeof ue.oninitmovie&&setTimeout(ue.oninitmovie,1),!0):(w("noURL"),!1))},f=function(){setTimeout(c,1e3)},c=function(){var e,t=!1;return!!ue.url&&(!Ie&&(Ie=!0,ee.remove(_e,"load",f),Qe&&!Je?(w("waitFocus"),!1):(De||(e=ue.getMoviePercent(),ue._wD(A("waitImpatient",0<e?" (SWF "+e+"% loaded)":"")),0<e&&e<100&&(t=!0)),void setTimeout(function(){if(e=ue.getMoviePercent(),t)return Ie=!1,ue._wD(A("waitSWF")),_e.setTimeout(f,1),!1;De||(ue._wD(ce+": No Flash response within expected time.\nLikely causes: "+(0===e?"Loading "+ue.movieURL+" may have failed (and/or Flash "+_+"+ not present?), ":"")+"Flash blocked or JS-Flash security error."+(ue.debugFlash?" "+A("checkSWF"):""),2),!Ge&&e&&(w("localFail",2),ue.debugFlash||w("tryDebug",2)),0===e&&ue._wD(A("swf404",ue.url)),g("flashtojs",!1," (Check flash security or flash blockers)")),!De&&$e&&(null===e?ue.useFlashBlock||0===ue.flashLoadTimeout?(ue.useFlashBlock&&C(),w("waitForever")):E(!0):0===ue.flashLoadTimeout?w("waitForever"):E(!0))},ue.flashLoadTimeout))))},h=function(){function e(){ee.remove(_e,"focus",h)}return Je||!Qe||(Je=$e=!0,w("gotFocus"),Ie=!1,f()),e(),!0},se=function(){var e,t=[];if(ue.useHTML5Audio&&ue.hasHTML5){for(e in ue.audioFormats)ue.audioFormats.hasOwnProperty(e)&&t.push(e+": "+ue.html5[e]+(!ue.html5[e]&&oe&&ue.flash[e]?" (using flash)":ue.preferFlash&&ue.flash[e]&&oe?" (preferring flash)":ue.html5[e]?"":" ("+(ue.audioFormats[e].required?"required, ":"")+"and no flash support)"));ue._wD("-- SoundManager 2: HTML5 support tests ("+ue.html5Test+"): "+t.join(", ")+" --",1)}},n=function(e){if(De)return!1;if(ue.html5Only)return ue._wD("-- SoundManager 2: loaded --"),De=!0,d(),g("onload",!0),!0;var t,o=!0;return ue.useFlashBlock&&ue.flashLoadTimeout&&!ue.getMoviePercent()||(De=!0,Me&&(t={type:!oe&&Ae?"NO_FLASH":"INIT_TIMEOUT"})),ue._wD("-- SoundManager 2 "+(Me?"failed to load":"loaded")+" ("+(Me?"Flash security/load error":"OK")+") --",1),Me||e?(ue.useFlashBlock&&ue.oMC&&(ue.oMC.className=x()+" "+(null===ue.getMoviePercent()?N.swfTimedout:N.swfError)),a({type:"ontimeout",error:t,ignoreInit:!0}),g("onload",!1),P(t),o=!1):g("onload",!0),Me||(ue.waitForWindowLoad&&!Se?(w("waitOnload"),ee.add(_e,"load",d)):(ue.waitForWindowLoad&&Se&&w("docLoaded"),d())),o},s=function(){var e,t=ue.setupOptions;for(e in t)t.hasOwnProperty(e)&&(void 0===ue[e]?ue[e]=t[e]:ue[e]!==t[e]&&(ue.setupOptions[e]=ue[e]))},v=function(){if(w("init"),De)return w("didInit"),!1;function e(){ee.remove(_e,"load",ue.beginDelayedInit)}if(ue.html5Only)return De||(e(),ue.enabled=!0,n()),!0;m();try{w("flashJS"),fe._externalInterfaceTest(!1),F(!0,ue.flashPollingInterval||(ue.useHighPerformance?10:50)),ue.debugMode||fe._disableDebug(),ue.enabled=!0,g("jstoflash",!0),ue.html5Only||ee.add(_e,"unload",o)}catch(e){return ue._wD("js/flash exception: "+e.toString()),g("jstoflash",!1),P({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),E(!0),n(),!1}return n(),e(),!0},D=function(){return!S&&(S=!0,s(),I(),e="sm2-usehtml5audio=",t="sm2-preferflash=",n=o=null,i=void 0!==at.console&&"function"==typeof console.log,-1!==(a=ge.toLowerCase()).indexOf(e)&&(o="1"===a.charAt(a.indexOf(e)+e.length),i&&console.log((o?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter"),ue.setup({useHTML5Audio:o})),-1!==a.indexOf(t)&&(n="1"===a.charAt(a.indexOf(t)+t.length),i&&console.log((n?"Enabling ":"Disabling ")+"preferFlash via URL parameter"),ue.setup({preferFlash:n})),!oe&&ue.hasHTML5&&(ue._wD("SoundManager: No Flash detected"+(ue.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5.")),ue.setup({useHTML5Audio:!0,preferFlash:!1})),Z(),ue.html5.usingFlash=$(),Ae=ue.html5.usingFlash,se(),!oe&&Ae&&(w("needFlash"),ue.setup({flashLoadTimeout:1})),ye.removeEventListener&&ye.removeEventListener("DOMContentLoaded",D,!1),m(),!0);var e,t,o,n,i,a},Y=function(){return"complete"===ye.readyState&&(D(),ye.detachEvent("onreadystatechange",Y)),!0},M=function(){Se=!0,ee.remove(_e,"load",M)},ne(),ee.add(_e,"focus",h),ee.add(_e,"load",f),ee.add(_e,"load",M),ye.addEventListener?ye.addEventListener("DOMContentLoaded",D,!1):ye.attachEvent?ye.attachEvent("onreadystatechange",Y):(g("onload",!1),P({type:"NO_DOM2_EVENTS",fatal:!0}))}void 0!==at.SM2_DEFER&&SM2_DEFER||(e=new t),at.SoundManager=t,at.soundManager=e}(window);