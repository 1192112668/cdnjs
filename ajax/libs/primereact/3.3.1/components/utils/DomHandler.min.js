"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var DomHandler=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"innerWidth",value:function(e){var t=e.offsetWidth,i=getComputedStyle(e);return t+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}},{key:"width",value:function(e){var t=e.offsetWidth,i=getComputedStyle(e);return t-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),t}},{key:"getWindowScrollTop",value:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},{key:"getOuterWidth",value:function(e,t){if(e){var i,n=e.offsetWidth;return t&&(i=getComputedStyle(e),n+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)),n}return 0}},{key:"getOuterHeight",value:function(e,t){if(e){var i,n=e.offsetHeight;return t&&(i=getComputedStyle(e),n+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)),n}return 0}},{key:"getClientHeight",value:function(e,t){if(e){var i,n=e.clientHeight;return t&&(i=getComputedStyle(e),n+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)),n}return 0}},{key:"getViewport",value:function(){var e=window,t=document,i=t.documentElement,n=t.getElementsByTagName("body")[0];return{width:e.innerWidth||i.clientWidth||n.clientWidth,height:e.innerHeight||i.clientHeight||n.clientHeight}}},{key:"getOffset",value:function(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}}},{key:"generateZIndex",value:function(){return this.zindex=this.zindex||999,++this.zindex}},{key:"getCurrentZIndex",value:function(){return this.zindex}},{key:"index",value:function(e){for(var t=e.parentNode.childNodes,i=0,n=0;n<t.length;n++){if(t[n]===e)return i;1===t[n].nodeType&&i++}return-1}},{key:"addMultipleClasses",value:function(e,t){if(e.classList)for(var i=t.split(" "),n=0;n<i.length;n++)e.classList.add(i[n]);else for(var o=t.split(" "),r=0;r<o.length;r++)e.className+=" "+o[r]}},{key:"addClass",value:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t}},{key:"removeClass",value:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"hasClass",value:function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}},{key:"find",value:function(e,t){return Array.from(e.querySelectorAll(t))}},{key:"findSingle",value:function(e,t){return e?e.querySelector(t):null}},{key:"getHeight",value:function(e){var t=e.offsetHeight,i=getComputedStyle(e);return t-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth)}},{key:"getWidth",value:function(e){var t=e.offsetWidth,i=getComputedStyle(e);return t-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth)}},{key:"absolutePosition",value:function(e,t){var i,n,o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),r=o.height,l=o.width,a=t.offsetHeight,s=t.offsetWidth,d=t.getBoundingClientRect(),u=this.getWindowScrollTop(),c=this.getWindowScrollLeft(),f=this.getViewport();d.top+a+r>f.height?(i=d.top+u-r)<0&&(i=u):i=a+d.top+u,n=d.left+s+l>f.width?Math.max(0,d.left+c+s-l):d.left+c,e.style.top=i+"px",e.style.left=n+"px"}},{key:"relativePosition",value:function(e,t){var i,n,o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),r=t.offsetHeight,l=t.getBoundingClientRect(),a=this.getViewport();l.top+r+o.height>a.height?(i=-1*o.height,l.top+i<0&&(i=-1*l.top)):i=r,n=o.width>a.width?-1*l.left:l.left+o.width>a.width?-1*(l.left+o.width-a.width):0,e.style.top=i+"px",e.style.left=n+"px"}},{key:"getHiddenElementOuterHeight",value:function(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}},{key:"getHiddenElementOuterWidth",value:function(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}},{key:"getHiddenElementDimensions",value:function(e){var t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t}},{key:"fadeIn",value:function(t,i){t.style.opacity=0;var n=+new Date,o=0;!function e(){o=+t.style.opacity+((new Date).getTime()-n)/i,t.style.opacity=o,n=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(e)||setTimeout(e,16))}()}},{key:"fadeOut",value:function(e,t){var i=1,n=50/t,o=setInterval(function(){(i-=n)<=0&&(i=0,clearInterval(o)),e.style.opacity=i},50)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"appendChild",value:function(e,t){if(this.isElement(t))t.appendChild(e);else{if(!t.el||!t.el.nativeElement)throw new Error("Cannot append "+t+" to "+e);t.el.nativeElement.appendChild(e)}}},{key:"scrollInView",value:function(e,t){var i=getComputedStyle(e).getPropertyValue("borderTopWidth"),n=i?parseFloat(i):0,o=getComputedStyle(e).getPropertyValue("paddingTop"),r=o?parseFloat(o):0,l=e.getBoundingClientRect(),a=t.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-n-r,s=e.scrollTop,d=e.clientHeight,u=this.getOuterHeight(t);a<0?e.scrollTop=s+a:d<a+u&&(e.scrollTop=s+a-d+u)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&0<window.getSelection().rangeCount&&0<window.getSelection().getRangeAt(0).getClientRects().length&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}},{key:"calculateScrollbarWidth",value:function(e){if(e){var t=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}if(null!=this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);var n=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=n}},{key:"getBrowser",value:function(){var e;return this.browser||(e=this.resolveUserAgent(),this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)),this.browser}},{key:"resolveUserAgent",value:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}},{key:"isVisible",value:function(e){return null!=e.offsetParent}}]),e}();exports.default=DomHandler;