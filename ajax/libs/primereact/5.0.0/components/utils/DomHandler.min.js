"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){a=!0,r=e},f:function(){try{l||null==n.return||n.return()}finally{if(a)throw r}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var DomHandler=function(){function v(){_classCallCheck(this,v)}return _createClass(v,null,[{key:"innerWidth",value:function(e){if(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)}return 0}},{key:"width",value:function(e){if(e){var t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}return 0}},{key:"getWindowScrollTop",value:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},{key:"getOuterWidth",value:function(e,t){if(e){var n,o=e.offsetWidth;return t&&(n=getComputedStyle(e),o+=parseFloat(n.marginLeft)+parseFloat(n.marginRight)),o}return 0}},{key:"getOuterHeight",value:function(e,t){if(e){var n,o=e.offsetHeight;return t&&(n=getComputedStyle(e),o+=parseFloat(n.marginTop)+parseFloat(n.marginBottom)),o}return 0}},{key:"getClientHeight",value:function(e,t){if(e){var n,o=e.clientHeight;return t&&(n=getComputedStyle(e),o+=parseFloat(n.marginTop)+parseFloat(n.marginBottom)),o}return 0}},{key:"getViewport",value:function(){var e=window,t=document,n=t.documentElement,o=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||o.clientWidth,height:e.innerHeight||n.clientHeight||o.clientHeight}}},{key:"getOffset",value:function(e){if(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"generateZIndex",value:function(){return this.zindex=this.zindex||999,++this.zindex}},{key:"getCurrentZIndex",value:function(){return this.zindex}},{key:"index",value:function(e){if(e)for(var t=e.parentNode.childNodes,n=0,o=0;o<t.length;o++){if(t[o]===e)return n;1===t[o].nodeType&&n++}return-1}},{key:"addMultipleClasses",value:function(e,t){if(e)if(e.classList)for(var n=t.split(" "),o=0;o<n.length;o++)e.classList.add(n[o]);else for(var i=t.split(" "),r=0;r<i.length;r++)e.className+=" "+i[r]}},{key:"addClass",value:function(e,t){e&&(e.classList?e.classList.add(t):e.className+=" "+t)}},{key:"removeClass",value:function(e,t){e&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(e,t){if(e)return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}},{key:"find",value:function(e,t){return e?Array.from(e.querySelectorAll(t)):[]}},{key:"findSingle",value:function(e,t){return e?e.querySelector(t):null}},{key:"getHeight",value:function(e){if(e){var t=e.offsetHeight,n=getComputedStyle(e);return t-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)}return 0}},{key:"getWidth",value:function(e){if(e){var t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)}return 0}},{key:"absolutePosition",value:function(e,t){var n,o,i,r,l,a,s,u,d,f,c;e&&(o=(n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e)).height,i=n.width,r=t.offsetHeight,l=t.offsetWidth,a=t.getBoundingClientRect(),s=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),d=this.getViewport(),a.top+r+o>d.height?((f=a.top+s-o)<0&&(f=s),e.style.transformOrigin="bottom"):(f=r+a.top+s,e.style.transformOrigin="top"),c=a.left+l+i>d.width?Math.max(0,a.left+u+l-i):a.left+u,e.style.top=f+"px",e.style.left=c+"px")}},{key:"relativePosition",value:function(e,t){var n,o,i,r,l,a;e&&(n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=t.offsetHeight,i=t.getBoundingClientRect(),r=this.getViewport(),i.top+o+n.height>r.height?(l=-1*n.height,i.top+l<0&&(l=-1*i.top),e.style.transformOrigin="bottom"):(l=o,e.style.transformOrigin="top"),a=n.width>r.width?-1*i.left:i.left+n.width>r.width?-1*(i.left+n.width-r.width):0,e.style.top=l+"px",e.style.left=a+"px")}},{key:"flipfitCollision",value:function(o,i,e,t,n){function r(e,t){return t?+e.substring(e.search(/(\+|-)/g))||0:e.substring(0,e.search(/(\+|-)/g))||e}var l=this,a=2<arguments.length&&void 0!==e?e:"left top",s=3<arguments.length&&void 0!==t?t:"left bottom",u=4<arguments.length?n:void 0,d=i.getBoundingClientRect(),f=this.getViewport(),c=a.split(" "),y=s.split(" "),h={my:{x:r(c[0]),y:r(c[1]||c[0]),offsetX:r(c[0],!0),offsetY:r(c[1]||c[0],!0)},at:{x:r(y[0]),y:r(y[1]||y[0]),offsetX:r(y[0],!0),offsetY:r(y[1]||y[0],!0)}},p=function(){return h.my.offsetX+h.at.offsetX+d.left+("left"===h.my.x?0:-1*("center"===h.my.x?l.getOuterWidth(o)/2:l.getOuterWidth(o)))},g=function(){return h.my.offsetY+h.at.offsetY+d.top+("top"===h.my.y?0:-1*("center"===h.my.y?l.getOuterHeight(o)/2:l.getOuterHeight(o)))},m={count:{x:0,y:0},left:function(){var e=p(),t=v.getWindowScrollLeft();o.style.left=e+t+"px",2===this.count.x?(o.style.left=t+"px",this.count.x=0):e<0&&(this.count.x++,h.my.x="left",h.at.x="right",h.my.offsetX*=-1,h.at.offsetX*=-1,this.right())},right:function(){var e=p()+v.getOuterWidth(i),t=v.getWindowScrollLeft();o.style.left=e+t+"px",2===this.count.x?(o.style.left=f.width-v.getOuterWidth(o)+t+"px",this.count.x=0):e+v.getOuterWidth(o)>f.width&&(this.count.x++,h.my.x="right",h.at.x="left",h.my.offsetX*=-1,h.at.offsetX*=-1,this.left())},top:function(){var e=g(),t=v.getWindowScrollTop();o.style.top=e+t+"px",2===this.count.y?(o.style.left=t+"px",this.count.y=0):e<0&&(this.count.y++,h.my.y="top",h.at.y="bottom",h.my.offsetY*=-1,h.at.offsetY*=-1,this.bottom())},bottom:function(){var e=g()+v.getOuterHeight(i),t=v.getWindowScrollTop();o.style.top=e+t+"px",2===this.count.y?(o.style.left=f.height-v.getOuterHeight(o)+t+"px",this.count.y=0):e+v.getOuterHeight(i)>f.height&&(this.count.y++,h.my.y="bottom",h.at.y="top",h.my.offsetY*=-1,h.at.offsetY*=-1,this.top())},center:function(e){var t,n;"y"===e?(t=g()+v.getOuterHeight(i)/2,o.style.top=t+v.getWindowScrollTop()+"px",t<0?this.bottom():t+v.getOuterHeight(i)>f.height&&this.top()):(n=p()+v.getOuterWidth(i)/2,o.style.left=n+v.getWindowScrollLeft()+"px",n<0?this.left():n+v.getOuterWidth(o)>f.width&&this.right())}};m[h.at.x]("x"),m[h.at.y]("y"),this.isFunction(u)&&u(h)}},{key:"findCollisionPosition",value:function(e){if(e){var t="left"===e?"right":"left";return"top"===e||"bottom"===e?{axis:"y",my:"center ".concat("top"===e?"bottom":"top"),at:"center ".concat(e)}:{axis:"x",my:"".concat(t," center"),at:"".concat(e," center")}}}},{key:"getParents",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:[];return null===e.parentNode?n:this.getParents(e.parentNode,n.concat([e.parentNode]))}},{key:"getScrollableParents",value:function(e){var t=[];if(e){var n,o=this.getParents(e),i=/(auto|scroll)/,r=function(e){var t=window.getComputedStyle(e,null);return i.test(t.getPropertyValue("overflow"))||i.test(t.getPropertyValue("overflowX"))||i.test(t.getPropertyValue("overflowY"))},l=_createForOfIteratorHelper(o);try{for(l.s();!(n=l.n()).done;){var a=n.value,s=1===a.nodeType&&a.dataset.scrollselectors;if(s){var u,d=_createForOfIteratorHelper(s.split(","));try{for(d.s();!(u=d.n()).done;){var f=u.value,c=this.findSingle(a,f);c&&r(c)&&t.push(c)}}catch(e){d.e(e)}finally{d.f()}}9!==a.nodeType&&!r(a)||t.push(a)}}catch(e){l.e(e)}finally{l.f()}}return t}},{key:"getHiddenElementOuterHeight",value:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}return 0}},{key:"getHiddenElementOuterWidth",value:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}return 0}},{key:"getHiddenElementDimensions",value:function(e){var t={};return e&&(e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible"),t}},{key:"fadeIn",value:function(t,n){var o,i;t&&(t.style.opacity=0,o=+new Date,i=0,function e(){i=+t.style.opacity+((new Date).getTime()-o)/n,t.style.opacity=i,o=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(e)||setTimeout(e,16))}())}},{key:"fadeOut",value:function(e,t){var n,o,i;e&&(n=1,o=50/t,i=setInterval(function(){(n-=o)<=0&&(n=0,clearInterval(i)),e.style.opacity=n},50))}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"appendChild",value:function(e,t){if(this.isElement(t))t.appendChild(e);else{if(!t.el||!t.el.nativeElement)throw new Error("Cannot append "+t+" to "+e);t.el.nativeElement.appendChild(e)}}},{key:"removeChild",value:function(e,t){if(this.isElement(t))t.removeChild(e);else{if(!t.el||!t.el.nativeElement)throw new Error("Cannot remove "+e+" from "+t);t.el.nativeElement.removeChild(e)}}},{key:"isElement",value:function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?e instanceof HTMLElement:e&&"object"===_typeof(e)&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}},{key:"scrollInView",value:function(e,t){var n=getComputedStyle(e).getPropertyValue("borderTopWidth"),o=n?parseFloat(n):0,i=getComputedStyle(e).getPropertyValue("paddingTop"),r=i?parseFloat(i):0,l=e.getBoundingClientRect(),a=t.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-o-r,s=e.scrollTop,u=e.clientHeight,d=this.getOuterHeight(t);a<0?e.scrollTop=s+a:u<a+d&&(e.scrollTop=s+a-u+d)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&0<window.getSelection().rangeCount&&0<window.getSelection().getRangeAt(0).getClientRects().length&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}},{key:"calculateScrollbarWidth",value:function(e){if(e){var t=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}if(null!=this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var n=document.createElement("div");n.className="p-scrollbar-measure",document.body.appendChild(n);var o=n.offsetWidth-n.clientWidth;return document.body.removeChild(n),this.calculatedScrollbarWidth=o}},{key:"getBrowser",value:function(){var e;return this.browser||(e=this.resolveUserAgent(),this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)),this.browser}},{key:"resolveUserAgent",value:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}},{key:"isVisible",value:function(e){return e&&null!=e.offsetParent}},{key:"getFocusableElements",value:function(e){var t,n=[],o=_createForOfIteratorHelper(v.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'));try{for(o.s();!(t=o.n()).done;){var i=t.value;"none"!==getComputedStyle(i).display&&"hidden"!==getComputedStyle(i).visibility&&n.push(i)}}catch(e){o.e(e)}finally{o.f()}return n}}]),v}();exports.default=DomHandler;