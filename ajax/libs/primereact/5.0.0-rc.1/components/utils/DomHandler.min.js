"use strict";function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return l=t.done,t},e:function(t){a=!0,r=t},f:function(){try{l||null==n.return||n.return()}finally{if(a)throw r}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var DomHandler=function(){function v(){_classCallCheck(this,v)}return _createClass(v,null,[{key:"innerWidth",value:function(t){if(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)}return 0}},{key:"width",value:function(t){if(t){var e=t.offsetWidth,n=getComputedStyle(t);return e-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),e}return 0}},{key:"getWindowScrollTop",value:function(){var t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}},{key:"getOuterWidth",value:function(t,e){if(t){var n,o=t.offsetWidth;return e&&(n=getComputedStyle(t),o+=parseFloat(n.marginLeft)+parseFloat(n.marginRight)),o}return 0}},{key:"getOuterHeight",value:function(t,e){if(t){var n,o=t.offsetHeight;return e&&(n=getComputedStyle(t),o+=parseFloat(n.marginTop)+parseFloat(n.marginBottom)),o}return 0}},{key:"getClientHeight",value:function(t,e){if(t){var n,o=t.clientHeight;return e&&(n=getComputedStyle(t),o+=parseFloat(n.marginTop)+parseFloat(n.marginBottom)),o}return 0}},{key:"getViewport",value:function(){var t=window,e=document,n=e.documentElement,o=e.getElementsByTagName("body")[0];return{width:t.innerWidth||n.clientWidth||o.clientWidth,height:t.innerHeight||n.clientHeight||o.clientHeight}}},{key:"getOffset",value:function(t){if(t){var e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"generateZIndex",value:function(){return this.zindex=this.zindex||999,++this.zindex}},{key:"getCurrentZIndex",value:function(){return this.zindex}},{key:"index",value:function(t){if(t)for(var e=t.parentNode.childNodes,n=0,o=0;o<e.length;o++){if(e[o]===t)return n;1===e[o].nodeType&&n++}return-1}},{key:"addMultipleClasses",value:function(t,e){if(t)if(t.classList)for(var n=e.split(" "),o=0;o<n.length;o++)t.classList.add(n[o]);else for(var i=e.split(" "),r=0;r<i.length;r++)t.className+=" "+i[r]}},{key:"addClass",value:function(t,e){t&&(t.classList?t.classList.add(e):t.className+=" "+e)}},{key:"removeClass",value:function(t,e){t&&(t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(t,e){if(t)return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}},{key:"find",value:function(t,e){return t?Array.from(t.querySelectorAll(e)):[]}},{key:"findSingle",value:function(t,e){return t?t.querySelector(e):null}},{key:"getHeight",value:function(t){if(t){var e=t.offsetHeight,n=getComputedStyle(t);return e-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)}return 0}},{key:"getWidth",value:function(t){if(t){var e=t.offsetWidth,n=getComputedStyle(t);return e-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)}return 0}},{key:"absolutePosition",value:function(t,e){var n,o,i,r,l,a,s,u,d,f,c;t&&(o=(n=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t)).height,i=n.width,r=e.offsetHeight,l=e.offsetWidth,a=e.getBoundingClientRect(),s=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),d=this.getViewport(),a.top+r+o>d.height?((f=a.top+s-o)<0&&(f=s),t.style.transformOrigin="bottom"):(f=r+a.top+s,t.style.transformOrigin="top"),c=a.left+l+i>d.width?Math.max(0,a.left+u+l-i):a.left+u,t.style.top=f+"px",t.style.left=c+"px")}},{key:"relativePosition",value:function(t,e){var n,o,i,r,l,a;t&&(n=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=e.offsetHeight,i=e.getBoundingClientRect(),r=this.getViewport(),i.top+o+n.height>r.height?(l=-1*n.height,i.top+l<0&&(l=-1*i.top),t.style.transformOrigin="bottom"):(l=o,t.style.transformOrigin="top"),a=n.width>r.width?-1*i.left:i.left+n.width>r.width?-1*(i.left+n.width-r.width):0,t.style.top=l+"px",t.style.left=a+"px")}},{key:"flipfitCollision",value:function(o,i,t,e,n){function r(t,e){return e?+t.substring(t.search(/(\+|-)/g))||0:t.substring(0,t.search(/(\+|-)/g))||t}var l=this,a=2<arguments.length&&void 0!==t?t:"left top",s=3<arguments.length&&void 0!==e?e:"left bottom",u=4<arguments.length?n:void 0,d=i.getBoundingClientRect(),f=this.getViewport(),c=a.split(" "),y=s.split(" "),h={my:{x:r(c[0]),y:r(c[1]||c[0]),offsetX:r(c[0],!0),offsetY:r(c[1]||c[0],!0)},at:{x:r(y[0]),y:r(y[1]||y[0]),offsetX:r(y[0],!0),offsetY:r(y[1]||y[0],!0)}},p=function(){return h.my.offsetX+h.at.offsetX+d.left+("left"===h.my.x?0:-1*("center"===h.my.x?l.getOuterWidth(o)/2:l.getOuterWidth(o)))},g=function(){return h.my.offsetY+h.at.offsetY+d.top+("top"===h.my.y?0:-1*("center"===h.my.y?l.getOuterHeight(o)/2:l.getOuterHeight(o)))},m={count:{x:0,y:0},left:function(){var t=p(),e=v.getWindowScrollLeft();o.style.left=t+e+"px",2===this.count.x?(o.style.left=e+"px",this.count.x=0):t<0&&(this.count.x++,h.my.x="left",h.at.x="right",h.my.offsetX*=-1,h.at.offsetX*=-1,this.right())},right:function(){var t=p()+v.getOuterWidth(i),e=v.getWindowScrollLeft();o.style.left=t+e+"px",2===this.count.x?(o.style.left=f.width-v.getOuterWidth(o)+e+"px",this.count.x=0):t+v.getOuterWidth(o)>f.width&&(this.count.x++,h.my.x="right",h.at.x="left",h.my.offsetX*=-1,h.at.offsetX*=-1,this.left())},top:function(){var t=g(),e=v.getWindowScrollTop();o.style.top=t+e+"px",2===this.count.y?(o.style.left=e+"px",this.count.y=0):t<0&&(this.count.y++,h.my.y="top",h.at.y="bottom",h.my.offsetY*=-1,h.at.offsetY*=-1,this.bottom())},bottom:function(){var t=g()+v.getOuterHeight(i),e=v.getWindowScrollTop();o.style.top=t+e+"px",2===this.count.y?(o.style.left=f.height-v.getOuterHeight(o)+e+"px",this.count.y=0):t+v.getOuterHeight(i)>f.height&&(this.count.y++,h.my.y="bottom",h.at.y="top",h.my.offsetY*=-1,h.at.offsetY*=-1,this.top())},center:function(t){var e,n;"y"===t?(e=g()+v.getOuterHeight(i)/2,o.style.top=e+v.getWindowScrollTop()+"px",e<0?this.bottom():e+v.getOuterHeight(i)>f.height&&this.top()):(n=p()+v.getOuterWidth(i)/2,o.style.left=n+v.getWindowScrollLeft()+"px",n<0?this.left():n+v.getOuterWidth(o)>f.width&&this.right())}};m[h.at.x]("x"),m[h.at.y]("y"),this.isFunction(u)&&u(h)}},{key:"findCollisionPosition",value:function(t){if(t){var e="left"===t?"right":"left";return"top"===t||"bottom"===t?{axis:"y",my:"center ".concat("top"===t?"bottom":"top"),at:"center ".concat(t)}:{axis:"x",my:"".concat(e," center"),at:"".concat(t," center")}}}},{key:"getHiddenElementOuterHeight",value:function(t){if(t){t.style.visibility="hidden",t.style.display="block";var e=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",e}return 0}},{key:"getHiddenElementOuterWidth",value:function(t){if(t){t.style.visibility="hidden",t.style.display="block";var e=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",e}return 0}},{key:"getHiddenElementDimensions",value:function(t){var e={};return t&&(t.style.visibility="hidden",t.style.display="block",e.width=t.offsetWidth,e.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible"),e}},{key:"fadeIn",value:function(e,n){var o,i;e&&(e.style.opacity=0,o=+new Date,i=0,function t(){i=+e.style.opacity+((new Date).getTime()-o)/n,e.style.opacity=i,o=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(t)||setTimeout(t,16))}())}},{key:"fadeOut",value:function(t,e){var n,o,i;t&&(n=1,o=50/e,i=setInterval(function(){(n-=o)<=0&&(n=0,clearInterval(i)),t.style.opacity=n},50))}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isFunction",value:function(t){return!!(t&&t.constructor&&t.call&&t.apply)}},{key:"appendChild",value:function(t,e){if(this.isElement(e))e.appendChild(t);else{if(!e.el||!e.el.nativeElement)throw new Error("Cannot append "+e+" to "+t);e.el.nativeElement.appendChild(t)}}},{key:"removeChild",value:function(t,e){if(this.isElement(e))e.removeChild(t);else{if(!e.el||!e.el.nativeElement)throw new Error("Cannot remove "+t+" from "+e);e.el.nativeElement.removeChild(t)}}},{key:"isElement",value:function(t){return"object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?t instanceof HTMLElement:t&&"object"===_typeof(t)&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}},{key:"scrollInView",value:function(t,e){var n=getComputedStyle(t).getPropertyValue("borderTopWidth"),o=n?parseFloat(n):0,i=getComputedStyle(t).getPropertyValue("paddingTop"),r=i?parseFloat(i):0,l=t.getBoundingClientRect(),a=e.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-o-r,s=t.scrollTop,u=t.clientHeight,d=this.getOuterHeight(e);a<0?t.scrollTop=s+a:u<a+d&&(t.scrollTop=s+a-u+d)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&0<window.getSelection().rangeCount&&0<window.getSelection().getRangeAt(0).getClientRects().length&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(t){}}},{key:"calculateScrollbarWidth",value:function(t){if(t){var e=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.borderRightWidth)}if(null!=this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var n=document.createElement("div");n.className="p-scrollbar-measure",document.body.appendChild(n);var o=n.offsetWidth-n.clientWidth;return document.body.removeChild(n),this.calculatedScrollbarWidth=o}},{key:"getBrowser",value:function(){var t;return this.browser||(t=this.resolveUserAgent(),this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)),this.browser}},{key:"resolveUserAgent",value:function(){var t=navigator.userAgent.toLowerCase(),e=/(chrome)[ ]([\w.]+)/.exec(t)||/(webkit)[ ]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}}},{key:"isVisible",value:function(t){return t&&null!=t.offsetParent}},{key:"getFocusableElements",value:function(t){var e,n=[],o=_createForOfIteratorHelper(v.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'));try{for(o.s();!(e=o.n()).done;){var i=e.value;"none"!==getComputedStyle(i).display&&"hidden"!==getComputedStyle(i).visibility&&n.push(i)}}catch(t){o.e(t)}finally{o.f()}return n}}]),v}();exports.default=DomHandler;