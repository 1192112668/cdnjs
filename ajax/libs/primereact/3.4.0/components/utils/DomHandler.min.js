"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var DomHandler=function(){function d(){_classCallCheck(this,d)}return _createClass(d,null,[{key:"innerWidth",value:function(e){if(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)}return 0}},{key:"width",value:function(e){if(e){var t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}return 0}},{key:"getWindowScrollTop",value:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},{key:"getOuterWidth",value:function(e,t){if(e){var n,i=e.offsetWidth;return t&&(n=getComputedStyle(e),i+=parseFloat(n.marginLeft)+parseFloat(n.marginRight)),i}return 0}},{key:"getOuterHeight",value:function(e,t){if(e){var n,i=e.offsetHeight;return t&&(n=getComputedStyle(e),i+=parseFloat(n.marginTop)+parseFloat(n.marginBottom)),i}return 0}},{key:"getClientHeight",value:function(e,t){if(e){var n,i=e.clientHeight;return t&&(n=getComputedStyle(e),i+=parseFloat(n.marginTop)+parseFloat(n.marginBottom)),i}return 0}},{key:"getViewport",value:function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||i.clientWidth,height:e.innerHeight||n.clientHeight||i.clientHeight}}},{key:"getOffset",value:function(e){if(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}}return{top:"auto",left:"auto"}}},{key:"generateZIndex",value:function(){return this.zindex=this.zindex||999,++this.zindex}},{key:"getCurrentZIndex",value:function(){return this.zindex}},{key:"index",value:function(e){if(e)for(var t=e.parentNode.childNodes,n=0,i=0;i<t.length;i++){if(t[i]===e)return n;1===t[i].nodeType&&n++}return-1}},{key:"addMultipleClasses",value:function(e,t){if(e)if(e.classList)for(var n=t.split(" "),i=0;i<n.length;i++)e.classList.add(n[i]);else for(var o=t.split(" "),l=0;l<o.length;l++)e.className+=" "+o[l]}},{key:"addClass",value:function(e,t){e&&(e.classList?e.classList.add(t):e.className+=" "+t)}},{key:"removeClass",value:function(e,t){e&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(e,t){if(e)return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}},{key:"find",value:function(e,t){return e?Array.from(e.querySelectorAll(t)):[]}},{key:"findSingle",value:function(e,t){return e?e.querySelector(t):null}},{key:"getHeight",value:function(e){if(e){var t=e.offsetHeight,n=getComputedStyle(e);return t-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)}return 0}},{key:"getWidth",value:function(e){if(e){var t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)}return 0}},{key:"absolutePosition",value:function(e,t){var n,i,o,l,r,a,s,d,u,c,f;e&&(i=(n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e)).height,o=n.width,l=t.offsetHeight,r=t.offsetWidth,a=t.getBoundingClientRect(),s=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),u=this.getViewport(),a.top+l+i>u.height?(c=a.top+s-i)<0&&(c=s):c=l+a.top+s,f=a.left+r+o>u.width?Math.max(0,a.left+d+r-o):a.left+d,e.style.top=c+"px",e.style.left=f+"px")}},{key:"relativePosition",value:function(e,t){var n,i,o,l,r,a;e&&(n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),i=t.offsetHeight,o=t.getBoundingClientRect(),l=this.getViewport(),o.top+i+n.height>l.height?(r=-1*n.height,o.top+r<0&&(r=-1*o.top)):r=i,a=n.width>l.width?-1*o.left:o.left+n.width>l.width?-1*(o.left+n.width-l.width):0,e.style.top=r+"px",e.style.left=a+"px")}},{key:"getHiddenElementOuterHeight",value:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}return 0}},{key:"getHiddenElementOuterWidth",value:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}return 0}},{key:"getHiddenElementDimensions",value:function(e){var t={};return e&&(e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible"),t}},{key:"fadeIn",value:function(t,n){var i,o;t&&(t.style.opacity=0,i=+new Date,o=0,function e(){o=+t.style.opacity+((new Date).getTime()-i)/n,t.style.opacity=o,i=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(e)||setTimeout(e,16))}())}},{key:"fadeOut",value:function(e,t){var n,i,o;e&&(n=1,i=50/t,o=setInterval(function(){(n-=i)<=0&&(n=0,clearInterval(o)),e.style.opacity=n},50))}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"appendChild",value:function(e,t){if(this.isElement(t))t.appendChild(e);else{if(!t.el||!t.el.nativeElement)throw new Error("Cannot append "+t+" to "+e);t.el.nativeElement.appendChild(e)}}},{key:"scrollInView",value:function(e,t){var n=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=n?parseFloat(n):0,o=getComputedStyle(e).getPropertyValue("paddingTop"),l=o?parseFloat(o):0,r=e.getBoundingClientRect(),a=t.getBoundingClientRect().top+document.body.scrollTop-(r.top+document.body.scrollTop)-i-l,s=e.scrollTop,d=e.clientHeight,u=this.getOuterHeight(t);a<0?e.scrollTop=s+a:d<a+u&&(e.scrollTop=s+a-d+u)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&0<window.getSelection().rangeCount&&0<window.getSelection().getRangeAt(0).getClientRects().length&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}},{key:"calculateScrollbarWidth",value:function(e){if(e){var t=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}if(null!=this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var n=document.createElement("div");n.className="p-scrollbar-measure",document.body.appendChild(n);var i=n.offsetWidth-n.clientWidth;return document.body.removeChild(n),this.calculatedScrollbarWidth=i}},{key:"getBrowser",value:function(){var e;return this.browser||(e=this.resolveUserAgent(),this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)),this.browser}},{key:"resolveUserAgent",value:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}},{key:"isVisible",value:function(e){return e&&null!=e.offsetParent}},{key:"getFocusableElements",value:function(e){var t=d.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'),n=[],i=!0,o=!1,l=void 0;try{for(var r,a=t[Symbol.iterator]();!(i=(r=a.next()).done);i=!0){var s=r.value;"none"!==getComputedStyle(s).display&&"hidden"!==getComputedStyle(s).visibility&&n.push(s)}}catch(e){o=!0,l=e}finally{try{i||null==a.return||a.return()}finally{if(o)throw l}}return n}}]),d}();exports.default=DomHandler;