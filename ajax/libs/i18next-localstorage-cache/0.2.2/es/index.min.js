var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}import*as utils from"./utils";var storage={setItem:function(e,t){if(window.localStorage)try{window.localStorage.setItem(e,t)}catch(e){}},getItem:function(e,t){if(window.localStorage)try{return window.localStorage.getItem(e,t)}catch(e){return}}};function getDefaults(){return{enabled:!1,prefix:"i18next_res_",expirationTime:6048e5}}var Cache=function(){function e(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,e),this.init(t,n),this.type="cache"}return _createClass(e,[{key:"init",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.services=e,this.options=utils.defaults(t,this.options||{},getDefaults())}},{key:"load",value:function(e,t){var n,a=this,i={},o=(new Date).getTime();window.localStorage&&(n=e.length,e.forEach(function(e){var r=storage.getItem(a.options.prefix+e);r&&(r=JSON.parse(r)).i18nStamp&&r.i18nStamp+a.options.expirationTime>o&&(i[e]=r),0==--n&&t(null,i)}))}},{key:"save",value:function(e){if(window.localStorage)for(var t in e)e[t].i18nStamp=(new Date).getTime(),storage.setItem(this.options.prefix+t,JSON.stringify(e[t]))}}]),e}();Cache.type="cache";export default Cache;