"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const globals_1=__importDefault(require("./globals")),samplers_1=require("./samplers"),evalTypeFn={interval:samplers_1.interval,builtIn:samplers_1.builtIn};function computeEndpoints(e,t){const a=t.range||[-1/0,1/0];return[Math.max(e.domain()[0],a[0]),Math.min(e.domain()[1],a[1])]}function evaluate(e,t){const a=computeEndpoints(e.meta.xScale,t),l=(0,evalTypeFn[t.sampler])(e,t,a,t.nSamples||Math.min(globals_1.default.MAX_ITERATIONS,globals_1.default.DEFAULT_ITERATIONS||2*e.meta.width));return e.emit("eval",l,t.index,t.isHelper),l}exports.default=evaluate;