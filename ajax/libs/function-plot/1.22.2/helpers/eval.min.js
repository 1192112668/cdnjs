"use strict";var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.interval=exports.builtIn=void 0;const built_in_math_eval_1=__importDefault(require("built-in-math-eval")),interval_arithmetic_eval_1=__importDefault(require("interval-arithmetic-eval")),samplers={interval:interval_arithmetic_eval_1.default,builtIn:built_in_math_eval_1.default};function generateEvaluator(t){function e(e,r){const i=e[r],a=t+"_Expression_"+r,l=t+"_Compiled_"+r;i!==e[a]&&(e[a]=i,e[l]=function(e){if("string"==typeof e){const r=samplers[t](e);return global.math&&"builtIn"===t?{eval:r.evaluate||r.eval}:r}if("function"==typeof e)return{eval:e};throw Error("expression must be a string or a function")}(i))}return function(r,i,a){return e(r,i),function(e,r){return e[t+"_Compiled_"+r]}(r,i).eval(Object.assign({},r.scope||{},a))}}global.math&&(samplers.builtIn=global.math.compile);const builtIn=generateEvaluator("builtIn");exports.builtIn=builtIn;const interval=generateEvaluator("interval");exports.interval=interval;