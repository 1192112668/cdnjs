"use strict";var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});const d3_selection_1=require("d3-selection"),d3_color_1=require("d3-color"),utils_1=__importDefault(require("../utils")),evaluate_1=__importDefault(require("../evaluate"));function scatter(t){const e=t.meta.xScale,r=t.meta.yScale;return function(l){l.each(function(l){let o,a;const c=l.index,i=utils_1.default.color(l,c),u=evaluate_1.default(t,l),n=[];for(o=0;o<u.length;o+=1)for(a=0;a<u[o].length;a+=1)n.push(u[o][a]);const s=d3_selection_1.select(this).selectAll(":scope > circle").data(n),_=s.enter().append("circle");s.merge(_).attr("fill",d3_color_1.hsl(i.toString()).brighter(1.5).hex()).attr("stroke",i).attr("opacity",.7).attr("r",1).attr("cx",function(t){return e(t[0])}).attr("cy",function(t){return r(t[1])}).attr(l.attr),s.exit().remove()})}}exports.default=scatter;