define(["../_base/declare","../_base/window","../dom","../dom-attr","../dom-class","../dom-construct","../hccss","../query"],function(t,e,a,c,n,h,l,r){return t("dojo.dnd.Avatar",null,{constructor:function(t){this.manager=t,this.construct()},construct:function(){var t,e,a=h.create("table",{class:"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),n=this.manager.source,r=h.create("tbody",null,a),o=h.create("tr",null,r),s=h.create("td",null,o),d=Math.min(5,this.manager.nodes.length),i=0;for(l("highcontrast")&&h.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},s),h.create("span",{innerHTML:n.generateText?this._generateText():""},s),c.set(o,{class:"dojoDndAvatarHeader",style:{opacity:.9}});i<d;++i){n.creator?e=n._normalizedCreator(n.getItem(this.manager.nodes[i].id).data,"avatar").node:"tr"==(e=this.manager.nodes[i].cloneNode(!0)).tagName.toLowerCase()&&(t=h.create("table"),h.create("tbody",null,t).appendChild(e),e=t),e.id="",o=h.create("tr",null,r),(s=h.create("td",null,o)).appendChild(e),c.set(o,{class:"dojoDndAvatarItem",style:{opacity:(9-i)/10}})}this.node=a},destroy:function(){h.destroy(this.node),this.node=!1},update:function(){var t,e;n.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag),l("highcontrast")&&(t=a.byId("a11yIcon"),e="+",this.manager.canDropFlag&&!this.manager.copy?e="< ":this.manager.canDropFlag||this.manager.copy?this.manager.canDropFlag||(e="x"):e="o",t.innerHTML=e),r("tr.dojoDndAvatarHeader td span"+(l("highcontrast")?" span":""),this.node).forEach(function(t){t.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){return this.manager.nodes.length.toString()}})});