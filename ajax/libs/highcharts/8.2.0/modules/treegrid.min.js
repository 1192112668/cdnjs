!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/treegrid",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){function t(e,t,i,o){e.hasOwnProperty(t)||(e[t]=o.apply(null,i))}t(e=e?e._modules:{},"Gantt/Tree.js",[e["Core/Utilities.js"]],function(e){function o(e,o){var s=e.reduce(function(e,t){var i=u(t.parent,"");return void 0===e[i]&&(e[i]=[]),e[i].push(t),e},{});return Object.keys(s).forEach(function(e,t){var i=s[e];""!==e&&-1===o.indexOf(e)&&(i.forEach(function(e){t[""].push(e)}),delete t[e])}),s}var p=e.extend,f=e.isNumber,u=e.pick,m=function(o,e,s,t,r,n){var a,l,d=0,h=0,i=n&&n.after,c=n&&n.before;return e={data:t,depth:s-1,id:o,level:s,parent:e},"function"==typeof c&&c(e,n),c=(r[o]||[]).map(function(e){var t=m(e.id,o,s+1,e,r,n),i=e.start;return e=!0===e.milestone?i:e.end,a=!f(a)||i<a?i:a,l=!f(l)||l<e?e:l,d=d+1+t.descendants,h=Math.max(t.height+1,h),t}),t&&(t.start=u(t.start,a),t.end=u(t.end,l)),p(e,{children:c,descendants:d,height:h}),"function"==typeof i&&i(e,n),e};return{getListOfParents:o,getNode:m,getTree:function(e,t){var i=e.map(function(e){return e.id});return e=o(e,i),m("",null,1,null,e,t)}}}),t(e,"Core/Axis/TreeGridTick.js",[e["Core/Utilities.js"]],function(e){var t,G=e.addEvent,P=e.defined,T=e.isObject,O=e.isNumber,S=e.pick,a=e.wrap;return function(e){function t(){this.treeGrid||(this.treeGrid=new r(this))}function i(e,t,i,o,s,r,n,a,l){var d=S(this.options&&this.options.labels,r);r=this.pos;var h=this.axis,c="treegrid"===h.options.type;return e=e.apply(this,[t,i,o,s,d,n,a,l]),c&&(t=d&&T(d.symbol,!0)?d.symbol:{},d=d&&O(d.indentation)?d.indentation:0,r=(r=(h=h.treeGrid.mapOfPosToGridNode)&&h[r])&&r.depth||1,e.x+=t.width+2*t.padding+(r-1)*d),e}function o(e){var t,i,o,s,r,n,a,l,d,h,c,p,f=this,u=f.pos,m=f.axis,g=f.label,v=m.treeGrid.mapOfPosToGridNode,x=m.options,k=S(f.options&&f.options.labels,x&&x.labels),b=k&&T(k.symbol,!0)?k.symbol:{},y=(v=v&&v[u])&&v.depth,x="treegrid"===x.type,A=-1<m.tickPositions.indexOf(u),u=m.chart.styledMode;x&&v&&g&&g.element&&g.addClass("highcharts-treegrid-node-level-"+y),e.apply(f,Array.prototype.slice.call(arguments,1)),x&&g&&g.element&&v&&v.descendants&&0<v.descendants&&(m=m.treeGrid.isCollapsed(v),t=f,i={color:!u&&g.styles&&g.styles.color||"",collapsed:m,group:g.parentGroup,options:b,renderer:g.renderer,show:A,xy:g.xy},o=!(t=t.treeGrid).labelIcon,s=i.renderer,r=i.xy,n=i.options,a=n.width,l=n.height,d=r.x-a/2-n.padding,r=r.y-l/2,h=i.collapsed?90:180,c=i.show&&O(r),(p=t.labelIcon)||(t.labelIcon=p=s.path(s.symbols[n.type](n.x,n.y,a,l)).addClass("highcharts-label-icon").add(i.group)),c||p.attr({y:-9999}),s.styledMode||p.attr({"stroke-width":1,fill:S(i.color,"#666666")}).css({cursor:"pointer",stroke:n.lineColor,strokeWidth:n.lineWidth}),p[o?"attr":"animate"]({translateX:d,translateY:r,rotation:h}),b="highcharts-treegrid-node-"+(m?"expanded":"collapsed"),g.addClass("highcharts-treegrid-node-"+(m?"collapsed":"expanded")).removeClass(b),u||g.css({cursor:"pointer"}),[g,f.treeGrid.labelIcon].forEach(function(e){e&&!e.attachedTreeGridEvents&&(G(e.element,"mouseover",function(){g.addClass("highcharts-treegrid-node-active"),g.renderer.styledMode||g.css({textDecoration:"underline"})}),G(e.element,"mouseout",function(){var e=P(k.style)?k.style:{};g.removeClass("highcharts-treegrid-node-active"),g.renderer.styledMode||g.css({textDecoration:e.textDecoration})}),G(e.element,"click",function(){f.treeGrid.toggleCollapse()}),e.attachedTreeGridEvents=!0)}))}var s=!1;e.compose=function(e){s||(G(e,"init",t),a(e.prototype,"getLabelPosition",i),a(e.prototype,"renderLabel",o),e.prototype.collapse=function(e){this.treeGrid.collapse(e)},e.prototype.expand=function(e){this.treeGrid.expand(e)},e.prototype.toggleCollapse=function(e){this.treeGrid.toggleCollapse(e)},s=!0)};var r=(n.prototype.collapse=function(e){var t=this.tick,i=t.axis,o=i.brokenAxis;o&&i.treeGrid.mapOfPosToGridNode&&(t=i.treeGrid.collapse(i.treeGrid.mapOfPosToGridNode[t.pos]),o.setBreaks(t,S(e,!0)))},n.prototype.expand=function(e){var t=this.tick,i=t.axis,o=i.brokenAxis;o&&i.treeGrid.mapOfPosToGridNode&&(t=i.treeGrid.expand(i.treeGrid.mapOfPosToGridNode[t.pos]),o.setBreaks(t,S(e,!0)))},n.prototype.toggleCollapse=function(e){var t=this.tick,i=t.axis,o=i.brokenAxis;o&&i.treeGrid.mapOfPosToGridNode&&(t=i.treeGrid.toggleCollapse(i.treeGrid.mapOfPosToGridNode[t.pos]),o.setBreaks(t,S(e,!0)))},n);function n(e){this.tick=e}e.Additions=r}(t=t||{}),t}),t(e,"Mixins/TreeSeries.js",[e["Core/Color.js"],e["Core/Utilities.js"]],function(m,e){var h=e.extend,n=e.isArray,a=e.isNumber,l=e.isObject,d=e.merge,g=e.pick;return{getColor:function(e,t){var i,o,s,r,n=t.index,a=t.mapOptionsToLevel,l=t.parentColor,d=t.parentColorIndex,h=t.series,c=t.colors,p=t.siblings,f=h.points,u=h.chart.options.chart;return e&&(f=f[e.i],e=a[e.level]||{},(a=f&&e.colorByPoint)&&(o=f.index%(c?c.length:u.colorCount),s=c&&c[o]),h.chart.styledMode||(c=f&&f.options.color,u=e&&e.color,(i=l)&&(i=(i=e&&e.colorVariation)&&"brightness"===i.key?m.parse(l).brighten(n/p*i.to).get():l),i=g(c,u,s,i,h.color)),r=g(f&&f.options.colorIndex,e&&e.colorIndex,o,d,t.colorIndex)),{color:i,colorIndex:r}},getLevelOptions:function(e){var t=null;if(l(e)){t={};var s=a(e.from)?e.from:1,i=e.levels,o={},r=l(e.defaults)?e.defaults:{};for(n(i)&&(o=i.reduce(function(e,t){var i,o;return l(t)&&a(t.level)&&(o="boolean"==typeof(i=d({},t)).levelIsConstant?i.levelIsConstant:r.levelIsConstant,delete i.levelIsConstant,delete i.level,t=t.level+(o?0:s-1),l(e[t])?h(e[t],i):e[t]=i),e},{})),i=a(e.to)?e.to:1,e=0;e<=i;e++)t[e]=d({},r,l(o[e])?o[e]:{})}return t},setTreeValues:function o(s,r){var e=r.before,t=r.idRoot,i=r.mapIdToNode[t],n=r.points[s.i],a=n&&n.options||{},l=0,d=[];return h(s,{levelDynamic:s.level-("boolean"!=typeof r.levelIsConstant||r.levelIsConstant?0:i.level),name:g(n&&n.name,""),visible:t===s.id||"boolean"==typeof r.visible&&r.visible}),"function"==typeof e&&(s=e(s,r)),s.children.forEach(function(e,t){var i=h({},r);h(i,{index:t,siblings:s.children.length,visible:s.visible}),e=o(e,i),d.push(e),e.visible&&(l+=e.val)}),s.visible=0<l||s.visible,e=g(a.value,l),h(s,{children:d,childrenTotal:l,isLeaf:s.visible&&!l,val:e}),s},updateRootId:function(e){var t;return l(e)&&(t=l(e.options)?e.options:{},t=g(e.rootNode,t.rootId,""),l(e.userOptions)&&(e.userOptions.rootId=t),e.rootNode=t),t}}}),t(e,"Core/Axis/GridAxis.js",[e["Core/Axis/Axis.js"],e["Core/Globals.js"],e["Core/Options.js"],e["Core/Axis/Tick.js"],e["Core/Utilities.js"]],function(l,e,t,i,r){var o=t.dateFormat,s=r.addEvent,n=r.defined,d=r.erase,h=r.find,a=r.isArray,u=r.isNumber,c=r.merge,m=r.pick,p=r.timeUnits,f=r.wrap;t=e.Chart;l.prototype.getMaxLabelDimensions=function(o,e){var s={width:0,height:0};return e.forEach(function(e){var t,i=o[e];e=0,r.isObject(i,!0)&&(i=(t=r.isObject(i.label,!0)?i.label:{}).getBBox?t.getBBox().height:0,t.textStr&&(e=Math.round(t.getBBox().width)),s.height=Math.max(i,s.height),s.width=Math.max(e,s.width))}),s},e.dateFormats.W=function(e){e=new this.Date(e);var t=(this.get("Day",e)+6)%7,i=new this.Date(e.valueOf());return this.set("Date",i,this.get("Date",e)-t+3),t=new this.Date(this.get("FullYear",i),0,1),4!==this.get("Day",t)&&(this.set("Month",e,0),this.set("Date",e,1+(11-this.get("Day",t))%7)),(1+Math.floor((i.valueOf()-t.valueOf())/6048e5)).toString()},e.dateFormats.E=function(e){return o("%a",e,!0).charAt(0)},s(t,"afterSetChartSize",function(){this.axes.forEach(function(e){(e.grid&&e.grid.columns||[]).forEach(function(e){e.setAxisSize(),e.setAxisTranslation()})})}),s(i,"afterGetLabelPosition",function(e){var t,i=this.label,o=this.axis,s=o.reversed,r=o.chart,n=o.options.grid||{},a=o.options.labels,l=a.align,d=x.Side[o.side],h=e.tickmarkOffset,c=o.tickPositions,p=this.pos-h,c=u(c[e.index+1])?c[e.index+1]-h:o.max+h,h=(f=o.tickSize("tick"))?f[0]:0,f=f?f[1]/2:0;!0===n.enabled&&("top"===d?t=(n=o.top+o.offset)-h:"bottom"===d?n=(t=r.chartHeight-o.bottom+o.offset)+h:(n=o.top+o.len-o.translate(s?c:p),t=o.top+o.len-o.translate(s?p:c)),"right"===d?s=(d=r.chartWidth-o.right+o.offset)+h:"left"===d?d=(s=o.left+o.offset)-h:(d=Math.round(o.left+o.translate(s?c:p))-f,s=Math.round(o.left+o.translate(s?p:c))-f),this.slotWidth=s-d,e.pos.x="left"===l?d:"right"===l?s:d+(s-d)/2,e.pos.y=t+(n-t)/2,r=r.renderer.fontMetrics(a.style.fontSize,i.element),i=i.getBBox().height,a.useHTML?e.pos.y+=r.b+-i/2:(i=Math.round(i/r.h),e.pos.y+=(r.b-(r.h-r.f))/2+-((i-1)*r.h)/2),e.pos.x+=o.horiz&&a.x||0)});var g,v=(b.prototype.isOuterAxis=function(){var i=this.axis,e=i.grid.columnIndex,t=i.linkedParent&&i.linkedParent.grid.columns||i.grid.columns,o=e?i.linkedParent:i,s=-1,r=0;return i.chart[i.coll].forEach(function(e,t){e.side!==i.side||e.options.isInternal||(r=t,e===o&&(s=t))}),r===s&&(!u(e)||t.length===e)},b),x=(k.compose=function(e){l.keepProps.push("grid"),f(e.prototype,"unsquish",k.wrapUnsquish),s(e,"init",k.onInit),s(e,"afterGetOffset",k.onAfterGetOffset),s(e,"afterGetTitlePosition",k.onAfterGetTitlePosition),s(e,"afterInit",k.onAfterInit),s(e,"afterRender",k.onAfterRender),s(e,"afterSetAxisTranslation",k.onAfterSetAxisTranslation),s(e,"afterSetOptions",k.onAfterSetOptions),s(e,"afterSetOptions",k.onAfterSetOptions2),s(e,"afterSetScale",k.onAfterSetScale),s(e,"afterTickSize",k.onAfterTickSize),s(e,"trimTicks",k.onTrimTicks),s(e,"destroy",k.onDestroy)},k.onAfterGetOffset=function(){var e=this.grid;(e&&e.columns||[]).forEach(function(e){e.getOffset()})},k.onAfterGetTitlePosition=function(e){var t,i,o,s,r,n,a,l,d,h,c,p,f,u;!0===(this.options.grid||{}).enabled&&(f=this.axisTitle,t=this.height,i=this.horiz,o=this.left,s=this.offset,r=this.opposite,n=void 0===(a=this.options.title)?{}:a,a=this.top,l=this.width,u=this.tickSize(),d=f&&f.getBBox().width,h=n.x||0,c=n.y||0,p=m(n.margin,i?5:10),f=this.chart.renderer.fontMetrics(n.style&&n.style.fontSize,f).f,u=(i?a+t:o)+(i?1:-1)*(r?-1:1)*(u?u[0]/2:0)+(this.side===k.Side.bottom?f:0),e.titlePosition.x=i?o-d/2-p+h:u+(r?l:0)+s+h,e.titlePosition.y=i?u-(r?t:0)+(r?f:-f)/2+s+c:a-p+c)},k.onAfterInit=function(){var e,t,i=this.chart,o=void 0===(o=this.options.grid)?{}:o,s=this.userOptions;if(o.enabled&&((t=(e=this).options).labels||(t.labels={}),t.labels.align=m(t.labels.align,"center"),e.categories||(t.showLastLabel=!1),e.labelRotation=0,t.labels.rotation=0,f(this,"labelFormatter",function(e){var t=this.axis,i=this.value,o=t.tickPositions,s=(t.isLinked?t.linkedParent:t).series[0],r=i===o[0],o=i===o[o.length-1],s=s&&h(s.options.data,function(e){return e[t.isXAxis?"x":"y"]===i});return this.isFirst=r,this.isLast=o,this.point=s,e.call(this)})),o.columns)for(var r=this.grid.columns=[],n=this.grid.columnIndex=0;++n<o.columns.length;){var a=c(s,o.columns[o.columns.length-n-1],{linkedTo:0,type:"category",scrollbar:{enabled:!1}});delete a.grid.columns,(a=new l(this.chart,a)).grid.isColumn=!0,a.grid.columnIndex=n,d(i.axes,a),d(i[this.coll],a),r.push(a)}},k.onAfterRender=function(){var e,t,i,o,s,r=this.grid,n=this.options,a=this.chart.renderer;!0===(n.grid||{}).enabled&&(this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.grid&&this.grid.isOuterAxis()&&this.axisLine&&(e=n.lineWidth)&&(i=(t=this.getLinePath(e))[0],o=t[1],s=((this.tickSize("tick")||[1])[0]-1)*(this.side===k.Side.top||this.side===k.Side.left?-1:1),"M"===i[0]&&"L"===o[0]&&(this.horiz?(i[2]+=s,o[2]+=s):(i[1]+=s,o[1]+=s)),this.grid.axisLineExtra?this.grid.axisLineExtra.animate({d:t}):(this.grid.axisLineExtra=a.path(t).attr({zIndex:7}).addClass("highcharts-axis-line").add(this.axisGroup),a.styledMode||this.grid.axisLineExtra.attr({stroke:n.lineColor,"stroke-width":e})),this.axisLine[this.showAxis?"show":"hide"](!0)),(r&&r.columns||[]).forEach(function(e){e.render()}))},k.onAfterSetAxisTranslation=function(){var e=this.tickPositions&&this.tickPositions.info,t=this.options,i=t.grid||{},o=this.userOptions.labels||{};this.horiz&&(!0===i.enabled&&this.series.forEach(function(e){e.options.pointRange=0}),e&&t.dateTimeLabelFormats&&t.labels&&!n(o.align)&&(!1===t.dateTimeLabelFormats[e.unitName].range||1<e.count)&&(t.labels.align="left",n(o.x)||(t.labels.x=3)))},k.onAfterSetOptions=function(e){var t=this.options;e=e.userOptions;var l,i=t&&r.isObject(t.grid,!0)?t.grid:{};!0===i.enabled&&(l=c(!0,{className:"highcharts-grid-axis "+(e.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"13px"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},e),"xAxis"===this.coll&&(n(e.linkedTo)&&!n(e.tickPixelInterval)&&(l.tickPixelInterval=350),n(e.tickPixelInterval)||!n(e.linkedTo)||n(e.tickPositioner)||n(e.tickInterval)||(l.tickPositioner=function(e,t){var i=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(i){for(var o,s,r=l.units,n=0;n<r.length;n++)if(r[n][0]===i.unitName){var a=n;break}return r[a+1]?(o=r[a+1][0],s=(r[a+1][1]||[1])[0]):"year"===i.unitName&&(o="year",s=10*i.count),i=p[o],this.tickInterval=i*s,this.getTimeTicks({unitRange:i,count:s,unitName:o},e,t,this.options.startOfWeek)}})),c(!0,this.options,l),this.horiz&&(t.minPadding=m(e.minPadding,0),t.maxPadding=m(e.maxPadding,0)),u(t.grid.borderWidth)&&(t.tickWidth=t.lineWidth=i.borderWidth))},k.onAfterSetOptions2=function(e){var t=(e=(e=e.userOptions)&&e.grid||{}).columns;e.enabled&&t&&c(!0,this.options,t[t.length-1])},k.onAfterSetScale=function(){(this.grid.columns||[]).forEach(function(e){e.setScale()})},k.onAfterTickSize=function(e){var t=l.defaultLeftAxisOptions,i=this.horiz,o=this.maxLabelDimensions,s=this.options.grid;(s=void 0===s?{}:s).enabled&&o&&(t=2*Math.abs(t.labels.x),i=i?s.cellHeight||t+o.height:t+o.width,a(e.tickSize)?e.tickSize[0]=i:e.tickSize=[i,0])},k.onDestroy=function(t){var e=this.grid;(e.columns||[]).forEach(function(e){e.destroy(t.keepEvents)}),e.columns=void 0},k.onInit=function(e){var t=(e=e.userOptions||{}).grid||{};t.enabled&&n(t.borderColor)&&(e.tickColor=e.lineColor=t.borderColor),this.grid||(this.grid=new v(this))},k.onTrimTicks=function(){var e=this.options,t=this.categories,i=this.tickPositions,o=i[0],s=i[i.length-1],r=this.linkedParent&&this.linkedParent.min||this.min,n=this.linkedParent&&this.linkedParent.max||this.max,a=this.tickInterval;!0!==(e.grid||{}).enabled||t||!this.horiz&&!this.isLinked||(o<r&&r<o+a&&!e.startOnTick&&(i[0]=r),n<s&&s-a<n&&!e.endOnTick&&(i[i.length-1]=n))},k.wrapUnsquish=function(e){var t=this.options.grid;return!0===(void 0===t?{}:t).enabled&&this.categories?this.tickInterval:e.apply(this,Array.prototype.slice.call(arguments,1))},k);function k(){}function b(e){this.axis=e}return(g=(g=x=x||{}).Side||(g.Side={}))[g.top=0]="top",g[g.right=1]="right",g[g.bottom=2]="bottom",g[g.left=3]="left",x.compose(l),x}),t(e,"Core/Axis/BrokenAxis.js",[e["Core/Axis/Axis.js"],e["Core/Globals.js"],e["Core/Utilities.js"],e["Extensions/Stacking.js"]],function(f,e,t,n){var o=t.addEvent,i=t.find,u=t.fireEvent,s=t.isArray,d=t.isNumber,m=t.pick,r=e.Series,a=(g.isInBreak=function(e,t){var i=e.repeat||1/0,o=e.from,s=e.to-e.from;return t=o<=t?(t-o)%i:i-(o-t)%i,e.inclusive?t<=s:t<s&&0!==t},g.lin2Val=function(e){var t,i=this.brokenAxis;if(!(i=i&&i.breakArray))return e;for(t=0;t<i.length;t++){var o=i[t];if(o.from>=e)break;(o.to<e||g.isInBreak(o,e))&&(e+=o.len)}return e},g.val2Lin=function(e){var t=this.brokenAxis;if(!(t=t&&t.breakArray))return e;for(var i=e,o=0;o<t.length;o++){var s=t[o];if(s.to<=e)i-=s.len;else{if(s.from>=e)break;if(g.isInBreak(s,e)){i-=e-s.from;break}}}return i},g.prototype.findBreakAt=function(t,e){return i(e,function(e){return e.from<t&&t<e.to})},g.prototype.isInAnyBreak=function(e,t){var i,o,s=this.axis,r=s.options.breaks,n=r&&r.length;if(n){for(;n--;)g.isInBreak(r[n],e)&&(i=!0,o=o||m(r[n].showPoints,!s.isXAxis));var a=i&&t?i&&!o:i}return a},g.prototype.setBreaks=function(e,t){var c=this,p=c.axis,i=s(e)&&!!e.length;p.isDirty=c.hasBreaks!==i,c.hasBreaks=i,p.options.breaks=p.userOptions.breaks=e,p.forceRedraw=!0,p.series.forEach(function(e){e.isDirty=!0}),i||p.val2lin!==g.val2Lin||(delete p.val2lin,delete p.lin2val),i&&(p.userOptions.ordinal=!1,p.lin2val=g.lin2Val,p.val2lin=g.val2Lin,p.setExtremes=function(e,t,i,o,s){if(c.hasBreaks){for(var r,n=this.options.breaks;r=c.findBreakAt(e,n);)e=r.to;for(;r=c.findBreakAt(t,n);)t=r.from;t<e&&(t=e)}f.prototype.setExtremes.call(this,e,t,i,o,s)},p.setAxisTranslation=function(e){var t,i,o,s,r,n,a,l,d,h;f.prototype.setAxisTranslation.call(this,e),c.unitLength=null,c.hasBreaks&&(e=p.options.breaks||[],t=[],i=[],o=0,r=p.userMin||p.min,n=p.userMax||p.max,a=m(p.pointRangePadding,0),e.forEach(function(e){s=e.repeat||1/0,g.isInBreak(e,r)&&(r+=e.to%s-r%s),g.isInBreak(e,n)&&(n-=n%s-e.from%s)}),e.forEach(function(e){for(h=e.from,s=e.repeat||1/0;r<h-s;)h-=s;for(;h<r;)h+=s;for(l=h;l<n;l+=s)t.push({value:l,move:"in"}),t.push({value:l+(e.to-e.from),move:"out",size:e.breakSize})}),t.sort(function(e,t){return e.value===t.value?("in"===e.move?0:1)-("in"===t.move?0:1):e.value-t.value}),d=0,h=r,t.forEach(function(e){1===(d+="in"===e.move?1:-1)&&"in"===e.move&&(h=e.value),0===d&&(i.push({from:h,to:e.value,len:e.value-h-(e.size||0)}),o+=e.value-h-(e.size||0))}),p.breakArray=c.breakArray=i,c.unitLength=n-r-o+a,u(p,"afterBreaks"),p.staticScale?p.transA=p.staticScale:c.unitLength&&(p.transA*=(n-p.min+a)/c.unitLength),a&&(p.minPixelPadding=p.transA*p.minPointOffset),p.min=r,p.max=n)}),m(t,!0)&&p.chart.redraw()},g);function g(e){this.hasBreaks=!1,this.axis=e}function l(){}return l.compose=function(e,t){e.keepProps.push("brokenAxis");var i=r.prototype;i.drawBreaks=function(i,e){var o,s,r,n,t,a=this,l=a.points;i&&i.brokenAxis&&i.brokenAxis.hasBreaks&&(t=i.brokenAxis,e.forEach(function(e){o=t&&t.breakArray||[],s=i.isXAxis?i.min:m(a.options.threshold,i.min),l.forEach(function(t){n=m(t["stack"+e.toUpperCase()],t[e]),o.forEach(function(e){d(s)&&d(n)&&(r=!1,s<e.from&&n>e.to||s>e.from&&n<e.from?r="pointBreak":(s<e.from&&n>e.from&&n<e.to||s>e.from&&n>e.to&&n<e.from)&&(r="pointInBreak"),r&&u(i,r,{point:t,brk:e}))})})}))},i.gappedPath=function(){var e,t=(i=this.currentDataGrouping)&&i.gapSize,i=this.options.gapSize,o=this.points.slice(),s=o.length-1,r=this.yAxis;if(i&&0<s)for("value"!==this.options.gapUnit&&(i*=this.basePointRange),t&&i<t&&t>=this.basePointRange&&(i=t),e=void 0;s--;)e&&!1!==e.visible||(e=o[s+1]),t=o[s],!1!==e.visible&&!1!==t.visible&&(e.x-t.x>i&&(e=(t.x+e.x)/2,o.splice(s+1,0,{isNull:!0,x:e}),r.stacking&&this.options.stacking&&((e=r.stacking.stacks[this.stackKey][e]=new n(r,r.options.stackLabels,!1,e,this.stack)).total=0)),e=t);return this.getGraphPath(o)},o(e,"init",function(){this.brokenAxis||(this.brokenAxis=new a(this))}),o(e,"afterInit",function(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}),o(e,"afterSetTickPositions",function(){var e=this.brokenAxis;if(e&&e.hasBreaks){for(var t=this.tickPositions,i=this.tickPositions.info,o=[],s=0;s<t.length;s++)e.isInAnyBreak(t[s])||o.push(t[s]);this.tickPositions=o,this.tickPositions.info=i}}),o(e,"afterSetOptions",function(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}),o(t,"afterGeneratePoints",function(){var e=this.options.connectNulls,t=this.points,i=this.xAxis,o=this.yAxis;if(this.isDirty)for(var s=t.length;s--;){var r=t[s],n=!(null===r.y&&!1===e)&&(i&&i.brokenAxis&&i.brokenAxis.isInAnyBreak(r.x,!0)||o&&o.brokenAxis&&o.brokenAxis.isInAnyBreak(r.y,!0));r.visible=!n&&!1!==r.options.visible}}),o(t,"afterRender",function(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,m(this.pointArrayMap,["y"]))})},(e=l).compose(f,r),e}),t(e,"Core/Axis/TreeGridAxis.js",[e["Core/Axis/Axis.js"],e["Core/Axis/Tick.js"],e["Gantt/Tree.js"],e["Core/Axis/TreeGridTick.js"],e["Mixins/TreeSeries.js"],e["Core/Utilities.js"]],function(e,c,f,p,t,i){var o,u=t.getLevelOptions,m=i.addEvent,g=i.find,v=i.fireEvent,x=i.isNumber,k=i.isObject,b=i.isString,y=i.merge,A=i.pick,G=i.wrap;return function(e){function s(e,t){var i=e.collapseStart||0;return t<=(e=e.collapseEnd||0)&&(i-=.5),{from:i,to:e,showPoints:!1}}function l(e,t,i){var n,a,l=[],o=[],d={},h={},c=-1,p="boolean"==typeof t&&t;return e=f.getTree(e,{after:function(e){e=h[e.pos];var t=0,i=0;e.children.forEach(function(e){i+=(e.descendants||0)+1,t=Math.max((e.height||0)+1,t)}),e.descendants=i,e.height=t,e.collapsed&&o.push(e)},before:function(e){var t,i=k(e.data,!0)?e.data:{},o=b(i.name)?i.name:"",s=d[e.parent],s=k(s,!0)?h[s.pos]:null,r=function(e){return e.name===o};p&&k(s,!0)&&(t=g(s.children,r))?(r=t.pos,t.nodes.push(e)):r=c++,h[r]||(h[r]=t={depth:s?s.depth+1:0,name:o,nodes:[e],children:[],pos:r},-1!==r&&l.push(o),k(s,!0)&&s.children.push(t)),b(e.id)&&(d[e.id]=e),t&&!0===i.collapsed&&(t.collapsed=!0),e.pos=r}}),n=i,h=(a=function(e,i,t){var o=i+(-1===i?0:n-1),s=(o-i)/2,r=i+s;return e.nodes.forEach(function(e){var t=e.data;k(t,!0)&&(t.y=i+(t.seriesIndex||0),delete t.seriesIndex),e.pos=r}),(t[r]=e).pos=r,e.tickmarkOffset=.5+s,e.collapseStart=o+.5,e.children.forEach(function(e){a(e,o+1,t),o=(e.collapseEnd||0)-.5}),e.collapseEnd=o+.5,t})(h[-1],-1,{}),{categories:l,mapOfIdToNode:d,mapOfPosToGridNode:h,collapsedNodes:o,tree:e}}function r(a){a.target.axes.filter(function(e){return"treegrid"===e.options.type}).forEach(function(e){var t=e.options||{},i=t.labels,o=t.uniqueNames,s=0,r=t.max;if(!e.treeGrid.mapOfPosToGridNode||e.series.some(function(e){return!e.hasRendered||e.isDirtyData||e.isDirty})){if(t=e.series.reduce(function(t,e){return e.visible&&((e.options.data||[]).forEach(function(e){k(e,!0)&&(e.seriesIndex=s,t.push(e))}),!0===o&&s++),t},[]),r&&t.length<r)for(var n=t.length;n<=r;n++)t.push({name:n+"​"});t=l(t,o||!1,!0===o?s:1),e.categories=t.categories,e.treeGrid.mapOfPosToGridNode=t.mapOfPosToGridNode,e.hasNames=!0,e.treeGrid.tree=t.tree,e.series.forEach(function(e){var t=(e.options.data||[]).map(function(e){return k(e,!0)?y(e):e});e.visible&&e.setData(t,!1)}),e.treeGrid.mapOptionsToLevel=u({defaults:i,from:1,levels:i&&i.levels,to:e.treeGrid.tree&&e.treeGrid.tree.height}),"beforeRender"===a.type&&(e.treeGrid.collapsedNodes=t.collapsedNodes)}})}function t(e,t){var i,o,s=this.treeGrid.mapOptionsToLevel||{},r=this.ticks,n=r[t];"treegrid"===this.options.type&&this.treeGrid.mapOfPosToGridNode?((s=s[(o=this.treeGrid.mapOfPosToGridNode[t]).depth])&&(i={labels:s}),n?(n.parameters.category=o.name,n.options=i,n.addLabel()):r[t]=new c(this,t,void 0,void 0,{category:o.name,tickmarkOffset:o.tickmarkOffset,options:i})):e.apply(this,Array.prototype.slice.call(arguments,1))}function i(e){var t,i=(i=(i=this.options)&&i.labels)&&x(i.indentation)?i.indentation:0,o=e.apply(this,Array.prototype.slice.call(arguments,1));return"treegrid"===this.options.type&&this.treeGrid.mapOfPosToGridNode&&(t=this.treeGrid.mapOfPosToGridNode[-1].height||0,o.width+=i*(t-1)),o}function o(e,t,i){var o=this,s="treegrid"===i.type;o.treeGrid||(o.treeGrid=new d(o)),s&&(m(t,"beforeRender",r),m(t,"beforeRedraw",r),m(t,"addSeries",function(e){e.options.data&&(e=l(e.options.data,i.uniqueNames||!1,1),o.treeGrid.collapsedNodes=(o.treeGrid.collapsedNodes||[]).concat(e.collapsedNodes))}),m(o,"foundExtremes",function(){o.treeGrid.collapsedNodes&&o.treeGrid.collapsedNodes.forEach(function(t){var e=o.treeGrid.collapse(t);o.brokenAxis&&(o.brokenAxis.setBreaks(e,!1),o.treeGrid.collapsedNodes&&(o.treeGrid.collapsedNodes=o.treeGrid.collapsedNodes.filter(function(e){return t.collapseStart!==e.collapseStart||t.collapseEnd!==e.collapseEnd})))})}),m(o,"afterBreaks",function(){var e;"yAxis"===o.coll&&!o.staticScale&&null!==(e=o.chart.options.chart)&&void 0!==e&&e.height&&(o.isDirty=!0)}),i=y({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10,padding:5}},uniqueNames:!1},i,{reversed:!0,grid:{columns:void 0}})),e.apply(o,[t,i]),s&&(o.hasNames=!0,o.options.showLastLabel=!0)}function n(e){var t=this.options;"treegrid"===t.type?(this.min=A(this.userMin,t.min,this.dataMin),this.max=A(this.userMax,t.max,this.dataMax),v(this,"foundExtremes"),this.setAxisTranslation(!0),this.tickmarkOffset=.5,this.tickInterval=1,this.tickPositions=this.treeGrid.mapOfPosToGridNode?this.treeGrid.getTickPositions():[]):e.apply(this,Array.prototype.slice.call(arguments,1))}var a=!1;e.compose=function(e){a||(G(e.prototype,"generateTick",t),G(e.prototype,"getMaxLabelDimensions",i),G(e.prototype,"init",o),G(e.prototype,"setTickInterval",n),p.compose(c),a=!0)};var d=(h.prototype.collapse=function(e){var t=this.axis,i=t.options.breaks||[];return e=s(e,t.max),i.push(e),i},h.prototype.expand=function(e){var t=this.axis,i=t.options.breaks||[],o=s(e,t.max);return i.reduce(function(e,t){return t.to===o.to&&t.from===o.from||e.push(t),e},[])},h.prototype.getTickPositions=function(){var i=this.axis;return Object.keys(i.treeGrid.mapOfPosToGridNode||{}).reduce(function(e,t){return t=+t,!(i.min<=t&&i.max>=t)||i.brokenAxis&&i.brokenAxis.isInAnyBreak(t)||e.push(t),e},[])},h.prototype.isCollapsed=function(e){var t=this.axis,i=t.options.breaks||[],o=s(e,t.max);return i.some(function(e){return e.from===o.from&&e.to===o.to})},h.prototype.toggleCollapse=function(e){return this.isCollapsed(e)?this.expand(e):this.collapse(e)},h);function h(e){this.axis=e}e.Additions=d}(o=o||{}),e.prototype.utils={getNode:f.getNode},o.compose(e),o}),t(e,"masters/modules/treegrid.src.js",[],function(){})});