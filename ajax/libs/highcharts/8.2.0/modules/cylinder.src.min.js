"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/cylinder",["highcharts","highcharts/highcharts-3d"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var e=t?t._modules:{};function n(t,e,n,r){t.hasOwnProperty(e)||(t[e]=r.apply(null,n))}n(e,"Series/CylinderSeries.js",[e["Core/Globals.js"],e["Core/Color.js"],e["Extensions/Math3D.js"],e["Core/Utilities.js"]],function(t,e,n,r){function u(t){return!t.some(function(t){return"C"===t[0]})}var s,i=e.parse,C=n.perspective,o=r.merge,g=r.pick,h=r.seriesType,p=t.charts,x=t.deg2rad,a=t.Renderer.prototype,c=a.cuboidPath;h("cylinder","column",{},{},{shapeType:"cylinder",hasNewShapeType:t.seriesTypes.column.prototype.pointClass.prototype.hasNewShapeType}),s=o(a.elements3d.cuboid,{parts:["top","bottom","front","back"],pathType:"cylinder",fillSetter:function(t){return this.singleSetterForParts("fill",null,{front:t,back:t,top:i(t).brighten(.1).get(),bottom:i(t).brighten(-.1).get()}),this.color=this.fill=t,this}}),a.elements3d.cylinder=s,a.cylinder=function(t){return this.element3d("cylinder",t)},a.cylinderPath=function(t){var e=this,n=p[e.chartIndex],r=c.call(e,t),s=!r.isTop,i=!r.isFront,o=e.getCylinderEnd(n,t),h=e.getCylinderEnd(n,t,!0);return{front:e.getCylinderFront(o,h),back:e.getCylinderBack(o,h),top:o,bottom:h,zIndexes:{top:s?3:0,bottom:s?0:3,front:i?2:1,back:i?1:2,group:r.zIndexes.group}}},a.getCylinderFront=function(t,e){var n,r,s,i=t.slice(0,3);return u(e)?"M"===(n=e[0])[0]&&(i.push(e[2]),i.push(e[1]),i.push(["L",n[1],n[2]])):(n=e[0],r=e[1],s=e[2],"M"===n[0]&&"C"===r[0]&&"C"===s[0]&&(i.push(["L",s[5],s[6]]),i.push(["C",s[3],s[4],s[1],s[2],r[5],r[6]]),i.push(["C",r[3],r[4],r[1],r[2],n[1],n[2]]))),i.push(["Z"]),i},a.getCylinderBack=function(t,e){var n,r,s,i,o,h=[];return u(t)?(r=t[0],n=t[2],"M"===r[0]&&"L"===n[0]&&(h.push(["M",n[1],n[2]]),h.push(t[3]),h.push(["L",r[1],r[2]]))):("C"===t[2][0]&&h.push(["M",t[2][5],t[2][6]]),h.push(t[3],t[4])),u(e)?"M"===(r=e[0])[0]&&(h.push(["L",r[1],r[2]]),h.push(e[3]),h.push(e[2])):(s=e[2],i=e[3],o=e[4],"C"===s[0]&&"C"===i[0]&&"C"===o[0]&&(h.push(["L",o[5],o[6]]),h.push(["C",o[3],o[4],o[1],o[2],i[5],i[6]]),h.push(["C",i[3],i[4],i[1],i[2],s[5],s[6]]))),h.push(["Z"]),h},a.getCylinderEnd=function(t,e,n){var r,s,i,o=g(e.depth,e.width),h=Math.min(e.width,o)/2,u=x*(t.options.chart.options3d.beta-90+(e.alphaCorrection||0)),p=e.y+(n?e.height:0),a=.5519*h,c=e.width/2+e.x,d=o/2+e.z,y=[{x:0,y:p,z:h},{x:a,y:p,z:h},{x:h,y:p,z:a},{x:h,y:p,z:0},{x:h,y:p,z:-a},{x:a,y:p,z:-h},{x:0,y:p,z:-h},{x:-a,y:p,z:-h},{x:-h,y:p,z:-a},{x:-h,y:p,z:0},{x:-h,y:p,z:a},{x:-a,y:p,z:h},{x:0,y:p,z:h}],l=Math.cos(u),f=Math.sin(u);return y.forEach(function(t,e){s=t.x,i=t.z,y[e].x=s*l-i*f+c,y[e].z=i*l+s*f+d}),r=C(y,t,!0),Math.abs(r[3].y-r[9].y)<2.5&&Math.abs(r[0].y-r[6].y)<2.5?this.toLinePath([r[0],r[3],r[6],r[9]],!0):this.getCurvedPath(r)},a.getCurvedPath=function(t){for(var e=[["M",t[0].x,t[0].y]],n=t.length-2,r=1;r<n;r+=3)e.push(["C",t[r].x,t[r].y,t[r+1].x,t[r+1].y,t[r+2].x,t[r+2].y]);return e}}),n(e,"masters/modules/cylinder.src.js",[],function(){})});