"use strict";!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/indicators/bollinger-bands",["highcharts","highcharts/modules/stock"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var i=t?t._modules:{};function o(t,i,o,e){t.hasOwnProperty(i)||(t[i]=e.apply(null,o))}o(i,"Mixins/MultipleLines.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],function(t,i){var h=i.defined,c=i.error,d=i.merge,u=t.seriesTypes.sma;return{pointArrayMap:["top","bottom"],pointValKey:"top",linesApiNames:["bottomLine"],getTranslatedLinesNames:function(i){var o=[];return(this.pointArrayMap||[]).forEach(function(t){t!==i&&o.push("plot"+t.charAt(0).toUpperCase()+t.slice(1))}),o},toYData:function(i){var o=[];return(this.pointArrayMap||[]).forEach(function(t){o.push(i[t])}),o},translate:function(){var e,n=this,t=n.pointArrayMap,a=n.getTranslatedLinesNames();u.prototype.translate.apply(n,arguments),n.points.forEach(function(o){t.forEach(function(t,i){null!==(e=o[t])&&(o[a[i]]=n.yAxis.toPixels(e,!0))})})},drawGraph:function(){var o,e=this,t=e.pointValKey,i=e.linesApiNames,n=e.points,a=n.length,r=e.options,s=e.graph,p={options:{gapSize:r.gapSize}},l=[];e.getTranslatedLinesNames(t).forEach(function(t,i){for(l[i]=[];a--;)o=n[a],l[i].push({x:o.x,plotX:o.plotX,plotY:o[t],isNull:!h(o[t])});a=n.length}),i.forEach(function(t,i){l[i]?(e.points=l[i],r[t]?e.options=d(r[t].styles,p):c('Error: "There is no '+t+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names." at mixin/multiple-line.js:34'),e.graph=e["graph"+t],u.prototype.drawGraph.call(e),e["graph"+t]=e.graph):c('Error: "'+t+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")}),e.points=n,e.options=r,e.graph=s,u.prototype.drawGraph.call(e)}}}),o(i,"Stock/Indicators/BBIndicator.js",[i["Core/Globals.js"],i["Core/Utilities.js"],i["Mixins/MultipleLines.js"]],function(t,i,o){var x=i.isArray,e=i.merge,n=i.seriesType,A=t.seriesTypes.sma;function D(t,i,o,e){for(var n,a=0,r=t.length,s=0;s<r;s++)a+=(n=(o?t[s][i]:t[s])-e)*n;return a/=r-1,Math.sqrt(a)}n("bb","sma",{params:{period:20,standardDeviation:2,index:3},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"}},e(o,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameComponents:["period","standardDeviation"],linesApiNames:["topLine","bottomLine"],init:function(){A.prototype.init.apply(this,arguments),this.options=e({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(t,i){var o,e,n,a,r,s,p,l,h,c,d=i.period,u=i.standardDeviation,m=t.xData,f=t.yData,y=f?f.length:0,g=[],b=[],v=[];if(!(m.length<d)){for(l=x(f[0]),c=d;c<=y;c++)r=m.slice(c-d,c),s=f.slice(c-d,c),a=(h=A.prototype.getValues.call(this,{xData:r,yData:s},i)).xData[0],e=(o=h.yData[0])+u*(p=D(s,i.index,l,o)),n=o-u*p,g.push([a,e,o,n]),b.push(a),v.push([e,o,n]);return{values:g,xData:b,yData:v}}}}))}),o(i,"masters/indicators/bollinger-bands.src.js",[],function(){})});