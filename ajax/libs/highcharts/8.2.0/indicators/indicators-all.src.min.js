"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/indicators/indicators-all",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){var t=e?e._modules:{};function o(e,t,o,a){e.hasOwnProperty(t)||(e[t]=a.apply(null,o))}o(t,"Mixins/IndicatorRequired.js",[t["Core/Utilities.js"]],function(e){var n=e.error;return{isParentLoaded:function(e,t,o,a,i){return e?!a||a(e):(n(i||this.generateMessage(o,t)),!1)},generateMessage:function(e,t){return'Error: "'+e+'" indicator type requires "'+t+'" indicator loaded before. Please read docs: https://api.highcharts.com/highstock/plotOptions.'+e}}}),o(t,"Stock/Indicators/Indicators.js",[t["Core/Globals.js"],t["Mixins/IndicatorRequired.js"],t["Core/Utilities.js"]],function(e,t,o){var n=o.addEvent,s=o.error,a=o.extend,y=o.isArray,i=o.pick,r=o.seriesType,h=o.splat,l=e.Series,p=e.seriesTypes,u=e.seriesTypes.ohlc.prototype,d=t.generateMessage;n(e.Series,"init",function(e){var t=e.options;t.useOhlcData&&"highcharts-navigator-series"!==t.id&&a(this,{pointValKey:u.pointValKey,keys:u.keys,pointArrayMap:u.pointArrayMap,toYData:u.toYData})}),n(l,"afterSetOptions",function(e){var t=e.options,o=t.dataGrouping;o&&t.useOhlcData&&"highcharts-navigator-series"!==t.id&&(o.approximation="ohlc")}),r("sma","line",{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:!1,params:{index:0,period:14}},{processData:function(){var e=this,t=e.options.compareToMain,o=e.linkedParent;l.prototype.processData.apply(e,arguments),o&&o.compareValue&&t&&(e.compareValue=o.compareValue)},bindTo:{series:!0,eventName:"updatedData"},hasDerivedData:!0,useCommonDataGrouping:!0,nameComponents:["period"],nameSuffixes:[],calculateOn:"init",requiredIndicators:[],requireIndicators:function(){var t={allLoaded:!0};return this.requiredIndicators.forEach(function(e){p[e]?p[e].prototype.requireIndicators():(t.allLoaded=!1,t.needed=e)}),t},init:function(e,t){var o,c=this,a=c.requireIndicators();if(!a.allLoaded)return s(d(c.type,a.needed));function i(){var e,t,o,a,i,n,s=c.points||[],r=(c.xData||[]).length,l=c.getValues(c.linkedParent,c.options.params)||{values:[],xData:[],yData:[]},p=[],u=!0;if(r&&!c.hasGroupedData&&c.visible&&c.points)if(c.cropped){for(c.xAxis&&(a=c.xAxis.min,i=c.xAxis.max),o=c.cropData(l.xData,l.yData,a,i),n=0;n<o.xData.length;n++)p.push([o.xData[n]].concat(h(o.yData[n])));e=l.xData.indexOf(c.xData[0]),t=l.xData.indexOf(c.xData[c.xData.length-1]),-1===e&&t===l.xData.length-2&&p[0][0]===s[0].x&&p.shift(),c.updateData(p)}else l.xData.length!==r-1&&l.xData.length!==r+1&&(u=!1,c.updateData(l.values));u&&(c.xData=l.xData,c.yData=l.yData,c.options.data=l.values),!1===c.bindTo.series&&(delete c.processedXData,c.isDirty=!0,c.redraw()),c.isDirtyData=!1}return l.prototype.init.call(c,e,t),e.linkSeries(),c.dataEventsToUnbind=[],c.linkedParent?(c.dataEventsToUnbind.push(n(c.bindTo.series?c.linkedParent:c.linkedParent.xAxis,c.bindTo.eventName,i)),"init"===c.calculateOn?i():o=n(c.chart,c.calculateOn,function(){i(),o()}),c):s("Series "+c.options.linkedTo+" not found! Check `linkedTo`.",!1,e)},getName:function(){var e=this.name,o=[];return e||((this.nameComponents||[]).forEach(function(e,t){o.push(this.options.params[e]+i(this.nameSuffixes[t],""))},this),e=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+o.join(", ")+")":"")),e},getValues:function(e,t){var o,a,i=t.period,n=e.xData,s=e.yData,r=s.length,l=0,p=0,u=[],c=[],h=[],d=-1;if(!(n.length<i)){for(y(s[0])&&(d=t.index?t.index:0);l<i-1;)p+=d<0?s[l]:s[l][d],l++;for(o=l;o<r;o++)p+=d<0?s[o]:s[o][d],a=[n[o],p/i],u.push(a),c.push(a[0]),h.push(a[1]),p-=d<0?s[o-l]:s[o-l][d];return{values:u,xData:c,yData:h}}},destroy:function(){this.dataEventsToUnbind.forEach(function(e){e()}),l.prototype.destroy.apply(this,arguments)}})}),o(t,"Stock/Indicators/ADIndicator.js",[t["Core/Utilities.js"]],function(e){var b=e.error;(0,e.seriesType)("ad","sma",{params:{volumeSeriesID:"volume"}},{nameComponents:!1,nameBase:"Accumulation/Distribution",getValues:function(e,t){var o,a,i,n,s,r,l,p,u,c,h,d,y=t.period,m=e.xData,f=e.yData,g=t.volumeSeriesID,v=e.chart.get(g),D=v&&v.yData,x=f?f.length:0,C=[],A=[],S=[];if(!(m.length<=y&&x&&4!==f[0].length)){if(v){for(a=y;a<x;a++)o=C.length,n=m,r=D,0,p=(s=f)[l=a][1],u=s[l][2],c=s[l][3],h=r[l],d=c===p&&c===u||p===u?0:(2*c-u-p)/(p-u)*h,i=[n[l],d],0<o&&(i[1]+=C[o-1][1]),C.push(i),A.push(i[0]),S.push(i[1]);return{values:C,xData:A,yData:S}}b("Series "+g+" not found! Check `volumeSeriesID`.",!0,e.chart)}}})}),o(t,"Stock/Indicators/AOIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(e,t){var m=t.correctFloat,f=t.isArray;(0,t.seriesType)("ao","sma",{greaterBarColor:"#06B535",lowerBarColor:"#F21313",threshold:0,groupPadding:.2,pointPadding:.2,crisp:!1,states:{hover:{halo:{size:0}}}},{nameBase:"AO",nameComponents:!1,markerAttribs:e.noop,getColumnMetrics:e.seriesTypes.column.prototype.getColumnMetrics,crispCol:e.seriesTypes.column.prototype.crispCol,translate:e.seriesTypes.column.prototype.translate,drawPoints:e.seriesTypes.column.prototype.drawPoints,drawGraph:function(){var e,t=this.options,o=this.points,a=this.userOptions.color,i=t.greaterBarColor,n=t.lowerBarColor,s=o[0];if(!a&&s)for(s.color=i,e=1;e<o.length;e++)o[e].y>o[e-1].y?o[e].color=i:o[e].y<o[e-1].y?o[e].color=n:o[e].color=o[e-1].color},getValues:function(e){var t,o,a,i,n,s,r=e.xData||[],l=e.yData||[],p=l.length,u=[],c=[],h=[],d=0,y=0;if(!(r.length<=34)&&f(l[0])&&4===l[0].length){for(n=0;n<33;n++)i=(l[n][1]+l[n][2])/2,29<=n&&(d=m(d+i)),y=m(y+i);for(s=33;s<p;s++)i=(l[s][1]+l[s][2])/2,d=m(d+i),y=m(y+i),t=m(d/5-y/34),u.push([r[s],t]),c.push(r[s]),h.push(t),a=s+1-34,d=m(d-(l[o=s+1-5][1]+l[o][2])/2),y=m(y-(l[a][1]+l[a][2])/2);return{values:u,xData:c,yData:h}}}})}),o(t,"Mixins/MultipleLines.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(e,t){var u=t.defined,c=t.error,h=t.merge,d=e.seriesTypes.sma;return{pointArrayMap:["top","bottom"],pointValKey:"top",linesApiNames:["bottomLine"],getTranslatedLinesNames:function(t){var o=[];return(this.pointArrayMap||[]).forEach(function(e){e!==t&&o.push("plot"+e.charAt(0).toUpperCase()+e.slice(1))}),o},toYData:function(t){var o=[];return(this.pointArrayMap||[]).forEach(function(e){o.push(t[e])}),o},translate:function(){var a,i=this,e=i.pointArrayMap,n=i.getTranslatedLinesNames();d.prototype.translate.apply(i,arguments),i.points.forEach(function(o){e.forEach(function(e,t){null!==(a=o[e])&&(o[n[t]]=i.yAxis.toPixels(a,!0))})})},drawGraph:function(){var o,a=this,e=a.pointValKey,t=a.linesApiNames,i=a.points,n=i.length,s=a.options,r=a.graph,l={options:{gapSize:s.gapSize}},p=[];a.getTranslatedLinesNames(e).forEach(function(e,t){for(p[t]=[];n--;)o=i[n],p[t].push({x:o.x,plotX:o.plotX,plotY:o[e],isNull:!u(o[e])});n=i.length}),t.forEach(function(e,t){p[t]?(a.points=p[t],s[e]?a.options=h(s[e].styles,l):c('Error: "There is no '+e+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names." at mixin/multiple-line.js:34'),a.graph=a["graph"+e],d.prototype.drawGraph.call(a),a["graph"+e]=a.graph):c('Error: "'+e+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")}),a.points=i,a.options=s,a.graph=r,d.prototype.drawGraph.call(a)}}}),o(t,"Stock/Indicators/AroonIndicator.js",[t["Core/Utilities.js"],t["Mixins/MultipleLines.js"]],function(e,t){var o=e.merge,y=e.pick;function m(e,t){for(var o=e[0],a=0,i=1;i<e.length;i++)("max"===t&&e[i]>=o||"min"===t&&e[i]<=o)&&(o=e[i],a=i);return a}(0,e.seriesType)("aroon","sma",{params:{period:25},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Aroon Up: {point.y}<br/>Aroon Down: {point.aroonDown}<br/>'},aroonDown:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}},o(t,{nameBase:"Aroon",pointArrayMap:["y","aroonDown"],pointValKey:"y",linesApiNames:["aroonDown"],getValues:function(e,t){for(var o,a,i,n,s=t.period,r=e.xData,l=e.yData,p=l?l.length:0,u=[],c=[],h=[],d=s-1;d<p;d++)n=m((o=l.slice(d-s+1,d+2)).map(function(e){return y(e[2],e)}),"min"),a=m(o.map(function(e){return y(e[1],e)}),"max")/s*100,i=n/s*100,r[d+1]&&(u.push([r[d+1],a,i]),c.push(r[d+1]),h.push([a,i]));return{values:u,xData:c,yData:h}}}))}),o(t,"Stock/Indicators/AroonOscillatorIndicator.js",[t["Core/Globals.js"],t["Mixins/MultipleLines.js"],t["Mixins/IndicatorRequired.js"],t["Core/Utilities.js"]],function(e,t,a,o){var i=o.merge,n=o.seriesType,l=e.seriesTypes.aroon;n("aroonoscillator","aroon",{params:{period:25},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b>: {point.y}'}},i(t,{nameBase:"Aroon Oscillator",pointArrayMap:["y"],pointValKey:"y",linesApiNames:[],init:function(){var t=arguments,o=this;a.isParentLoaded(l,"aroon",o.type,function(e){e.prototype.init.apply(o,t)})},getValues:function(e,t){for(var o,a=[],i=[],n=[],s=l.prototype.getValues.call(this,e,t),r=0;r<s.yData.length;r++)o=s.yData[r][0]-s.yData[r][1],a.push([s.xData[r],o]),i.push(s.xData[r]),n.push(o);return{values:a,xData:i,yData:n}}}))}),o(t,"Stock/Indicators/ATRIndicator.js",[t["Core/Utilities.js"]],function(e){var r,b=e.isArray;function k(e,t){var o=e,a=t,i=o[1]-o[2],n=a===r?0:Math.abs(o[1]-a[3]),s=a===r?0:Math.abs(o[2]-a[3]);return Math.max(i,n,s)}(0,e.seriesType)("atr","sma",{params:{period:14}},{getValues:function(e,t){var o,a,i,n,s,r,l,p,u,c,h,d=t.period,y=e.xData,m=e.yData,f=m?m.length:0,g=1,v=0,D=0,x=[],C=[],A=[],S=[[y[0],m[0]]];if(!(y.length<=d)&&b(m[0])&&4===m[0].length){for(a=1;a<=f;a++)l=S,p=m,0,c=y[u=a],h=p[u],l.push([c,h]),d<g?(i=m,s=d,r=v,v=(o=[y[(n=a)-1],(r*(s-1)+k(i[n-1],i[n-2]))/s])[1],x.push(o),C.push(o[0]),A.push(o[1])):(d===g?(v=D/(a-1),x.push([y[a-1],v]),C.push(y[a-1]),A.push(v)):D+=k(m[a-1],m[a-2]),g++);return{values:x,xData:C,yData:A}}}})}),o(t,"Stock/Indicators/BBIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/MultipleLines.js"]],function(e,t,o){var x=t.isArray,a=t.merge,i=t.seriesType,C=e.seriesTypes.sma;function A(e,t,o,a){for(var i,n=0,s=e.length,r=0;r<s;r++)n+=(i=(o?e[r][t]:e[r])-a)*i;return n/=s-1,Math.sqrt(n)}i("bb","sma",{params:{period:20,standardDeviation:2,index:3},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"}},a(o,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameComponents:["period","standardDeviation"],linesApiNames:["topLine","bottomLine"],init:function(){C.prototype.init.apply(this,arguments),this.options=a({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(e,t){var o,a,i,n,s,r,l,p,u,c,h=t.period,d=t.standardDeviation,y=e.xData,m=e.yData,f=m?m.length:0,g=[],v=[],D=[];if(!(y.length<h)){for(p=x(m[0]),c=h;c<=f;c++)s=y.slice(c-h,c),r=m.slice(c-h,c),n=(u=C.prototype.getValues.call(this,{xData:s,yData:r},t)).xData[0],a=(o=u.yData[0])+d*(l=A(r,t.index,p,o)),i=o-d*l,g.push([n,a,o,i]),v.push(n),D.push([a,o,i]);return{values:g,xData:v,yData:D}}}}))}),o(t,"Stock/Indicators/CCIIndicator.js",[t["Core/Utilities.js"]],function(e){var v=e.isArray;function D(e,t){for(var o=e.length,a=0,i=0;i<o;i++)a+=Math.abs(t-e[i]);return a}(0,e.seriesType)("cci","sma",{params:{period:14}},{getValues:function(e,t){var o,a,i,n,s,r,l=t.period,p=e.xData,u=e.yData,c=u?u.length:0,h=[],d=[],y=1,m=[],f=[],g=[];if(!(p.length<=l)&&v(u[0])&&4===u[0].length){for(;y<l;)a=u[y-1],h.push((a[1]+a[2]+a[3])/3),y++;for(r=l;r<=c;r++)s=((a=u[r-1])[1]+a[2]+a[3])/3,i=h.push(s),d=h.slice(i-l),o=(s-(n=d.reduce(function(e,t){return e+t},0)/l))/(.015*(D(d,n)/l)),m.push([p[r-1],o]),f.push(p[r-1]),g.push(o);return{values:m,xData:f,yData:g}}}})}),o(t,"Stock/Indicators/CMFIndicator.js",[t["Core/Utilities.js"]],function(e){(0,e.seriesType)("cmf","sma",{params:{period:14,volumeSeriesID:"volume"}},{nameBase:"Chaikin Money Flow",isValid:function(){var e=this.chart,t=this.options,o=this.linkedParent,a=this.volumeSeries||(this.volumeSeries=e.get(t.params.volumeSeriesID)),i=o&&o.yData&&4===o.yData[0].length;function n(e){return e.xData&&e.xData.length>=t.params.period}return!!(o&&a&&n(o)&&n(a)&&i)},getValues:function(e,t){if(this.isValid())return this.getMoneyFlow(e.xData,e.yData,this.volumeSeries.yData,t.period)},getMoneyFlow:function(e,t,o,a){var l,i,n=t.length,s=[],r=0,p=0,u=[],c=[],h=[],d=-1;function y(e,t){var o,a,i,n=e[1],s=e[2],r=e[3];return null!==t&&null!==n&&null!==s&&null!==r&&n!==s?((i=r)-(a=s)-((o=n)-i))/(o-a)*t:(d=l,null)}if(0<a&&a<=n){for(l=0;l<a;l++)s[l]=y(t[l],o[l]),r+=o[l],p+=s[l];for(u.push(e[l-1]),c.push(a<=l-d&&0!==r?p/r:null),h.push([u[0],c[0]]);l<n;l++)s[l]=y(t[l],o[l]),r-=o[l-a],r+=o[l],p-=s[l-a],p+=s[l],i=[e[l],a<=l-d?p/r:null],u.push(i[0]),c.push(i[1]),h.push([i[0],i[1]])}return{values:h,xData:u,yData:c}}})}),o(t,"Stock/Indicators/DPOIndicator.js",[t["Core/Utilities.js"]],function(e){var s=e.correctFloat,f=e.pick;function g(e,t,o,a,i){var n=f(t[o][a],t[o]);return s(i?e-n:e+n)}(0,e.seriesType)("dpo","sma",{params:{period:21}},{nameBase:"DPO",getValues:function(e,t){var o,a,i,n,s=t.period,r=t.index,l=s+Math.floor(s/2+1),p=e.xData||[],u=e.yData||[],c=u.length,h=[],d=[],y=[],m=0;if(!(p.length<=l)){for(i=0;i<s-1;i++)m=g(m,u,i,r);for(n=0;n<=c-l;n++)a=n+l-1,m=g(m,u,n+s-1,r),o=f(u[a][r],u[a])-m/s,m=g(m,u,n,r,!0),h.push([p[a],o]),d.push(p[a]),y.push(o);return{values:h,xData:d,yData:y}}}})}),o(t,"Stock/Indicators/EMAIndicator.js",[t["Core/Utilities.js"]],function(e){var p=e.correctFloat,m=e.isArray;(0,e.seriesType)("ema","sma",{params:{index:3,period:9}},{accumulatePeriodPoints:function(e,t,o){for(var a=0,i=0;i<e;)a+=t<0?o[i]:o[i][t],i++;return a},calculateEma:function(e,t,o,a,i,n,s){var r=e[o-1],l=n<0?t[o-1]:t[o-1][n];return[r,void 0===i?s:p(l*a+i*(1-a))]},getValues:function(e,t){var o,a,i,n,s=t.period,r=e.xData,l=e.yData,p=l?l.length:0,u=2/(s+1),c=[],h=[],d=[],y=-1;if(!(p<s)){for(m(l[0])&&(y=t.index?t.index:0),o=this.accumulatePeriodPoints(s,y,l)/s,n=s;n<p+1;n++)i=this.calculateEma(r,l,n,u,a,y,o),c.push(i),h.push(i[0]),d.push(i[1]),a=i[1];return{values:c,xData:h,yData:d}}}})}),o(t,"Stock/Indicators/ChaikinIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/IndicatorRequired.js"]],function(e,t,a){var d=t.correctFloat,y=t.error,o=t.seriesType,m=e.seriesTypes.ema,f=e.seriesTypes.ad;o("chaikin","ema",{params:{volumeSeriesID:"volume",periods:[3,10]}},{nameBase:"Chaikin Osc",nameComponents:["periods"],init:function(){var t=arguments,o=this;a.isParentLoaded(m,"ema",o.type,function(e){e.prototype.init.apply(o,t)})},getValues:function(e,t){var o,a,i,n,s,r,l=t.periods,p=t.period,u=[],c=[],h=[];if(2!==l.length||l[1]<=l[0])y('Error: "Chaikin requires two periods. Notice, first period should be lower than the second one."');else if((o=f.prototype.getValues.call(this,e,{volumeSeriesID:t.volumeSeriesID,period:p}))&&(i=m.prototype.getValues.call(this,o,{period:l[0]}),n=m.prototype.getValues.call(this,o,{period:l[1]}),i&&n)){for(a=l[1]-l[0],r=0;r<n.yData.length;r++)s=d(i.yData[r+a]-n.yData[r]),u.push([n.xData[r],s]),c.push(n.xData[r]),h.push(s);return{values:u,xData:c,yData:h}}}})}),o(t,"Stock/Indicators/DEMAIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/IndicatorRequired.js"]],function(e,t,a){var x=t.correctFloat,C=t.isArray,o=t.seriesType,A=e.seriesTypes.ema;o("dema","ema",{},{init:function(){var t=arguments,o=this;a.isParentLoaded(A,"ema",o.type,function(e){e.prototype.init.apply(o,t)})},getEMA:function(e,t,o,a,i,n){return A.prototype.calculateEma(n||[],e,void 0===i?1:i,this.chart.series[0].EMApercent,t,void 0===a?-1:a,o)},getValues:function(e,t){var o,a,i,n,s,r=t.period,l=2*r,p=e.xData,u=e.yData,c=u?u.length:0,h=-1,d=0,y=0,m=[],f=[],g=[],v=0,D=[];if(e.EMApercent=2/(r+1),!(c<2*r-1)){for(C(u[0])&&(h=t.index?t.index:0),y=(d=A.prototype.accumulatePeriodPoints(r,h,u))/r,d=0,n=r;n<c+2;n++)n<c+1&&(v=this.getEMA(u,a,y,h,n)[1],D.push(v)),a=v,n<l?d+=v:(n===l&&(y=d/r),v=D[n-r-1],o=this.getEMA([v],i,y)[1],s=[p[n-2],x(2*v-o)],m.push(s),f.push(s[0]),g.push(s[1]),i=o);return{values:m,xData:f,yData:g}}}})}),o(t,"Stock/Indicators/TEMAIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/IndicatorRequired.js"]],function(e,t,a){var i=t.correctFloat,C=t.isArray,o=t.seriesType,A=e.seriesTypes.ema;o("tema","ema",{},{init:function(){var t=arguments,o=this;a.isParentLoaded(A,"ema",o.type,function(e){e.prototype.init.apply(o,t)})},getEMA:function(e,t,o,a,i,n){return A.prototype.calculateEma(n||[],e,void 0===i?1:i,this.chart.series[0].EMApercent,t,void 0===a?-1:a,o)},getTemaPoint:function(e,t,o,a){return[e[a-3],i(3*o.level1-3*o.level2+o.level3)]},getValues:function(e,t){var o,a,i,n,s=t.period,r=2*s,l=3*s,p=e.xData,u=e.yData,c=u?u.length:0,h=-1,d=0,y=0,m=[],f=[],g=[],v=[],D=[],x={};if(e.EMApercent=2/(s+1),!(c<3*s-2)){for(C(u[0])&&(h=t.index?t.index:0),y=(d=A.prototype.accumulatePeriodPoints(s,h,u))/s,d=0,i=s;i<c+3;i++)i<c+1&&(x.level1=this.getEMA(u,o,y,h,i)[1],v.push(x.level1)),o=x.level1,i<r?d+=x.level1:(i===r&&(y=d/s,d=0),x.level1=v[i-s-1],x.level2=this.getEMA([x.level1],a,y)[1],D.push(x.level2),a=x.level2,i<l?d+=x.level2:(i===l&&(y=d/s),i===c+1&&(x.level1=v[i-s-1],x.level2=this.getEMA([x.level1],a,y)[1],D.push(x.level2)),x.level1=v[i-s-2],x.level2=D[i-2*s-1],x.level3=this.getEMA([x.level2],x.prevLevel3,y)[1],(n=this.getTemaPoint(p,l,x,i))&&(m.push(n),f.push(n[0]),g.push(n[1])),x.prevLevel3=x.level3));return{values:m,xData:f,yData:g}}}})}),o(t,"Stock/Indicators/TRIXIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/IndicatorRequired.js"]],function(e,t,a){var n=t.correctFloat,o=t.seriesType,i=e.seriesTypes.tema;o("trix","tema",{},{init:function(){var t=arguments,o=this;a.isParentLoaded(i,"tema",o.type,function(e){e.prototype.init.apply(o,t)})},getTemaPoint:function(e,t,o,a){var i;return t<a&&(i=[e[a-3],0!==o.prevLevel3?n(o.level3-o.prevLevel3)/o.prevLevel3*100:null]),i}})}),o(t,"Stock/Indicators/APOIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/IndicatorRequired.js"]],function(e,t,a){var h=t.error,o=t.seriesType,d=e.seriesTypes.ema;o("apo","ema",{params:{periods:[10,20]}},{nameBase:"APO",nameComponents:["periods"],init:function(){var t=arguments,o=this;a.isParentLoaded(d,"ema",o.type,function(e){e.prototype.init.apply(o,t)})},getValues:function(e,t){var o,a,i,n,s,r=t.periods,l=t.index,p=[],u=[],c=[];if(2!==r.length||r[1]<=r[0])h('Error: "APO requires two periods. Notice, first period should be lower than the second one."');else if(a=d.prototype.getValues.call(this,e,{index:l,period:r[0]}),i=d.prototype.getValues.call(this,e,{index:l,period:r[1]}),a&&i){for(o=r[1]-r[0],s=0;s<i.yData.length;s++)n=a.yData[s+o]-i.yData[s],p.push([i.xData[s],n]),u.push(i.xData[s]),c.push(n);return{values:p,xData:u,yData:c}}}})}),o(t,"Stock/Indicators/IKHIndicator.js",[t["Core/Globals.js"],t["Core/Color.js"],t["Core/Utilities.js"]],function(i,e,t){var P,o=e.parse,G=t.defined,T=t.isArray,w=t.merge,B=t.objectEach,a=t.seriesType,N=i.seriesTypes.sma;function j(e){return{high:e.reduce(function(e,t){return Math.max(e,t[1])},-1/0),low:e.reduce(function(e,t){return Math.min(e,t[2])},1/0)}}function U(e,t,o,a){if(e&&t&&o&&a){var i=t.plotX-e.plotX,n=t.plotY-e.plotY,s=a.plotX-o.plotX,r=a.plotY-o.plotY,l=e.plotX-o.plotX,p=e.plotY-o.plotY,u=(-n*l+i*p)/(-s*n+i*r),c=(s*p-r*l)/(-s*n+i*r);if(0<=u&&u<=1&&0<=c&&c<=1)return{plotX:e.plotX+c*i,plotY:e.plotY+c*n}}return!1}function Y(e){var t=e.indicator;t.points=e.points,t.nextPoints=e.nextPoints,t.color=e.color,t.options=w(e.options.senkouSpan.styles,e.gap),t.graph=e.graph,t.fillGraph=!0,N.prototype.drawGraph.call(t)}a("ikh","sma",{params:{period:26,periodTenkan:9,periodSenkouSpanB:52},marker:{enabled:!(i.approximations["ichimoku-averages"]=function(){var o,a=[];return[].forEach.call(arguments,function(e,t){a.push(i.approximations.average(e)),o=!o&&void 0===a[t]}),o?void 0:a})},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>TENKAN SEN: {point.tenkanSen:.3f}<br/>KIJUN SEN: {point.kijunSen:.3f}<br/>CHIKOU SPAN: {point.chikouSpan:.3f}<br/>SENKOU SPAN A: {point.senkouSpanA:.3f}<br/>SENKOU SPAN B: {point.senkouSpanB:.3f}<br/>'},tenkanLine:{styles:{lineWidth:1,lineColor:void 0}},kijunLine:{styles:{lineWidth:1,lineColor:void 0}},chikouLine:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanA:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanB:{styles:{lineWidth:1,lineColor:void 0}},senkouSpan:{styles:{fill:"rgba(255, 0, 0, 0.5)"}},dataGrouping:{approximation:"ichimoku-averages"}},{pointArrayMap:["tenkanSen","kijunSen","chikouSpan","senkouSpanA","senkouSpanB"],pointValKey:"tenkanSen",nameComponents:["periodSenkouSpanB","period","periodTenkan"],init:function(){N.prototype.init.apply(this,arguments),this.options=w({tenkanLine:{styles:{lineColor:this.color}},kijunLine:{styles:{lineColor:this.color}},chikouLine:{styles:{lineColor:this.color}},senkouSpanA:{styles:{lineColor:this.color,fill:o(this.color).setOpacity(.5).get()}},senkouSpanB:{styles:{lineColor:this.color,fill:o(this.color).setOpacity(.5).get()}},senkouSpan:{styles:{fill:o(this.color).setOpacity(.2).get()}}},this.options)},toYData:function(e){return[e.tenkanSen,e.kijunSen,e.chikouSpan,e.senkouSpanA,e.senkouSpanB]},translate:function(){var o=this;N.prototype.translate.apply(o),o.points.forEach(function(t){o.pointArrayMap.forEach(function(e){G(t[e])&&(t["plot"+e]=o.yAxis.toPixels(t[e],!0),t.plotY=t["plot"+e],t.tooltipPos=[t.plotX,t["plot"+e]],t.isNull=!1)})})},drawGraph:function(){var e,t,o,a,i,n,s,r,l,p,u,c,h,d,y,m,f=this,g=f.points,v=g.length,D=f.options,x=f.graph,C=f.color,A={options:{gapSize:D.gapSize}},S=f.pointArrayMap.length,b=[[],[],[],[],[],[]],k={tenkanLine:b[0],kijunLine:b[1],chikouLine:b[2],senkouSpanA:b[3],senkouSpanB:b[4],senkouSpan:b[5]},I=[],M=f.options.senkouSpan,P=M.color||M.styles.fill,T=M.negativeColor,j=[[],[]],L=[[],[]],V=0;for(f.ikhMap=k;v--;){for(t=g[v],o=0;o<S;o++)e=f.pointArrayMap[o],G(t[e])&&b[o].push({plotX:t.plotX,plotY:t["plot"+e],isNull:!1});T&&v!==g.length-1&&(d=k.senkouSpanB.length-1,m={plotX:(y=U(k.senkouSpanA[d-1],k.senkouSpanA[d],k.senkouSpanB[d-1],k.senkouSpanB[d])).plotX,plotY:y.plotY,isNull:!1,intersectPoint:!0},y&&(k.senkouSpanA.splice(d,0,m),k.senkouSpanB.splice(d,0,m),I.push(d)))}if(B(k,function(e,t){D[t]&&"senkouSpan"!==t&&(f.points=b[V],f.options=w(D[t].styles,A),f.graph=f["graph"+t],f.fillGraph=!1,f.color=C,N.prototype.drawGraph.call(f),f["graph"+t]=f.graph),V++}),f.graphCollection&&f.graphCollection.forEach(function(e){f[e].destroy(),delete f[e]}),f.graphCollection=[],T&&k.senkouSpanA[0]&&k.senkouSpanB[0]){for(I.unshift(0),I.push(k.senkouSpanA.length-1),c=0;c<I.length-1;c++)if(a=I[c],i=I[c+1],n=k.senkouSpanB.slice(a,i+1),s=k.senkouSpanA.slice(a,i+1),1<=Math.floor(n.length/2)){var E=Math.floor(n.length/2);if(n[E].plotY===s[E].plotY){for(h=l=r=0;h<n.length;h++)r+=n[h].plotY,l+=s[h].plotY;j[u=l<r?0:1]=j[u].concat(n),L[u]=L[u].concat(s)}else u=n[E].plotY>s[E].plotY?0:1,j[u]=j[u].concat(n),L[u]=L[u].concat(s)}else u=n[0].plotY>s[0].plotY?0:1,j[u]=j[u].concat(n),L[u]=L[u].concat(s);["graphsenkouSpanColor","graphsenkouSpanNegativeColor"].forEach(function(e,t){j[t].length&&L[t].length&&(p=0===t?P:T,Y({indicator:f,points:j[t],nextPoints:L[t],color:p,options:D,gap:A,graph:f[e]}),f[e]=f.graph,f.graphCollection.push(e))})}else Y({indicator:f,points:k.senkouSpanB,nextPoints:k.senkouSpanA,color:P,options:D,gap:A,graph:f.graphsenkouSpan}),f.graphsenkouSpan=f.graph;delete f.nextPoints,delete f.fillGraph,f.points=g,f.options=D,f.graph=x},getGraphPath:function(e){var t,o=this,a=[],i=[];if(e=e||this.points,o.fillGraph&&o.nextPoints){(t=N.prototype.getGraphPath.call(o,o.nextPoints))[0][0]="L",a=N.prototype.getGraphPath.call(o,e);for(var n=(i=t.slice(0,a.length)).length-1;0<=n;n--)a.push(i[n])}else a=N.prototype.getGraphPath.apply(o,arguments);return a},getValues:function(e,t){var o,a,i,n,s,r,l,p,u,c,h,d,y,m,f,g,v=t.period,D=t.periodTenkan,x=t.periodSenkouSpanB,C=e.xData,A=e.yData,S=e.xAxis,b=A&&A.length||0,k=(S.series.forEach(function(e){if(e.xData)for(f=e.xData,y=e.xIncrement?1:f.length-1,g=y;0<g;g--)m=f[g]-f[g-1],(d===P||m<d)&&(d=m)}),d),I=[],M=[];if(!(C.length<=v)&&T(A[0])&&4===A[0].length){for(o=C[0]-v*k,r=0;r<v;r++)M.push(o+r*k);for(r=0;r<b;r++)D<=r&&(l=((i=j(A.slice(r-D,r))).high+i.low)/2),v<=r&&(c=(l+(p=((n=j(A.slice(r-v,r))).high+n.low)/2))/2),x<=r&&(h=((s=j(A.slice(r-x,r))).high+s.low)/2),u=A[r][3],a=C[r],I[r]===P&&(I[r]=[]),I[r+v]===P&&(I[r+v]=[]),I[r+v][0]=l,I[r+v][1]=p,I[r+v][2]=P,I[r][2]=u,r<=v&&(I[r+v][3]=P,I[r+v][4]=P),I[r+2*v]===P&&(I[r+2*v]=[]),I[r+2*v][3]=c,I[r+2*v][4]=h,M.push(a);for(r=1;r<=v;r++)M.push(a+r*k);return{values:I,xData:M,yData:I}}}})}),o(t,"Stock/Indicators/KeltnerChannelsIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/MultipleLines.js"]],function(e,t,o){var x=t.correctFloat,a=t.merge,i=t.seriesType,n=e.seriesTypes.sma,C=e.seriesTypes.ema,A=e.seriesTypes.atr;i("keltnerchannels","sma",{params:{period:20,periodATR:10,multiplierATR:2},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Upper Channel: {point.top}<br/>EMA({series.options.params.period}): {point.middle}<br/>Lower Channel: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"},lineWidth:1},a(o,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameBase:"Keltner Channels",nameComponents:["period","periodATR","multiplierATR"],linesApiNames:["topLine","bottomLine"],requiredIndicators:["ema","atr"],init:function(){n.prototype.init.apply(this,arguments),this.options=a({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(e,t){var o,a,i,n,s,r,l,p=t.period,u=t.periodATR,c=t.multiplierATR,h=t.index,d=e.yData,y=d?d.length:0,m=[],f=C.prototype.getValues(e,{period:p,index:h}),g=A.prototype.getValues(e,{period:u}),v=[],D=[];if(!(y<p)){for(l=p;l<=y;l++)s=f.values[l-p],r=g.values[l-u],n=s[0],a=x(s[1]+c*r[1]),i=x(s[1]-c*r[1]),o=s[1],m.push([n,a,o,i]),v.push(n),D.push([a,o,i]);return{values:m,xData:v,yData:D}}}}))}),o(t,"Stock/Indicators/MACDIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(e,t){var u=t.correctFloat,c=t.defined,l=t.merge,o=t.seriesType,a=e.noop,p=e.seriesTypes.sma,h=e.seriesTypes.ema;o("macd","sma",{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,crisp:!1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},dataGrouping:{approximation:"averages"},minPointLength:0},{nameComponents:["longPeriod","shortPeriod","signalPeriod"],requiredIndicators:["ema"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:a,getColumnMetrics:e.seriesTypes.column.prototype.getColumnMetrics,crispCol:e.seriesTypes.column.prototype.crispCol,init:function(){p.prototype.init.apply(this,arguments),this.options&&(this.options=l({signalLine:{styles:{lineColor:this.color}},macdLine:{styles:{color:this.color}}},this.options),this.macdZones={zones:this.options.macdLine.zones,startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length},this.resetZones=!0)},toYData:function(e){return[e.y,e.signal,e.MACD]},translate:function(){var a=this,i=["plotSignal","plotMACD"];e.seriesTypes.column.prototype.translate.apply(a),a.points.forEach(function(o){[o.signal,o.MACD].forEach(function(e,t){null!==e&&(o[i[t]]=a.yAxis.toPixels(e,!0))})})},destroy:function(){this.graph=null,this.graphmacd=this.graphmacd&&this.graphmacd.destroy(),this.graphsignal=this.graphsignal&&this.graphsignal.destroy(),p.prototype.destroy.apply(this,arguments)},drawPoints:e.seriesTypes.column.prototype.drawPoints,drawGraph:function(){for(var e,o=this,t=o.points,a=t.length,i=o.options,n=o.zones,s={options:{gapSize:i.gapSize}},r=[[],[]];a--;)e=t[a],c(e.plotMACD)&&r[0].push({plotX:e.plotX,plotY:e.plotMACD,isNull:!c(e.plotMACD)}),c(e.plotSignal)&&r[1].push({plotX:e.plotX,plotY:e.plotSignal,isNull:!c(e.plotMACD)});["macd","signal"].forEach(function(e,t){o.points=r[t],o.options=l(i[e+"Line"].styles,s),o.graph=o["graph"+e],o.currentLineZone=e+"Zones",o.zones=o[o.currentLineZone].zones,p.prototype.drawGraph.call(o),o["graph"+e]=o.graph}),o.points=t,o.options=i,o.zones=n,o.currentLineZone=null},getZonesGraphs:function(e){var t=p.prototype.getZonesGraphs.call(this,e),o=t;return this.currentLineZone&&((o=t.splice(this[this.currentLineZone].startIndex+1)).length?o.splice(0,0,e[0]):o=[e[0]]),o},applyZones:function(){var e=this.zones;this.zones=this.signalZones.zones,p.prototype.applyZones.call(this),this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide(),this.zones=e},getValues:function(e,t){var o,a,i,n=0,s=[],r=[],l=[],p=[];if(!(e.xData.length<t.longPeriod+t.signalPeriod)){for(o=h.prototype.getValues(e,{period:t.shortPeriod}),a=h.prototype.getValues(e,{period:t.longPeriod}),o=o.values,a=a.values,i=1;i<=o.length;i++)c(a[i-1])&&c(a[i-1][1])&&c(o[i+t.shortPeriod+1])&&c(o[i+t.shortPeriod+1][0])&&s.push([o[i+t.shortPeriod+1][0],0,null,o[i+t.shortPeriod+1][1]-a[i-1][1]]);for(i=0;i<s.length;i++)r.push(s[i][0]),l.push([0,null,s[i][3]]);for(p=(p=h.prototype.getValues({xData:r,yData:l},{period:t.signalPeriod,index:2})).values,i=0;i<s.length;i++)s[i][0]>=p[0][0]&&(s[i][2]=p[n][1],l[i]=[0,p[n][1],s[i][3]],null===s[i][3]?(s[i][1]=0,l[i][0]=0):(s[i][1]=u(s[i][3]-p[n][1]),l[i][0]=u(s[i][3]-p[n][1])),n++);return{values:s,xData:r,yData:l}}}})}),o(t,"Stock/Indicators/MFIIndicator.js",[t["Core/Utilities.js"]],function(e){var A=e.error,S=e.isArray;function b(e){return e.reduce(function(e,t){return e+t})}function k(e){return(e[1]+e[2]+e[3])/3}(0,e.seriesType)("mfi","sma",{params:{period:14,volumeSeriesID:"volume",decimals:4}},{nameBase:"Money Flow Index",getValues:function(e,t){var o,a,i,n,s,r,l=t.period,p=e.xData,u=e.yData,c=u?u.length:0,h=t.decimals,d=1,y=e.chart.get(t.volumeSeriesID),m=y&&y.yData,f=[],g=!1,v=[],D=[],x=[],C=[];if(y){if(!(p.length<=l)&&S(u[0])&&4===u[0].length&&m){for(o=k(u[d]);d<l+1;)g=o<=(o=k(u[d])),a=o*m[d],x.push(g?a:0),C.push(g?0:a),d++;for(r=d-1;r<c;r++)d-1<r&&(x.shift(),C.shift(),g=o<(o=k(u[r])),a=o*m[r],x.push(g?a:0),C.push(g?0:a)),i=b(C),n=b(x),s=parseFloat((100-100/(1+n/i)).toFixed(h)),f.push([p[r],s]),v.push(p[r]),D.push(s);return{values:f,xData:v,yData:D}}}else A("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,e.chart)}})}),o(t,"Stock/Indicators/MomentumIndicator.js",[t["Core/Utilities.js"]],function(e){var d=e.isArray;function y(e,t,o,a,i){var n=o[a-1][3]-o[a-i-1][3],s=t[a-1];return e.shift(),[s,n]}(0,e.seriesType)("momentum","sma",{params:{period:14}},{nameBase:"Momentum",getValues:function(e,t){var o,a,i,n=t.period,s=e.xData,r=e.yData,l=r?r.length:0,p=s[0],u=(r[0],[]),c=[],h=[];if(!(s.length<=n)&&d(r[0])){for(a=[[p,r[0][3]]],o=n+1;o<l;o++)i=y(a,s,r,o,n),u.push(i),c.push(i[0]),h.push(i[1]);return i=y(a,s,r,o,n),u.push(i),c.push(i[0]),h.push(i[1]),{values:u,xData:c,yData:h}}}})}),o(t,"Stock/Indicators/NATRIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(e,t){var o=t.seriesType,r=e.seriesTypes.atr;o("natr","sma",{tooltip:{valueSuffix:"%"}},{requiredIndicators:["atr"],getValues:function(e,t){var o=r.prototype.getValues.apply(this,arguments),a=o.values.length,i=t.period-1,n=e.yData,s=0;if(o){for(;s<a;s++)o.yData[s]=o.values[s][1]/n[i][3]*100,o.values[s][1]=o.yData[s],i++;return o}}})}),o(t,"Stock/Indicators/PivotPointsIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(e,t){var u=t.defined,g=t.isArray,o=t.seriesType,c=e.seriesTypes.sma;function a(e,t){var o,a=e.series.pointArrayMap,i=a.length;for(c.prototype.pointClass.prototype[t].call(e);i--;)e[o="dataLabel"+a[i]]&&e[o].element&&e[o].destroy(),e[o]=null}o("pivotpoints","sma",{params:{period:28,algorithm:"standard"},marker:{enabled:!1},enableMouseTracking:!1,dataLabels:{enabled:!0,format:"{point.pivotLine}"},dataGrouping:{approximation:"averages"}},{nameBase:"Pivot Points",pointArrayMap:["R4","R3","R2","R1","P","S1","S2","S3","S4"],pointValKey:"P",toYData:function(e){return[e.P]},translate:function(){var o=this;c.prototype.translate.apply(o),o.points.forEach(function(t){o.pointArrayMap.forEach(function(e){u(t[e])&&(t["plot"+e]=o.yAxis.toPixels(t[e],!0))})}),o.plotEndPoint=o.xAxis.toPixels(o.endPoint,!0)},getGraphPath:function(e){for(var t,o,a,i=this,n=e.length,s=[[],[],[],[],[],[],[],[],[]],r=[],l=i.plotEndPoint,p=i.pointArrayMap.length;n--;){for(o=e[n],a=0;a<p;a++)t=i.pointArrayMap[a],u(o[t])&&s[a].push({plotX:o.plotX,plotY:o["plot"+t],isNull:!1},{plotX:l,plotY:o["plot"+t],isNull:!1},{plotX:l,plotY:null,isNull:!0});l=o.plotX}return s.forEach(function(e){r=r.concat(c.prototype.getGraphPath.call(i,e))}),r},drawDataLabels:function(){var o,a,i,n,s=this,r=s.pointArrayMap;s.options.dataLabels.enabled&&(a=s.points.length,r.concat([!1]).forEach(function(e,t){for(n=a;n--;)i=s.points[n],e?(i.y=i[e],i.pivotLine=e,i.plotY=i["plot"+e],o=i["dataLabel"+e],t&&(i["dataLabel"+r[t-1]]=i.dataLabel),i.dataLabels||(i.dataLabels=[]),i.dataLabels[0]=i.dataLabel=o=o&&o.element?o:null):i["dataLabel"+r[t-1]]=i.dataLabel;c.prototype.drawDataLabels.apply(s,arguments)}))},getValues:function(e,t){var o,a,i,n,s,r,l,p=t.period,u=e.xData,c=e.yData,h=c?c.length:0,d=this[t.algorithm+"Placement"],y=[],m=[],f=[];if(!(u.length<p)&&g(c[0])&&4===c[0].length){for(l=p+1;l<=h+p;l+=p)i=u.slice(l-p-1,l),n=c.slice(l-p-1,l),o=i[(a=i.length)-1],r=d(this.getPivotAndHLC(n)),s=y.push([o].concat(r)),m.push(o),f.push(y[s-1].slice(1));return this.endPoint=i[0]+(o-i[0])/a*p,{values:y,xData:m,yData:f}}},getPivotAndHLC:function(e){var t=-1/0,o=1/0,a=e[e.length-1][3];return e.forEach(function(e){t=Math.max(t,e[1]),o=Math.min(o,e[2])}),[(t+o+a)/3,t,o,a]},standardPlacement:function(e){var t=e[1]-e[2];return[null,null,e[0]+t,2*e[0]-e[2],e[0],2*e[0]-e[1],e[0]-t,null,null]},camarillaPlacement:function(e){var t=e[1]-e[2];return[e[3]+1.5*t,e[3]+1.25*t,e[3]+1.1666*t,e[3]+1.0833*t,e[0],e[3]-1.0833*t,e[3]-1.1666*t,e[3]-1.25*t,e[3]-1.5*t]},fibonacciPlacement:function(e){var t=e[1]-e[2];return[null,e[0]+t,e[0]+.618*t,e[0]+.382*t,e[0],e[0]-.382*t,e[0]-.618*t,e[0]-t,null]}},{destroyElements:function(){a(this,"destroyElements")},destroy:function(){a(this,"destroyElements")}})}),o(t,"Stock/Indicators/PPOIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/IndicatorRequired.js"]],function(e,t,a){var h=t.correctFloat,d=t.error,o=t.seriesType,y=e.seriesTypes.ema;o("ppo","ema",{params:{periods:[12,26]}},{nameBase:"PPO",nameComponents:["periods"],init:function(){var t=arguments,o=this;a.isParentLoaded(y,"ema",o.type,function(e){e.prototype.init.apply(o,t)})},getValues:function(e,t){var o,a,i,n,s,r=t.periods,l=t.index,p=[],u=[],c=[];if(2!==r.length||r[1]<=r[0])d('Error: "PPO requires two periods. Notice, first period should be lower than the second one."');else if(a=y.prototype.getValues.call(this,e,{index:l,period:r[0]}),i=y.prototype.getValues.call(this,e,{index:l,period:r[1]}),a&&i){for(o=r[1]-r[0],s=0;s<i.yData.length;s++)n=h((a.yData[s+o]-i.yData[s])/i.yData[s]*100),p.push([i.xData[s],n]),u.push(i.xData[s]),c.push(n);return{values:p,xData:u,yData:c}}}})}),o(t,"Mixins/ReduceArray.js",[],function(){return{minInArray:function(e,o){return e.reduce(function(e,t){return Math.min(e,t[o])},Number.MAX_VALUE)},maxInArray:function(e,o){return e.reduce(function(e,t){return Math.max(e,t[o])},-Number.MAX_VALUE)},getArrayExtremes:function(e,o,a){return e.reduce(function(e,t){return[Math.min(e[0],t[o]),Math.max(e[1],t[a])]},[Number.MAX_VALUE,-Number.MAX_VALUE])}}}),o(t,"Stock/Indicators/PCIndicator.js",[t["Core/Utilities.js"],t["Mixins/ReduceArray.js"],t["Mixins/MultipleLines.js"]],function(e,t,o){var a=e.merge,i=e.seriesType,f=t.getArrayExtremes;i("pc","sma",{params:{period:20},lineWidth:1,topLine:{styles:{lineColor:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")[2],lineWidth:1}},bottomLine:{styles:{lineColor:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")[8],lineWidth:1}},dataGrouping:{approximation:"averages"}},a(o,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameBase:"Price Channel",nameComponents:["period"],linesApiNames:["topLine","bottomLine"],getValues:function(e,t){var o,a,i,n,s,r,l,p=t.period,u=e.xData,c=e.yData,h=c?c.length:0,d=[],y=[],m=[];if(!(h<p)){for(l=p;l<=h;l++)n=u[l-1],s=c.slice(l-p,l),o=((a=(r=f(s,2,1))[1])+(i=r[0]))/2,d.push([n,a,o,i]),y.push(n),m.push([a,o,i]);return{values:d,xData:y,yData:m}}}}))}),o(t,"Stock/Indicators/PriceEnvelopesIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(e,t){var D=t.isArray,l=t.merge,o=t.seriesType,x=e.seriesTypes.sma;o("priceenvelopes","sma",{marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},params:{period:20,topBand:.1,bottomBand:.1},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}},{nameComponents:["period","topBand","bottomBand"],nameBase:"Price envelopes",pointArrayMap:["top","middle","bottom"],parallelArrays:["x","y","top","bottom"],pointValKey:"middle",init:function(){x.prototype.init.apply(this,arguments),this.options=l({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},toYData:function(e){return[e.top,e.middle,e.bottom]},translate:function(){var a=this,i=["plotTop","plotMiddle","plotBottom"];x.prototype.translate.apply(a),a.points.forEach(function(o){[o.top,o.middle,o.bottom].forEach(function(e,t){null!==e&&(o[i[t]]=a.yAxis.toPixels(e,!0))})})},drawGraph:function(){for(var e,o=this,t=o.points,a=t.length,i=o.options,n=o.graph,s={options:{gapSize:i.gapSize}},r=[[],[]];a--;)e=t[a],r[0].push({plotX:e.plotX,plotY:e.plotTop,isNull:e.isNull}),r[1].push({plotX:e.plotX,plotY:e.plotBottom,isNull:e.isNull});["topLine","bottomLine"].forEach(function(e,t){o.points=r[t],o.options=l(i[e].styles,s),o.graph=o["graph"+e],x.prototype.drawGraph.call(o),o["graph"+e]=o.graph}),o.points=t,o.options=i,o.graph=n,x.prototype.drawGraph.call(o)},getValues:function(e,t){var o,a,i,n,s,r,l,p,u=t.period,c=t.topBand,h=t.bottomBand,d=e.xData,y=e.yData,m=y?y.length:0,f=[],g=[],v=[];if(!(d.length<u)&&D(y[0])&&4===y[0].length){for(p=u;p<=m;p++)s=d.slice(p-u,p),r=y.slice(p-u,p),n=(l=x.prototype.getValues.call(this,{xData:s,yData:r},t)).xData[0],a=(o=l.yData[0])*(1+c),i=o*(1-h),f.push([n,a,o,i]),g.push(n),v.push([a,o,i]);return{values:f,xData:g,yData:v}}}})}),o(t,"Stock/Indicators/PSARIndicator.js",[t["Core/Utilities.js"]],function(e){function _(e,t){return parseFloat(e.toFixed(t))}(0,e.seriesType)("psar","sma",{lineWidth:0,marker:{enabled:!0},states:{hover:{lineWidthPlus:0}},params:{initialAccelerationFactor:.02,maxAccelerationFactor:.2,increment:.02,index:2,decimals:4}},{nameComponents:!1,getValues:function(e,t){var o,a,i,n,s,r,l,p,u,c,h,d,y,m,f,g,v,D,x,C,A,S,b,k,I,M,P,T,j,L,V,E,G,w,B=e.xData,N=e.yData,U=N[0][1],Y=t.initialAccelerationFactor,z=t.maxAccelerationFactor,W=t.increment,R=t.initialAccelerationFactor,X=N[0][2],F=t.decimals,O=t.index,Z=[],q=[],K=[],H=1;if(!(O>=N.length)){for(d=0;d<O;d++)U=Math.max(N[d][1],U),X=Math.min(N[d][2],_(X,F));for(o=N[d][1]>X?1:-1,a=U-X,i=(Y=t.initialAccelerationFactor)*a,Z.push([B[O],X]),q.push(B[O]),K.push(_(X,F)),d=O+1;d<N.length;d++)s=N[d-1][2],r=N[d-2][2],l=N[d-1][1],p=N[d-2][1],c=N[d][1],h=N[d][2],null!==r&&null!==p&&null!==s&&null!==l&&null!==c&&null!==h&&(T=X,j=i,L=r,V=s,E=l,G=p,w=U,X=(P=o)===H?1===P?T+j<Math.min(L,V)?T+j:Math.min(L,V):T+j>Math.max(G,E)?T+j:Math.max(G,E):w,M=U,A=I=h,S=k=c,b=X,m=u=1===o?M<k?k:M:I<M?I:M,f=U,g=Y,v=W,D=z,x=R,i=(Y=(y=n=1===(C=H)&&b<A||-1===C&&b<S?1:-1)===o?1===y&&f<m||-1===y&&m<f?g===D?D:_(g+v,2):g:x)*(a=u-X),Z.push([B[d],_(X,F)]),q.push(B[d]),K.push(_(X,F)),H=o,o=n,U=u);return{values:Z,xData:q,yData:K}}}})}),o(t,"Stock/Indicators/ROCIndicator.js",[t["Core/Utilities.js"]],function(e){var D=e.isArray;(0,e.seriesType)("roc","sma",{params:{index:3,period:9}},{nameBase:"Rate of Change",getValues:function(e,t){var o,a,i,n,s,r,l,p,u,c=t.period,h=e.xData,d=e.yData,y=d?d.length:0,m=[],f=[],g=[],v=-1;if(!(h.length<=c)){for(D(d[0])&&(v=t.index),o=c;o<y;o++)i=h,n=d,s=o,r=c,u=p=void 0,u=(l=v)<0?(p=n[s-r])?(n[s]-p)/p*100:null:(p=n[s-r][l])?(n[s][l]-p)/p*100:null,a=[i[s],u],m.push(a),f.push(a[0]),g.push(a[1]);return{values:m,xData:f,yData:g}}}})}),o(t,"Stock/Indicators/RSIIndicator.js",[t["Core/Utilities.js"]],function(e){var v=e.isArray;function D(e,t){return parseFloat(e.toFixed(t))}(0,e.seriesType)("rsi","sma",{params:{period:14,decimals:4}},{getValues:function(e,t){var o,a,i,n,s,r=t.period,l=e.xData,p=e.yData,u=p?p.length:0,c=t.decimals,h=1,d=[],y=[],m=[],f=0,g=0;if(!(l.length<r)&&v(p[0])&&4===p[0].length){for(;h<r;)0<(a=D(p[h][3]-p[h-1][3],c))?f+=a:g+=Math.abs(a),h++;for(i=D(f/(r-1),c),n=D(g/(r-1),c),s=h;s<u;s++)g=0<(a=D(p[s][3]-p[s-1][3],c))?(f=a,0):(f=0,Math.abs(a)),i=D((i*(r-1)+f)/r,c),o=0===(n=D((n*(r-1)+g)/r,c))?100:0===i?0:D(100-100/(1+i/n),c),d.push([l[s],o]),y.push(l[s]),m.push(o);return{values:d,xData:y,yData:m}}}})}),o(t,"Stock/Indicators/StochasticIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/ReduceArray.js"],t["Mixins/MultipleLines.js"]],function(e,t,o,a){var f=t.isArray,i=t.merge,n=t.seriesType,g=e.seriesTypes.sma,v=o.getArrayExtremes;n("stochastic","sma",{params:{periods:[14,3]},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>%K: {point.y}<br/>%D: {point.smoothed}<br/>'},smoothedLine:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}},i(a,{nameComponents:["periods"],nameBase:"Stochastic",pointArrayMap:["y","smoothed"],parallelArrays:["x","y","smoothed"],pointValKey:"y",linesApiNames:["smoothedLine"],init:function(){g.prototype.init.apply(this,arguments),this.options=i({smoothedLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(e,t){var o,a,i,n,s,r=t.periods[0],l=t.periods[1],p=e.xData,u=e.yData,c=u?u.length:0,h=[],d=[],y=[],m=null;if(!(c<r)&&f(u[0])&&4===u[0].length){for(s=r-1;s<c;s++)o=u.slice(s-r+1,s+1),a=(n=v(o,2,1))[0],i=(u[s][3]-a)/(n[1]-a)*100,d.push(p[s]),y.push([i,null]),r-1+(l-1)<=s&&(m=g.prototype.getValues.call(this,{xData:d.slice(-l),yData:y.slice(-l)},{period:l}).yData[0]),h.push([p[s],i,m]),y[y.length-1][1]=m;return{values:h,xData:d,yData:y}}}}))}),o(t,"Stock/Indicators/SlowStochasticIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/IndicatorRequired.js"]],function(e,t,a){var o=t.seriesType,p=e.seriesTypes;o("slowstochastic","stochastic",{params:{periods:[14,3,3]}},{nameBase:"Slow Stochastic",init:function(){var t=arguments,o=this;a.isParentLoaded(e.seriesTypes.stochastic,"stochastic",o.type,function(e){e.prototype.init.apply(o,t)})},getValues:function(e,t){var o=t.periods,a=p.stochastic.prototype.getValues.call(this,e,t),i={values:[],xData:[],yData:[]},n=0;if(a){i.xData=a.xData.slice(o[1]-1);var s=a.yData.slice(o[1]-1),r=p.sma.prototype.getValues.call(this,{xData:i.xData,yData:s},{index:1,period:o[2]});if(r){for(var l=i.xData.length;n<l;n++)i.yData[n]=[s[n][1],r.yData[n-o[2]+1]||null],i.values[n]=[i.xData[n],s[n][1],r.yData[n-o[2]+1]||null];return i}}}})}),o(t,"Stock/Indicators/SupertrendIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(e,t){var A=t.correctFloat,C=t.merge,o=t.seriesType,S=t.isArray,b=t.objectEach,k=e.seriesTypes.atr,I=e.seriesTypes.sma;function M(e,t,o){return{index:t,close:e.yData[t][o],x:e.xData[t]}}o("supertrend","sma",{params:{multiplier:3,period:10},risingTrendColor:"#06B535",fallingTrendColor:"#F21313",changeTrendLine:{styles:{lineWidth:1,lineColor:"#333333",dashStyle:"LongDash"}}},{nameBase:"Supertrend",nameComponents:["multiplier","period"],requiredIndicators:["atr"],init:function(){var e,t;I.prototype.init.apply(this,arguments),e=this.options,t=this.linkedParent.options,e.cropThreshold=t.cropThreshold-(e.params.period-1)},drawGraph:function(){for(var e,t,o,a,i,n,s,r,l,p=this,u=p.options,c=p.linkedParent,h=c?c.points:[],d=p.points,y=p.graph,m=d.length,f=h.length-m,g=0<f?f:0,v={options:{gapSize:u.gapSize}},D={top:[],bottom:[],intersect:[]},x={top:{styles:{lineWidth:u.lineWidth,lineColor:u.fallingTrendColor||u.color,dashStyle:u.dashStyle}},bottom:{styles:{lineWidth:u.lineWidth,lineColor:u.risingTrendColor||u.color,dashStyle:u.dashStyle}},intersect:u.changeTrendLine};m--;)e=d[m],t=d[m-1],o=h[m-1+g],a=h[m-2+g],i=h[m+g],n=h[m+g+1],s=e.options.color,r={x:e.x,plotX:e.plotX,plotY:e.plotY,isNull:!1},!a&&o&&c.yData[o.index-1]&&(a=M(c,o.index-1,3)),!n&&i&&c.yData[i.index+1]&&(n=M(c,i.index+1,3)),!o&&a&&c.yData[a.index+1]?o=M(c,a.index+1,3):!o&&i&&c.yData[i.index-1]&&(o=M(c,i.index-1,3)),e&&o&&i&&a&&e.x!==o.x&&(e.x===i.x?(a=o,o=i):e.x===a.x?(o=a,a={close:c.yData[o.index-1][3],x:c.xData[o.index-1]}):n&&e.x===n.x&&(o=n,a=i)),t&&a&&o?(l={x:t.x,plotX:t.plotX,plotY:t.plotY,isNull:!1},e.y>=o.close&&t.y>=a.close?(e.color=s||u.fallingTrendColor||u.color,D.top.push(r)):e.y<o.close&&t.y<a.close?(e.color=s||u.risingTrendColor||u.color,D.bottom.push(r)):(D.intersect.push(r),D.intersect.push(l),D.intersect.push(C(l,{isNull:!0})),e.y>=o.close&&t.y<a.close?(e.color=s||u.fallingTrendColor||u.color,t.color=s||u.risingTrendColor||u.color,D.top.push(r),D.top.push(C(l,{isNull:!0}))):e.y<o.close&&t.y>=a.close&&(e.color=s||u.risingTrendColor||u.color,t.color=s||u.fallingTrendColor||u.color,D.bottom.push(r),D.bottom.push(C(l,{isNull:!0}))))):o&&(e.y>=o.close?(e.color=s||u.fallingTrendColor||u.color,D.top.push(r)):(e.color=s||u.risingTrendColor||u.color,D.bottom.push(r)));b(D,function(e,t){p.points=e,p.options=C(x[t].styles,v),p.graph=p["graph"+t+"Line"],I.prototype.drawGraph.call(p),p["graph"+t+"Line"]=p.graph}),p.points=d,p.options=u,p.graph=y},getValues:function(e,t){var o,a,i,n,s,r,l,p,u,c,h=t.period,d=t.multiplier,y=e.xData,m=e.yData,f=[],g=[],v=[],D=0===h?0:h-1,x=[],C=[];if(!(y.length<=h||!S(m[0])||4!==m[0].length||h<0)){for(o=k.prototype.getValues.call(this,e,{period:h}).yData,c=0;c<o.length;c++)u=m[D+c],p=m[D+c-1]||[],s=x[c-1],r=C[c-1],l=v[c-1],0===c&&(s=r=l=0),a=A((u[1]+u[2])/2+d*o[c]),i=A((u[1]+u[2])/2-d*o[c]),x[c]=a<s||s<p[3]?a:s,C[c]=r<i||p[3]<r?i:r,l===s&&u[3]<x[c]||l===r&&u[3]<C[c]?n=x[c]:(l===s&&u[3]>x[c]||l===r&&u[3]>C[c])&&(n=C[c]),f.push([y[D+c],n]),g.push(y[D+c]),v.push(n);return{values:f,xData:g,yData:v}}}})}),o(t,"Stock/Indicators/VBPIndicator.js",[t["Core/Globals.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(n,e,t){var i=t.addEvent,r=t.animObject,x=t.arrayMax,y=t.arrayMin,C=t.correctFloat,c=t.error,l=t.extend,h=t.isArray,o=t.seriesType;var A=Math.abs,a=n.noop,S=n.seriesTypes.column.prototype;o("vbp","sma",{params:{ranges:12,volumeSeriesID:"volume"},zoneLines:{enabled:!0,styles:{color:"#0A9AC9",dashStyle:"LongDash",lineWidth:1}},volumeDivision:{enabled:!0,styles:{positiveColor:"rgba(144, 237, 125, 0.8)",negativeColor:"rgba(244, 91, 91, 0.8)"}},animationLimit:1e3,enableMouseTracking:!1,pointPadding:0,zIndex:-1,crisp:!0,dataGrouping:{enabled:!1},dataLabels:{allowOverlap:!0,enabled:!0,format:"P: {point.volumePos:.2f} | N: {point.volumeNeg:.2f}",padding:0,style:{fontSize:"7px"},verticalAlign:"top"}},{nameBase:"Volume by Price",bindTo:{series:!1,eventName:"afterSetExtremes"},calculateOn:"render",markerAttribs:a,drawGraph:a,getColumnMetrics:S.getColumnMetrics,crispCol:S.crispCol,init:function(e){var t,o,a,i=this;return n.seriesTypes.sma.prototype.init.apply(i,arguments),t=i.options.params,o=i.linkedParent,a=e.get(t.volumeSeriesID),i.addCustomEvents(o,a),i},addCustomEvents:function(e,t){var o=this;function a(){o.chart.redraw(),o.setData([]),o.zoneStarts=[],o.zoneLinesSVG&&(o.zoneLinesSVG.destroy(),delete o.zoneLinesSVG)}return o.dataEventsToUnbind.push(i(e,"remove",function(){a()})),t&&o.dataEventsToUnbind.push(i(t,"remove",function(){a()})),o},animate:function(e){var t,o,a=this,i=a.chart.inverted,n=a.group,s={};!e&&n&&(t=i?"translateY":"translateX",o=i?a.yAxis.top:a.xAxis.left,n["forceAnimate:"+t]=!0,s[t]=o,n.animate(s,l(r(a.options.animation),{step:function(e,t){a.group.attr({scaleX:Math.max(.001,t.pos)})}})))},drawPoints:function(){var e=this;e.options.volumeDivision.enabled&&(e.posNegVolume(!0,!0),S.drawPoints.apply(e,arguments),e.posNegVolume(!1,!1)),S.drawPoints.apply(e,arguments)},posNegVolume:function(e,t){var o,a,i,n,s=this,r=t?["positive","negative"]:["negative","positive"],l=s.options.volumeDivision,p=s.points.length,u=[],c=[],h=0;for(e?(s.posWidths=u,s.negWidths=c):(u=s.posWidths,c=s.negWidths);h<p;h++)(n=s.points[h])[r[0]+"Graphic"]=n.graphic,n.graphic=n[r[1]+"Graphic"],e&&(o=n.shapeArgs.width,(i=(a=s.priceZones[h]).wholeVolumeData)?(u.push(o/i*a.positiveVolumeData),c.push(o/i*a.negativeVolumeData)):(u.push(0),c.push(0))),n.color=t?l.styles.positiveColor:l.styles.negativeColor,n.shapeArgs.width=t?s.posWidths[h]:s.negWidths[h],n.shapeArgs.x=t?n.shapeArgs.x:s.posWidths[h]},translate:function(){var e,t,o,a,i,n,s,r,l,p,u,c,h=this,d=h.options,y=h.chart,m=h.yAxis,f=m.min,g=h.options.zoneLines,v=h.priceZones,D=0;S.translate.apply(h),(e=h.points).length&&(l=d.pointPadding<.5?d.pointPadding:.1,t=h.volumeDataArray,o=x(t),a=y.plotWidth/2,p=y.plotTop,i=A(m.toPixels(f)-m.toPixels(f+h.rangeStep)),s=A(m.toPixels(f)-m.toPixels(f+h.rangeStep)),l&&(n=A(i*(1-2*l)),D=A((i-n)/2),i=A(n)),e.forEach(function(e,t){u=e.barX=e.plotX=0,c=e.plotY=m.toPixels(v[t].start)-p-(m.reversed?i-s:i)-D,r=C(a*v[t].wholeVolumeData/o),e.pointWidth=r,e.shapeArgs=h.crispCol.apply(h,[u,c,r,i]),e.volumeNeg=v[t].negativeVolumeData,e.volumePos=v[t].positiveVolumeData,e.volumeAll=v[t].wholeVolumeData}),g.enabled&&h.drawZones(y,m,h.zoneStarts,g.styles))},getValues:function(e,t){var o,a,i=e.processedXData,n=e.processedYData,s=this.chart,r=t.ranges,l=[],p=[],u=[];if(e.chart)if(a=s.get(t.volumeSeriesID)){if(!(o=h(n[0]))||4===n[0].length)return(this.priceZones=this.specifyZones(o,i,n,r,a)).forEach(function(e,t){l.push([e.x,e.end]),p.push(l[t][0]),u.push(l[t][1])}),{values:l,xData:p,yData:u};c("Type of "+e.name+" series is different than line, OHLC or candlestick.",!0,s)}else c("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,s);else c("Base series not found! In case it has been removed, add a new one.",!0,s)},specifyZones:function(e,t,o,a,i){var n,s,r=!!e&&function(e){for(var t,o=e.length,a=e[0][3],i=a,n=1;n<o;n++)(t=e[n][3])<a&&(a=t),i<t&&(i=t);return{min:a,max:i}}(o),l=r?r.min:y(o),p=r?r.max:x(o),u=this.zoneStarts=[],c=[],h=0,d=1;if(!l||!p)return this.points.length&&(this.setData([]),this.zoneStarts=[],this.zoneLinesSVG.destroy()),[];for(n=this.rangeStep=C(p-l)/a,u.push(l);h<a-1;h++)u.push(C(u[h]+n));for(u.push(p),s=u.length;d<s;d++)c.push({index:d-1,x:t[0],start:u[d-1],end:u[d]});return this.volumePerZone(e,c,i,t,o)},volumePerZone:function(t,e,o,a,i){var n,s,r,l,p,u=this,c=o.processedXData,h=o.processedYData,d=e.length-1,y=i.length,m=h.length;return A(y-m)&&(a[0]!==c[0]&&h.unshift(0),a[y-1]!==c[m-1]&&h.push(0)),u.volumeDataArray=[],e.forEach(function(e){for(e.wholeVolumeData=0,e.positiveVolumeData=0,e.negativeVolumeData=0,p=0;p<y;p++)r=s=!1,l=t?i[p][3]:i[p],n=p?t?i[p-1][3]:i[p-1]:l,l<=e.start&&0===e.index&&(s=!0),l>=e.end&&e.index===d&&(r=!0),(l>e.start||s)&&(l<e.end||r)&&(e.wholeVolumeData+=h[p],l<n?e.negativeVolumeData+=h[p]:e.positiveVolumeData+=h[p]);u.volumeDataArray.push(e.wholeVolumeData)}),e},drawZones:function(t,o,e,a){var i,n=t.renderer,s=this.zoneLinesSVG,r=[],l=t.plotWidth,p=t.plotTop;e.forEach(function(e){i=o.toPixels(e)-p,r=r.concat(t.renderer.crispLine([["M",0,i],["L",l,i]],a.lineWidth))}),s?s.animate({d:r}):s=this.zoneLinesSVG=n.path(r).attr({"stroke-width":a.lineWidth,stroke:a.color,dashstyle:a.dashStyle,zIndex:this.group.zIndex+.1}).add(this.group)}},{destroy:function(){return this.negativeGraphic&&(this.negativeGraphic=this.negativeGraphic.destroy()),e.prototype.destroy.apply(this,arguments)}})}),o(t,"Stock/Indicators/VWAPIndicator.js",[t["Core/Utilities.js"]],function(e){var l=e.error,p=e.isArray;(0,e.seriesType)("vwap","sma",{params:{period:30,volumeSeriesID:"volume"}},{getValues:function(e,t){var o,a=e.chart,i=e.xData,n=e.yData,s=t.period,r=!0;if(o=a.get(t.volumeSeriesID))return p(n[0])||(r=!1),this.calculateVWAPValues(r,i,n,o,s);l("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,a)},calculateVWAPValues:function(e,t,o,a,i){for(var n,s,r,l=a.yData,p=a.xData.length,u=t.length,c=[],h=[],d=[],y=[],m=[],f=u<=p?u:p,g=0,v=0;g<f;g++)n=e?(o[g][1]+o[g][2]+o[g][3])/3:o[g],n*=l[g],s=v?c[g-1]+n:n,r=v?h[g-1]+l[g]:l[g],c.push(s),h.push(r),m.push([t[g],s/r]),d.push(m[g][0]),y.push(m[g][1]),++v===i&&(v=0);return{values:m,xData:d,yData:y}}})}),o(t,"Stock/Indicators/WilliamsRIndicator.js",[t["Core/Utilities.js"],t["Mixins/ReduceArray.js"]],function(e,t){var m=e.isArray,o=e.seriesType,f=t.getArrayExtremes;o("williamsr","sma",{params:{period:14}},{nameBase:"Williams %R",getValues:function(e,t){var o,a,i,n,s,r,l=t.period,p=e.xData,u=e.yData,c=u?u.length:0,h=[],d=[],y=[];if(!(p.length<l)&&m(u[0])&&4===u[0].length){for(r=l-1;r<c;r++)o=u.slice(r-l+1,r+1),s=(a=f(o,2,1))[0],i=((n=a[1])-u[r][3])/(n-s)*-100,p[r]&&(h.push([p[r],i]),d.push(p[r]),y.push(i));return{values:h,xData:d,yData:y}}}})}),o(t,"Stock/Indicators/WMAIndicator.js",[t["Core/Utilities.js"]],function(e){var f=e.isArray;function g(e,t,o,a,i){var n=t[a],s=i<0?o[a]:o[a][i];e.push([n,s])}function v(e,t,o,a){var i,n,s=e.length,r=(n=((i=s)+1)/2*i,e.reduce(function(e,t,o){return[null,e[1]+t[1]*(o+1)]})[1]/n),l=t[a-1];return e.shift(),[l,r]}(0,e.seriesType)("wma","sma",{params:{index:3,period:9}},{getValues:function(e,t){var o,a,i,n=t.period,s=e.xData,r=e.yData,l=r?r.length:0,p=1,u=s[0],c=r[0],h=[],d=[],y=[],m=-1;if(!(s.length<n)){for(f(r[0])&&(m=t.index,c=r[0][m]),a=[[u,c]];p!==n;)g(a,s,r,p,m),p++;for(o=p;o<l;o++)i=v(a,s,0,o),h.push(i),d.push(i[0]),y.push(i[1]),g(a,s,r,o,m);return i=v(a,s,0,o),h.push(i),d.push(i[0]),y.push(i[1]),{values:h,xData:d,yData:y}}}})}),o(t,"Stock/Indicators/ZigzagIndicator.js",[t["Core/Utilities.js"]],function(e){(0,e.seriesType)("zigzag","sma",{params:{lowIndex:2,highIndex:1,deviation:1}},{nameComponents:["deviation"],nameSuffixes:["%"],nameBase:"Zig Zag",getValues:function(e,t){var o,a,i,n,s,r,l,p=t.lowIndex,u=t.highIndex,c=t.deviation/100,h=1+c,d=1-c,y=e.xData,m=e.yData,f=m?m.length:0,g=[],v=[],D=[],x=!1,C=!1;if(!(!y||y.length<=1||f&&(void 0===m[0][p]||void 0===m[0][u]))){for(n=m[0][p],s=m[0][u],o=1;o<f;o++)m[o][p]<=s*d?(g.push([y[0],s]),i=[y[o],m[o][p]],x=r=!0):m[o][u]>=n*h&&(g.push([y[0],n]),x=!(r=!(i=[y[o],m[o][u]]))),x&&(v.push(g[0][0]),D.push(g[0][1]),a=o++,o=f);for(o=a;o<f;o++)r?(m[o][p]<=i[1]&&(i=[y[o],m[o][p]]),m[o][u]>=i[1]*h&&(C=u)):(m[o][u]>=i[1]&&(i=[y[o],m[o][u]]),m[o][p]<=i[1]*d&&(C=p)),!1!==C&&(g.push(i),v.push(i[0]),D.push(i[1]),r=!r,C=!(i=[y[o],m[o][C]]));return 0!==(l=g.length)&&g[l-1][0]<y[f-1]&&(g.push(i),v.push(i[0]),D.push(i[1])),{values:g,xData:v,yData:D}}}})}),o(t,"Stock/Indicators/RegressionIndicators.js",[t["Core/Utilities.js"]],function(e){var d=e.isArray,t=e.seriesType;t("linearRegression","sma",{params:{xAxisUnit:void 0},tooltip:{valueDecimals:4}},{nameBase:"Linear Regression Indicator",getRegressionLineParameters:function(e,t){for(var o,a,i=this.options.params.index,n=function(e,t){return d(e)?e[t]:e},s=e.reduce(function(e,t){return t+e},0),r=t.reduce(function(e,t){return n(t,i)+e},0),l=s/e.length,p=r/t.length,u=0,c=0,h=0;h<e.length;h++)u+=(o=e[h]-l)*(n(t[h],i)-p),c+=Math.pow(o,2);return{slope:a=c?u/c:0,intercept:p-a*l}},getEndPointY:function(e,t){return e.slope*t+e.intercept},transformXData:function(e,t){var o=e[0];return e.map(function(e){return(e-o)/t})},findClosestDistance:function(e){for(var t,o,a=1;a<e.length-1;a++)0<(t=e[a]-e[a-1])&&(void 0===o||t<o)&&(o=t);return o},getValues:function(e,t){for(var o,a,i,n,s,r,l,p,u=e.xData,c=e.yData,h=t.period,d={xData:[],yData:[],values:[]},y=this.options.params.xAxisUnit||this.findClosestDistance(u),m=h-1;m<=u.length-1;m++)a=m-h+1,i=m+1,n=u[m],r=u.slice(a,i),l=c.slice(a,i),p=this.transformXData(r,y),o=this.getRegressionLineParameters(p,l),s=this.getEndPointY(o,p[p.length-1]),d.values.push({regressionLineParameters:o,x:n,y:s}),d.xData.push(n),d.yData.push(s);return d}}),t("linearRegressionSlope","linearRegression",{},{nameBase:"Linear Regression Slope Indicator",getEndPointY:function(e){return e.slope}}),t("linearRegressionIntercept","linearRegression",{},{nameBase:"Linear Regression Intercept Indicator",getEndPointY:function(e){return e.intercept}}),t("linearRegressionAngle","linearRegression",{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>{series.name}: <b>{point.y}°</b><br/>'}},{nameBase:"Linear Regression Angle Indicator",slopeToAngle:function(e){return Math.atan(e)*(180/Math.PI)},getEndPointY:function(e){return this.slopeToAngle(e.slope)}})}),o(t,"Stock/Indicators/ABIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/MultipleLines.js"]],function(e,t,o){var M=t.correctFloat,a=t.merge,i=t.seriesType,P=e.seriesTypes.sma;i("abands","sma",{params:{period:20,factor:.001,index:3},lineWidth:1,topLine:{styles:{lineWidth:1}},bottomLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}},a(o,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameBase:"Acceleration Bands",nameComponents:["period","factor"],linesApiNames:["topLine","bottomLine"],getValues:function(e,t){var o,a,i,n,s,r,l,p,u,c,h,d,y,m,f=t.period,g=t.factor,v=t.index,D=e.xData,x=e.yData,C=x?x.length:0,A=[],S=[],b=[],k=[],I=[];if(!(C<f)){for(h=0;h<=C;h++)h<C&&(d=x[h][2],y=x[h][1],m=g,s=M(y-d)/(M(y+d)/2)*1e3*m,A.push(x[h][1]*M(1+2*s)),S.push(x[h][2]*M(1-2*s))),f<=h&&(u=D.slice(h-f,h),c=x.slice(h-f,h),l=P.prototype.getValues.call(this,{xData:u,yData:A.slice(h-f,h)},{period:f}),p=P.prototype.getValues.call(this,{xData:u,yData:S.slice(h-f,h)},{period:f}),n=(r=P.prototype.getValues.call(this,{xData:u,yData:c},{period:f,index:v})).xData[0],a=l.yData[0],i=p.yData[0],o=r.yData[0],b.push([n,a,o,i]),k.push(n),I.push([a,o,i]));return{values:b,xData:k,yData:I}}}}))}),o(t,"Stock/Indicators/TrendLineIndicator.js",[t["Core/Utilities.js"]],function(e){var v=e.isArray;(0,e.seriesType)("trendline","sma",{params:{index:3}},{nameBase:"Trendline",nameComponents:!1,getValues:function(e,t){for(var o,a,i,n,s=e.xData,r=e.yData,l=[],p=[],u=[],c=0,h=0,d=0,y=0,m=s.length,f=t.index,g=0;g<m;g++)c+=i=s[g],h+=n=v(r[g])?r[g][f]:r[g],d+=i*n,y+=i*i;for(o=(m*d-c*h)/(m*y-c*c),isNaN(o)&&(o=0),a=(h-o*c)/m,g=0;g<m;g++)n=o*(i=s[g])+a,l[g]=[i,n],p[g]=i,u[g]=n;return{xData:p,yData:u,values:l}}})}),o(t,"masters/indicators/indicators-all.src.js",[],function(){})});