"use strict";import Highcharts from"../Core/Globals.js";var win=Highcharts.win,nav=win.navigator,doc=win.document,domurl=win.URL||win.webkitURL||win,isEdgeBrowser=/Edge\/\d+/.test(nav.userAgent),dataURLtoBlob=Highcharts.dataURLtoBlob=function(o){var e=o.match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/);if(e&&e.length>3&&win.atob&&win.ArrayBuffer&&win.Uint8Array&&win.Blob&&domurl.createObjectURL){for(var t,n=win.atob(e[3]),r=new win.ArrayBuffer(n.length),a=new win.Uint8Array(r),i=0;i<a.length;++i)a[i]=n.charCodeAt(i);return t=new win.Blob([a],{type:e[1]}),domurl.createObjectURL(t)}},downloadURL=Highcharts.downloadURL=function(o,e){var t=doc.createElement("a");if("string"==typeof o||o instanceof String||!nav.msSaveOrOpenBlob){if(o=""+o,(isEdgeBrowser||o.length>2e6)&&!(o=dataURLtoBlob(o)||""))throw new Error("Failed to convert to blob");if(void 0!==t.download)t.href=o,t.download=e,doc.body.appendChild(t),t.click(),doc.body.removeChild(t);else try{if(null==win.open(o,"chart"))throw new Error("Failed to open window")}catch(e){win.location.href=o}}else nav.msSaveOrOpenBlob(o,e)},exports={dataURLtoBlob:dataURLtoBlob,downloadURL:downloadURL};export default exports;