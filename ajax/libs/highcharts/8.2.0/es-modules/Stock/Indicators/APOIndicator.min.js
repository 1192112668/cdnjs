"use strict";import H from"../../Core/Globals.js";import U from"../../Core/Utilities.js";var error=U.error,seriesType=U.seriesType;import requiredIndicator from"../../Mixins/IndicatorRequired.js";var EMA=H.seriesTypes.ema;seriesType("apo","ema",{params:{periods:[10,20]}},{nameBase:"APO",nameComponents:["periods"],init:function(){var e=arguments,r=this;requiredIndicator.isParentLoaded(EMA,"ema",r.type,function(i){i.prototype.init.apply(r,e)})},getValues:function(e,r){var i,t,o,a,s,p=r.periods,n=r.index,d=[],l=[],u=[];if(2!==p.length||p[1]<=p[0])error('Error: "APO requires two periods. Notice, first period should be lower than the second one."');else if(t=EMA.prototype.getValues.call(this,e,{index:n,period:p[0]}),o=EMA.prototype.getValues.call(this,e,{index:n,period:p[1]}),t&&o){for(i=p[1]-p[0],s=0;s<o.yData.length;s++)a=t.yData[s+i]-o.yData[s],d.push([o.xData[s],a]),l.push(o.xData[s]),u.push(a);return{values:d,xData:l,yData:u}}}});