"use strict";import U from"../../Core/Utilities.js";var correctFloat=U.correctFloat,pick=U.pick,seriesType=U.seriesType;function accumulatePoints(e,t,a,r,i){var o=pick(t[a][r],t[a]);return correctFloat(i?e-o:e+o)}seriesType("dpo","sma",{params:{period:21}},{nameBase:"DPO",getValues:function(e,t){var a,r,i,o,s=t.period,c=t.index,u=s+Math.floor(s/2+1),p=e.xData||[],n=e.yData||[],l=n.length,m=[],f=[],h=[],y=0;if(!(p.length<=u)){for(i=0;i<s-1;i++)y=accumulatePoints(y,n,i,c);for(o=0;o<=l-u;o++)r=o+u-1,y=accumulatePoints(y,n,o+s-1,c),a=pick(n[r][c],n[r])-y/s,y=accumulatePoints(y,n,o,c,!0),m.push([p[r],a]),f.push(p[r]),h.push(a);return{values:m,xData:f,yData:h}}}});