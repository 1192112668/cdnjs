"use strict";import H from"../../Core/Globals.js";import U from"../../Core/Utilities.js";var correctFloat=U.correctFloat,isArray=U.isArray,seriesType=U.seriesType,noop=H.noop;seriesType("ao","sma",{greaterBarColor:"#06B535",lowerBarColor:"#F21313",threshold:0,groupPadding:.2,pointPadding:.2,crisp:!1,states:{hover:{halo:{size:0}}}},{nameBase:"AO",nameComponents:!1,markerAttribs:noop,getColumnMetrics:H.seriesTypes.column.prototype.getColumnMetrics,crispCol:H.seriesTypes.column.prototype.crispCol,translate:H.seriesTypes.column.prototype.translate,drawPoints:H.seriesTypes.column.prototype.drawPoints,drawGraph:function(){var o,r=this.options,t=this.points,e=this.userOptions.color,s=r.greaterBarColor,a=r.lowerBarColor,l=t[0];if(!e&&l)for(l.color=s,o=1;o<t.length;o++)t[o].y>t[o-1].y?t[o].color=s:t[o].y<t[o-1].y?t[o].color=a:t[o].color=t[o-1].color},getValues:function(o){var r,t,e,s,a,l,i=o.xData||[],c=o.yData||[],p=c.length,n=[],y=[],u=[],h=0,m=0;if(!(i.length<=34)&&isArray(c[0])&&4===c[0].length){for(a=0;a<33;a++)s=(c[a][1]+c[a][2])/2,a>=29&&(h=correctFloat(h+s)),m=correctFloat(m+s);for(l=33;l<p;l++)s=(c[l][1]+c[l][2])/2,h=correctFloat(h+s),m=correctFloat(m+s),r=correctFloat(h/5-m/34),n.push([i[l],r]),y.push(i[l]),u.push(r),e=l+1-34,h=correctFloat(h-(c[t=l+1-5][1]+c[t][2])/2),m=correctFloat(m-(c[e][1]+c[e][2])/2);return{values:n,xData:y,yData:u}}}});