function output(e){document.getElementById("output").innerHTML+=e+"\n"}function main(){try{do_tests()}catch(e){alert(JSON.stringify(e))}}var hex_digit_value={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function from_hex(e){if(1&e.length)throw{message:"from_hex: odd-length input"};for(var t=new Uint8Array(e.length/2),a=0;a<e.length;a+=2){var d=hex_digit_value[e[a]],o=hex_digit_value[e[a+1]];if(void 0===d)throw{message:"Illegal hex digit: "+e[a]};if(void 0===o)throw{message:"Illegal hex digit: "+e[a+1]};t[a>>1]=d<<4|o}return t}function do_tests(){output((navigator.userAgent.match(/Firefox\/[^ ]+/)||navigator.userAgent.match(/Chrome\/[^ ]+/)||navigator.userAgent.match(/Safari\/[^ ]+/)||["unknown/0.0"])[0]);var l=scrypt_module_factory();function e(e,t,a,d,o,f){for(var n=from_hex(f),u=1e8,c=0;c<3;c++){var i=(new Date).getTime(),r=l.crypto_scrypt(l.encode_utf8(e),l.encode_utf8(t),a,d,o,n.length),g=(new Date).getTime();l.to_hex(r)!==f&&(output("FAILED"),output("expected: "+f),output("actual:   "+l.to_hex(r)));var h=g-i;h<u&&(u=h)}output("Milliseconds for "+e+"/"+t+"/"+a+"/"+d+"/"+o+": "+u)}output("Starting..."),output(l.to_hex(from_hex("0123456789abcdef"))),output(""),e("","",16,1,1,"77d6576238657b203b19ca42c18a0497f16b4844e3074ae8dfdffa3fede21442fcd0069ded0948f8326a753a0fc81f17e8d3e0fb2e0d3628cf35e20c38d18906"),e("password","NaCl",1024,8,16,"fdbabe1c9d3472007856e7190d01e9fe7c6ad7cbc8237830e77376634b3731622eaf30d92e22a3886ff109279d9830dac727afb94a83ee6d8360cbdfa2cc0640"),e("pleaseletmein","SodiumChloride",16384,8,1,"7023bdcb3afd7348461c06cd81fd38ebfda8fbba904f8e3ea9b543f6545da1f2d5432955613f0fcf62d49705242a9af9e61e85dc0d651e40dfcf017b45575887"),output(""),output("...done.")}window.onload=main;