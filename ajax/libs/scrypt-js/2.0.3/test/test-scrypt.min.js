var nodeunit=require("nodeunit"),scrypt=require("../scrypt.js"),testVectors=require("./test-vectors.json");function makeTest(e){var t=new Buffer(e.password,"hex"),r=new Buffer(e.salt,"hex"),n=e.N,o=e.p,c=e.r,i=e.dkLen,u=e.derivedKey;return function(s){scrypt(t,r,n,c,o,i,function(e,t,r){e?console.log(e):r&&(r=new Buffer(r),s.equal(u,r.toString("hex"),"failed to generate correct derived key"),s.done())})}}for(var Tests={scrypt:{}},i=0;i<testVectors.length;i++){var test=testVectors[i];Tests.scrypt["test-"+Object.keys(Tests.scrypt).length]=makeTest(test)}nodeunit.reporters.default.run(Tests);