import videojs from"video.js";var doccy,commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},empty={},empty$1=Object.freeze({default:empty}),minDoc=empty$1&&empty||empty$1,topLevel=void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof window?window:{};"undefined"!=typeof document?doccy=document:(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"])||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc);var document_1=doccy;class QualityLevel{constructor(e){let t=this;if(videojs.browser.IS_IE8){t=document_1.createElement("custom");for(const e in QualityLevel.prototype)"constructor"!==e&&(t[e]=QualityLevel.prototype[e])}return t.id=e.id,t.label=t.id,t.width=e.width,t.height=e.height,t.bitrate=e.bandwidth,t.enabled_=e.enabled,Object.defineProperty(t,"enabled",{get:()=>t.enabled_(),set(e){t.enabled_(e)}}),t}}class QualityLevelList extends videojs.EventTarget{constructor(){super();let e=this;if(videojs.browser.IS_IE8){e=document_1.createElement("custom");for(const t in QualityLevelList.prototype)"constructor"!==t&&(e[t]=QualityLevelList.prototype[t])}return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get:()=>e.selectedIndex_}),Object.defineProperty(e,"length",{get:()=>e.levels_.length}),e}addQualityLevel(e){let t=this.getQualityLevelById(e.id);if(t)return t;const l=this.levels_.length;return t=new QualityLevel(e),""+l in this||Object.defineProperty(this,l,{get(){return this.levels_[l]}}),this.levels_.push(t),this.trigger({qualityLevel:t,type:"addqualitylevel"}),t}removeQualityLevel(e){let t=null;for(let l=0,i=this.length;l<i;l++)if(this[l]===e){t=this.levels_.splice(l,1)[0],this.selectedIndex_===l?this.selectedIndex_=-1:this.selectedIndex_>l&&this.selectedIndex_--;break}return t&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),t}getQualityLevelById(e){for(let t=0,l=this.length;t<l;t++){const l=this[t];if(l.id===e)return l}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}QualityLevelList.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const e in QualityLevelList.prototype.allowedEvents_)QualityLevelList.prototype["on"+e]=null;const registerPlugin=videojs.registerPlugin||videojs.plugin,initPlugin=function(e,t){const l=e.qualityLevels,i=new QualityLevelList,o=function(){i.dispose(),e.qualityLevels=l,e.off("dispose",o)};return e.on("dispose",o),e.qualityLevels=(()=>i),e.qualityLevels.VERSION="__VERSION__",i},qualityLevels=function(e){return initPlugin(this,videojs.mergeOptions({},e))};registerPlugin("qualityLevels",qualityLevels),qualityLevels.VERSION="__VERSION__";export default qualityLevels;