!function(Ie){Ie.jqx.scheduler||(Ie.jqx.scheduler={}),Ie.jqx.jqxWidget("jqxScheduler","",{}),Ie.extend(Ie.jqx._jqxScheduler.prototype,{defineInstance:function(){var e={altRows:!1,autoShowLoadElement:!0,columnsHeight:30,columns:[],columnGroups:null,dataview:null,disabled:!1,enableHover:!0,appointmentOpacity:.8,headerZIndex:235,height:600,timeRulerWidth:60,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",localization:null,ready:null,renderToolBar:null,renderAppointment:null,rendered:null,rendering:null,rtl:!1,showToolbar:!0,showLegend:!1,legendPosition:"bottom",legendHeight:34,rowsHeight:27,touchRowsHeight:36,appointmentsMinHeight:18,touchAppointmentsMinHeight:27,appointmentsRenderMode:"default",serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:Ie.jqx.utilities.scrollBarSize,touchScrollBarSize:Ie.jqx.utilities.touchScrollBarSize,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,showAllDayRow:!0,changedAppointments:new Array,renderMode:"simple",views:new Array,view:0,min:new Ie.jqx.date(0),max:new Ie.jqx.date(9999,12,31),date:new Ie.jqx.date("todayDate"),colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF","#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8","#E8601A","#FF9639","#F5BD6A","#599994","#115D6E","#D02841","#FF7C41","#FFC051","#5B5F4D","#364651","#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00","#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B","#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63","#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6","#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F","#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825","#993144","#FFA257","#CCA56A","#ADA072","#949681","#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932","#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54","#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3","#444546","#FFBB6E","#F28D00","#D94F00","#7F203B","#583C39","#674E49","#948658","#F0E99A","#564E49","#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17","#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5","#844341","#D5CC92","#BBA146","#897B26","#55591C","#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472","#96003A","#FF7347","#FFBC7B","#FF4154","#642223","#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E","#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7","#7B1A25","#BF5322","#9DA860","#CEA457","#B67818","#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46","#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800","#FF6800","#A0A700","#FF8D00","#678900","#0069A5"],colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],resources:null,contextMenu:!0,contextMenuOpen:null,contextMenuClose:null,contextMenuItemClick:null,contextMenuCreate:null,timeZone:null,statuses:{free:"white",tentative:"tentative",busy:"transparent",outOfOffice:"#800080"},appointmentDataFields:{from:"from",to:"to",id:"id",calendarId:"calendarId",description:"description",location:"location",subject:"subject",background:"background",color:"color",borderColor:"borderColor",style:"style",recurrencePattern:"recurrencePattern",recurrenceException:"recurrenceException",draggable:"draggable",resizable:"resizable",resourceId:"resourceId",status:"status",tooltip:"tooltip",hidden:"hidden",allDay:"allDay",timeZone:"timeZone",ownerId:"ownerId"},appointmentTooltips:!0,tableColumns:1,tableRows:1,dayNameFormat:"full",touchDayNameFormat:"abbr",toolBarRangeFormat:"dd MMMM yyyy",toolBarRangeFormatAbbr:"dd MM yyyy",columnRenderer:null,exportSettings:{serverURL:null,characterSet:null,fileName:"jqxScheduler",dateTimeFormatString:"S",resourcesInMultipleICSFiles:!1,ICSXWRCALNAME:"jqxScheduler",ICSXWRCALDESC:"jqxScheduler Description"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},editDialogDateTimeFormatString:"dd/MM/yyyy hh:mm tt",editDialogDateFormatString:"dd/MM/yyyy",editDialogOpen:null,editDialogCreate:null,editDialogKeyDown:null,editDialogClose:null,editDialog:!0,toolbarHeight:54,tableZIndex:469,_updating:!1,touchMode:"auto",width:800,that:this,beginDrag:null,endDrag:null,dragging:null,timeZones:[{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Rome",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Budapest, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}]};return this===Ie.jqx._jqxScheduler.prototype||(Ie.extend(!0,this,e),this.that=this),e},createInstance:function(e){var n=this;n._views=new Array,n._view=n.view;for(var t=0;t<n.views.length;t++)"string"===Ie.type(n.views[t])?n._views.push({type:n.views[t]}):n._views.push(n.views[t]);for(t=0;t<n._views.length;t++)if(n._views[t].type==n.view){n._view=t;break}15!=Ie.jqx.utilities.scrollBarSize&&(n.scrollBarSize=Ie.jqx.utilities.scrollBarSize),n.source&&!n.source.dataBind&&(n.source=new Ie.jqx.dataAdapter(n.source));var i=n.source._source.datafields;i&&0<i.length&&(n._camelCase=void 0!==n.source._source.dataFields,n.selectionMode=n.selectionMode.toLowerCase()),null==n.host.attr("tabindex")&&n.host.attr("tabindex","0"),n.host.attr("role","grid"),n.host.attr("align","left"),n.host.addClass(n.toTP("jqx-grid")),n.host.addClass(n.toTP("jqx-scheduler")),n.host.addClass(n.toTP("jqx-reset")),n.host.addClass(n.toTP("jqx-rc-all")),n.host.addClass(n.toTP("jqx-widget")),n.host.addClass(n.toTP("jqx-widget-content jqx-disableselect")),n._testmodules()||(n.overlay=Ie("<div style='z-index: 999; position:absolute;'></div>"),n.overlay.hide(),n.overlay.appendTo(n.host),n.render(!0),Ie.jqx.utilities.resize(n.host,function(){var e=Ie(window).width(),t=Ie(window).height();n._hostWidth=null,n._hostHeight=null;var i=n.host.width(),o=n.host.height();n._hostWidth=i,n._hostHeight=o,n._lastHostWidth==i&&n._lastHostHeight==o||n._updatesize(n._lastHostWidth!=i,n._lastHostHeight!=o),n._lastWidth=e,n._lastHeight=t,n._lastHostWidth=i,n._lastHostHeight=o}),n.createEditRecurrenceDialog())},createEditRecurrenceDialog:function(){var t=this;t.editRecurrenceDialog=null;var i=Ie("<div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogTitleString+"</div><div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogContentString+"</div><div style='position: absolute; white-space:nowrap; text-overflow: ellipsis; left:0px; width:100%; bottom: 0px;'><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"' id='editRecurringAppointmentOccurrence."+t.element.id+"' style='white-space:nowrap; text-overflow: ellipsis; border-left-width: 0px;  border-bottom-width: 0px; border-radius:0px; width:50%;'>"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"</button><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"' id='editRecurringAppointmentSeries."+t.element.id+"' style=' white-space:nowrap; text-overflow: ellipsis; border-bottom-width: 0px;  border-left-width: 0px; border-right-width:0px; width:50%; border-radius:0px;'>"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"</button></div></div></div>");t.editRecurrenceDialog=i,Ie(i).jqxWindow({rtl:t.rtl,autoFocus:!1,animationType:"none",autoOpen:!1,theme:t.theme,minWidth:300,minHeight:110,resizable:!1});var e=i.find("button");e.jqxButton({theme:t.theme,width:"50%"});var o=!1;e.mousedown(function(){o=!0,0<=this.id.indexOf("editRecurringAppointmentOccurrence")?t.editSeries(!1):t.editSeries(!0),Ie(i).jqxWindow("close")}),this.addHandler(Ie(i),"open",function(e){t._raiseEvent("editRecurrenceDialogOpen",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),t.addHandler(Ie(i),"keydown",function(e){if(13==e.keyCode&&Ie(document.activeElement).ischildof(Ie(i))&&"button"==document.activeElement.nodeName.toLowerCase())return Ie(document.activeElement).trigger("mousedown"),Ie(document.activeElement).trigger("mouseup"),!0}),this.addHandler(Ie(i),"close",function(e){if(!o)return t._removeFeedbackAndStopResize(),t.overlay.hide(),t.focus(),t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null}),!1;o=!1,t.overlay.hide(),t.focus(),t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),t.editRecurrenceDialog=i},getViewStart:function(){var e=this.getVisibleDate(),t=this._views[this._view].type;this._views[this._view];switch(t){case"dayView":case"timelineDayView":return e}return this.getFirstDayOfWeek(e)},getViewEnd:function(){var e=this.getViewStart(),t=1,i=this._views[this._view].type,o=this._views[this._view];switch(i){case"dayView":t=1;break;case"timelineDayView":t=1,o.days&&(t=o.days);break;case"weekView":case"timelineWeekView":t=7,o.days&&(t=o.days);break;case"monthView":t=41;break;case"timelineMonthView":t=41,o.days&&(t=o.days);break;case"agendaView":t=7,o.days&&(t=o.days)}return e.addDays(t)},getFirstDayOfWeek:function(e){var t=e,i=this.schedulerLocalization.firstDay;for((i<0||6<i)&&(i=6);t.dayOfWeek()!=i;)t.addDays(-1,!1);return t},getVisibleDate:function(){(t=this.date)<this.min&&(t=this.min),t>this.max&&(t=this.max);var e=this._views[this._view].type,t=(this._views[this._view],t.clearTime());switch(e){case"dayView":case"weekView":case"timelineDayView":case"timelineWeekView":case"agendaView":return t}var i=t.day();return t=t.addDays(1-i)},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=Ie('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var e,t,i=Ie('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.schedulerLocalization.loadString+"</span></div></div>");i.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),i.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(i),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url&&(e=!1,"auto"!==this.height&&null!==this.height&&!this.autoheight||999999!=this.maxHeight||(e=!0),e?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height)),t=!1,"auto"!==this.width&&null!==this.width&&!this.autoWidth||(t=!0),t?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width)))},_measureElement:function(e){var t=Ie("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),Ie(document.body).append(t),"cell"==e?this._cellheight=t.height():this._columnheight=t.height(),t.remove()},_testmodules:function(){function e(){""!=t.length&&(t+=",")}var t="";this.host.jqxScrollBar||(e(),t+=" jqxscrollbar.js"),this.host.jqxButton||(e(),t+=" jqxbuttons.js"),Ie.jqx.dataAdapter||(e(),t+=" jqxdata.js"),this.host.jqxDateTimeInput||(e(),t+=" jqxdatetimeinput.js"),this.host.jqxCalendar||(e(),t+=" jqxcalendar.js");try{Globalize||(e(),t+=" globalize.js")}catch(e){}if(""!=t)throw new Error("jqxScheduler: Missing references to the following module(s): "+t);return!1},focus:function(){try{if(this.isTouchDevice())return;if(this._editDialog&&this._editDialog.jqxWindow("isOpen")){var e=this;return setTimeout(function(){e.editDialogFields.subject.focus(),e.editDialogFields.subject.select()},1),void(this.focused=!0)}if(document.activeElement==this.element)return;this.host.focus();e=this;setTimeout(function(){e.host.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return Ie.jqx.isHidden(this.host)},_updatesize:function(e,t){var i,o,n,r;this._loading||(o=(i=this).host.width(),n=i.host.height(),i._oldWidth||(i._oldWidth=o),i._oldHeight||(i._oldHeight=n),null!=i._resizeTimer&&(clearTimeout(i._resizeTimer),i._resizeTimer=null),(r=function(){i._resizeTimer&&clearTimeout(i._resizeTimer),i.resizingGrid=!0,Ie.jqx.isHidden(i.host)||(i._updatecolumnwidths(),i.refresh(),i._oldWidth=o,i._oldHeight=n,i.resizingGrid=!1)})(),i._resizeTimer=setTimeout(function(){var e=i.host.width(),t=i.host.height();i._oldWidth==e&&i._oldHeight==t||r()},300))},resize:function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e=Ie.jqx.mobile.isTouchDevice();return this.touchDevice=e,1==this.touchMode?(e=!0,Ie.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=e):0==this.touchMode&&(e=!1),e&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),e},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(e,t){if(this._cellscache=new Array,Ie.jqx.dataFormat&&Ie.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxScheduler: "+this.loadingErrorMessage);if(null!=e){for(var i in this.schedulerLocalization)e[i]&&(this.schedulerLocalization[i]=e[i]);e.loadingErrorMessage&&(this.loadingErrorMessage=e.loadingErrorMessage),!1!==t&&(this._builddataloadelement(),Ie(this.dataloadelement).css("visibility","hidden"),Ie(this.dataloadelement).css("display","none"))}else this.schedulerLocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},agendaDateColumn:"Date",agendaTimeColumn:"Time",agendaAppointmentColumn:"Appointment",backString:"Back",forwardString:"Forward",toolBarPreviousButtonString:"previous",toolBarNextButtonString:"next",emptyDataString:"No data to display",loadString:"Loading...",clearString:"Clear",todayString:"Today",dayViewString:"Day",weekViewString:"Week",monthViewString:"Month",agendaViewString:"Agenda",timelineDayViewString:"Timeline Day",timelineWeekViewString:"Timeline Week",timelineMonthViewString:"Timeline Month",agendaAllDayString:"all day",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",editRecurringAppointmentDialogTitleString:"Edit Recurring Appointment",editRecurringAppointmentDialogContentString:"Do you want to edit only this occurrence or the series?",editRecurringAppointmentDialogOccurrenceString:"Edit Occurrence",editRecurringAppointmentDialogSeriesString:"Edit The Series",editDialogTitleString:"Edit Appointment",editDialogCreateTitleString:"Create New Appointment",contextMenuEditAppointmentString:"Edit Appointment",contextMenuCreateAppointmentString:"Create New Appointment",editDialogSubjectString:"Subject",editDialogLocationString:"Location",editDialogFromString:"From",editDialogToString:"To",editDialogAllDayString:"All day",editDialogExceptionsString:"Exceptions",editDialogResetExceptionsString:"Reset on Save",editDialogDescriptionString:"Description",editDialogResourceIdString:"Owner",editDialogStatusString:"Status",editDialogColorString:"Color",editDialogColorPlaceHolderString:"Select Color",editDialogTimeZoneString:"Time Zone",editDialogSelectTimeZoneString:"Select Time Zone",editDialogSaveString:"Save",editDialogDeleteString:"Delete",editDialogCancelString:"Cancel",editDialogRepeatString:"Repeat",editDialogRepeatEveryString:"Repeat every",editDialogRepeatEveryWeekString:"week(s)",editDialogRepeatEveryYearString:"year(s)",editDialogRepeatEveryDayString:"day(s)",editDialogRepeatNeverString:"Never",editDialogRepeatDailyString:"Daily",editDialogRepeatWeeklyString:"Weekly",editDialogRepeatMonthlyString:"Monthly",editDialogRepeatYearlyString:"Yearly",editDialogRepeatEveryMonthString:"month(s)",editDialogRepeatEveryMonthDayString:"Day",editDialogRepeatFirstString:"first",editDialogRepeatSecondString:"second",editDialogRepeatThirdString:"third",editDialogRepeatFourthString:"fourth",editDialogRepeatLastString:"last",editDialogRepeatEndString:"End",editDialogRepeatAfterString:"After",editDialogRepeatOnString:"On",editDialogRepeatOfString:"of",editDialogRepeatOccurrencesString:"occurrence(s)",editDialogRepeatSaveString:"Save Occurrence",editDialogRepeatSaveSeriesString:"Save Series",editDialogRepeatDeleteString:"Delete Occurrence",editDialogRepeatDeleteSeriesString:"Delete Series",editDialogStatuses:{free:"Free",tentative:"Tentative",busy:"Busy",outOfOffice:"Out of Office"}}},_updateScrollbars:function(e){var t=!1,i=this;"auto"!==i.width&&null!==i.width&&!i.autowidth||999999!=i.maxWidth||(t=!0);var o=i._views[i._view].type,n=i._views[i._view];if("monthView"==o&&i.resources&&"none"==i.resources.orientation&&!n.monthRowAutoHeight){var r=i.vScrollBar[0].style.visibility;return i.hScrollBar[0].style.visibility="hidden",i.vScrollBar[0].style.visibility="hidden",void(r!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths())}var s,a=parseInt(i.scrollBarSize),l=i.table?i.table.height():0,d=0,h="inherit",r=i.vScrollBar[0].style.visibility;i.hScrollBar[0].style.visibility;s=e||i.host.height(),i.columnGroups?s-=i.showHeader?i.columnsheader.height():0:s-=i.showHeader?i.columnsHeight:0,i.filterable&&(s-=i.filter.height()),i.pageable&&(s-=i.pagerHeight,"both"===i.pagerPosition&&(s-=i.pagerHeight)),i.showToolbar&&(s-=i.toolbarHeight),i.showLegend&&0<i._resources.length&&(s-=i.legendHeight);var c=!1;"auto"!==i.height&&null!==i.height&&!i.autoheight||999999!=i.maxHeight||(c=!0),!c&&s<l&&0<i.getRows().length?(i.vScrollBar[0].style.visibility=h,d=4+parseInt(a),i.vScrollBar.jqxScrollBar({max:l-s})):i.vScrollBar[0].style.visibility="hidden",r!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths();var u=i.table?i.table.width():0;4<u&&(u-=4);var p,m,f=parseInt(i.host.css("border-left-width"))+parseInt(i.host.css("border-right-width")),g=f+i.host.width()-d;g<u&&!t?(i.hScrollBar[0].style.visibility=h,i.hScrollBar.jqxScrollBar({max:2+f+u-g}),d=4+parseInt(a),0==a&&(d=0),c||l==s||(s-d+4<l&&0<i.getRows().length&&(i.hScrollBar.jqxScrollBar({max:f+u-g}),p="hidden"===i.vScrollBar[0].style.visibility,i.vScrollBar[0].style.visibility=h,i._updatecolumnwidths(),p&&i.hScrollBar.jqxScrollBar({max:u-g+f}),3<(m=i.table?i.table.width():0)&&(m-=3),m!=u&&(m<g?(i.hScrollBar.jqxScrollBar({max:f+m-g}),i.hScrollBar[0].style.visibility="hidden",d=0):p?g<m&&i.hScrollBar.jqxScrollBar({max:f+m-g}):i.hScrollBar.jqxScrollBar({max:u-g+f-a}))),0<l-s?i.vScrollBar.jqxScrollBar({max:l-s+d}):i.vScrollBar[0].style.visibility="hidden")):i.hScrollBar[0].style.visibility="hidden",0===i.getRows().length&&(i.vScrollBar[0].style.visibility="hidden",i.bottomRight[0].style.visibility="hidden"),"hidden"==i.vScrollBar[0].style.visibility&&0!=i.vScrollInstance.value&&i.vScrollInstance.setPosition(0)},_measureElementWidth:function(e){var t=Ie("<span style='visibility: hidden; white-space: nowrap;'>"+e+"</span>");t.addClass(this.toTP("jqx-widget")),t.addClass(this.toTP("jqx-grid")),t.addClass(this.toTP("jqx-grid-column-header")),t.addClass(this.toTP("jqx-widget-header")),Ie(document.body).append(t);var i=t.outerWidth()+20;return t.remove(),i},_arrangeAutoHeight:function(e){if(e=e||0,"auto"===this.height||null===this.height||this.autoheight){var t,i,o=this.table.height(),n=0;return this._hostHeight=null,this.columnGroups?n+=this.showHeader?this.columnsheader.height():-1:n+=this.showHeader?this.columnsHeight:-1,n+=this.showLegend&&0<this._resources.length?this.legendHeight:0,n+=this.showToolbar?this.toolbarHeight:0,n+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(n+=this.pageable?this.pagerHeight:0),n+=o,this.filterable&&(t=this.filter.find(".filterrow"),i=1,0<this.filter.find(".filterrow-hidden").length&&(i=0),n+=this.filterHeight-1+this.filterHeight*t.length*i),n+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(n+e),!0}return!1},_arrangeAutoWidth:function(e){if(e=e||0,"auto"===this.width||null===this.width||this.autowidth){this._hostWidth=null;for(var t=0,i=0;i<this.columns.records.length;i++){var o=this.columns.records[i].width;this.columns.records[i].hidden||(t+="auto"==o?o=this._measureElementWidth(this.columns.records[i].text):o)}var n=t;return n+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(n+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0;return this.showToolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.showLegend&&"bottom"!=this.legendPosition&&0<this._resources.length&&(t+=parseInt(this.legendHeight)+1),{top:t,height:e}},_arrange:function(){var e,t,i,o,n,r,s,a,l,d,h,c,u,p,m,f,g,w,v,y;this.table&&(this._arrangeAutoHeight(),this._arrangeAutoWidth(),e=this.legendHeight,0==this._resources.length&&(e=0),t=this._hostWidth?this._hostWidth:this.host.width(),i=c=this._hostHeight?this._hostHeight:this.host.height(),this.showLegend&&"top"==this.legendPosition?this.legendbartop[0].style.visibility="inherit":this.legendbartop[0].style.visibility="hidden",h=0,this.showToolbar?(this.toolbar.width(t),this.toolbar[0].style.height=this.toolbarHeight-1+"px",this.toolbar[0].style.top="0px",h+=this.toolbarHeight,c-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.showLegend&&"bottom"==this.legendPosition?(this.legendbarbottom[0].style.width=t+"px",this.legendbarbottom[0].style.height=e+"px"):this.legendbarbottom[0].style.height="0px",this.showLegend&&"top"==this.legendPosition&&(this.legendbartop[0].style.width!=t+"px"&&(this.legendbartop[0].style.width=parseInt(t)+"px"),this.legendbartop[0].style.height!=e+"px"&&(this.legendbartop[0].style.height=parseInt(e-1)+"px"),this.legendbartop[0].style.top!=h+"px"&&(this.legendbartop[0].style.top=h+"px"),o=h+e+"px",h+=e,this.content[0].style.top!=o&&(this.content[0].style.top=h+"px")),this.showLegend||(this.legendbartop[0].style.display="none",this.legendbarbottom[0].style.display="none"),this._updateScrollbars(i),n=parseInt(this.scrollBarSize),r=2,s=0,"hidden"!=this.vScrollBar[0].style.visibility&&(s=n+4),"hidden"!=this.hScrollBar[0].style.visibility&&(r=n+4+2),0==n&&(s=r=0),"hidden"==this.vScrollBar[0].style.visibility&&"hidden"==this.hScrollBar[0].style.visibility||(a=this._arrangeAutoHeight(r-2),l=this._arrangeAutoWidth(s+1),(a||l)&&(this.legendbartop[0].style.width=parseInt(t)+"px",this.toolbar[0].style.width=parseInt(t)+"px",this.legendbarbottom[0].style.width=parseInt(t)+"px",this.filter[0].style.width=parseInt(t)+"px"),a&&(h=(d=this._measureTopAndHeight()).top,c=d.height)),u=0,this.showLegend&&"bottom"==this.legendPosition?(r+=e,u+=e):this.showLegend&&(r+=e),this.hScrollBar[0].style.height!=n+"px"&&(this.hScrollBar[0].style.height=parseInt(n)+"px"),this.hScrollBar[0].style.top==h+c-4-n-u+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=h+c-4-n-u-1+"px",this.hScrollBar[0].style.left="0px"),p=this.hScrollBar[0].style.width,f=m=!1,0==s?p!=t-2+"px"&&(this.hScrollBar[0].style.width=t-2+"px",m=!0):p!=t-n-4+"px"&&(this.hScrollBar[0].style.width=t-n-4+"px",m=!0),this.vScrollBar[0].style.width!=n+"px"&&(this.vScrollBar[0].style.width=n+"px",f=!0),this.vScrollBar[0].style.height!=parseInt(c)-r+"px"&&(this.vScrollBar[0].style.height=parseInt(c)-r+"px",f=!0),this.vScrollBar[0].style.left==parseInt(t)-parseInt(n)-4+"px"&&this.vScrollBar[0].style.top==h+"px"||(this.vScrollBar[0].style.top=h+"px",this.vScrollBar[0].style.left=parseInt(t)-parseInt(n)-4+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:h}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:n+2})),(g=this.vScrollInstance).disabled=this.disabled,(w=this.hScrollInstance).disabled=this.disabled,m&&w.refresh(),f&&g.refresh(),"hidden"!=(v=this).vScrollBar[0].style.visibility&&"hidden"!=v.hScrollBar[0].style.visibility?(v.bottomRight[0].style.visibility="inherit",v.bottomRight[0].style.left=1+parseInt(v.vScrollBar.css("left"))+"px",v.bottomRight[0].style.top=parseInt(v.hScrollBar.css("top"))+"px",v.rtl&&v.bottomRight.css("left","0px"),v.bottomRight[0].style.width=parseInt(n)+3+"px",v.bottomRight[0].style.height=parseInt(n)+4+"px"):v.bottomRight[0].style.visibility="hidden",this.content[0].style.width!=t-s+"px"&&(this.content[0].style.width=t-s+"px"),this.content[0].style.height!=c-r+3+"px"&&(this.content[0].style.height=c-r+3+"px"),this.content[0].style.top!=h+"px"&&(this.content[0].style.top=parseInt(h)+"px"),this.rtl&&this.content.css("left",s),this.showLegend&&"bottom"==this.legendPosition&&(this.legendbarbottom.css("top",h-1+c-e-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.legendbarbottom.css("left",this.content.css("left")):this.legendbarbottom.css("left","0px"))),this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,t!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),c!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostWidth=t,this._hostHeight=i,y=this.schedulercontent.coord(),this._tableOffset=y)},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};null!=e&&"object"==typeof e&&(t=e.left,e=e.top),null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginAppointmentsUpdate:function(){this._appupdating=!0},endAppointmentsUpdate:function(){this._appupdating=!1,this._renderrows()},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){(this._updating=!1)!==e&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(e,t,o){var n,x,r,b,A;!0!==this.loadingstate&&(n=window,"block"==this.host.css("display")&&(this.autoShowLoadElement?(Ie(this.dataloadelement).css("visibility","visible"),Ie(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(Ie(this.dataloadelement).css("visibility","hidden"),Ie(this.dataloadelement).css("display","none"))),x=this,null==e&&(e={}),null!=e.sortcomparer&&null!=e.sortcomparer||(e.sortcomparer=null),null!=e.filter&&null!=e.filter||(e.filter=null),null!=e.sort&&null!=e.sort||(e.sort=null),null!=e.data&&null!=e.data||(e.data=null),null!=e&&(null!=e._source?e._source.url:e.url),this.dataview=this.dataview||new Ie.jqx.scheduler.dataView("dataView"),this.resourcesDataView=this.resourcesDataView||new Ie.jqx.scheduler.dataView("resourcesDataView"),this.dataview.pageable=this.pageable,((this.dataview.scheduler=this).resourcesDataView.scheduler=this)._loading=!0,this.appointments=new Array,this.uiappointments=new Array,r=1,this.resources&&this.resources.source&&(r=2),b=0,A=function(){var e,t,i;b==r&&(x._resourcesBinding=!1,e=1<x._resources.length?x._resources.length:1,x.resources&&"horizontal"===x.resources.orientation?(x.tableColumns=e,x.tableRows=1):x.resources&&"vertical"===x.resources.orientation?(x.tableRows=e,x.tableColumns=1):(x.tableColumns=1,x.tableRows=1),x._render(),x.autoShowLoadElement&&!x._loading&&(Ie(x.dataloadelement).css("visibility","hidden"),Ie(x.dataloadelement).css("display","none")),x._updateTouchScrolling(),x._raiseEvent("bindingComplete"),o&&o(),x.initializedcall||(x.initializedcall=!0,x.isInitialized=!0,(null!=x.width&&-1!=x.width.toString().indexOf("%")||null!=x.height&&-1!=x.height.toString().indexOf("%"))&&x._updatesize(!0),x.ready&&x.ready(),x._rendercelltexts&&x._rendercelltexts(),x._gridRenderElement&&(Ie(x._gridRenderElement).show("slow"),t=6e3+Math.floor(4e3*Math.random()+1),i=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase(),n[Ie.camelCase(i)](function(){Ie(x._gridRenderElement).hide("slow",function(){Ie(x._gridRenderElement).remove()})},t)),"hidden"==x.host.css("visibility")&&(Ie.jqx.browser.msie&&Ie.jqx.browser.version,"visible"==x.vScrollBar.css("visibility")&&x.vScrollBar.css("visibility","inherit"),"visible"==x.hScrollBar.css("visibility")&&x.hScrollBar.css("visibility","inherit"),x._intervalTimer=setInterval(function(){"visible"==x.host.css("visibility")&&(x._updatesize(!0),clearInterval(x._intervalTimer))},100))))},this._resourcesBinding=!1,this.dataview.update=function(e){x._loading=!1,x.appointmentsByKey=new Array,x.appointments=new Array,x.uiappointments=new Array;x.source._source.datafields;for(var t=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"],i=new Array,o=0;o<x.source.records.length;o++){var n=x.source.records[o],r={};for(var s in x.appointmentDataFields){var a,l=n[x.appointmentDataFields[s]];if("from"!=s&&"to"!=s||(l=new Ie.jqx.date(l)),"style"==s&&l&&(a=x.getAppointmentColors(l),r.color=a.color,r.background=a.background,r.borderColor=a.border),"recurrencePattern"==s&&l&&((l=new Ie.jqx.scheduler.recurrencePattern(l)).timeZone=n.timeZone||x.timeZone),"recurrenceException"==s){var d=new Array;if(l){0<=l.indexOf("EXDATE:")&&(l=l.substring(l.indexOf("EXDATE:")+7));var h=new Array;0<=l.indexOf(",")?h=l.split(","):h.push(l);for(var c=0;c<h.length;c++){var u,p=h[c];0<=p.indexOf(";")&&(u=p.split(";")[1],p=p.split(";")[0],0<=u.toLowerCase().indexOf("display")&&u.toLowerCase().indexOf("none")&&(r.hidden=!0));try{"Invalid Date"!=(m=Ie.jqx.scheduler.utilities.untilStringToDate(p))&&(m=r.timeZone?new Ie.jqx.date(m,r.timeZone):x.timeZone?m.toTimeZone(x.timeZone):new Ie.jqx.date(m))}catch(e){var m=new Ie.jqx.date(p,x.timeZone)}d.push(m)}}l=d}r[s]=l}for(var f in t){if(null==r[s=t[f]]){l="";if("originalData"==s)continue;"ownerId"==s&&(l=null),"timeZone"==s&&(l=null),"recurrencePattern"==s&&(l=null),"recurrenceException"==s&&(l=[]),"allDay"==s&&(l=!1),"draggable"==s&&(l=!0),"resizable"==s&&(l=!0),"hidden"==s&&(l=!1),"resourceId"==s&&(l=null),"from"==s&&(l=new Ie.jqx.date),"to"==s&&(l=(new Ie.jqx.date).addHours(1)),r[s]=l}}r.originalData=n,x.resources&&!x.resources.source&&(x._resourcesBinding||-1==i.indexOf(r.resourceId)&&i.push(r.resourceId)),x.appointmentsByKey[n.uid]=r,x.appointments.push(r);var g=new Ie.jqx.scheduler.appointment(r);if(r.timeZone&&(g.from=g.from.toTimeZone(r.timeZone),g.to=g.to.toTimeZone(r.timeZone)),x.timeZone?(r.timeZone||(g.timeZone=x.timeZone),g.from=g.from.toTimeZone(x.timeZone),g.to=g.to.toTimeZone(x.timeZone)):(g.from=g.from.toTimeZone(null),g.to=g.to.toTimeZone(null)),r.jqxAppointment=g,r.recurrenceException)for(var w=0;w<r.recurrenceException.length;w++){var m=g.recurrenceException[w],v=g.clone();v.occurrenceFrom=m;var y=g.duration();x.allDay&&(y=new Ie.jqx.timeSpan(1e4*(x.to-x.from))),v.from=m,v.to=m.add(y),v.rootAppointment=g,v.hidden=!0,g.exceptions.push(v)}g.boundAppointment=r,(g.scheduler=x).uiappointments.push(g)}x._resourcesBinding||(x._resources=i),b++,A()},this.resourcesDataView.update=function(e){if(x.resources.dataField){x._resources=new Array;for(var t=0;t<e.length;t++)0<=x._resources.indexOf(e[t][x.resources.dataField])||e[t][x.resources.dataField]&&x._resources.push(e[t][x.resources.dataField])}else x._resources=e;null==x.resources.orientation&&(x.resources.orientation="none"),b++,A()},this.dataview.databind(e),this.resources&&this.resources.source&&(this._resourcesBinding=!0,this.resourcesDataView.databind(this.resources.source)))},_raiseEvent:function(e,t){null==t&&(t={owner:null});var i=e,o=t;o.owner=this;var n=new Ie.Event(i);n.owner=this,n.args=o;var r=this.host.trigger(n);return t=n.args,r},ensureAppointmentVisible:function(e){return!!this.appointmentsByKey[e]&&this._ensureAppointmentVisible(this.appointmentsByKey[e].jqxAppointment)},_ensureAppointmentVisible:function(e){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;if(!e)return!1;var t=this.getViewStart(),i=this.getViewEnd();if(!Ie.jqx.scheduler.utilities.rangeIntersection(e.from,e.to,t,i))return this.navigateTo(e.from),this._ensureAppointmentVisible(e);var o=e.id,n=Ie('[data-key="'+o+'"]');if(0<n.length)var r=n[0];else{if(!(e.elements&&0<e.elements.length))return!1;r=e.elements[0].element}var s=this.vScrollInstance.value,a=this.hScrollInstance.value;this.rtl&&(a=this.hScrollInstance.max-a);var l=this.element.clientHeight,d=this.element.clientWidth,h=0;this.columnGroups?h+=this.showHeader?this.columnsheader.height():0:h+=this.showHeader?this.columnsHeight:0;var c=this._views[this._view].type,u=this._views[this._view],p=0;if("dayView"==c||"weekView"==c){var m=this.showAllDayRow;!u.timeRuler||"dayView"!==c&&"weekView"!==c||null!=u.timeRuler.showAllDayRow&&(m=u.timeRuler.showAllDayRow),m&&(p=1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight);var f=1<=e.duration().days()||e.allDay;if(f&&1==this.tableRows&&1==this.tableColumns)return!1}this.showToolbar&&(h+=this.toolbarHeight),l-=h,this.showLegend&&0<this._resources.length&&(l-=this.legendHeight);var g,w=+s,v=l+w-p,y=+a,x=d+y,b=r,A=((b=Ie(b))[0].clientHeight,b.position().top-p);A<=w?((g=A)<0&&(g=0),(!f||f&&1<this.tableRows)&&this.vScrollBar.jqxScrollBar("setPosition",g)):v<=A&&((g=A)<0&&(g=0),(!f||f&&1<this.tableRows)&&this.vScrollBar.jqxScrollBar("setPosition",g-2));var T=b.position().left;T=Math.round(T),b.outerWidth();0===Math.round(b.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),T<=y&&(b.outerWidth(),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-T):this.hScrollBar.jqxScrollBar("setPosition",T)),x<T&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-T):this.hScrollBar.jqxScrollBar("setPosition",T))},ensureVisible:function(e,t){for(var i=this,o="date"==Ie.type(e)?e:e.toDate(),n=0;n<i.rows.length;n++)for(var r=0;r<i.rows[n].cells.length;r++){var s=i.rows[n].cells[r];if(!t||s.getAttribute("data-view")===t){var a=s.getAttribute("data-date");if(i._getDateByString(a).valueOf()==o.valueOf())return i._ensureVisible(s)}}},_ensureVisible:function(e){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;var t=this.vScrollBar.jqxScrollBar("value"),i=this.hScrollBar.jqxScrollBar("value");this.rtl&&(i=this.hScrollBar.jqxScrollBar("max")-i);var o=this._hostHeight,n=this._hostWidth,r=0;this.columnGroups?r+=this.showHeader?this.columnsheader.height():0:r+=this.showHeader?this.columnsHeight:0,this.showToolbar&&(r+=this.toolbarHeight),o-=r,this.showLegend&&0<this._resources.length&&(o-=this.legendHeight),"hidden"!=this.hScrollBar.css("visibility")&&(o-=20);var s,a=this._views[this._view].type,l=this._views[this._view],d=0;"dayView"!=a&&"weekView"!=a||(s=this.showAllDayRow,!l.timeRuler||"dayView"!==a&&"weekView"!==a||null!=l.timeRuler.showAllDayRow&&(s=l.timeRuler.showAllDayRow),s&&(d=1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight));var h,c=+t,u=o+c-d,p=+i,m=n+p,f=e,g=(f=Ie(f)).position().top-d,w=g+f.outerHeight(),v=f.position().left,y=(v=Math.round(v))+f.outerWidth();0===Math.round(f.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),v<=p&&((h=v-f.outerWidth()+0)<0&&(h=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-h):this.hScrollBar.jqxScrollBar("setPosition",h)),m<=y&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-(2+y-n)):this.hScrollBar.jqxScrollBar("setPosition",2+y-n));var x=f.parent().index();if(0<this.tableRows&&x--,0===Math.round(f.position().top)||0===x)return this.vScrollBar.jqxScrollBar("setPosition",0);var b=this.table[0].rows.length-1;if(this.table[0].rows[b][0]===f.parent()[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(g<=c){var A=g;return A<0&&(A=0),this.vScrollBar.jqxScrollBar("setPosition",A)}return u<=w?this.vScrollBar.jqxScrollBar("setPosition",4+w-o+d):void 0},getColumn:function(e){var t=null;return this.columns.records&&Ie.each(this.columns.records,function(){if(this.datafield==e||this.displayfield==e)return t=this,!1}),t},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var o=this.getColumn(e);if(null!=o){o[t];o[t]=i;var n=this.getColumn(e);switch(null!=n&&(n[t]=i),t){case"text":case"hidden":case"hideable":case"renderer":case"align":case"cellsalign":case"contenttype":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t||"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?this._rendercolumnheaders():"width"!=t&&"maxwidth"!=t&&"minwidth"!=t||(o._width=null,o._percentagewidth=null,this._updatecolumnwidths()),this.refresh()}}},getColumnProperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getColumn(e)[t])},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(e){if(1!=e){var t=this;if(Ie.jqx.isHidden(t.host))return;t.table[0].style.top="0px",t.vScrollInstance.setPosition(0),t._renderrows(),t._arrange(),t._renderhorizontalscroll(),t._updateTouchScrolling(),t._refreshToolBar(),t._updateFocusedCell()}},_updateFocusedCell:function(){var e=this;if(e.focusedCell)e._updateCellsSelection();else{var t=e._views[e._view].type,i=e._views[e._view],o=e.showAllDayRow;if(!i.timeRuler||"dayView"!==t&&"weekView"!==t||null!=i.timeRuler.showAllDayRow&&(o=i.timeRuler.showAllDayRow),!o||"dayView"!=t&&"weekView"!=t?(e.focusedCell=e.rows[0].cells[0],e.rtl&&(e.focusedCell=e.rows[0].cells[e.rows[0].cells.length-1])):(e.focusedCell=e.rows[1].cells[0],e.rtl&&(e.focusedCell=e.rows[1].cells[e.rows[1].cells.length-1])),0<=e.focusedCell.className.indexOf("jqx-scheduler-disabled-cell")){e.focusedCell=null;for(var n=0;n<this.rows.length;n++){for(var r=0;r<this.rows[n].cells.length;r++){var s=this.rows[n].cells[r];if(-1==s.className.indexOf("jqx-scheduler-disabled-cell")){e.focusedCell=s;break}}if(e.focusedCell)break}}e._lastSelectedCell=e.focusedCell,e._updateCellsSelection()}},_updateTouchScrolling:function(){var e,t,i,o=this.that;o.isTouchDevice()&&(e=Ie.jqx.mobile.getTouchEventName("touchstart"),t=Ie.jqx.mobile.getTouchEventName("touchend"),i=Ie.jqx.mobile.getTouchEventName("touchmove"),o.schedulercontent&&(o.removeHandler(o.table,e+".touchScroll"),o.removeHandler(o.table,i+".touchScroll"),o.removeHandler(o.table,t+".touchScroll"),o.removeHandler(o.table,"touchcancel.touchScroll"),Ie.jqx.mobile.touchScroll(o._table[0],Math.max(o.vScrollInstance.max,o.hScrollInstance.max),function(e,t){o.dragOrResize||(null!=t&&"hidden"!=o.vScrollBar.css("visibility")&&(o.vScrollInstance.value,o.vScrollInstance.setPosition(t)),null!=e&&"hidden"!=o.hScrollBar.css("visibility")&&(o.hScrollInstance.value,o.hScrollInstance.setPosition(e)),o.scrolled=new Date)},this.element.id,this.hScrollBar,this.vScrollBar)))},scrollWidth:function(){return this.hScrollInstance.max},scrollHeight:function(){return this.vScrollInstance.max},scrollLeft:function(e){"hidden"!=this.hScrollBar[0].style.visibility&&this.hScrollInstance.setPosition(e)},scrollTop:function(e){"hidden"!=this.vScrollBar[0].style.visibility&&this.vScrollInstance.setPosition(e)},render:function(e){var t="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbartop' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbarbottom' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerHTML=t,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var i=this.host.find("#verticalScrollBar"+this.element.id),o=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=i.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=o.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=Ie.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=Ie.data(this.hScrollBar[0],"jqxScrollBar").instance,this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-scheduler-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.legendbarbottom=this.host.find("#legendbarbottom"),this.legendbarbottom[0].id="legendbarbottom"+this.element.id,this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar-bottom")),this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbarbottom.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.legendbartop=this.host.find("#legendbartop"),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar-top")),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbartop.addClass(this.toTP("jqx-widget-header")),this.schedulertable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var n=this.source.datafields;if(null==n&&this.source._source&&(n=this.source._source.datafields),n)for(var r=0;r<this.columns.length;r++){var s=this.columns[r];if(s&&s.cellsFormat&&2<s.cellsFormat.length)for(var a=0;a<n.length;a++)if(n[a].name==s.datafield&&!n[a].format){n[a].format=s.cellsFormat;break}}this.databind(this.source),this.showToolbar&&this.toolbar.css("visibility","inherit"),this.showLegend&&this.legendbarbottom.css("visibility","inherit"),this.tableheight=null;var l=this;this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return l.content&&(l.content[0].scrollTop=0,l.content[0].scrollLeft=0),l.schedulercontent&&(l.schedulercontent[0].scrollLeft=0,l.schedulercontent[0].scrollTop=0),!1}),!0!==e&&this._render()},_render:function(){var e,t,i,o,n,l=this;null!=l.dataview&&(l._loading||(25==l.columnsHeight&&!l.columnGroups||l._measureElement("column"),l.rowinfo=new Array,l._removeHandlers(),null==l.columns?l.columns=new Ie.jqx.schedulerDataCollection(l.element):l._initializeColumns(),l.host.height(l.height),l.host.width(l.width),Ie.jqx.utilities.html(l.content,""),l.columnsheader=l.columnsheader||Ie('<div style="overflow: hidden;"></div>'),l.columnsheader.remove(),l.columnsheader.addClass(l.toTP("jqx-widget-header")),l.columnsheader.addClass(l.toTP("jqx-grid-header")),l.showHeader?l.columnsheader&&l.columnsheader.css("display","block"):l.columnsheader.css("display","none"),l.schedulercontent=l.schedulercontent||Ie('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),l.schedulercontent.remove(),l.columnsHeight,e=l._preparecolumnGroups(),l.columnsheader.height(e),l.content.append(l.columnsheader),l.content.append(l.schedulercontent),l._rendercolumnheaders(),l.tableheight=null,l.schedulercontent.find("#contenttable"+l.element.id).remove(),null!=l.table&&(l.table.remove(),l.table=null),null!=l.pinnedtable&&(l.pinnedtable.remove(),l.pinnedtable=null),l.table=Ie('<div id="contenttable'+l.element.id+'" style="overflow: hidden; position: relative;"></div>'),l.pinnedtable=Ie('<div id="contenttable2'+l.element.id+'" style="display: none; overflow: hidden; position: relative;"></div>'),l.schedulercontent.addClass(l.toTP("jqx-grid-content")),l.schedulercontent.addClass(l.toTP("jqx-widget-content")),l.schedulercontent.append(l.table),1==l.tableRows&&l.schedulercontent.append(l.pinnedtable),l._renderrows(),l._arrange(),l._resourcesElements=new Array,(t=function(s,a){s.children().remove();s=Ie("<div style='margin:5px; position: relative;'></div>").appendTo(s);l._resourcesElements[a]=new Array,Ie.each(l._resources,function(e){var t=l.getColors(e),i=this.toString(),o=Ie("<div data-toggle='on' style='border-color: "+t.border+"; background: "+t.background+";' class='"+l.toThemeProperty("jqx-scheduler-legend")+"'></div>");o.appendTo(s);var n=Ie("<div class='"+l.toThemeProperty("jqx-scheduler-legend-label")+"'>"+i+"</div>");n.appendTo(s),l._resourcesElements[a][i]=o;function r(){"on"==o.attr("data-toggle")?l.hideAppointmentsByResource(i):l.showAppointmentsByResource(i)}l.addHandler(o,"mousedown",function(){return r(),!1}),l.addHandler(n,"mousedown",function(){return r(),!1})})})(l.legendbarbottom,"bottom"),t(l.legendbartop,"top"),"top"==l.legendPosition?l.legendbarbottom.hide():l.legendbartop.hide(),0==l._resources.length&&(l.legendbarbottom.hide(),l.legendbartop.hide()),l.renderToolBar?l.renderToolBar(l.toolbar):l._renderToolBar(),l.disabled&&l.host.addClass(l.toThemeProperty("jqx-fill-state-disabled")),l._renderhorizontalscroll(),l._addHandlers(),l.clearSelection(),i=l._views[l._view].type,o=l._views[l._view],n=l.showAllDayRow,!o.timeRuler||"dayView"!==i&&"weekView"!==i||null!=o.timeRuler.showAllDayRow&&(n=o.timeRuler.showAllDayRow),l.focusedCell=!n||"dayView"!=i&&"weekView"!=i?l.rows[0].cells[0]:l.rows[1].cells[0],l._lastSelectedCell=l.focusedCell,l._updateCellsSelection()))},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},getAppointmentElement:function(e){var t=null;0<=e.className.indexOf("jqx-scheduler-appointment")&&-1==e.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=e);for(var i=e,o=0;o<4&&i.parentNode;o++)0<=i.className.indexOf("jqx-scheduler-appointment")&&-1==i.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=i),i=i.parentNode;return t},getJQXAppointmentByElement:function(e){var t,i=e.getAttribute?e.getAttribute("data-key"):e.attr("data-key");return 0<=i.indexOf(".")?(t=i.substring(0,i.indexOf(".")),i.substring(i.indexOf(".")+1),this.appointmentsByKey[t].jqxAppointment.renderedAppointments[i]):this.appointmentsByKey[i].jqxAppointment},_renderToolBar:function(){var r=this,e=Ie('<div style="width: 100%; height: 100%; position: relative;"></div>'),t=(this.toolbarHeight-20)/2;e.css("top",t),r.toolbarLeftButton=Ie('<div type="button" style="outline: none; padding: 0px; margin-top: 3px; margin-left: 3px; margin-right: 3px; width: 27px; float: left;"></div>'),r.toolbarRightButton=Ie('<div type="button" style="outline: none; padding: 0px; margin-top: 3px; margin-right: 3px; width: 27px; float: left;"></div>'),r.toolbarLeftButton.attr("title",r.schedulerLocalization.toolBarPreviousButtonString),r.toolbarRightButton.attr("title",r.schedulerLocalization.toolBarNextButtonString),r.toolbarRightButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:r.disabled,theme:r.theme}),r.toolbarLeftButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:r.disabled,theme:r.theme}),r.dateTimeInput=Ie('<div style="outline: none; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: left;"></div>'),r.toolbarLeftButton.find(".jqx-icon-arrow-left").remove(),r.toolbarRightButton.find(".jqx-icon-arrow-right").remove();var i=Ie("<div style='outline: none; margin-left: 6px; width: 15px; height: 15px;'></div>");i.addClass(r.toThemeProperty("jqx-icon-arrow-left")),r.toolbarLeftButton.wrapInner(i);var o=Ie("<div style='outline: none; margin-left: 6px; width: 15px; height: 15px;'></div>");o.addClass(r.toThemeProperty("jqx-icon-arrow-right")),r.toolbarRightButton.wrapInner(o),r.rtl&&(r.toolbarLeftButton.css("float","right"),r.toolbarRightButton.css("float","right"),r.dateTimeInput.css("float","right")),r.addHandler(r.toolbarRightButton,"mouseenter",function(){o.addClass(r.toThemeProperty("jqx-icon-arrow-right-hover"))}),r.addHandler(r.toolbarLeftButton,"mouseenter",function(){i.addClass(r.toThemeProperty("jqx-icon-arrow-left-hover"))}),r.addHandler(r.toolbarRightButton,"mouseleave",function(){o.removeClass(r.toThemeProperty("jqx-icon-arrow-right-hover"))}),r.addHandler(r.toolbarLeftButton,"mouseleave",function(){i.removeClass(r.toThemeProperty("jqx-icon-arrow-left-hover"))}),r.addHandler(r.toolbarRightButton,"mousedown",function(){o.addClass(r.toThemeProperty("jqx-icon-arrow-right-selected"))}),r.addHandler(r.toolbarRightButton,"mouseup",function(){o.removeClass(r.toThemeProperty("jqx-icon-arrow-right-selected"))}),r.addHandler(r.toolbarLeftButton,"mousedown",function(){i.addClass(r.toThemeProperty("jqx-icon-arrow-left-selected"))}),r.addHandler(r.toolbarLeftButton,"mouseup",function(){i.removeClass(r.toThemeProperty("jqx-icon-arrow-left-selected"))}),r.addHandler(Ie(document),"mouseup.pagerbuttons"+r.element.id,function(){o.removeClass(r.toThemeProperty("jqx-icon-arrow-right-selected")),i.removeClass(r.toThemeProperty("jqx-icon-arrow-left-selected"))}),r.addHandler(r.toolbarRightButton,"click",function(){r.toolbarRightButton.jqxButton("disabled")||(r.rtl?r.navigateBackward():r.navigateForward(),r.focus())}),r.addHandler(r.toolbarLeftButton,"click",function(){r.toolbarLeftButton.jqxButton("disabled")||(r.rtl?r.navigateForward():r.navigateBackward(),r.focus())}),r.toolbar.children().remove(),r.toolbar.append(e),r.rtl?(e.append(r.toolbarRightButton),e.append(r.dateTimeInput),e.append(r.toolbarLeftButton)):(e.append(r.toolbarLeftButton),e.append(r.dateTimeInput),e.append(r.toolbarRightButton)),r.toolbarDetails=Ie('<div class="'+r.toTP("jqx-scheduler-toolbar-details")+'" style="margin-left: 7px; margin-top:2px; float: left;"></div>'),r.toolbarViews=Ie('<div style="margin-right: 10px; margin-top:0px; float: right;"></div>'),r.rtl&&(r.toolbarDetails.css("float","right"),r.toolbarDetails.css("margin-left","0px"),r.toolbarDetails.css("margin-right","7px"),r.toolbarViews.css("margin-left","10px"),r.toolbarViews.css("margin-right","0px"),r.toolbarViews.css("float","left"));var s=new Array;r.rtl?(s.push(r.toolbarRightButton),s.push(r.dateTimeInput),s.push(r.toolbarLeftButton)):(s.push(r.toolbarLeftButton),s.push(r.dateTimeInput),s.push(r.toolbarRightButton));var a=r._views.length-1;Ie.each(r._views,function(e){var t="",i=e;if(r.rtl&&(i=a-e),null!=r._views[i].text)t=r._views[i].text;else switch(r._views[i].type){case"dayView":t=r.schedulerLocalization.dayViewString;break;case"weekView":t=r.schedulerLocalization.weekViewString;break;case"monthView":t=r.schedulerLocalization.monthViewString;break;case"agendaView":t=r.schedulerLocalization.agendaViewString;break;case"timelineDayView":t=r.schedulerLocalization.timelineDayViewString;break;case"timelineWeekView":t=r.schedulerLocalization.timelineWeekViewString;break;case"timelineMonthView":t=r.schedulerLocalization.timelineMonthViewString}var o='<span data-type="'+r._views[i].type+'" style="cursor: pointer; outline: none; margin-left: -1px; position: relative;">'+t+"</span>",n=Ie(o);n.addClass(r.toTP("jqx-group-button-normal jqx-button jqx-fill-state-normal")),s.push(n),0==i&&(r.rtl?n.addClass(r.toTP("jqx-rc-r")):n.addClass(r.toTP("jqx-rc-l"))),i==r._views.length-1&&(r.rtl?n.addClass(r.toTP("jqx-rc-l")):n.addClass(r.toTP("jqx-rc-r"))),i===r._view&&n.addClass(r.toTP("jqx-fill-state-pressed")),n.mouseenter(function(){n.addClass(r.toTP("jqx-fill-state-hover"))}),n.mouseleave(function(){n.removeClass(r.toTP("jqx-fill-state-hover"))}),n.mousedown(function(){r._setView(i),r.focus()}),Ie(r.toolbarViews).append(n)}),e.append(r.toolbarDetails),e.append(r.toolbarViews),r._views.length<2&&r.toolbarViews.hide(),r.dateTimeInput.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:r.rtl,localization:r._getDateTimeInputLocalization(),firstDayOfWeek:r.schedulerLocalization.firstDay,todayString:r.schedulerLocalization.todayString,clearString:r.schedulerLocalization.clearString,showFooter:!0,height:19,width:18,renderMode:"simple"}),r.addHandler(r.dateTimeInput,"change",function(e){r.fromNavigate||(r.navigateTo(new Ie.jqx.date(e.args.date,r.timeZone)),r.focus())}),r.tabKeyElements=s;function n(e){var t=Ie.jqx.formatDate(r.getViewStart().toDate(),e,r.schedulerLocalization),i=Ie.jqx.formatDate(r.getViewEnd().toDate(),e,r.schedulerLocalization);"dayView"===l||"timelineDayView"===l?r.toolbarDetails.html(t):r.toolbarDetails.html(t+" - "+i),r.rtl?(r.toolbarDetails.addClass("jqx-rtl"),r.toolbarDetails.html("<span style='direction:rtl;'>"+i+"<span> - <span style='direction:rtl;'>"+t+"</span>")):r.toolbarDetails[0].style.direction="ltr"}var l=r._views[r._view].type;n(r.toolBarRangeFormat);var d=r.toolbarViews.width()+r.toolbarDetails.width()+120;r.toolBarRangeFormat;d>r.host.width()?(n(r.toolBarRangeFormatAbbr),(d=r.toolbarViews.width()+r.toolbarDetails.width()+120)>r.host.width()&&(r.toolbarDetails.hide(),(d=r.toolbarViews.width()+120)>r.host.width()&&r.toolbarViews.hide())):r.currentToolbarFormat=r.toolBarRangeFormat},_setView:function(e){var t,i,o,n,r,s=this;s.toolbarViews.find(".jqx-fill-state-pressed").removeClass(s.toTP("jqx-fill-state-pressed")),s.rtl?Ie(s.toolbarViews.children()[s._views.length-1-e]).addClass(s.toTP("jqx-fill-state-pressed")):Ie(s.toolbarViews.children()[e]).addClass(s.toTP("jqx-fill-state-pressed")),s._view!==e&&(s.vScrollBar[0].style.visibility&&(s._scrollPosition||(s._scrollPosition=new Array),s._scrollPosition[s._view]=s.vScrollInstance.value),(t=s.hScrollBar[0].style.visibility)&&(s._hscrollPosition||(s._hscrollPosition=new Array),s._hscrollPosition[s._view]=s.hScrollInstance.value),i=s._views[s._view].type,o=s._views[e].type,s._view=e,s._refreshColumns(),s.refresh(),t!==s.hScrollBar[0].style.visibility&&(s._renderrows(),s._updateTouchScrolling()),s._scrollPosition[s._view]&&s.vScrollInstance.setPosition(s._scrollPosition[s._view]),s._hscrollPosition[s._view]&&s.hScrollInstance.setPosition(s._hscrollPosition[s._view]),s.selectedJQXAppointment&&s._ensureAppointmentVisible(s.selectedJQXAppointment),n=s.getViewStart(),r=Ie.jqx.scheduler.utilities.getEndOfDay(s.getViewEnd()),s._raiseEvent("viewChange",{date:s.date,from:n,to:r,oldViewType:i,newViewType:o}))},_getDateTimeInputLocalization:function(){var e=this,t={};return t.backString=e.schedulerLocalization.backString,t.forwardString=e.schedulerLocalization.forwardString,t.todayString=e.schedulerLocalization.todayString,t.clearString=e.schedulerLocalization.clearString,t.calendar=e.schedulerLocalization,t},setView:function(e){switch(e){case"dayView":this._setView(0);break;case"weekView":this._setView(1);break;case"monthView":this._setView(2);break;case"timelineDayView":this._setView(3);break;case"timelineWeekView":this._setView(4);break;case"timelineMonthView":this._setView(5)}this.view=e},navigateForward:function(){var e=this._views[this._view].type,t=this._views[this._view],i=new Ie.jqx.date(this.date,this.timeZone);switch(e){case"dayView":case"timelineDayView":i=i.addDays(1),i=function(){for(;(0==i.dayOfWeek()||6==i.dayOfWeek())&&!1===t.showWeekends;)i=i.addDays(1);return i}();break;case"weekView":case"timelineWeekView":i=i.addDays(7);break;case"monthView":case"timelineMonthView":i.day();var o=i.month(),n=i.year(),r=new Ie.jqx.date(n,o,1);r.timeZone=this.timeZone,i=r.addMonths(1);break;case"agendaView":i=t.days?i.addDays(t.days):i.addDays(7)}return this.navigateTo(i)},navigateBackward:function(){var e=this._views[this._view].type,t=this._views[this._view],i=new Ie.jqx.date(this.date,this.timeZone);switch(e){case"dayView":case"timelineDayView":i=i.addDays(-1),i=function(){for(;(0==i.dayOfWeek()||6==i.dayOfWeek())&&!1===t.showWeekends;)i=i.addDays(-1);return i}();break;case"weekView":case"timelineWeekView":i=i.addDays(-7);break;case"monthView":case"timelineMonthView":i.day();var o=i.month(),n=i.year(),r=new Ie.jqx.date(n,o,1);r.timeZone=this.timeZone,i=r.addMonths(-1);break;case"agendaView":i=t.days?i.addDays(-t.days):i.addDays(-7)}return this.navigateTo(i)},_refreshToolBar:function(e){function t(e){var t=Ie.jqx.formatDate(r.toDate(),e,n.schedulerLocalization),i=Ie.jqx.formatDate(s.toDate(),e,n.schedulerLocalization),o=n._views[n._view].type;!1===n._views[n._view].showWeekends&&(0!=r.dayOfWeek()&&6!=r.dayOfWeek()||(r=r.addDays(1)),0!=r.dayOfWeek()&&6!=r.dayOfWeek()||(r=r.addDays(1)),0!=s.dayOfWeek()&&6!=s.dayOfWeek()||(s=s.addDays(-1)),0!=s.dayOfWeek()&&6!=s.dayOfWeek()||(s=s.addDays(-1)),t=Ie.jqx.formatDate(r.toDate(),e,n.schedulerLocalization),i=Ie.jqx.formatDate(s.toDate(),e,n.schedulerLocalization)),"dayView"===o||"timelineDayView"===o?n.toolbarDetails.html(t):n.toolbarDetails.html(t+" - "+i),n.rtl?(n.toolbarDetails.addClass("jqx-rtl"),n.toolbarDetails.html("<span style='direction:rtl;'>"+i+"<span> - <span style='direction:rtl;'>"+t+"</span>")):n.toolbarDetails[0].style.direction="ltr"}var n=this,r=n.getViewStart(),s=n.getViewEnd();e?t(n._lastFormatString||n.toolBarRangeFormat):(t(n.toolBarRangeFormat),n.toolbarDetails.show(),n.toolbarViews.show(),n.toolbarViews.width()+n.toolbarDetails.width()+120>n.host.width()&&(t(n.toolBarRangeFormatAbbr),n.toolbarViews.width()+n.toolbarDetails.width()+120>n.host.width()&&(n.toolbarDetails.hide(),n.toolbarViews.width()+120>n.host.width()&&n.toolbarViews.hide())))},navigateTo:function(e){var t,i,o=this;"date"==Ie.type(e)&&(e=new Ie.jqx.date(e)),e<this.min||e>this.max||(e.timeZone=o.timeZone,o.date=e,o._refreshToolBar(!0),o.fromNavigate=!0,o.dateTimeInput.val(e.toDate()),o.fromNavigate=!1,o._refreshColumnTitles(),o._renderrows(),o._updateFocusedCell(),o.resources&&o._renderhorizontalscroll(),t=o.getViewStart(),i=Ie.jqx.scheduler.utilities.getEndOfDay(o.getViewEnd()),o._raiseEvent("dateChange",{date:e,from:t,to:i}))},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var o=this,t=0;t<this.columnGroups.length;t++)this.columnGroups[t].parent=null,this.columnGroups[t].groups=null;for(t=0;t<this.columns.records.length;t++)this.columns.records[t].parent=null,this.columns.records[t].groups=null;function i(e){for(var t=0;t<o.columnGroups.length;t++){var i=o.columnGroups[t];if(i.name===e)return i}return null}for(t=0;t<this.columnGroups.length;t++){(d=this.columnGroups[t]).groups||(d.groups=null),d.parentGroup&&(d.parentgroup=d.parentGroup),d.parentgroup&&(n=i(d.parentgroup))&&((d.parent=n).groups||(n.groups=new Array),-1===n.groups.indexOf(d)&&n.groups.push(d))}for(var n,t=0;t<this.columns.records.length;t++){(d=this.columns.records[t]).columngroup&&(n=i(d.columngroup))&&(n.groups||(n.groups=new Array),-1===(d.parent=n).groups.indexOf(d)&&n.groups.push(d))}for(var r=0,t=0;t<this.columns.records.length;t++){var s=d=this.columns.records[t];for(d.level=0;s.parent;)s=s.parent,d.level++;for(var s=d,a=d.level,r=Math.max(r,d.level);s.parent;)(s=s.parent)&&(s.level=--a)}for(var l=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var o=l(e.groups[i]),n=0;n<o.length;n++)t.push(o[n]);return t},t=0;t<this.columnGroups.length;t++){var d=this.columnGroups[t],h=l(d);d.columns=h;for(var c=new Array,u=0,p=0;p<h.length;p++)c.push(this.columns.records.indexOf(h[p])),h[p].pinned&&u++;if(0!=u)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:t<e?1:0});for(var m=1;m<c.length;m++)if(c[m]!=c[m-1]+1)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+r,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){if(t.editRecurrenceDialog&&t.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(t._editDialog&&t._editDialog.jqxWindow("isOpen"))return!0;if(t.autoheight&&"hidden"==t.hScrollBar.css("visibility"))return e.returnValue=!0;var i=0;if((e=e||window.event).originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var o=t._handleDelta(i);return o&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!o&&(o=!1,e.returnValue=o)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value;if(0<e?20<this.hScrollInstance.value?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return!0}return!1},_removeHandlers:function(){var e=this;e._mousewheelfunc&&e.removeHandler(this.host,"mousewheel",e._mousewheelfunc),e.removeHandler(Ie(document),"keydown.scheduler"+e.element.id),e.removeHandler(e.host,"focus"),e.removeHandler(e.host,"blur"),e.removeHandler(e.host,"dragstart."+e.element.id),e.removeHandler(e.host,"selectstart."+e.element.id),e.removeHandler(Ie(window),"jqxReady."+e.element.id),e.removeHandler(e.host,"mousewheel",e._mousewheelfunc);var t="mousedown";e.isTouchDevice()&&(t=Ie.jqx.mobile.getTouchEventName("touchstart"),Ie.jqx.browser.msie&&Ie.jqx.browser.version<10&&(t="mousedown")),e.table&&e.removeHandler(e.table,"mouseleave");var i,o="mousemove.scheduler"+e.element.id,n="mouseup.scheduler"+e.element.id;if(e.isTouchDevice()&&!0!==e.touchMode&&(o=Ie.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+e.element.id,n=Ie.jqx.mobile.getTouchEventName("touchend")+".scheduler"+e.element.id),e.removeHandler(Ie(document),o),e.removeHandler(Ie(document),n),!e.isTouchDevice())try{""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||(i=null,window.parent&&document.referrer&&(i=document.referrer),i&&-1!=i.indexOf(document.location.host)&&e.removeHandler(Ie(window.top.document),"mouseup.jqxscheduler"+e.element.id))}catch(e){}e.removeHandler(e.host,o),e.removeHandler(Ie(document),"keydown.jqxscheduler"+e.element.id),e.removeHandler(e.host,"keydown"),e.table&&(e.removeHandler(e.table,"dblclick"),e.removeHandler(e.pinnedtable,t),e.removeHandler(e.table,t))},selectAppointment:function(e){this.appointmentsByKey[e]&&this._selectAppointment(this.appointmentsByKey[e].jqxAppointment)},_selectAppointment:function(e,t,i){if(e){var o=this;o.selectedAppointment&&o.clearAppointmentsSelection();var n=e.id,r=Ie('[data-key="'+n+'"]');if(0<r.length){o.selectedJQXAppointment=e,o.selectedAppointment=Ie(t||r[0]);var s=o._views[o._view].type;o._views[o._view];if("agendaView"==s)return void o.clearSelection();switch(r.addClass(o.toTP("jqx-scheduler-selected-appointment")),e.resizable&&r.find(".jqx-scheduler-appointment-resize-indicator").show(),s){case"dayView":Ie(r).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),Ie(r).find(".jqx-scheduler-appointment-right-resize-indicator").hide();break;case"weekView":break;case"monthView":case"timeLineMonthView":case"timeLineDayView":case"timeLineWeekView":1<r.length&&Ie.each(r,function(e){o.rtl?(0<e&&Ie(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide(),e<r.length-1&&Ie(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide()):(0<e&&Ie(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),e<r.length-1&&Ie(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide())})}if("mouse"==i)return void o.clearSelection()}o.clearSelection()}},clearAppointmentsSelection:function(){var e,t,i=this;i.selectedAppointment&&(e=i.selectedAppointment.attr("data-key"),(t=Ie('[data-key="'+e+'"]')).removeClass(i.toTP("jqx-scheduler-selected-appointment")),t.find(".jqx-scheduler-appointment-resize-indicator").hide(),i.selectedAppointment=null,i.selectedJQXAppointment=null)},selectCell:function(e,t,i){for(var o=this,n=e.toDate(),r=0;r<o.rows.length;r++)for(var s=0;s<o.rows[r].cells.length;s++){var a=o.rows[r].cells[s];if(!i||a.getAttribute("data-view")===i){var l=a.getAttribute("data-date"),d=o._getDateByString(l);if(t&&a.getAttribute("data-end-date")){if(d.valueOf()==e.valueOf())return a.setAttribute("data-selected","true"),o.focusedCell=a,o._lastSelectedCell=a,o._updateCellsSelection(),void o._ensureVisible(o.focusedCell)}else if(!t&&a.getAttribute("data-end-date"))continue;if(d.valueOf()==n.valueOf())return a.setAttribute("data-selected","true"),o.focusedCell=a,o._lastSelectedCell=a,o._updateCellsSelection(),void o._ensureVisible(o.focusedCell)}}o._updateCellsSelection()},selectRange:function(e,t,i,o){var n=this;e<this.min&&(e=this.min),t>this.max&&(t=this.max);for(var r=e.toDate(),s=t.toDate(),a=!1,l=0;l<n.rows.length;l++)for(var d=0;d<n.rows[l].cells.length;d++){var h=n.rows[l].cells[d];if(!o||h.getAttribute("data-view")===o){var c=h.getAttribute("data-date"),u=n._getDateByString(c);if(i&&h.getAttribute("data-end-date"))u.valueOf()>=r.valueOf()&&u.valueOf()<=s.valueOf()&&h.setAttribute("data-selected","true");else if(!i&&h.getAttribute("data-end-date"))continue;u.valueOf()>=r.valueOf()&&u.valueOf()<=s.valueOf()&&(h.setAttribute("data-selected","true"),a||(n._lastSelectedCell=h,n.focusedCell=h,a=!0))}}n._updateCellsSelection()},_selectRange:function(n,r){var s=this;if("agendaView"!=s._views[s._view].type){var e=n,t=r.getAttribute("data-view");if(n.getAttribute("data-view")===t){var i=r.getAttribute("data-date"),o=e.getAttribute("data-date");if(null!=i&&null!=o){var a=r.getAttribute("data-end-date"),l=e.getAttribute("data-end-date"),d=null!=a||null!=l,h=null!=a&&null!=l,c=s._getDateByString(i),u=s._getDateByString(o);c<this.min.toDate()&&(c=this.min.toDate()),u<this.min.toDate()&&(u=this.min.toDate()),c>this.max.toDate()&&(c=this.max.toDate()),u>this.max.toDate()&&(u=this.max.toDate());var p=Math.min(c,u),m=Math.max(c,u),f=s.rows,g=0,w=0;0<g&&s.rtl&&(g=0,w=1);var v,y=f.length;d&&(y=1,null==n.getAttribute("data-end-date")&&(u.setHours(0,0,0,0),v=new Ie.jqx.date(u,s.timeZone).toString(),Ie(e).parent().index(),Ie.each(f[0].cells,function(){if(this.getAttribute("data-date")===v){n=this,h=null!=r.getAttribute("data-end-date")&&null!=n.getAttribute("data-end-date");var e=r.getAttribute("data-date"),t=n.getAttribute("data-date"),i=s._getDateByString(e),o=s._getDateByString(t);return p=Math.min(i,o),m=Math.max(i,o),!1}})));for(var x=0;x<y;x++){var b,A=f[x];d&&1<this.tableRows&&(S=f[b=(-1+parseInt(n.getAttribute("data-view")))*(f.length/s.tableRows)],A=f[b]);for(var T,_,S=A.cells,D=g;D<S.length-w;D++){S[D].getAttribute("data-view")===t&&(S[D].removeAttribute("data-selected"),!h&&S[D].getAttribute("data-end-date")||(T=S[D].getAttribute("data-date"),_=s._getDateByString(T).valueOf(),p<=_&&_<=m&&S[D].setAttribute("data-selected","true")))}}s._updateCellsSelection()}}}},findCell:function(e,t){var i,o=this,n=null;o._tableOffset||(i=o.schedulercontent.coord(),o._tableOffset=i);var r=o._tableOffset,s=r.top,a=r.left;if(t<s)return null;if(e<a)return null;if(t>s+o._hostHeight)return null;if(e>a+o._hostWidth)return null;for(var l=!1,d=o.rows,h=o._views[o._view],c=h.type,u=o.vScrollInstance.value,p=o.hScrollInstance.value,m=0;m<d.length&&!l;m++){var f=d[m].cells,g=!1;(0==m&&"dayView"==c||"weekView"==c)&&(g=o.showAllDayRow,!h.timeRuler||"dayView"!==c&&"weekView"!==c||null!=h.timeRuler.showAllDayRow&&(g=h.timeRuler.showAllDayRow),g&&o._allDayRowFullHeight);for(var w=0;w<f.length;w++){var v,y,x,b,A=f[w];if(0!=w||!A.getAttribute("data-time-slot"))if(A._left?(v=A._left,y=A._top,x=A._width,b=A._height):(v=A.offsetLeft+a,y=A.offsetTop+s,x=A.offsetWidth,b=A.offsetHeight,A._left=v,A._top=y,A._width=x,A._height=b),A._left=v,A._top=y,A._width=x,A._height=b,0!==x&&0!==b){if(o.rtl?"hidden"!=o.hScrollInstance.element.style.visibility&&(v-=o.hScrollInstance.max-p):v-=p,y-=u,0==m&&g&&(y+=u),!(y<=t&&t<y+b))break;if(v<=e&&e<v+x){n=A,l=!0;break}}}}return n},_removeFeedbackAndStopResize:function(){var e=this;if(e.feedback){if(e.feedback.remove(),e.feedback=null,e.pinnedfeedback.remove(),e.pinnedfeedback=null,e.feedbacks)for(var t=0;t<e.feedbacks.length;t++)e.feedbacks[t].remove();e._resizeDays=0,e._resizeStep=0,e._lastX=null,e.feedbacks=new Array,e.leftResize=!1,e.rightResize=!1,e.topResize=!1,e.bottomResize=!1,e.overlay.hide(),e.resizing=!1,e.resizeFrom=null,e._dragCell=null,e._dragStartCell=null,e.resizeTo=null,e.dragOrResize=!1,e.isMouseDown=!1,e.selectedJQXAppointment&&Ie('[data-key="'+e.selectedJQXAppointment.id+'"]').removeClass(e.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),e.openedMonthCellPopup&&e.openedMonthCellPopup.remove()}},_saveChangesAfterDragOrResize:function(e,t,i,o){if(!1===e)if(t.isException()){for(var n=t.rootAppointment?t.rootAppointment.exceptions:t.exceptions,r=0;r<n.length;r++)if(n[r].occurrenceFrom.equals(t.occurrenceFrom)){n[r]=t;break}}else t.rootAppointment.recurrenceException||(t.rootAppointment.recurrenceException=new Array),null!=t.rootAppointment?(t.rootAppointment.exceptions.push(t),t.rootAppointment.recurrenceException.push(t.occurrenceFrom)):(t.exceptions.push(t),t.recurrenceException.push(t.occurrenceFrom));else if(!0===e){if(t.isException())for(n=t.rootAppointment?t.rootAppointment.exceptions:t.exceptions,r=0;r<n.length;r++)if(n[r].occurrenceFrom.equals(t.occurrenceFrom)){for(var s=0;s<t.rootAppointment.recurrenceException.length;s++)if(t.rootAppointment.recurrenceException[s].equals(n[r].occurrenceFrom)){t.from;var a=new Ie.jqx.date(n[r].occurrenceFrom.year(),n[r].occurrenceFrom.month(),n[r].occurrenceFrom.day(),t.from.hour(),t.from.minute(),t.from.second());t.rootAppointment.recurrenceException[s]=a;break}(n[r]=t).from;a=new Ie.jqx.date(n[r].occurrenceFrom.year(),n[r].occurrenceFrom.month(),n[r].occurrenceFrom.day(),t.from.hour(),t.from.minute(),t.from.second());n[r].occurrenceFrom=a;break}if(null!=t.rootAppointment){t.rootAppointment.recurrencePattern=t.rootAppointment.recurrencePattern.createNewPattern();var l=t.rootAppointment.from,d=t.rootAppointment.duration(),a=null;switch(t.rootAppointment.recurrencePattern.freq){case"daily":case"weekly":case"monthly":case"yearly":a=new Ie.jqx.date(l.year(),l.month(),l.day(),t.from.hour(),t.from.minute(),t.from.second())}o?(t.rootAppointment.from=l,t.rootAppointment.to=l.add(t.duration())):(t.rootAppointment.from=a,t.rootAppointment.to=a.add(d)),t.rootAppointment.allDay=t.allDay,t.rootAppointment.resourceId=t.resourceId,t.rootAppointment.color=t.color,t.rootAppointment.borderColor=t.borderColor,t.rootAppointment.background=t.background,t.rootAppointment.timezone=t.timezone,t.rootAppointment.subject=t.subject,t.rootAppointment.description=t.description,t.rootAppointment.location=t.location,t.rootAppointment.category=t.category,t.rootAppointment.status=t.status,this.resizing?t.rootAppointment.recurrencePattern.setFrom(l):t.rootAppointment.recurrencePattern.setFrom(a)}else t.recurrencePattern=t.recurrencePattern.createNewPattern(),t.recurrencePattern.setFrom(t.from);var h=Ie(i).attr("data-view"),c=this._resources[parseInt(h)-1];null!=c&&(null!=t.rootAppointment?t.rootAppointment.resourceId=c:t.resourceId=c)}},_handleMouseUp:function(e,x,b){var A=this;clearInterval(A._verticalIntervalDragVelocity),clearInterval(A._horizontalIntervalDragVelocity),clearInterval(A._intervalDrag),clearInterval(A._horizontalIntervalDrag);var t=e,i=!1;if(b?A.resizeTo?t.to.equals(A.resizeTo)&&(i=!0):A.resizeFrom&&t.from.equals(A.resizeFrom)&&(i=!0):A._dragStartCell==x&&(i=!0),i)return Ie('[data-key="'+e.id+'"]').removeClass(A.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),void A._removeFeedbackAndStopResize();function o(e,t){var i;if((t.allDay||_)&&(i=A.getMaxAllDayAppointments(A.appointmentsToRender)),b)A.resizeTo?(A.resizeTo>A.max&&(A.resizeTo=A.max),A.resizeTo<A.min&&(A.resizeTo=A.min),t.to=A.resizeTo):A.resizeFrom&&(A.resizeFrom>A.max&&(A.resizeFrom=A.max),A.resizeFrom<A.min&&(A.resizeFrom=A.min),t.from=A.resizeFrom),0==t.from.hour()&&0==t.from.minute()&&23==t.to.hour()&&59==t.to.minute()&&(t.allDay=!0);else{var o,n=A._views[A._view].type,r=A._views[A._view],s=Ie(x).attr("data-date"),a=null!=Ie(x).attr("data-end-date"),l=new Ie.jqx.date(s,A.timeZone);if(l<A.min&&(l=A.min),l>A.max&&(l=A.max),!(A.rtl&&_&&a||A.rtl&&("monthView"==n||"timelineMonthView"==n))?!A.rtl||"timelineDayView"!=n&&"timelineWeekView"!=n?t.from=l:(o=A.getMinutesPerScale(),t.to=l.addMinutes(o)):t.to=Ie.jqx.scheduler.utilities.getEndOfDay(l),"dayView"===n||"weekView"===n)if(_||a){if(!_&&a)t.to=Ie.jqx.scheduler.utilities.getEndOfDay(l),t.allDay=!0;else if(_&&a&&!A.rtl)t.to=l.add(T),0==t.from.hour()&&0==t.from.minute()&&23==t.to.hour()&&59==t.to.minute()&&(t.allDay=!0);else if(_&&a&&A.rtl)t.from=Ie.jqx.scheduler.utilities.getStartOfDay(t.to.add(new Ie.jqx.timeSpan(-T))),0==t.from.hour()&&0==t.from.minute()&&23==t.to.hour()&&59==t.to.minute()&&(t.allDay=!0);else if(_&&!a){var d=30;switch(r.timeRuler&&r.timeRuler.scale){case"sixtyMinutes":case"hour":d=60;break;case"fifteenMinutes":case"quarterHour":d=15;break;case"tenMinutes":d=10;break;case"fiveMinutes":d=5}t.to=l.addMinutes(d),t.allDay=!1}}else t.to=l.add(T),t.allDay=!1;else"monthView"===n?A.rtl?t.from=Ie.jqx.scheduler.utilities.getStartOfDay(t.to.add(new Ie.jqx.timeSpan(-T))):t.to=l.add(T):"timelineDayView"!==n&&"timelineWeekView"!==n&&"timelineMonthView"!==n||(A.rtl?"timelineMonthView"==n?t.from=Ie.jqx.scheduler.utilities.getStartOfDay(t.to.add(new Ie.jqx.timeSpan(-T))):(o=A.getMinutesPerScale(),t.from=l.addMinutes(o).add(new Ie.jqx.timeSpan(-T))):t.to=l.add(T))}A._saveChangesAfterDragOrResize(e,t,x,A.resizing);var n=Ie(x).attr("data-view"),h=A._resources[parseInt(n)-1];null!=h&&(t.resourceId=h),A.resizing=!1,A.resizeFrom=null,A._dragCell=null,A.resizeTo=null;var c,u,p,m,f={},g={};for(var w in A.appointmentDataFields){var v=A.appointmentDataFields[w],y=t[w];f[w]=y,"from"!=w&&"to"!=w||(y=y.toDate()),g[v]=y}f.jqxAppointment=t,f.originalData=g,t.boundAppointment=f,A._raiseEvent("appointmentChange",{appointment:t.boundAppointment}),A.changedAppointments[t.id]={type:"Update",appointment:t.boundAppointment},A.table.find(".jqx-icon-arrow-down").hide(),"monthView"==A._views[A._view].type&&A._views[A._view].monthRowAutoHeight?A._renderrows():"weekView"!=A._views[A._view].type&&"dayView"!=A._views[A._view].type||!t.allDay&&!_?(c=A.getViewStart(),u=Ie.jqx.scheduler.utilities.getEndOfDay(A.getViewEnd()),A._prepareAppointmentsInView(c,u),A._renderAppointments(c,u)):1<A.tableRows?A._renderrows():(c=A.getViewStart(),u=Ie.jqx.scheduler.utilities.getEndOfDay(A.getViewEnd()),A._prepareAppointmentsInView(c,u),A._renderAppointments(c,u),(p=A.getMaxAllDayAppointments(A.appointmentsToRender))!=i&&(m=p*(A._defaultRowHeight-2),m=A.isTouchDevice()?Math.max(22+A._defaultRowHeight,17+m):Math.max(3*A._defaultRowHeight,17+m),1==A.tableRows?Ie(Ie(A.table[0].rows[0]).find("td")).css("height",m+"px"):Ie(Ie(A.table[0].rows[1]).find("td")).css("height",m+"px"),Ie(A.oldRow).find("td").css("height",m+"px"),Ie(A.pinnedTableRow).find("td").css("height",m+"px"),A.pinnedtable.height(m),A._updateScrollbars(A._hostHeight?A._hostHeight:A.host.height()))),A._removeFeedbackAndStopResize()}var T=t.duration(),_=1<=t.duration().days()||t.allDay;t.isRecurrentAppointment()?o(!1,t):o(null,t)},_handleDayWeekViewResize:function(e,t,i,o,n){var r=this,s=(r._views[r._view].type,r._views[r._view]);if(1<=n.duration().days()||n.allDay||i.getAttribute("data-end-date")){function a(e){return!(e<r.cellWidth-10)}var l,d,h=s.appointmentsRenderMode&&"exactTime"==s.appointmentsRenderMode;if(n.allDay||!h){r.leftResize?(r._lastResizeX||(r._lastResizeX=r.mouseDownPosition.left),e>r._lastResizeX+Ie(i).width()/2?a(d=r.selectedAppointmentTableBounds.width+r.selectedAppointmentTableBounds.left-o.left-r.cellWidth)&&(r.feedback.css("left",5+o.left+r.cellWidth),r.feedback.width(d-5),r.feedback.hide(),r.pinnedfeedback.css("left",5+o.left+r.cellWidth),r.pinnedfeedback.width(d-5),r._lastResizeX=r.pinnedfeedback.coord().left,r.rtl?r.resizeTo=Ie.jqx.scheduler.utilities.getEndOfDay(new Ie.jqx.date(i.getAttribute("data-date"),r.timeZone)).addDays(-1):r.resizeFrom=new Ie.jqx.date(i.getAttribute("data-date"),r.timeZone).addDays(1)):e<r._lastResizeX-Ie(i).width()/2&&a(d=r.selectedAppointmentTableBounds.width+r.selectedAppointmentTableBounds.left-o.left)&&(r.feedback.css("left",5+o.left),r.feedback.width(d-5),r.feedback.hide(),r.pinnedfeedback.css("left",5+o.left),r.pinnedfeedback.width(d-5),r._lastResizeX=r.pinnedfeedback.coord().left,r.rtl?r.resizeTo=Ie.jqx.scheduler.utilities.getEndOfDay(new Ie.jqx.date(i.getAttribute("data-date"),r.timeZone)):r.resizeFrom=new Ie.jqx.date(i.getAttribute("data-date"),r.timeZone))):r.rightResize&&(r._lastResizeX||(r._lastResizeX=r.selectedAppointmentTableBounds.width+r.selectedAppointmentTableBounds.left),l=Ie(i).width()/2,e>r._lastResizeX+l?(R=Ie(i).width()+o.left-r.selectedAppointmentTableBounds.width-r.selectedAppointmentTableBounds.left,a(d=r.selectedAppointmentTableBounds.width+R)&&(r.feedback.hide(),r.feedback.width(d-6),r.feedback.css("left",5+o.left),r.pinnedfeedback.width(d-6),r._lastResizeX=r.selectedAppointmentTableBounds.width+R+r.pinnedfeedback.coord().left,r.rtl?r.resizeFrom=new Ie.jqx.date(i.getAttribute("data-date"),r.timeZone):r.resizeTo=Ie.jqx.scheduler.utilities.getEndOfDay(new Ie.jqx.date(i.getAttribute("data-date"),r.timeZone)))):e<r._lastResizeX-l&&(R=o.left-r.selectedAppointmentTableBounds.width-r.selectedAppointmentTableBounds.left,a(d=r.selectedAppointmentTableBounds.width+R)&&(r.feedback.hide(),r.feedback.css("left",5+o.left),r.feedback.width(d-6),r.pinnedfeedback.width(d-6),r._lastResizeX=r.selectedAppointmentTableBounds.width+R+r.pinnedfeedback.coord().left,r.rtl?r.resizeFrom=new Ie.jqx.date(i.getAttribute("data-date"),r.timeZone).addDays(1):r.resizeTo=Ie.jqx.scheduler.utilities.getEndOfDay(new Ie.jqx.date(i.getAttribute("data-date"),r.timeZone).addDays(-1)))))}else{var c=new Array,u=new Array,p=-1,m=-1,f=this.host.coord().left,g=0,w=r.hScrollInstance.value;r.rtl&&(w=r.hScrollInstance.max-r.hScrollInstance.value),"hidden"==r.hScrollBar[0].style.visibility&&(w=0);for(var v=e+w-f,f=0,y=0;y<this.columns.records.length;y++)this.columns.records[y].timeColumn&&(r.rtl||(f+=this.columns.records[y].width,g++));for(var x=r.getViewStart(),b=r.getViewEnd(),y=0;y<this._getColumnsLengthPerView();y++){var A=this.columns.records[y+g].width;r.leftResize?(r.rtl||(c.push(f),u.push(x.addDays(y)),(0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&f<r.selectedAppointmentTableBounds.left&&f+A>r.selectedAppointmentTableBounds.left&&(c.push(r.selectedAppointmentTableBounds.left),u.push(n.from),p=c.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&f<r.selectedAppointmentTableBounds.left+r.selectedAppointmentTableBounds.width&&f+A>r.selectedAppointmentTableBounds.left+r.selectedAppointmentTableBounds.width&&(c.push(r.selectedAppointmentTableBounds.left+r.selectedAppointmentTableBounds.width+8),u.push(n.to),m=c.length-1)),r.rtl&&(c.push(f),u.push(b.addDays(-y-1)),(0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&f<r.selectedAppointmentTableBounds.left+r.selectedAppointmentTableBounds.width&&f+A>r.selectedAppointmentTableBounds.left+r.selectedAppointmentTableBounds.width&&(c.push(r.selectedAppointmentTableBounds.left+r.selectedAppointmentTableBounds.width+8),u.push(n.from),p=c.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&f<r.selectedAppointmentTableBounds.left&&f+A>r.selectedAppointmentTableBounds.left&&(c.push(r.selectedAppointmentTableBounds.left),u.push(n.to),m=c.length-1)),f+=A):r.rtl?((0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&f<r.selectedAppointmentTableBounds.left+r.selectedAppointmentTableBounds.width&&f+A>r.selectedAppointmentTableBounds.left+r.selectedAppointmentTableBounds.width&&(c.push(r.selectedAppointmentTableBounds.left+r.selectedAppointmentTableBounds.width+8),u.push(n.from),p=c.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&f<r.selectedAppointmentTableBounds.left&&f+A>r.selectedAppointmentTableBounds.left&&(c.push(r.selectedAppointmentTableBounds.left),u.push(n.to),m=c.length-1),f+=A,c.push(f),u.push(b.addDays(-y-1))):((0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&f<r.selectedAppointmentTableBounds.left&&f+A>r.selectedAppointmentTableBounds.left&&(c.push(r.selectedAppointmentTableBounds.left),u.push(n.from),p=c.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&f<r.selectedAppointmentTableBounds.left+r.selectedAppointmentTableBounds.width&&f+A>r.selectedAppointmentTableBounds.left+r.selectedAppointmentTableBounds.width&&(c.push(r.selectedAppointmentTableBounds.left+r.selectedAppointmentTableBounds.width+8),u.push(n.to),m=c.length-1),f+=A,c.push(f),u.push(x.addDays(y)))}if(r.leftResize){for(y=0;y<c.length;y++){var T,o=c[y];D=(D=c[y+1])||o,(y<c.length-1?o<=v&&v<=D:o<=v)&&(A=-o+r.selectedAppointmentTableBounds.left+r.selectedAppointmentTableBounds.width,j=r.pinnedfeedback.width(),T=r.pinnedfeedback.css("left"),q=r.resizeTo,C=r.resizeFrom,0<A&&(r.pinnedfeedback.css("left",o),r.pinnedfeedback.width(A),y==p?r.rtl?r.resizeTo=n.from:r.resizeFrom=n.from:y==m?r.rtl?r.resizeTo=n.to:r.resizeFrom=n.to:r.rtl?r.resizeTo=Ie.jqx.scheduler.utilities.getEndOfDay(u[y]):r.resizeFrom=u[y]))}var _=r.resizeFrom,S=r.resizeTo;r.rtl?_=n.from:S=n.to,new Ie.jqx.timeSpan(1e4*(S-_)).days()<1&&(r.pinnedfeedback.css("left",T),r.pinnedfeedback.width(j),r.resizeFrom=C,r.resizeTo=q)}else if(r.rightResize){for(y=0;y<c.length;y++){var D,o=c[y];if(D=(D=c[y+1])||o,y<c.length-1?e>=o-this.cellWidth/3&&e<=D-this.cellWidth/3:e>=o-this.cellWidth/3){var A=o-r.selectedAppointmentTableBounds.left-15,j=r.pinnedfeedback.width();r.pinnedfeedback.width(A);var q=r.resizeTo,C=r.resizeFrom;if(y==p){r.rtl?r.resizeFrom=n.from:r.resizeTo=n.from;A=o-r.selectedAppointmentTableBounds.left-9;r.pinnedfeedback.width(A);break}if(y==m){r.rtl?r.resizeFrom=n.to:r.resizeTo=n.to;A=o-r.selectedAppointmentTableBounds.left-9;r.pinnedfeedback.width(A);break}r.rtl?r.resizeFrom=u[y]:r.resizeTo=Ie.jqx.scheduler.utilities.getEndOfDay(u[y]);break}}_=r.resizeFrom,S=r.resizeTo;r.rtl?S=n.to:_=n.from,new Ie.jqx.timeSpan(1e4*(S-_)).days()<1&&(r.pinnedfeedback.width(j),r.resizeFrom=C,r.resizeTo=q)}}}else{function k(e){return!(e<10)}var B,R,z,H=r.findCell(r.feedback.coord().left,t);r.topResize?(r._lastResizeY||(r._lastResizeY=r.mouseDownPosition.top),t>r._lastResizeY+Ie(i).height()/2?k(z=r.selectedAppointmentTableBounds.height+r.selectedAppointmentTableBounds.top-o.top-Ie(i).height()-3)&&(r.feedback.css("top",2+o.top+Ie(i).height()),r.feedback.height(z),r._lastResizeY=r.feedback.coord().top,B=new Ie.jqx.date(H.getAttribute("data-date"),r.timeZone),r.resizeFrom=B.addMinutes(r.getMinutesPerScale())):t<r._lastResizeY-Ie(i).height()/2&&k(z=r.selectedAppointmentTableBounds.height+r.selectedAppointmentTableBounds.top-o.top-3)&&(r.feedback.css("top",2+o.top),r.feedback.height(z),r._lastResizeY=r.feedback.coord().top,r.resizeFrom=new Ie.jqx.date(H.getAttribute("data-date"),r.timeZone))):r.bottomResize&&(r._lastResizeY||(r._lastResizeY=r.mouseDownPosition.top),t>r._lastResizeY+Ie(i).height()/2?(R=-5+Ie(i).height()+o.top-r.selectedAppointmentTableBounds.height-r.selectedAppointmentTableBounds.top,k(z=r.selectedAppointmentTableBounds.height+R)&&(r.feedback.height(z),r._lastResizeY=r.selectedAppointmentTableBounds.height+R+r.feedback.coord().top,r.resizeTo=new Ie.jqx.date(H.getAttribute("data-date"),r.timeZone).addMinutes(r.getMinutesPerScale()))):t<r._lastResizeY-Ie(i).height()/2&&(R=-5+o.top-r.selectedAppointmentTableBounds.height-r.selectedAppointmentTableBounds.top,k(z=r.selectedAppointmentTableBounds.height+R)&&(r.feedback.height(z),r._lastResizeY=r.selectedAppointmentTableBounds.height+R+r.feedback.coord().top,r.resizeTo=new Ie.jqx.date(H.getAttribute("data-date"),r.timeZone))))}},_handleTimelineMonthViewResize:function(e,t,i,o,n){function r(e){return!(e<10)}var s,a,l=this,d=(l._views[l._view].type,l._views[l._view],l.findCell(e,l.feedback.coord().top));if(n.allDay){l.leftResize?(l._lastResizeX||(l._lastResizeX=l.mouseDownPosition.left),e>l._lastResizeX+Ie(i).width()/2?r(a=l.selectedAppointmentTableBounds.width+l.selectedAppointmentTableBounds.left-o.left-Ie(i).width())&&(l.feedback.css("left",o.left+Ie(i).width()),l.feedback.width(a),l._lastResizeX=l.feedback.coord().left,l.rtl?l.resizeTo=Ie.jqx.scheduler.utilities.getEndOfDay(new Ie.jqx.date(d.getAttribute("data-date"),l.timeZone).addDays(-1)):l.resizeFrom=new Ie.jqx.date(d.getAttribute("data-date"),l.timeZone).addDays(1)):e<l._lastResizeX-Ie(i).width()/2&&r(a=l.selectedAppointmentTableBounds.width+l.selectedAppointmentTableBounds.left-o.left)&&(l.feedback.css("left",o.left),l.feedback.width(a),l._lastResizeX=l.feedback.coord().left,l.rtl?l.resizeTo=Ie.jqx.scheduler.utilities.getEndOfDay(new Ie.jqx.date(d.getAttribute("data-date"),l.timeZone)):l.resizeFrom=new Ie.jqx.date(d.getAttribute("data-date"),l.timeZone))):l.rightResize&&(l._lastResizeX||(l._lastResizeX=l.mouseDownPosition.left),e>l._lastResizeX+Ie(i).width()/2?(s=Ie(i).width()+o.left-l.selectedAppointmentTableBounds.width-l.selectedAppointmentTableBounds.left,r(a=l.selectedAppointmentTableBounds.width+s-5)&&(l.feedback.width(a),l._lastResizeX=l.selectedAppointmentTableBounds.width+s+l.feedback.coord().left,l.rtl?l.resizeFrom=new Ie.jqx.date(d.getAttribute("data-date"),l.timeZone):l.resizeTo=Ie.jqx.scheduler.utilities.getEndOfDay(new Ie.jqx.date(d.getAttribute("data-date"),l.timeZone)))):e<l._lastResizeX-Ie(i).width()/2&&(s=o.left-l.selectedAppointmentTableBounds.width-l.selectedAppointmentTableBounds.left,r(a=l.selectedAppointmentTableBounds.width+s-5)&&(l.feedback.width(a),l._lastResizeX=l.selectedAppointmentTableBounds.width+s+l.feedback.coord().left,l.rtl?l.resizeFrom=new Ie.jqx.date(d.getAttribute("data-date"),l.timeZone).addDays(1):l.resizeTo=Ie.jqx.scheduler.utilities.getEndOfDay(new Ie.jqx.date(d.getAttribute("data-date"),l.timeZone).addDays(-1)))))}else{for(var h=new Array,c=new Array,u=-1,p=-1,m=this.host.coord().left,f=0,g=0;g<this.columns.records.length;g++)this.columns.records[g].timeColumn&&(m+=this.columns.records[g].width,f++);var w=l.hScrollInstance.value;l.rtl&&(w=l.hScrollInstance.max-l.hScrollInstance.value),"hidden"==l.hScrollBar[0].style.visibility&&(w=0);for(var v=e+w-m,m=0,y=l.getViewStart(),x=l.getViewEnd(),g=(this._getColumnsLengthPerView(),0);g<this._getColumnsLengthPerView();g++){var b=this.columns.records[g+f].width;l.leftResize?(h.push(m),l.rtl?c.push(x.addDays(-g)):c.push(y.addDays(g)),(0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&m<l.selectedAppointmentTableBounds.left&&m+b>l.selectedAppointmentTableBounds.left&&(h.push(l.selectedAppointmentTableBounds.left),c.push(n.from),u=h.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&m<l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width&&m+b>l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width&&(h.push(l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width+8),c.push(n.to),p=h.length-1),m+=b):((0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&m<l.selectedAppointmentTableBounds.left&&m+b>l.selectedAppointmentTableBounds.left&&(h.push(l.selectedAppointmentTableBounds.left),c.push(n.from),u=h.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&m<l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width&&m+b>l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width&&(h.push(l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width),c.push(n.to),p=h.length-1),m+=b,h.push(m),l.rtl?c.push(x.addDays(-g-1)):c.push(y.addDays(g)))}if(l.leftResize){for(g=0;g<h.length;g++){var A,T=h[g];D=(D=h[g+1])||T,(g<h.length-1?T<=v&&v<=D:T<=v)&&(b=-T+l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width,j=l.feedback.width(),A=l.feedback.css("left"),q=l.resizeTo,C=l.resizeFrom,l.feedback.css("left",T),l.feedback.width(b),g==u?l.rtl?l.resizeTo=n.from:l.resizeFrom=n.from:g==p?l.rtl?l.resizeTo=n.to:l.resizeFrom=n.to:l.rtl?l.resizeTo=c[g]:l.resizeFrom=c[g])}var _=l.resizeFrom,S=l.resizeTo;l.rtl?_=n.from:S=n.to;new Ie.jqx.timeSpan(1e4*(S-_));l.feedback.width()<20&&(l.feedback.css("left",A),l.feedback.width(j),l.resizeFrom=C,l.resizeTo=q)}else if(l.rightResize){for(g=0;g<h.length;g++){var D,T=h[g];if(D=(D=h[g+1])||T,g<h.length-1?v>=T-this.cellWidth/3&&v<=D-this.cellWidth/3:v>=T-this.cellWidth/3){var b=T-l.selectedAppointmentTableBounds.left-12,j=l.feedback.width();l.feedback.width(b);var q=l.resizeTo,C=l.resizeFrom;if(g==u){l.rtl?l.resizeFrom=n.from:l.resizeTo=n.from;b=T-l.selectedAppointmentTableBounds.left;l.feedback.width(b);break}if(g==p){l.rtl?l.resizeFrom=n.to:l.resizeTo=n.to;b=T-l.selectedAppointmentTableBounds.left;l.feedback.width(b);break}l.rtl?l.resizeFrom=c[g]:l.resizeTo=Ie.jqx.scheduler.utilities.getEndOfDay(c[g]);break}}_=l.resizeFrom,S=l.resizeTo;l.rtl?S=n.to:_=n.from;new Ie.jqx.timeSpan(1e4*(S-_));l.feedback.width()<20&&(l.feedback.width(j),l.resizeFrom=C,l.resizeTo=q)}}},_handleMonthViewResize:function(e,t,i,o,n){var r=this;if(r.selectedJQXAppointment){r._views[r._view].type;var s=r._views[r._view],a=-5;1<r.tableColumns&&(a=parseInt(-5/r.tableColumns));for(var l=0;l<r.columns.records.length/r.tableColumns;l++)r.columns.records[l].timeColumn||(a+=r.columns.records[l].width);var d=r.selectedJQXAppointment.resourceId,h=r._resources.indexOf(d);r.resources&&"none"==r.resources.orientation&&(h=-1);var c="0px";-1!=h&&1==r.tableRows&&(c=a*h+"px"),s.showWeekNumbers&&(r.rtl||(c=parseInt(c)+r.columns.records[0].width+"px"));var u=i.offsetWidth,p=(i.offsetHeight,18);r.isTouchDevice()&&(p=2);for(l=0;l<6;l++)r.feedbacks[l][0].style.left=c,r.feedbacks[l][0].style.width=a+"px",r.feedbacks[l][0].style.display="block",r.feedbacks[l][0].style.top=parseInt(r.rows[l].top)+p+"px",1<r.tableRows&&(r.feedbacks[l][0].style.top=parseInt(r.rows[6*h+l].top)+p+"px"),Ie(r.feedbacks[l][0]).find(".jqx-scheduler-appointment-resize-indicator").css("visibility","inherit");var m=r.selectedJQXAppointment.elements,f=(m[0].cells[0].cell,m[m.length-1]),g=f.lastCellY,w=f.lastCellX,v=m[0].cellY,y=m[0].cellX,x=parseInt(o.top),b=parseInt(o.left);if(r.rtl){if(r.leftResize){for(B=!1,l=0;l<6;l++){T=r.feedbacks[l],_=parseInt(T[0].style.top)-p,parseInt(T[0].style.left);if(_<x)T[0].style.width=a+"px";else for(S=0;S<m.length;S++){(C=m[S].cellY)==_&&(T[0].style.width=m[S].width+"px",T[0].style.top=m[S].y+"px")}j=m[0],q=parseInt(j.x);if(_==v?(T[0].style.left=q+"px",x==v?(T[0].style.left=1+o.left+"px",T[0].style.width=-1+j.x+j.width-o.left+"px",o.left>j.x+j.width&&(T[0].style.width=j.width+"px",T[0].style.left=j.x+"px"),"exactTime"!=s.appointmentsRenderMode||r.selectedJQXAppointment.allDay||e-(R=r.host.coord().left)>=j.x-10&&e-R<=j.cellX+r.cellWidth&&(T[0].style.width=j.width+"px",T[0].style.left=j.x+"px",B=!0)):x<v?(T[0].style.left=q+"px",T[0].style.width=j.width+"px"):v<x&&(T[0].style.left=c,T[0].style.width=j.x+j.width-parseInt(c)+"px")):_==x&&(T[0].style.width=a-o.left+parseInt(c)+"px",T[0].style.left=o.left+"px"),_<v&&(T[0].style.display="none"),x<_&&(T[0].style.display="none"),x<v)for(S=0;S<m.length;S++){(C=m[S].cellY)==_&&(T[0].style.display="block",T[0].style.width=m[S].width+"px",T[0].style.left=m[S].x+"px")}if(x==v)for(S=0;S<m.length;S++){C=m[S].cellY;(x<v||x==v)&&C==_&&v!=g&&(T[0].style.left=1+o.left+parseInt(c)+"px",1+o.left+parseInt(c)>j.x+j.width&&(T[0].style.left=j.x+"px"),T[0].style.width=-1+j.x+j.width-o.left+"px")}}(k=Ie.jqx.scheduler.utilities.getEndOfDay(new Ie.jqx.date(i.getAttribute("data-date"),r.timeZone)))>r.selectedJQXAppointment.from&&!B?r.resizeTo=k:r.resizeTo=r.selectedJQXAppointment.to}else if(r.rightResize){for(A=!1,l=0;l<6;l++){T=r.feedbacks[l],_=parseInt(T[0].style.top)-p,parseInt(T[0].style.left);_<x&&(T[0].style.width=a+"px");for(S=0;S<m.length;S++){(C=m[S].cellY)==_&&(T[0].style.top=m[S].y+"px")}j=m[0],q=parseInt(j.x);if(_==v?(T[0].style.left=q+"px",x==v?y<=b?(T[0].style.width=b+u-q-5+"px","exactTime"!=s.appointmentsRenderMode||r.selectedJQXAppointment.allDay||e-(R=r.host.coord().left)>=j.lastCellX&&e-R<=j.x+j.width+15&&(T[0].style.width=j.width+"px",A=!0)):T[0].style.width=j.width+"px":v<x?(T[0].style.left=q+"px",T[0].style.width=j.width+"px"):x<v&&(T[0].style.left=q+"px",T[0].style.width=a-q+parseInt(c)+"px")):_==x&&(T[0].style.width=b+u-5-parseInt(c)+"px"),g<_&&(T[0].style.display="none"),_<x&&(T[0].style.display="none"),g<x)for(S=0;S<m.length;S++){(C=m[S].cellY)==_&&(T[0].style.display="block"),_==g&&(T[0].style.width=m[S].width+"px",T[0].style.left=m[S].x+"px")}if(x<=g&&_==g)for(S=0;S<m.length;S++){C=m[S].cellY;_!=x&&C==_&&v!=g?(T[0].style.width=m[S].width+"px",T[0].style.left=m[S].x+"px"):_==x&&C==_&&v!=g&&(T[0].style.left=m[S].x+"px",T[0].style.width=b+u-5-parseInt(c)-m[S].x+"px")}}(k=new Ie.jqx.date(i.getAttribute("data-date"),r.timeZone))<r.selectedJQXAppointment.to&&!A?r.resizeFrom=k:r.resizeFrom=r.selectedJQXAppointment.from}}else if(r.leftResize){for(var A=!1,l=0;l<6;l++){var T=r.feedbacks[l],_=parseInt(T[0].style.top)-p;parseInt(T[0].style.left);if(_<x){T[0].style.width=a+"px";for(var S=0;S<m.length;S++){(C=m[S].cellY)==_&&(T[0].style.top=m[S].y+"px")}}else for(var S=0;S<m.length;S++){(C=m[S].cellY)==_&&(T[0].style.width=m[S].width+"px",T[0].style.top=m[S].y+"px")}var D,j=m[0],q=parseInt(j.x);if(_==v?(T[0].style.left=q+"px",x==v?(T[0].style.left=1+o.left+"px",T[0].style.width=-1+j.x+j.width-o.left+"px","exactTime"!=s.appointmentsRenderMode||r.selectedJQXAppointment.allDay||(D=r.cellWidth-(j.x-y),e-(R=r.host.coord().left)>=j.x&&e-R<=j.x+D+2&&(T[0].style.left=q+"px",T[0].style.width=j.width+"px",A=!0))):v<x?(T[0].style.left=q+"px",T[0].style.width=j.width+"px"):x<v&&(T[0].style.left=c,T[0].style.width=j.x+j.width-parseInt(c)+"px")):_==x&&(T[0].style.width=a-o.left+parseInt(c)+"px",T[0].style.left=o.left+"px"),g<_&&(T[0].style.display="none"),_<x&&(T[0].style.display="none"),g<=x)for(var S=0;S<m.length;S++){var C=m[S].cellY;g<x||x==g&&w<b?C==_&&(T[0].style.display="block",T[0].style.width=m[S].width+"px",T[0].style.left=m[S].x+"px"):x==g&&b<=w&&v!=g&&(T[0].style.width=m[S].width-o.left+parseInt(c)+"px")}}(k=new Ie.jqx.date(i.getAttribute("data-date"),r.timeZone))<r.selectedJQXAppointment.to&&!A?r.resizeFrom=k:r.resizeFrom=r.selectedJQXAppointment.from}else if(r.rightResize){for(var k,B=!1,l=0;l<6;l++){var T=r.feedbacks[l],_=parseInt(T[0].style.top)-p;parseInt(T[0].style.left);_<x&&(T[0].style.width=a+"px");for(var S=0;S<m.length;S++){(C=m[S].cellY)==_&&(T[0].style.top=m[S].y+"px")}var R,j=m[0],q=parseInt(j.x);if(_==v?(T[0].style.left=q+"px",x==v?y<=b?(T[0].style.width=b+u-q-5+"px","exactTime"!=s.appointmentsRenderMode||r.selectedJQXAppointment.allDay||w<=e-(R=r.host.coord().left)&&e-R<=j.x+j.width+15&&(T[0].style.width=j.width+"px",B=!0)):T[0].style.width=j.width+"px":x<v?(T[0].style.left=q+"px",T[0].style.width=j.width+"px"):v<x&&(T[0].style.left=q+"px",T[0].style.width=a-q+parseInt(c)+"px")):_==x&&(T[0].style.width=b+u-5-parseInt(c)+"px"),_<v&&(T[0].style.display="none"),x<_&&v<_&&(T[0].style.display="none"),x<=v)for(var S=0;S<m.length;S++){var C=m[S].cellY;(x<v||x==v&&b<y)&&C==_&&(T[0].style.display="block",T[0].style.width=m[S].width+"px")}}(k=Ie.jqx.scheduler.utilities.getEndOfDay(new Ie.jqx.date(i.getAttribute("data-date"),r.timeZone)))>r.selectedJQXAppointment.from&&!B?r.resizeTo=k:r.resizeTo=r.selectedJQXAppointment.to}for(var z=new Array,l=0;l<6;l++){"block"==(T=r.feedbacks[l])[0].style.display&&z.push(T)}Ie.each(z,function(e){r.rtl?(0<e&&(Ie(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"),e<z.length-1&&(Ie(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden")):(0<e&&(Ie(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden"),e<z.length-1&&(Ie(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"))})}},_handleTimelineDayWeekViewResize:function(e,t,i,o,n){function r(e){return!(e<10)}var s,a,l=this,d=(l._views[l._view].type,l._views[l._view],l.getMinutesPerScale()),h=l.findCell(e,l.feedback.coord().top);l.leftResize?(l._lastResizeX||(l._lastResizeX=l.mouseDownPosition.left),e>l._lastResizeX+Ie(i).width()/2?r(a=l.selectedAppointmentTableBounds.width+l.selectedAppointmentTableBounds.left-o.left-Ie(i).width())&&(l.feedback.css("left",2+o.left+Ie(i).width()),l.feedback.width(a),l._lastResizeX=l.feedback.coord().left,l.rtl?l.resizeTo=new Ie.jqx.date(h.getAttribute("data-date"),l.timeZone):l.resizeFrom=new Ie.jqx.date(h.getAttribute("data-date"),l.timeZone).addMinutes(d)):e<l._lastResizeX-Ie(i).width()/2&&r(a=l.selectedAppointmentTableBounds.width+l.selectedAppointmentTableBounds.left-o.left)&&(l.feedback.css("left",2+o.left),l.feedback.width(a),l._lastResizeX=l.feedback.coord().left,l.rtl?l.resizeTo=new Ie.jqx.date(h.getAttribute("data-date"),l.timeZone).addMinutes(d):l.resizeFrom=new Ie.jqx.date(h.getAttribute("data-date"),l.timeZone))):l.rightResize&&(l._lastResizeX||(l._lastResizeX=l.mouseDownPosition.left),e>l._lastResizeX+Ie(i).width()/2?(s=Ie(i).width()+o.left-l.selectedAppointmentTableBounds.width-l.selectedAppointmentTableBounds.left,r(a=l.selectedAppointmentTableBounds.width+s)&&(l.feedback.width(a),l._lastResizeX=l.selectedAppointmentTableBounds.width+s+l.feedback.coord().left,l.rtl?l.resizeFrom=new Ie.jqx.date(h.getAttribute("data-date"),l.timeZone):l.resizeTo=new Ie.jqx.date(h.getAttribute("data-date"),l.timeZone).addMinutes(d))):e<l._lastResizeX-Ie(i).width()/2&&(s=o.left-l.selectedAppointmentTableBounds.width-l.selectedAppointmentTableBounds.left,r(a=l.selectedAppointmentTableBounds.width+s)&&(l.feedback.width(a),l._lastResizeX=l.selectedAppointmentTableBounds.width+s+l.feedback.coord().left,l.rtl?l.resizeFrom=new Ie.jqx.date(h.getAttribute("data-date"),l.timeZone).addMinutes(d):l.resizeTo=new Ie.jqx.date(h.getAttribute("data-date"),l.timeZone))))},_handleResize:function(o,l,e,t,d){var h=this,c=h._views[h._view].type,u=h._views[h._view];"dayView"===c||"weekView"===c?h._handleDayWeekViewResize(o,l,e,t,d):"timelineMonthView"===c?h._handleTimelineMonthViewResize(o,l,e,t,d):"monthView"===c?h._handleMonthViewResize(o,l,e,t,d):"timelineDayView"!==c&&"timelineWeekView"!==c||h._handleTimelineDayWeekViewResize(o,l,e,t,d),"timelineDayView"===c||"timelineMonthView"===c||"timelineWeekView"===c?(clearInterval(h._horizontalIntervalDrag),h._horizontalIntervalDrag=setInterval(function(){var e=h.host.width(),t=h.host.coord().left+25,i=e+t-45;h.rtl?i<o?h.hScrollInstance.setPosition(h.hScrollInstance.value-5):o<t&&h.hScrollInstance.setPosition(h.hScrollInstance.value+5):o<t?h.hScrollInstance.setPosition(h.hScrollInstance.value-5):i<o&&h.hScrollInstance.setPosition(h.hScrollInstance.value+5)},5)):"dayView"!==c&&"weekView"!==c||(clearInterval(h._intervalDrag),h._intervalDrag=setInterval(function(){var e=h.host.height(),t=0;h.columnGroups?t+=h.showHeader?h.columnsheader.height():0:t+=h.showHeader?h.columnsHeight:0,h.showToolbar&&(t+=h.toolbarHeight),e-=t;var i=h.legendHeight;0==h._resources.length&&(i=0),h.showLegend&&(e-=i);var o=t+h.host.coord().top,n=h.showAllDayRow;!u.timeRuler||"dayView"!==c&&"weekView"!==c||null!=u.timeRuler.showAllDayRow&&(n=u.timeRuler.showAllDayRow);var r=1<=d.duration().days()||d.allDay;n&&r?o-=20:n&&h.resizing&&(o+=Ie(h.table[0].rows[0]).height(),e-=Ie(h.table[0].rows[0]).height());var s=o+25,a=e+s-45;l<s?h.vScrollInstance.setPosition(h.vScrollInstance.value-5):a<l&&h.vScrollInstance.setPosition(h.vScrollInstance.value+5)},5)),h.resizing=!0},_startTimers:function(o,d,h){var c=this,u=c.host.coord(),n=0,p=0;"hidden"!=c.hScrollInstance.element.style.visibility&&(clearInterval(c._horizontalIntervalDragVelocity),c._horizontalIntervalDragVelocity=setInterval(function(){40<++n&&(n=40)},100),clearInterval(c._horizontalIntervalDrag),c._horizontalIntervalDrag=setInterval(function(){var e=c._hostWidth,t=u.left+30,i=e+t-60;c.rtl?o<t?c.hScrollInstance.setPosition(c.hScrollInstance.value+10+n):i<o?c.hScrollInstance.setPosition(c.hScrollInstance.value-10-n):n=0:o<t?c.hScrollInstance.setPosition(c.hScrollInstance.value-10-n):i<o?c.hScrollInstance.setPosition(c.hScrollInstance.value+10+n):n=0},10)),"hidden"!=c.vScrollInstance.element.style.visibility&&(clearInterval(c._verticalIntervalDragVelocity),c._verticalIntervalDragVelocity=setInterval(function(){40<++p&&(p=40)},100),clearInterval(c._intervalDrag),c._intervalDrag=setInterval(function(){var e=c._hostHeight,t=0;c.columnGroups?t+=c.showHeader?c.columnsheader.height():0:t+=c.showHeader?c.columnsHeight:0;var i=c._views[c._view].type,o=c._views[c._view];c.showToolbar&&(t+=c.toolbarHeight),e-=t,c.showLegend&&0<c._resources.length&&(e-=c.legendHeight);var n,r,s=u.top,a=t+s;"dayView"!=i&&"weekView"!=i||(n=c.showAllDayRow,!o.timeRuler||"dayView"!==i&&"weekView"!==i||null!=o.timeRuler.showAllDayRow&&(n=o.timeRuler.showAllDayRow),r=1<=h.duration().days()||h.allDay,n&&r?a-=20:n&&c.resizing&&(a+=Ie(c.table[0].rows[0]).height()));var l=s+e+t-30;d<a+30?c.vScrollInstance.setPosition(c.vScrollInstance.value-10-p):l<d?c.vScrollInstance.setPosition(c.vScrollInstance.value+10+p):p=0},10))},_hoverCell:function(e){var t=this;return!t.enableHover||(0<t._resources.length&&0<=e.className.indexOf("pinned")||(0<=e.className.indexOf("time-column")||(0<=e.className.indexOf("jqx-scheduler-disabled-cell")||(!(!e||e!=t.hoveredCell)||(!(t.hoveredCell=e)||(t._removeHoveredCell(),(t.hoveredCell=e).className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")+" "+t.toTP("jqx-scheduler-cell-hover"),void(e.jqxClassName=e.className)))))))},_removeHoveredCell:function(){var e,t,i=this;i.hoveredCell&&(e=i.hoveredCell,t=(t=(t=(t=e.className).replace(" "+i.toTP("jqx-fill-state-hover"),"")).replace(" "+i.toTP("jqx-grid-cell-hover"),"")).replace(" "+i.toTP("jqx-scheduler-cell-hover"),""),e.className=t,e.jqxClassName=t),i.hoveredCell=null},_addHandlers:function(){var B=this;this._mousewheelfunc=this._mousewheelfunc||function(e){return B.wheel(e,B),!1};var i=this.focused=!1;this.addHandler(Ie(document),"keydown.scheduler"+B.element.id,function(e){i=!1,9===e.keyCode&&e.shiftKey&&!B.focused&&(i=!0)}),this.addHandler(this.host,"focus",function(e){if(!B.focusedCell||B.selectedAppointment||i||Ie(B.focusedCell).addClass(B.toThemeProperty("jqx-scheduler-cell-focus")),B.focused=!0,i)if(0<B.appointmentsToRender.length){var t=B.appointmentsToRender[B.appointmentsToRender.length-1];B._selectAppointment(t),B._lastSelectedAppointment=t}else if(B.focusedCell){if(B.focusedCell&&-1==B.focusedCell.className.indexOf("-focus"))return B._updateCellsSelection(),!1}else B._updateFocusedCell()}),this.addHandler(this.host,"blur",function(e){if(B.focusedCell){if(document.activeElement==B.element)return!0;if(Ie(document.activeElement).ischildof(B.host))return!0;Ie(B.focusedCell).removeClass(B.toThemeProperty("jqx-scheduler-cell-focus")),B.focused=!1}}),this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.host,"selectstart."+this.element.id,function(e){return!!B.enableBrowserSelection||(!(!B.showToolBar||!Ie(e.target).ischildof(B.toolbar))||(!!(B.rowDetails&&0<Ie(e.target).parents("[data-role=details]").length)||null!=B.editKey&&void 0))}),this.addHandler(Ie(window),"jqxReady."+this.element.id,function(){}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var t=this.isTouchDevice();this.vScrollInstance.valueChanged=function(e){B._timer&&clearTimeout(B._timer),t?B.table&&(B.table[0].style.top=0-B.vScrollInstance.value+"px"):B._timer=setTimeout(function(){B.table&&(B.table[0].style.top=0-B.vScrollInstance.value+"px")},1)},this.hScrollInstance.valueChanged=function(e){B._htimer&&clearTimeout(B._htimer),t?B.table&&B._renderhorizontalscroll():B._htimer=setTimeout(function(){B.table&&B._renderhorizontalscroll()},1)};var e="mousedown";this.isTouchDevice()&&(e=Ie.jqx.mobile.getTouchEventName("touchstart"),Ie.jqx.browser.msie&&Ie.jqx.browser.version<10&&(e="mousedown")),this.addHandler(this.table,"mouseleave",function(e){B._removeHoveredCell()}),B.isTouchDevice()&&(B.enableHover=!1);var o="mousemove.scheduler"+this.element.id,n="mouseup.scheduler"+this.element.id;this.isTouchDevice()&&!0!==this.touchMode&&(o=Ie.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+this.element.id,n=Ie.jqx.mobile.getTouchEventName("touchend")+".scheduler"+this.element.id),this.addHandler(Ie(document),o,function(e){var t=e.pageX,i=e.pageY;if(B.isTouchDevice()&&(t=(v=Ie.jqx.position(e)).left,i=v.top,(isNaN(t)||isNaN(i))&&(t=(v=Ie.jqx.position(e.originalEvent)).left,i=v.top)),B.disabled||3===e.which)return!0;if(!B.isMouseDown)return!0;if(B.hScrollInstance.isScrolling()||B.vScrollInstance.isScrolling())return!0;if(B._hostWidth){var o=B.host.coord();if(o.left+B._hostWidth<t||t<o.left)return!0;if(o.top+B._hostHeight<i||i<o.top)return!0}if(B.mouseDownPosition&&(3<=Math.abs(B.mouseDownPosition.left-t)&&Math.abs(B.mouseDownPosition.left-t)<=10||3<=Math.abs(B.mouseDownPosition.top-i)&&Math.abs(B.mouseDownPosition.top-i)<=10)&&(B.dragOrResize=!0),B.selectedAppointment&&B.dragOrResize){var n=null;if(B._hasOpenedMenu)return!0;if(B.editRecurrenceDialog.jqxWindow("isOpen"))return!0;var r,s=B._views[B._view].type,a=B._views[B._view],l=!1;if(!(r="td"===e.target.nodeName.toLowerCase()?e.target:B.findCell(t,i)))return!0;if(null!=r.getAttribute("data-time-slot"))return!0;if(0<=r.className.indexOf("jqx-grid-cell-pinned"))return!0;if(!B.feedback){if(!(n=B.getJQXAppointmentByElement(B.selectedAppointment)).draggable&&!n.resizable)return!(n=null);if(B.beginDrag)if(!B.beginDrag(n))return!0;var d=Ie('[data-key="'+n.id+'"]'),h=B.selectedAppointment.position();B.feedback=B.selectedAppointment.clone(!0),B.pinnedfeedback=B.selectedAppointment.clone(!0);function c(e){u&&e.find(".jqx-scheduler-appointment-resize-indicator").hide(),d.addClass(B.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),e.find(".jqx-scheduler-appointment-duration-status").hide(),e.addClass(B.toTP("jqx-scheduler-feedback-appointment")),e.addClass(B.toTP("jqx-scheduler-feedback-drag-appointment")),u?e.css("z-index",401):e.css("z-index",400)}var u=!("row-resize"==B.selectedAppointment[0].style.cursor||"col-resize"==B.selectedAppointment[0].style.cursor||B.resizing);if(c(B.feedback),c(B.pinnedfeedback),"monthView"!=B._views[B._view].type||u){if(B.table.append(B.feedback),1==B.tableRows?B.pinnedtable.append(B.pinnedfeedback):B.table.append(B.pinnedfeedback),B.feedback.css("left",h.left),B.feedback.css("top",h.top),B.pinnedfeedback.css("left",h.left),B.pinnedfeedback.css("top",h.top),"monthView"==B._views[B._view].type&&B.isTouchDevice()){B.feedbacks=new Array;for(var p=0;p<6;p++)B.feedbacks.push(B.feedback.clone(!0)),Ie(B.feedbacks[p]).hide(),B.table.append(Ie(B.feedbacks[p]))}}else{B.feedbacks=new Array;for(p=0;p<6;p++)B.feedbacks.push(B.feedback.clone(!0)),Ie(B.feedbacks[p]).hide(),B.table.append(Ie(B.feedbacks[p]))}}if(B.dragging)if(!1===B.dragging(n,r,B.feedback))return!0;var m,f,g,w,v=Ie(r).position();B.endDrag&&(m=B.feedback.css("left"),f=B.feedback.css("top"),g=B.feedback.width(),w=B.feedback.height),(n=n||B.selectedJQXAppointment)||(B.selectAppointment(B.uiappointments[0].id),n=B.selectedJQXAppointment);var y=n.resourceId,x=B._resources.indexOf(y);B.resources&&"none"==B.resources.orientation&&(x=-1);var b,A=!1,T=B.isTouchDevice();if(T&&!0!==B.touchMode&&null==B._dragCell&&!(B.leftResize||B.rightResize||B.topResize||B.bottomResize||B.resizing))switch(s){case"dayView":case"weekView":(l=1<=n.duration().days()||n.allDay)?(t>=B.selectedAppointmentBounds.left-15&&t<=B.selectedAppointmentBounds.left+15&&(A=!0,B.leftResize=!0),t>=B.selectedAppointmentBounds.left+B.selectedAppointmentBounds.width-15&&t<=B.selectedAppointmentBounds.left+B.selectedAppointmentBounds.width+15&&(A=!0,B.rightResize=!0)):(i>=B.selectedAppointmentBounds.top-15&&i<=B.selectedAppointmentBounds.top+15&&(A=!0,B.topResize=!0),i>=B.selectedAppointmentBounds.top-15+B.selectedAppointmentBounds.height&&i<=B.selectedAppointmentBounds.top+B.selectedAppointmentBounds.height+15&&(A=!0,B.bottomResize=!0));break;default:t>=B.selectedAppointmentBounds.left-15&&t<=B.selectedAppointmentBounds.left+15&&(A=!0,B.leftResize=!0),t>=B.selectedAppointmentBounds.left+B.selectedAppointmentBounds.width-15&&t<=B.selectedAppointmentBounds.left+B.selectedAppointmentBounds.width+15&&(A=!0,B.rightResize=!0)}if(T&&(B.leftResize||B.rightResize||B.topResize||B.bottomResize||B.resizing)||A){if(r.getAttribute("data-view")!=x+1&&0<B._resources.length&&"none"!=B.resources.orientation)return!0;if((b=B._getDateByString(r.getAttribute("data-date")))<B.min.toDate()||b>B.max.toDate())return;B._handleResize(t,i,r,v,n),B._oldResizeTD=r}else if(!T&&"row-resize"==B.selectedAppointment[0].style.cursor||"col-resize"==B.selectedAppointment[0].style.cursor||B.resizing){if(r.getAttribute("data-view")!=x+1&&0<B._resources.length&&B.resources&&"none"!=B.resources.orientation)return!0;if((b=B._getDateByString(r.getAttribute("data-date")))<B.min.toDate()||b>B.max.toDate())return;B._handleResize(t,i,r,v,n),B._oldResizeTD=r}else{if(!n.draggable)return B._removeFeedbackAndStopResize(),!0;if(B._dragCell==r)return B._startTimers(t,i,n),B.isTouchDevice()&&!0!==B.touchMode?(e.stopPropagation(),!1):void 0;if((b=B._getDateByString(r.getAttribute("data-date")))<B.min.toDate()||b>B.max.toDate())return;var _=n.duration();if(0<=s.indexOf("month")&&new Ie.jqx.date(b).add(_)>B.max)return;var S,D,j="hidden"==B.vScrollBar[0].style.visibility?0:6+B.vScrollBar.outerWidth();if(B._dragCell=r,B.feedback[0].style.left=2+v.left+"px",B.feedback[0].style.top=2+v.top+"px","dayView"===s||"weekView"===s){B.pinnedfeedback.css("left",2+v.left),B.pinnedfeedback.css("top",2+v.top);var q=0;if(r.getAttribute("data-end-date")){var C,k=B.appointmentsMinHeight;B.isTouchDevice()&&(k=B.touchAppointmentsMinHeight),a.appointmentHeight&&(k=a.appointmentHeight),l=1<=n.duration().days()||n.allDay,B.feedback.css("top",2+v.top+k),B.pinnedfeedback.css("top",2+v.top+18),"dayView"==s&&(C=B.selectedAppointment.coord().left-9,B.feedback.css("left",C),B.pinnedfeedback.css("left",C)),l?(B.pinnedfeedback.css("top",n.elements[0].y),q=B.selectedAppointment.width(),2+v.left+q>B.host.width()-j&&(q-=2+v.left+q-B.host.width()+j+6)):q=Ie(r).width()-4,B.feedback.width(q),B.feedback.height(k),B.pinnedfeedback.width(q),B.pinnedfeedback.height(k),B.feedback.hide(),B.pinnedfeedback.show()}else{B.feedback.show(),B.pinnedfeedback.hide();switch(a.timeRuler&&a.timeRuler.scale){case"sixtyMinutes":case"hour":0;break;case"thirtyMinutes":case"halfHour":0;break;case"fifteenMinutes":case"quarterHour":0;break;case"tenMinutes":0;break;case"fiveMinutes":0}q=Ie(r).width()-4,B.feedback.width(q),(l=1<=n.duration().days()||n.allDay)?B.feedback.height(Ie(r).height()-6):B.feedback.height(B.selectedAppointment.height())}B._startTimers(t,i,n)}else{"monthView"===s?(B.feedback.css("left",1+v.left),S=B.selectedAppointmentTableBounds,(D=parseInt(S.top))>v.top&&D<v.top+r.offsetHeight?B.feedback.css("top",D+"px"):B.feedback.css("top",B.selectedAppointment.height()+v.top-2),B.isTouchDevice()&&B.feedback.css("top",v.top+2),q=B.selectedAppointment.width(),B.feedback.width(q),B.feedback.height(B.selectedAppointment.height()),B._startTimers(t,i,n)):"timelineDayView"!==s&&"timelineMonthView"!==s&&"timelineWeekView"!==s||(S=B.selectedAppointmentTableBounds,(D=parseInt(S.top))>v.top&&D<v.top+r.offsetHeight&&B.feedback.css("top",D+"px"),B._startTimers(t,i,n))}}if(B.endDrag)return B.endDrag(n,r,B.feedback)||B.feedback.width(g),B.feedback.height(w),B.feedback.css("top",f),B.feedback.css("left",m),!0;if(B.isTouchDevice()&&!0!==B.touchMode)return e.stopPropagation(),!1}});function r(e){if(B.isMouseDown=!1,B.dragOrResize=!1,B.contextMenu&&B.menu&&3!==e.which&&(B.menu.jqxMenu("close"),B._hasOpenedMenu=!1),3===e.which)return!0;if(B.selectedAppointment&&B.feedback){if(B.editRecurrenceDialog.jqxWindow("isOpen"))return;B._handleMouseUp(B.selectedJQXAppointment,B._dragCell,B.resizing)}}var s;if(this.addHandler(Ie(document),n,r),!this.isTouchDevice())try{""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||(s=null,window.parent&&document.referrer&&(s=document.referrer),s&&-1!=s.indexOf(document.location.host)&&B.addHandler(Ie(window.top.document),"mouseup.jqxscheduler"+B.element.id,function(e){if(!B.disabled)return r(e)}))}catch(e){}this.addHandler(this.host,o,function(e){var t=e.pageX,i=e.pageY;if(B.disabled||3===e.which)return!0;if(B.selectedAppointment&&B.isMouseDown)return!0;if(B.hScrollInstance.isScrolling()||B.vScrollInstance.isScrolling())return!0;if(B._hasOpenedMenu)return!0;if("none"!==B.overlay[0].style.display)return!0;var o=null;0<=e.target.className.indexOf("jqx-scheduler-appointment")&&-1==e.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==e.target.className.indexOf("jqx-scheduler-appointment-content")&&-1==e.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(o=e.target);for(var n,r=e.target,s=0;s<4&&r.parentNode;s++)0<=r.className.indexOf("jqx-scheduler-appointment")&&-1==r.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==r.className.indexOf("jqx-scheduler-appointment-content")&&-1==r.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(o=r),r=r.parentNode;if(o){var a=B._views[B._view].type,l=(B._views[B._view],B.getJQXAppointmentByElement(o));if(l.resizable){var d=l.duration(),h=l.allDay||1<=d.days()||23==d.hours()&&59==d.minutes&&59==d.seconds,c=Ie(o).coord(),u=Ie(o).position();B.selectedAppointmentBounds={top:c.top,left:c.left,width:Ie(o).width(),height:Ie(o).height()},B.selectedAppointmentTableBounds={top:u.top,left:u.left,width:Ie(o).width(),height:Ie(o).height()};var p=B.selectedAppointmentBounds;if("weekView"==a||"dayView"==a)h?"dayView"!=a?t>=p.left-3&&t<=p.left+6?(o.style.cursor="col-resize",B.leftResize=!0,B.rightResize=!1):t>=p.left+p.width-6&&t<=p.left+p.width+3?(o.style.cursor="col-resize",B.leftResize=!1,B.rightResize=!0):o.style.cursor="pointer":o.style.cursor="pointer":i>=p.top-3&&i<=p.top+6?(o.style.cursor="row-resize",B.topResize=!0,B.bottomResize=!1):i>=p.top+p.height-6&&i<=p.top+p.height+3?(o.style.cursor="row-resize",B.topResize=!1,B.bottomResize=!0):o.style.cursor="pointer";else if("monthView"==a&&1<l.elements.length)for(var m=B.table.coord(),s=0;s<l.elements.length;s++){var f=l.elements[s],p={top:m.top+f.y,left:m.left+f.x,width:f.width,height:f.height};if(0==s&&!B.rtl||s==l.elements.length-1&&B.rtl)if(t>=p.left-3&&t<=p.left+6){if(i>=p.top&&i<=p.top+p.height){o.style.cursor="col-resize",B.leftResize=!0,B.rightResize=!1,B.selectedAppointment=Ie(o);break}o.style.cursor="pointer"}else o.style.cursor="pointer";else if(s==l.elements.length-1&&!B.rtl||0==s&&B.rtl)if(t>=p.left+p.width-6&&t<=p.left+p.width+3){if(i>=p.top&&i<=p.top+p.height){o.style.cursor="col-resize",B.leftResize=!1,B.rightResize=!0,B.selectedAppointment=Ie(o);break}o.style.cursor="pointer"}else o.style.cursor="pointer"}else t>=p.left-3&&t<=p.left+6?(o.style.cursor="col-resize",B.leftResize=!0,B.rightResize=!1):t>=p.left+p.width-6&&t<=p.left+p.width+3?(o.style.cursor="col-resize",B.leftResize=!1,B.rightResize=!0):o.style.cursor="pointer"}}if(!B.enableHover)return!0;if(!(n="td"===e.target.nodeName.toLowerCase()?e.target:B.findCell(t,i)))return!0;if(B._removeHoveredCell(),B.renderedRecords&&0===B.renderedRecords.length)return!0;if(B.isMouseDown){if(3<Math.abs(B.mousecaptureposition.left-t)||3<Math.abs(B.mousecaptureposition.top-i)){if(0===B.mousecaptureposition.clickedcell.length)return void(B.selectionarea[0].style.visibility="hidden");B.lastHoveredCell!=n&&(B._selectRangeTimer&&clearTimeout(B._selectRangeTimer),B._selectRangeTimer=setTimeout(function(){"agendaView"!=B._views[B._view].type&&B._selectRange(n,B.mousecaptureposition.clickedcell[0])},1)),B.lastHoveredCell=n}}else if(!o){if(1==B.rows.length&&1==B.rows[0].cells.length)return!0;B._hoverCell(n)}return!0}),this.addHandler(Ie(document),"keydown.jqxscheduler"+B.element.id,function(e){if(B.focused&&e.ctrlKey&&68==e.keyCode)return!1}),this.addHandler(this.host,"keydown",function(e){return B._handleKey(e)}),Ie.jqx.browser.msie&&Ie.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){B.table.trigger("mousedown",e)});function a(i){i.target;var e=null;if(B.disabled)return!0;B.menu||3!=i.which||B._initMenu(),B.table.coord();var t=i.pageX,o=i.pageY;Ie.jqx.browser.msie&&Ie.jqx.browser.version<9&&arguments&&2==arguments.length&&(t=arguments[1].pageX,o=arguments[1].pageY),B.isTouchDevice()&&(t=(m=Ie.jqx.position(i)).left,o=m.top,(isNaN(t)||isNaN(o))&&(t=(m=Ie.jqx.position(i.originalEvent)).left,o=m.top)),B.mouseDown={top:o,left:t},e=B.findCell(t,o),e="td"===i.target.nodeName.toLowerCase()?i.target:B.findCell(t,o);var n,r,s=B._views[B._view].type,a=B._views[B._view];if("monthView"===s&&a.weekViewNavigation&&e&&e.getAttribute("data-time-slot")&&(y=B._getDateByString(e.getAttribute("data-date")),r=new Ie.jqx.date(y),B.date=r,B.setView("weekView")),"monthView"===s&&a.dayViewNavigation&&(n=Ie(e).coord().top,e&&n<=o&&o<=n+16&&(y=B._getDateByString(e.getAttribute("data-date")),r=new Ie.jqx.date(y),B.date=r,B.setView("dayView"))),"span"===i.target.nodeName.toLowerCase()&&(0<=i.target.className.indexOf("jqx-icon-arrow-down")||0<=i.target.className.indexOf("jqx-icon-close")))return i.target.mousedown&&i.target.mousedown(),!0;var l=Ie(e).parent(),d=l.attr("data-key");function h(e){if(3===i.which&&B.contextMenu&&B.menu){e?B.menu.find("li:first").show():B.menu.find("li:first").hide();var t=B.menu.coord();if("block"==B.menu.css("display")&&t.left==i.pageX&&t.top==i.pageY)return B._hasOpenedMenu=!0,i.preventDefault(),void i.stopPropagation();B.menuOpening=!0,B.menu.jqxMenu("open",i.pageX,i.pageY),B.menuOpening=!1,B._hasOpenedMenu=!0,i.preventDefault(),i.stopPropagation(),setTimeout(function(){B.menu.jqxMenu("focus")},50)}}function c(){for(var e=0;e<x.length;e++)for(var t=x[e].cells,i=0;i<t.length;i++)t[i].removeAttribute("data-selected")}B.mousecaptureposition={left:i.pageX,top:i.pageY,clickedrow:Ie(l).index(),clickedcell:Ie(e)},3!==i.which?(B.isMouseDown=!0,B.isMouseDownDate=new Date):B.isMouseDown=!1,B.contextMenu&&B.menu&&3!==i.which&&(B.menu.jqxMenu("close"),B._hasOpenedMenu=!1);var u=0<=i.target.className.indexOf("jqx-scheduler-appointment")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-duration-status")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-status")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-content")?Ie(i.target):Ie(i.target).parents(".jqx-scheduler-appointment");if(0==u.length&&(u=null),u&&-1==u[0].className.indexOf("feedback")){if(0<u.parents(".jqx-scheduler-month-cell-popup").length)return!0;B.mouseDownPosition={top:o,left:t};var p=Ie(u).coord();B.selectedAppointmentBounds={top:p.top,left:p.left,width:Ie(u).width(),height:Ie(u).height()};var m=Ie(u).position();B.selectedAppointmentTableBounds={top:m.top,left:m.left,width:Ie(u).width(),height:Ie(u).height()},B._dragStartCell||(B._dragStartCell=B.findCell(p.left,p.top));var f=B.getJQXAppointmentByElement(u);B._selectAppointment(f,u,"mouse"),B._raiseEvent("appointmentClick",{appointment:f.boundAppointment}),B.clearSelection();var g=(new Date).getTime(),w=300;return Ie.jqx.browser.msie&&Ie.jqx.browser.version<9&&(w=1e3),B.clickTime||(B.clickTime=new Date),g-B.clickTime.getTime()<w&&B._lastSelectedAppointment&&f.id==B._lastSelectedAppointment.id&&3!=i.which?(f.readOnly||B.editRecurrenceDialog.jqxWindow("isOpen")||B._editDialog&&(!B._editDialog||B._editDialog.jqxWindow("isOpen"))||!1!==B._initDialog(f)&&B._openDialog(),B.mouseDownPosition=null,B.isMouseDown=!1,i.preventDefault&&i.preventDefault(),B._raiseEvent("appointmentDoubleClick",{appointment:f.boundAppointment})):f.readOnly||3!==i.which&&B.focus(),B._lastSelectedAppointment=f,i.preventDefault&&i.preventDefault(),i.stopPropagation(),B.clickTime=new Date,void(f.readOnly||3==i.which&&h(!0))}if(3===i.which?null!==B.getSelection()?h(!1):(B.clearAppointmentsSelection(),e.setAttribute("data-selected","true"),B._lastSelectedCell=e,B.focusedCell=e,B._updateCellsSelection(e),h(!1),v=new Ie.jqx.date(e.getAttribute("data-date"),B.timeZone),B._raiseEvent("cellClick",{cell:e,date:v})):3!=i.which&&B.clearAppointmentsSelection(),"agendaView"==B.view&&(u=-1!=i.target.className.indexOf("jqx-scheduler-agenda-appointment"))&&(u=i.target,f=B.getJQXAppointmentByElement(u),B._selectAppointment(f,u,"mouse"),B._raiseEvent("appointmentClick",{appointment:f.boundAppointment}),g=(new Date).getTime(),w=300,Ie.jqx.browser.msie&&Ie.jqx.browser.version<9&&(w=1e3),B.clickTime||(B.clickTime=new Date),g-B.clickTime.getTime()<w&&B._lastSelectedAppointment&&f.id==B._lastSelectedAppointment.id&&3!=i.which&&(f.readOnly||B.editRecurrenceDialog.jqxWindow("isOpen")||B._editDialog&&(!B._editDialog||B._editDialog.jqxWindow("isOpen"))||!1!==B._initDialog(f)&&B._openDialog(),B.mouseDownPosition=null,B.isMouseDown=!1,i.preventDefault&&i.preventDefault(),B._raiseEvent("appointmentDoubleClick",{appointment:f.boundAppointment})),B._lastSelectedAppointment=f,i.preventDefault&&i.preventDefault(),i.stopPropagation(),B.clickTime=new Date,f.readOnly||3==i.which&&h(!0)),void 0!==d&&3!=i.which){B.clickedTD=e;var v=new Ie.jqx.date(e.getAttribute("data-date"),B.timeZone);B.rowinfo[d]&&(g=(new Date).getTime(),w=300,B.clickTime||(B.clickTime=new Date),B.focus(),B._lastSelectedCell&&"true"==B._lastSelectedCell.getAttribute("data-selected")&&"true"===e.getAttribute("data-selected")&&g-B.clickTime.getTime()<w&&(v=new Ie.jqx.date(e.getAttribute("data-date"),B.timeZone),B._raiseEvent("cellDoubleClick",{cell:e,date:v}),B._initDialog(),B._openDialog(),i.preventDefault&&i.preventDefault()));var y,x=B.rows;if("true"!=e.getAttribute("data-selected")||i.shiftKey||g-B.clickTime.getTime()>w){if("true"==e.getAttribute("data-time-slot"))return;i.shiftKey||(B.shiftSelectedCell=null),i.shiftKey&&B._lastSelectedCell&&"agendaView"!=s&&(B.shiftSelectedCell||(B.shiftSelectedCell=B._lastSelectedCell),e.getAttribute("data-view")===B.shiftSelectedCell.getAttribute("data-view")&&c(),B._selectRange(e,B.shiftSelectedCell)),i.shiftKey||(c(),(y=B._getDateByString(e.getAttribute("data-date")))>=B.min.toDate()&&y<=B.max.toDate()?e.setAttribute("data-selected","true"):e.setAttribute("data-selected","false")),Ie('[data-key="'+d+'"]').removeClass(B.toTP("jqx-scheduler-selected-appointment")),B.selectedAppointment=null,(y=B._getDateByString(e.getAttribute("data-date")))>=B.min.toDate()&&y<=B.max.toDate()&&(B._lastSelectedCell=e,B.focusedCell=e),B._updateCellsSelection(e),B.openedMonthCellPopup&&B.openedMonthCellPopup.remove()}B._raiseEvent("cellClick",{cell:e,date:v}),B.clickTime=new Date,i.stopPropagation&&i.stopPropagation()}}this.addHandler(this.pinnedtable,e,function(e){var t=a(e);if(null!=t)return t}),this.addHandler(this.table,e,function(e){var t=a(e);if(null!=t)return t})},moveAppointment:function(a,l,d,h,c){var u=this,p=h.getAttribute("data-end-date");if(a){if(u.editRecurrenceDialog.jqxWindow("isOpen"))return;clearInterval(u._verticalIntervalDragVelocity),clearInterval(u._horizontalIntervalDragVelocity),clearInterval(u._intervalDrag),clearInterval(u._horizontalIntervalDrag);function e(e){if(!c){var t=u._views[u._view].type,i=u._views[u._view],o=l;if(a.from=o,"dayView"===t||"weekView"===t)if(f||p){if(!f&&p)a.to=Ie.jqx.scheduler.utilities.getEndOfDay(o),a.allDay=!0;else if(f&&p)a.to=o.add(m);else if(f&&!p){var n=30;switch(i.timeRuler&&i.timeRuler.scale){case"sixtyMinutes":case"hour":n=60;break;case"fifteenMinutes":case"quarterHour":n=15;break;case"tenMinutes":n=10;break;case"fiveMinutes":n=5}a.to=o.addMinutes(n),a.allDay=!1}}else a.to=o.add(m),a.allDay=!1;else"monthView"!==t&&"timelineDayView"!==t&&"timelineWeekView"!==t&&"timelineMonthView"!==t||(a.to=o.add(m))}var r,s;u._saveChangesAfterDragOrResize(e,a,h,c),null!=d&&(a.resourceId=d),u.table.find(".jqx-icon-arrow-down").hide(),a.allDay||f?u._renderrows():(r=u.getViewStart(),s=Ie.jqx.scheduler.utilities.getEndOfDay(u.getViewEnd()),u._prepareAppointmentsInView(r,s),u._renderAppointments(r,s)),u._raiseEvent("appointmentChange",{appointment:a.boundAppointment}),u.changedAppointments[a.id]={type:"Update",appointment:a.boundAppointment},u._ensureAppointmentVisible(u.selectedJQXAppointment)}var m=a.duration(),f=1<=a.duration().days()||a.allDay;a.isRecurrentAppointment()?e(!1):e(null)}},getAppointmentProperty:function(e,t){var i=null;if(this.appointmentsByKey[e]&&(i=this.appointmentsByKey[e].jqxAppointment),i)return i[t]},setAppointmentProperty:function(e,t,i){var o=this,n=null;if(this.appointmentsByKey[e]&&(n=this.appointmentsByKey[e].jqxAppointment),n)switch(n[t]=i,o.changedAppointments[e]={type:t,appointment:n.boundAppointment},e){case"draggable":case"resizable":break;case"background":case"color":case"borderColor":case"status":case"tooltip":case"subject":case"location":case"description":case"style":var r=o.getViewStart(),s=Ie.jqx.scheduler.utilities.getEndOfDay(o.getViewEnd());o._prepareAppointmentsInView(r,s),o._renderAppointments(r,s);break;case"hidden":case"timeZone":n.isAllDayAppointment()?o._renderrows():(r=o.getViewStart(),s=Ie.jqx.scheduler.utilities.getEndOfDay(o.getViewEnd()),o._prepareAppointmentsInView(r,s),o._renderAppointments(r,s));break;default:o._renderrows()}},deleteAppointment:function(e){this.appointmentsByKey[e]&&this._deleteAppointment(this.appointmentsByKey[e].jqxAppointment)},_deleteAppointment:function(e){var t=this;if(e.rootAppointment){if(e.isException()){for(var i=e.rootAppointment?e.rootAppointment.exceptions:e.exceptions,o=0;o<i.length;o++)if(i[o].occurrenceFrom.equals(t.editAppointment.occurrenceFrom)){i[o]=e;break}}else null!=e.rootAppointment?(e.rootAppointment.exceptions.push(t.editAppointment),e.rootAppointment.recurrenceException.push(t.editAppointment.occurrenceFrom)):(e.exceptions.push(t.editAppointment),e.recurrenceException.push(t.editAppointment.occurrenceFrom));return e.hidden=!0,void t._renderrows()}t._raiseEvent("appointmentDelete",{appointment:e.boundAppointment});var n=e.id;delete t.appointmentsByKey[n];for(var r=-1,o=0;o<t.appointments.length;o++)if(t.appointments[o]==e.boundAppointment||t.appointments[o].id==e.boundAppointment.id){r=o;break}-1!=r&&t.appointments.splice(r,1),r=-1;for(o=0;o<t.uiappointments.length;o++)if(t.uiappointments[o]==e||t.uiappointments[o].id==e.id){r=o;break}-1!=r&&t.uiappointments.splice(r,1),t.selectedJQXAppointment==e&&(t.clearAppointmentsSelection(),t.uiappointments[r+1]?t.selectAppointment(t.uiappointments[r+1].id):t.uiappointments[r-1]?t.selectAppointment(t.uiappointments[r-1].id):t.uiappointments[0]&&t.selectAppointment(t.uiappointments[0].id)),t.changedAppointments[n]={type:"Delete",appointment:e.boundAppointment},t._renderrows()},addAppointment:function(e){var t=this;if(e.scheduler||(e.scheduler=this),!e.duration)if((e.from||e.to)&&e.appointmentObject){var i=new Ie.jqx.scheduler.appointment;for(var o in e)i[o]=e[o];e=i}else{var n=e,r={},s=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"];for(var o in t.appointmentDataFields){var a,l=n[x=t.appointmentDataFields[o]];if("from"!=o&&"to"!=o||(l=new Ie.jqx.date(l)),"style"==o&&l&&(a=t.getAppointmentColors(l),r.color=a.color,r.background=a.background,r.borderColor=a.border),"recurrencePattern"==o&&l&&((l=new Ie.jqx.scheduler.recurrencePattern(l)).timeZone=n.timeZone||t.timeZone),"recurrenceException"==o){var d=new Array;if(l){0<=l.indexOf("EXDATE:")&&(l=l.substring(l.indexOf("EXDATE:")+7));var h=new Array;0<=l.indexOf(",")?h=l.split(","):h.push(l);for(var c=0;c<h.length;c++){var u,p=h[c];0<=p.indexOf(";")&&(u=p.split(";")[1],p=p.split(";")[0],0<=u.toLowerCase().indexOf("display")&&u.toLowerCase().indexOf("none")&&(r.hidden=!0));try{"Invalid Date"!=(m=Ie.jqx.scheduler.utilities.untilStringToDate(p))&&(m=r.timeZone?new Ie.jqx.date(m,r.timeZone):t.timeZone?m.toTimeZone(t.timeZone):new Ie.jqx.date(m))}catch(e){var m=new Ie.jqx.date(p,t.timeZone)}d.push(m)}}l=d}r[o]=l}for(var f in s){if(null==r[o=s[f]]){l="";if("originalData"==o)continue;"ownerId"==o&&(l=null),"timeZone"==o&&(l=null),"recurrencePattern"==o&&(l=null),"recurrenceException"==o&&(l=null),"allDay"==o&&(l=!1),"draggable"==o&&(l=!0),"resizable"==o&&(l=!0),"hidden"==o&&(l=!1),"resourceId"==o&&(l=null),"from"==o&&(l=new Ie.jqx.date),"to"==o&&(l=(new Ie.jqx.date).addHours(1)),r[o]=l}}r.originalData=n,r.scheduler=this;e=new Ie.jqx.scheduler.appointment(r);r.timeZone&&(e.from=e.from.toTimeZone(r.timeZone),e.to=e.to.toTimeZone(r.timeZone)),t.timeZone?(r.timeZone||(e.timeZone=t.timeZone),e.from=e.from.toTimeZone(t.timeZone),e.to=e.to.toTimeZone(t.timeZone)):(e.from=e.from.toTimeZone(null),e.to=e.to.toTimeZone(null))}o=t.dataview.generatekey();e.id=o,t.appointmentsByKey[o]=e,t.appointments.push(e);var g,w={},v={};for(var y in t.appointmentDataFields){var x=t.appointmentDataFields[y],l=e[y];w[y]=l,"from"!=y&&"to"!=y||(l=l.toDate?l.toDate():new Ie.jqx.date(l).toDate()),v[x]=l}w.originalData=v,((e.boundAppointment=w).jqxAppointment=e).jqxAppointment=e,t._raiseEvent("appointmentAdd",{appointment:e.boundAppointment}),t.uiappointments.push(e),t.changedAppointments[o]={type:"Add",appointment:e.boundAppointment},t.hiddenResources&&t.hiddenResources[e.resourceId]?t.hideAppointmentsByResource(e.resourceId):t._renderrows(),t._selectAppointment(e),t._lastSelectedAppointment=e,t.resources&&(g=e.resourceId,-1===t._resources.indexOf(g)&&(t._resources.push(g),t._renderrows()))},_updateCellsSelection:function(){var e=this,t=e.rows,i=0,o=0;0<i&&e.rtl&&(i=0,o=1);for(var n=0;n<t.length;n++)for(var r=t[n].cells,s=i;s<r.length-o;s++){var a,l=r[s];if("true"==l.getAttribute("data-selected")){if(0<=(a=l.jqxClassName||l.className).indexOf("jqx-fill-state-pressed")){l!=e.focusedCell?a=(a=a.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""):l==e.focusedCell&&e.focused&&(a=(a=a.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(a+=" "+e.toTP("jqx-scheduler-cell-focus"))),l.className!=a&&(l.className=a),l.jqxClassName=a;continue}a=(a=(a=(a=(a=(a=(a=(a=a.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,"")).replace(" jqx-scheduler-cell-selected","")).replace(" jqx-scheduler-cell-selected-"+e.theme,""),a+=" "+e.toTP("jqx-fill-state-pressed jqx-grid-cell-selected jqx-scheduler-cell-selected"),l==e.focusedCell&&e.focused&&!e.selectedAppointment&&(a+=" "+e.toTP("jqx-scheduler-cell-focus")),l.className!=a&&(l.className=a),l.jqxClassName=a}else{if(-1==(a=l.jqxClassName||l.className).indexOf("jqx-fill-state-pressed")){l!=e.focusedCell?a=(a=a.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""):l==e.focusedCell&&e.focused&&(a=(a=a.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(a+=" "+e.toTP("jqx-scheduler-cell-focus"))),l.className!=a&&(l.className=a),l.jqxClassName=a;continue}l==e.focusedCell&&e.focused&&(a=(a=a.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(a+=" "+e.toTP("jqx-scheduler-cell-focus")),l.className!=a&&(l.className=a),l.jqxClassName=a),a=(a=(a=(a=(a=(a=(a=(a=a.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,"")).replace(" jqx-scheduler-cell-selected","")).replace(" jqx-scheduler-cell-selected-"+e.theme,""),l==e.focusedCell&&e.focused&&!e.selectedAppointment&&(a+=" "+e.toTP("jqx-scheduler-cell-focus")),l.className!=a&&(l.className=a),l.jqxClassName=a,l.removeAttribute("data-selected")}}},_getuikey:function(e,t){var i=null,o=this.table[0].rows,i=Ie(o[e]).attr("data-key");if(Ie(o[e]).attr("data-role")){var n=Ie(o[e]);if("next"==t)for(;n;){if(n=n.next())if(!n.attr("data-role"))return i=n.attr("data-key")}else if("prev"==t)for(;n;){if(n=n.prev())if(!n.attr("data-role"))return i=n.attr("data-key")}return null}return i},getRows:function(){var e=this._views[this._view].type,t=this._views[this._view],i="halfHour";t.timeRuler&&t.timeRuler.scale&&(i=t.timeRuler.scale);var o,n,r=24,s=this.showAllDayRow;!t.timeRuler||"dayView"!==e&&"weekView"!==e||(o=0,n=23,null!=t.timeRuler.scaleStartHour&&(o=parseInt(t.timeRuler.scaleStartHour)),null!=t.timeRuler.scaleEndHour&&(n=parseInt(t.timeRuler.scaleEndHour)),o<0&&(o=0),n<0&&(n=23),23<o&&(o=0),23<n&&(n=23),r=n-o+1,null!=t.timeRuler.showAllDayRow&&(s=t.timeRuler.showAllDayRow));var a=new Array,l=0;switch(e){case"dayView":case"weekView":default:l=2*r;"hour"===i||"sixtyMinutes"===i?l=r:"quarterHour"===i||"fifteenMinutes"===i?l=4*r:"tenMinutes"===i?l=6*r:"fiveMinutes"===i&&(l=12*r),s&&l++;break;case"monthView":l=6;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":l=1;break;case"agendaView":l=this.appointments?this.appointments.length:0}for(var d=0;d<l;d++)a.push({uid:d});return a},_getDateByString:function(e){if(e&&this._dateByStringCache&&this._dateByStringCache[e]){var t=this._dateByStringCache[e];return new Date(t.getTime())}var i=e.split(" "),o=i[0].split("-"),n=i[1].split(":"),r=parseInt(o[0],10),s=parseInt(o[1],10)-1,a=parseInt(o[2],10),l=parseInt(n[0],10),d=parseInt(n[1],10),h=parseInt(n[2],10),t=new Date(r,s,a,l,d,h);return r<1970&&t.setFullYear(r,s,a),this._dateByStringCache||(this._dateByStringCache=[]),this._dateByStringCache[e]=t},_getCellByDate:function(e,t,i){var o=this.rows;void 0===t&&(t=!1),void 0===i&&this.focusedCell&&(i=this.focusedCell.getAttribute("data-view"));for(var n=0;n<o.length;n++){var r=o[n];if(!r.element.getAttribute("data-group-row"))for(var s=0;s<r.cells.length;s++){var a=r.cells[s];if(null==a.getAttribute("rowspan")&&(a.getAttribute("data-view")===i&&!(a.getAttribute("data-time-slot")||t&&null!=a.getAttribute("data-end-date")))){var l=a.getAttribute("data-date");if(this._getDateByString(l).valueOf()==e.valueOf())return a}}}},_rendercelltexts:function(){var e,t,i,o;"75CE8878-FCD1-4EC7-9249-BA0F153A5DE8"!==Ie.jqx.credits&&(e="www.jqwidgets.com",-1==location.hostname.indexOf(e.substring(4))&&(this._gridRenderElement&&Ie(this._gridRenderElement).remove(),t=String.fromCharCode(83,80,65,78),i=String.fromCharCode(72,84,84,80,58,47,47),(o=document.createElement(t)).id=Ie.jqx.utilities.createId(),o.innerHTML=e,o.style.position="absolute",o.style.right="5px",o.style.bottom="5px",o.style.color="#909090",o.style.cursor="pointer",o.style.zIndex="999999",o.style.display="none",o.style.fontSize="9px",o.onmousedown=function(){open(i+e)},this.content[0].appendChild(o),this._gridRenderElement=o))},_handleKey:function(c){if(this._loading)return!0;var v=c.shiftKey,y=c.ctrlKey||c.metaKey,x=this,e=c.charCode?c.charCode:c.keyCode?c.keyCode:0;if(x._hasOpenedMenu)return 27==e?x.closeMenu():x.menu.jqxMenu("focus"),!0;if(13===e||x.selectedAppointment&&46==e){if(x.editRecurrenceDialog&&x.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(x._editDialog&&x._editDialog.jqxWindow("isOpen"))return!0;x.selectedAppointment?(a=x.getJQXAppointmentByElement(x.selectedAppointment)).readOnly||(46==e?!1!==x._initDialog(a,"delete")&&x._openDialog():!1!==x._initDialog(a)&&x._openDialog()):(x._initDialog(),x._openDialog())}if(27===e&&x.dragOrResize){x.table.find(".jqx-icon-arrow-down").hide();var t=x.getViewStart(),i=Ie.jqx.scheduler.utilities.getEndOfDay(x.getViewEnd());return x._prepareAppointmentsInView(t,i),x._renderAppointments(t,i),x._removeFeedbackAndStopResize(),!1}function o(e){var t=x.selectedAppointment,i=x.getJQXAppointmentByElement(t),o=i.elements[0].cells[0].cell,n=i.elements[i.elements.length-1].cells[i.elements[i.elements.length-1].cells.length-1].cell,r=x.rows[x.rows.length-1].cells[x.rows[x.rows.length-1].cells.length-1];!v&&(v||y||"down"!=e&&"right"!=e)||(o=n);var s=x._views[x._view].type,a=(x._views[x._view],o);switch(e){case"left":0<(d=(h=x.rowByCell[o.getAttribute("data-key")]).indexOf(o))&&!v?a=h.cells[d-1]:"monthView"!=s||v||(l=h.aboveRow)&&(a=l.cells[l.cells.length-1]);break;case"right":(d=(h=x.rowByCell[o.getAttribute("data-key")]).indexOf(o))<h.cells.length-1?a=h.cells[d+1]:"monthView"==s&&(c=h.belowRow)&&(a=c.cells[0]),"monthView"==s&&!v&&y&&n==r&&(a=o);break;case"up":var l,d=(h=x.rowByCell[o.getAttribute("data-key")]).indexOf(o);(l=h.aboveRow)&&!v&&(a=l.cells[d]);break;case"down":var h,c,d=(h=x.rowByCell[o.getAttribute("data-key")]).indexOf(o);(c=h.belowRow)&&(a=c.cells[d])}var u,p,m,f=a.getAttribute("data-date"),g=new Ie.jqx.date(f,x.timeZone),s=Ie(a).attr("data-view"),w=x._resources[parseInt(s)-1];v?(s=x._views[x._view].type,x._views[x._view],u=!1,"dayView"===s||"weekView"===s?o.getAttribute("data-end-date")?"left"==e&&(1<i.elements[0].cells.length||x.rtl)?(x.rtl?i.to=Ie.jqx.scheduler.utilities.getEndOfDay(g.addDays(1)):i.to=Ie.jqx.scheduler.utilities.getEndOfDay(g.addDays(-1)),u=!0):"right"==e&&((!x.rtl||x.rtl&&1<i.elements[0].cells.length)&&(i.to=Ie.jqx.scheduler.utilities.getEndOfDay(g)),u=!0):"up"==e&&1<i.elements[0].cells.length?(i.to=g,u=!0):"down"==e&&(i.to=g.addMinutes(x.getMinutesPerScale()),u=!0):0<=s.indexOf("month")?"left"==e&&(1<i.elements[0].cells.length||1<i.elements.length)?(i.to=Ie.jqx.scheduler.utilities.getEndOfDay(g.addDays(-1)),u=!0):"right"==e&&(i.to=Ie.jqx.scheduler.utilities.getEndOfDay(g),u=!0):!x.rtl&&"left"==e&&1<i.elements[0].cells.length||x.rtl&&"right"==e&&1<i.elements[0].cells.length?(i.to=g,x.rtl&&(i.to=g.addMinutes(x.getMinutesPerScale())),u=!0):(!x.rtl&&"right"==e||x.rtl&&"left"==e)&&(i.to=g.addMinutes(x.getMinutesPerScale()),x.rtl&&(i.to=i.to.addMinutes(x.getMinutesPerScale())),u=!0),u&&x.moveAppointment(i,g,w,a,!0)):y?x.moveAppointment(i,g,w,a):(x.clearAppointmentsSelection(),p="down"!=e,x.selectCell(g,p,s),x._ensureVisible(a)),x.selectedAppointment&&(x.selectedAppointment.removeClass(x.toTP("jqx-scheduler-selected-appointment")),m=x.selectedAppointment.attr("data-key"),Ie('[data-key="'+m+'"]').addClass(x.toTP("jqx-scheduler-selected-appointment")),x.clearSelection())}if(c.altKey&&x._resourcesElements&&x._resources&&0<x._resources.length){var n=49<=e&&e<=58?n=e-48:-1;if(1<=n)return Ie.each(x._resources,function(e,t){if(e==n-1)return i=t,"on"==x._resourcesElements.bottom[i].attr("data-toggle")?x.hideAppointmentsByResource(i):x.showAppointmentsByResource(i),!1;var i}),!1}if(c.ctrlKey){if(!x.selectedAppointment){if(37==e)return x.toolbarLeftButton.trigger("click"),x._ensureVisible(x.focusedCell),!1;if(39==e)return x.toolbarRightButton.trigger("click"),x._ensureVisible(x.focusedCell),!1}if(49==e)return x._setView(0),!1;if(50==e)return x._setView(1),!1;if(51==e)return x._setView(2),!1;if(52==e)return x._setView(3),!1;if(53==e)return x._setView(4),!1;if(54==e)return x._setView(5),!1;if(68==e)return x.dateTimeInput.jqxDateTimeInput("open"),!1;if(77==e)return x.openMenu(),!1}if(9==e)if(c.shiftKey)if(x.selectedAppointment){x.clearSelection();s=x.selectedAppointment;if(a=x.getJQXAppointmentByElement(s))return 0<(r=x.tabKeyAppointments.indexOf(a))?(a=x.tabKeyAppointments[r-1],x._selectAppointment(a),x._lastSelectedAppointment=a,x._ensureAppointmentVisible(a),!1):(x.clearAppointmentsSelection(),x.focusedCell?!x.focusedCell||-1!=x.focusedCell.className.indexOf("-focus")||(x._updateCellsSelection(),x._ensureVisible(x.focusedCell),!1):(x._updateFocusedCell(),x._ensureVisible(x.focusedCell),!1))}else if(x.focusedCell){if(x.focusedCell&&-1==x.focusedCell.className.indexOf("-focus"))return x._updateCellsSelection(),x._ensureVisible(x.focusedCell),!1}else x._updateFocusedCell(),x._ensureVisible(x.focusedCell);else{if(x.selectedAppointment){x.clearSelection();var r,s=x.selectedAppointment,a=x.getJQXAppointmentByElement(s);return(r=x.tabKeyAppointments.indexOf(a))<x.tabKeyAppointments.length-1?(a=x.tabKeyAppointments[r+1],x._selectAppointment(a),x._lastSelectedAppointment=a,x._ensureAppointmentVisible(a),!1):(x.clearAppointmentsSelection(),!0)}if(a=x.tabKeyAppointments[0])return x._selectAppointment(a),x._lastSelectedAppointment=a,x._ensureAppointmentVisible(a),!1;if(!x.focusedCell)return x._updateFocusedCell(),x._ensureVisible(x.focusedCell),!1;if(x.focusedCell&&-1==x.focusedCell.className.indexOf("-focus"))return x._updateCellsSelection(),x._ensureVisible(x.focusedCell),!1}if(x.selectedAppointment)return 37==e?o("left"):38==e?o("up"):40==e?o("down"):39==e&&o("right"),!(37<=e&&e<=40)&&void 0;var u=this._lastSelectedCell;if(u){Ie(this._lastSelectedCell).parent()[0]||(this._lastSelectedCell=this.rows[0].cells[0],u=this._lastSelectedCell);this.rows;var p=this._views[this._view].type,l=this._views[this._view],m="halfHour";l.timeRuler&&l.timeRuler.scale&&(m=l.timeRuler.scale);function d(e,t){switch(m){case"sixtyMinutes":case"hour":0;break;case"thirtyMinutes":case"halfHour":0;break;case"fifteenMinutes":case"quarterHour":0;break;case"tenMinutes":0;break;case"fiveMinutes":0}function i(e,t,i){if(e&&(null==e.getAttribute("rowspan")||"agendaView"==p)&&null==e.getAttribute("data-time-slot")){if(i<x.min||i>x.max)return;var o=x.rows,n=x._lastSelectedCell;if(x._lastSelectedCell=e,c.shiftKey&&x._lastSelectedCell?x.shiftSelectedCell||(x.shiftSelectedCell=u):c.shiftKey||(x.shiftSelectedCell=null),x.shiftSelectedCell)(!e.getAttribute("data-end-date")||!x.shiftSelectedCell.getAttribute("data-end-date"))&&(e.getAttribute("data-end-date")||x.shiftSelectedCell.getAttribute("data-end-date"))?(x.focusedCell=n,x._lastSelectedCell=n):(x.focusedCell=e,x._selectRange(e,x.shiftSelectedCell));else{for(var r=0;r<o.length;r++){var s=o[r];if(!s.element.getAttribute("data-group-row"))for(var a=0;a<s.cells.length;a++){s.cells[a].removeAttribute("data-selected","false")}}e.setAttribute("data-selected","true"),x.focusedCell=e}x._ensureVisible(x.focusedCell)}}var o=e.getAttribute("data-date");new Ie.jqx.date(o,x.timeZone),e.getAttribute("data-view");switch(t){case"left":0<(n=(h=x.rowByCell[e.getAttribute("data-key")]).indexOf(e))&&(s=h.cells[n-1],l=new Ie.jqx.date(s.getAttribute("data-date"),x.timeZone)),i(s,0,l);break;case"right":(n=(h=x.rowByCell[e.getAttribute("data-key")]).indexOf(e))<h.cells.length-1&&(s=h.cells[n+1],l=new Ie.jqx.date(s.getAttribute("data-date"),x.timeZone)),i(s,0,l);break;case"up":var n=(h=x.rowByCell[e.getAttribute("data-key")]).indexOf(e),r=h.aboveRow;if(r){var s=r.cells[n];if(0==n&&s.getAttribute("rowspan"))for(var a=-1+x.rows.indexOf(h),s=e;0<=a;){if(x.rows[a].cells[0]!=s){s=x.rows[a].cells[0];break}a--}var l=new Ie.jqx.date(s.getAttribute("data-date"),x.timeZone);i(s,0,l)}break;case"down":var n=(h=x.rowByCell[e.getAttribute("data-key")]).indexOf(e),d=h.belowRow;if(d){s=d.cells[n];if(0==n&&s.getAttribute("rowspan"))for(a=1+x.rows.indexOf(h),s=e;a<x.rows.length;){if(x.rows[a].cells[0]!=s){s=x.rows[a].cells[0];break}a++}l=new Ie.jqx.date(s.getAttribute("data-date"),x.timeZone);i(s,0,l)}break;case"home":n=(h=x.rowByCell[e.getAttribute("data-key")]).indexOf(e),s=x.rows[0].cells[n],l=new Ie.jqx.date(s.getAttribute("data-date"),x.timeZone);i(s,0,l);break;case"end":var h,n=(h=x.rowByCell[e.getAttribute("data-key")]).indexOf(e),s=x.rows[x.rows.length-1].cells[n],l=new Ie.jqx.date(s.getAttribute("data-date"),x.timeZone);i(s,0,l)}x._updateCellsSelection()}return 36==e||y&&38==e?(d(u,"home"),!1):35==e||y&&40==e?(d(u,"end"),!1):37==e?(x.selectedAppointment?o(u):d(u,"left"),!1):38==e?(x.selectedAppointment?o(u):d(u,"up"),!1):40==e?(x.selectedAppointment?o(u):d(u,"down"),!1):39==e?(x.selectedAppointment?o(u):d(u,"right"),!1):void 0}},getSelectedCells:function(){for(var i=this,e=i.rows,t=e.length,o=new Array,n=0;n<t;n++)for(var r=e[n].cells,s=0;s<r.length;s++)r[s].getAttribute("data-selected")&&o.push(r[s]);return o.sort(function(e,t){return i._sortByDate(e,t)})},getSelection:function(){var e=this,t=e.getSelectedCells();if(0==t.length)return null;var i=t[0].getAttribute("data-date"),o=t[t.length-1].getAttribute("data-date"),n=e.getMinutesPerScale();0<=(r=e._views[e._view].type).toLowerCase().indexOf("month")&&(n=0),t[0].getAttribute("data-end-date")&&(n=0),o=new Ie.jqx.date(o,e.timeZone).addMinutes(n);var r=parseInt(t[0].getAttribute("data-view"))-1,s=e._resources[r];return 0<=e._views[e._view].type.toLowerCase().indexOf("month")?{from:new Ie.jqx.date(i,e.timeZone),to:Ie.jqx.scheduler.utilities.getEndOfDay(o),resourceId:s}:0<=e._views[e._view].type.toLowerCase().indexOf("day")||0<=e._views[e._view].type.toLowerCase().indexOf("week")?(i=new Ie.jqx.date(i,e.timeZone),0===o.minute()&&0===o.hour()&&0===i.hour()&&0===i.minute()?o.day()===i.day()?{from:new Ie.jqx.date(i,e.timeZone),to:Ie.jqx.scheduler.utilities.getEndOfDay(o),resourceId:s}:{from:new Ie.jqx.date(i,e.timeZone),to:Ie.jqx.scheduler.utilities.getEndOfDay(o).addDays(-1),resourceId:s}:{from:new Ie.jqx.date(i,e.timeZone),to:o,resourceId:s}):0<=e._views[e._view].type.toLowerCase().indexOf("agenda")?{from:new Ie.jqx.date(i,e.timeZone),to:Ie.jqx.scheduler.utilities.getEndOfDay(o),resourceId:s}:void 0},clearSelection:function(){for(var e=this.rows,t=e.length,i=0;i<t;i++)for(var o=e[i].cells,n=0;n<o.length;n++)o[n].removeAttribute("data-selected");this._updateCellsSelection()},_getvirtualcolumnsindexes:function(e,t,i,o,n){this.rtl&&(e=this.hScrollInstance.max-e);var r=0,s=-1,a=i+o;if(this.autorowheight)return{start:0,end:i+o};if(!n)for(var l=0;l<i+o;l++){if(this.columns.records[l].hidden||(r+=this.columns.records[l].width),e<=r&&-1==s&&(s=l),t+e<r){a=l;break}}return i+o<++a&&(a=i+o),-1==s&&(s=0),{start:s,end:a}},_renderhorizontalscroll:function(){var e=this,t=e.hScrollInstance,i=t.value;"hidden"===e.hScrollBar[0].style.visibility&&(i=t.value=0);var o=parseInt(i);if(null!=e.table){function n(e){return!(!e.parentNode||"#document-fragment"==e.parentNode.nodeName)}for(var r=e._getvirtualcolumnsindexes(o,e._hostWidth,0,e.columns.records.length,!1),s=r.start,a=r.end,l=(e.rows,0);l<s;l++){var d=l;n(h=e.columns.records[d].element[0])&&h.parentNode.removeChild(h)}for(l=a;l<e.columns.records.length;l++){var h,d=l;n(h=e.columns.records[d].element[0])&&h.parentNode.removeChild(h)}for(l=s;l<a;l++){d=l;n(h=e.columns.records[d].element[0])||e.columnsrow[0].appendChild(h)}var c=e.columnsrow;e.columns.records.length,e.columns.records,e.source.records.length;if(e.rtl&&"hidden"!=e.hScrollBar.css("visibility")&&(o=t.max-o),e.table[0].style.left=-o+"px","block"==e.pinnedtable[0].style.display&&(e.pinnedtable[0].style.left=-o+"px"),0<e._resources.length&&0<e.tableRows)for(var u=0;u<this.table[0].rows.length;u++){var p=this.table[0].rows[u];p.getAttribute("data-group-row")&&Ie(p).find("span").css("left",5+o)}c[0].style.marginLeft=-o+"px"}},_getDayName:function(e,t){7<=e&&(e-=7),t||(t=this.dayNameFormat,this.isTouchDevice()&&(t=this.touchDayNameFormat));var i=this.schedulerLocalization.days.names[e];switch(t){case"full":i=this.schedulerLocalization.days.names[e];break;case"abbr":i=this.schedulerLocalization.days.namesAbbr[e];break;case"shortest":i=this.schedulerLocalization.days.namesShort[e];break;case"firstTwoLetters":i=i.substring(0,2);break;case"firstLetter":i=i.substring(0,1)}return i},_initializeColumns:function(){if(0===this._views.length&&this._views.push({type:"dayView"}),!this._views[this._view])throw new Error("jqxScheduler: View is undefined. You need to define the View in the Views Array when you create jqxScheduler");var i=this._views[this._view].type,m=this._views[this._view];if(m.timeSlotWidth&&(m.timeSlotWidth=Math.max(m.timeSlotWidth,30),m.columnWidth=m.timeSlotWidth),m.columnWidth&&m.columnWidth<30&&(m.columnWidth=30),this.columns&&this.columns.records)for(var o=0;o<this.columns.records.length;o++)this._removecolumnhandlers(this.columns.records[o]);this.columns=new Array;function e(e,t){var i="halfHour";m.timeRuler&&m.timeRuler.scale&&(i=m.timeRuler.scale);var o=24,n=0,r=23;m.timeRuler&&(null!=m.timeRuler.scaleStartHour&&(n=parseInt(m.timeRuler.scaleStartHour)),null!=m.timeRuler.scaleEndHour&&(r=parseInt(m.timeRuler.scaleEndHour)),n<0&&(n=0),r<0&&(r=23),23<n&&(n=0),23<r&&(r=23),o=r-n+1);var s=2;if(i)switch(i){case"sixtyMinutes":case"hour":s=1;break;case"thirtyMinutes":case"halfHour":s=2;break;case"fifteenMinutes":case"quarterHour":s=4;break;case"tenMinutes":s=6;break;case"fiveMinutes":s=12}new Array;var a="auto";m.timeRuler&&m.timeRuler.formatString&&(a=m.timeRuler.formatString);for(var l=o,d=e.addHours(n),h="auto",h=m.columnWidth?s*m.columnWidth:80*s,c=0;c<l;c++){var u,p=d.toDate();u="auto"===a?0==p.getHours()&&0==p.getMinutes()||12==p.getHours()&&0==p.getMinutes()?"hh tt":"hh:mm":Ie.isFunction(a)?a(p):a,Ie.jqx.dataFormat.isDate(p)&&(p=Ie.jqx.dataFormat.formatdate(p,u,f.schedulerLocalization)),d=d.addMinutes(60,!1),f.columns.push({columnGroup:t,text:p,minwidth:30,width:h})}}for(var t=new Array,f=this,n=0;n<this.tableColumns;n++){1<this.tableColumns&&(l=f._resources[n]?f._resources[n]:"Resource"+n,t.push({text:l,name:l}));var r="left";switch(this.rtl&&(r="right"),i){case"dayView":var s=this.getViewStart();!1===m.showWeekends&&(0!==s.dayOfWeek()&&6!==s.dayOfWeek()||(s=s.addDays(1)),0!==s.dayOfWeek()&&6!==s.dayOfWeek()||(s=s.addDays(1)));var a="auto";m&&m.columnWidth&&(a=m.columnWidth);var l=f._resources[n]?f._resources[n]:"Resource"+n;this.columns.push({align:r,width:a,columnGroup:l,text:this._getDayName(s.dayOfWeek())});break;case"weekView":case"monthView":for(o=0;o<7;o++){6<(d=this.schedulerLocalization.firstDay+o)&&(d=0),(!1!==m.showWeekends||0!==d&&6!==d)&&(a="auto",m&&m.columnWidth&&(a=m.columnWidth),l=f._resources[n]?f._resources[n]:"Resource"+n,this.columns.push({align:"weekView"==i?r:"center",width:a,columnGroup:l,text:this._getDayName(d)}))}break;case"timelineDayView":l=f._resources[n]?f._resources[n]:"Resource"+n;e(f.getViewStart(),l);break;case"timelineWeekView":for(o=0;o<7;o++){var d=this.schedulerLocalization.firstDay+o;(!1!==m.showWeekends||0!==o&&6!==o)&&(l=f._resources[n]?f._resources[n]:"Resource"+n,t.push({align:f.rtl?"right":"left",parentGroup:l,name:this._getDayName(d)+n,text:this._getDayName(d)}),e(f.getViewStart().addDays(o),this._getDayName(d)+n))}break;case"timelineMonthView":var h=f.getViewStart(),c="auto";m.timeRuler&&m.timeRuler.formatString&&(c=m.timeRuler.formatString);for(o=0;o<41;o++){var u,p,d=h.dayOfWeek();(!1!==m.showWeekends||0!==d&&6!==d)&&(a="auto",a=m.columnWidth?m.columnWidth:100,u=h.toDate(),"auto"===c?(p="dd",1===(u=h.toDate()).getDate()&&(p="MMM dd")):p=Ie.isFunction(c)?c(u):c,Ie.jqx.dataFormat.isDate(u)&&(u=Ie.jqx.dataFormat.formatdate(u,p,f.schedulerLocalization)),h=h.addDays(1),l=f._resources[n]?f._resources[n]:"Resource"+n,f.columns.push({minwidth:30,columnGroup:l,text:u,width:a}))}break;case"agendaView":var g=m.dateColumnWidth,w=m.timeColumnWidth,v=(v=m.appointmentColumnWidth)||"70%",w=w||"auto",g=g||"auto";f.columns.push({text:f.schedulerLocalization.agendaDateColumn,width:g}),f.columns.push({text:f.schedulerLocalization.agendaTimeColumn,width:w}),f.columns.push({text:f.schedulerLocalization.agendaAppointmentColumn,width:v})}}0<t.length&&(this.columnGroups=t);var f=this,y=new Ie.jqx.schedulerDataCollection(this.element),x=0;this._columns=this.columns;var b="left",A=new Ie.jqx.scheduler.column(f,this);A.visibleindex=x++,A.text="",A.width=f.timeRulerWidth,A.editable=!1,A.timeColumn=!0,b="left",A.text="",A.hidden=!1,A.width=f.timeRulerWidth;!m.timeRuler||"dayView"!==i&&"weekView"!==i?"dayView"!==i&&"weekView"!==i&&(A.hidden=!0):(A._text=m.timeRuler.text||"",b=m.timeRuler.position||"left",A.hidden=m.timeRuler.hidden||!1,A.width=m.timeRuler.width||f.timeRulerWidth,m.timeRuler.timeZones);function T(e){var t=new Ie.jqx.scheduler.column(f,f);t.visibleindex=x++,t.text="",t.width=f.timeRulerWidth,t.editable=!1,t.timeColumn=!0,b="left",t.text="",t.hidden=!1,t.timeZone=m.timeRuler.timeZones[e].id,t.width=f.timeRulerWidth,!m.timeRuler||"dayView"!==i&&"weekView"!==i||(t._text=m.timeRuler.timeZones[o].text||"",t.hidden=m.timeRuler.hidden||!1,t.width=m.timeRuler.width||f.timeRulerWidth,y.add(t))}if("left"===b&&("dayView"===i||"weekView"===i)){if(m.timeRuler&&m.timeRuler.timeZones)for(o=0;o<m.timeRuler.timeZones.length;o++)T(o);y.add(A)}"left"===b&&"monthView"===i&&m.showWeekNumbers&&(A.hidden=!1,y.add(A));new Array;if(Ie.each(this.columns,function(e){var t;null!=f.columns[e]&&((t=new Ie.jqx.scheduler.column(f,this)).visibleindex=x++,y.add(t))}),"right"===b&&("dayView"===i||"weekView"===i)){if(m.timeRuler)for(o=0;o<m.timeRuler.timeZones.length;o++)T(o);y.add(A)}"right"===b&&"monthView"===i&&m.showWeekNumbers&&(A.hidden=!1,y.add(A)),this.rtl&&y.records.reverse(),this.columns=y},_getColumnsLengthPerView:function(){var e=this._views[this._view].type,t=this._views[this._view],i=1;switch(e){case"dayView":i=1;break;case"weekView":case"monthView":i=!1!==t.showWeekends?7:5;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":case"agendaView":i=this.columns.records.length}return i},_renderagenda:function(){var r=this,e=(r._views[r._view].type,r._views[r._view]),t=r.getViewStart(),i=Ie.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd().addDays(-1));r._prepareAppointmentsInView(t,i);for(var o=r.appointmentsToRender.length,n=new Array,s=0;s<r.appointmentsToRender.length;s++)for(var a=r.appointmentsToRender[s],l=a.from.clearTime();l<Ie.jqx.scheduler.utilities.getEndOfDay(a.to);){var d=l.toString();n[d]?n[d].appointments.push(a):(n[d]={date:l,appointments:new Array},n[d].appointments.push(a),n[n.length]=n[d]),l=l.addDays(1).clearTime()}var h=0,c=0;r.rows=new Array;for(var u,p=Ie.jqx.browser.msie&&Ie.jqx.browser.version<8,m=0,f=r.rtl?" "+r.toTP("jqx-grid-table-rtl"):"",g=0,w="<table cellspacing='0' cellpadding='0' class='"+r.toTP("jqx-grid-table")+f+"' id='table"+r.element.id+"'><colgroup>",v=r.columns.records.length,y=0;y<v;y++){var x,b=r.columns.records[y];b.hidden?m++:((q=b.width)<b.minwidth&&(q=b.minwidth),q>b.maxwidth&&(q=b.maxwidth),(q-=0)<0&&(q=0),p?(x=q,y==m&&x++,w+="<col style='max-width: "+x+"px; width: "+x+"px;'>"):w+="<col style='max-width: "+q+"px; width: "+q+"px;'>",g+=q)}w+="</colgroup>",0==o&&(D='<tr role="row">',z=this.host.height(),u=0,r.columnGroups?u+=r.showHeader?r.columnsheader.height():0:u+=r.showHeader?r.columnsHeight:0,r.showToolbar&&(u+=r.toolbarHeight),r.showLegend&&0<r._resources.length&&(u+=r.legendHeight),z-=u,H='<td data-date="'+t.toString()+'" colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+z+"px; height: "+z+"px; max-width:"+g+"px; width:"+g+"px;",B=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item"),H+='" class="'+(B+=" "+this.toTP("jqx-center-align"))+'">',H+=this.schedulerLocalization.emptyDataString,D+=H+="</td>",w+=D+="</tr>",this.table[0].style.width=g+2+"px",c=g);var A=r.rowsHeight;r.isTouchDevice()&&(A=r.touchRowsHeight);for(s=0;s<n.length;s++)for(var T=s,l=n[s],_=0;_<l.appointments.length;_++){for(var S=0,D='<tr data-key="'+T+'" role="row">',h=0,j=l.appointments[_],y=0;y<v;y++){var q,C=r.columns.records[y],k=y;r.rtl&&(k=v-1-y),(q=C.width)<C.minwidth&&(q=C.minwidth),q>C.maxwidth&&(q=C.maxwidth),(q-=0)<0&&(q=0);var B=r.toTP("jqx-cell")+" "+r.toTP("jqx-grid-cell")+" "+r.toTP("jqx-item");r.rtl&&(B+=" "+r.toTP("jqx-cell-rtl"));var T=r.dataview.generatekey(),R=l.date,z=A+"px",H='<td data-key="'+T+'" data-view="'+-1+'" data-date="'+R.toString()+'" role="gridcell"  style="max-width:'+q+"px; width:"+q+"px; height: "+z+"; min-height: "+A+"px;";if(0==k&&0==_){H='<td rowspan="'+l.appointments.length+'" data-key="'+T+'" data-view="'+-1+'" data-date="'+R.toString()+'" role="gridcell"  style="max-width:'+q+"px; width:"+q+"px;  min-height: "+A+"px;";B+=" "+r.toTP("jqx-center-align")}else if(0==k){h++;continue}r.rtl&&1==k&&(B+=" "+r.toTP("jqx-right-align")),C.hidden?(H+="display: none;",r._hiddencolumns=!0):(S+=0+q,0!=h||r.rtl?H+="border-left-width: 1px;":H+="border-left-width: 0px;",h++),H+='" class="'+B+'">';var P,M,V,F,I,E,O,W,N,L,Z,U,X,G,J,K,Q="";0==k&&0==_&&(P=R.toString("dddd",r.schedulerLocalization),M=R.toString("MMMM, yyyy",r.schedulerLocalization),K=r.toTP("jqx-scheduler-agenda-date"),V=r.toTP("jqx-scheduler-agenda-day"),F=r.toTP("jqx-scheduler-agenda-week"),Q='<div class="'+K+'"><strong class="'+V+'">'+R.day()+'</strong><br/><em class="'+F+'">'+P+'</em><br/><span class="'+K+'">'+M+"</span></div>"),1==k?(I="auto",e=this._views[this._view],E=j.from,O=j.to,e.timeRuler&&e.timeRuler.formatString&&(I=e.timeRuler.formatString),"auto"===(N=W=I)&&(W=0==E.hour()&&0==E.minute()||12==E.hour()&&0==E.minute()?"hh tt":"hh:mm",N=0==O.hour()&&0==O.minute()||12==O.hour()&&0==O.minute()?"hh tt":"hh:mm"),K=r.toTP("jqx-scheduler-agenda-time"),Q=j.allDay?"<span class='"+K+"'>"+r.schedulerLocalization.agendaAllDayString+"</span>":r.rtl?"<span class='"+K+"'>"+O.toString(N,r.schedulerLocalization)+" - "+E.toString(W,r.schedulerLocalization)+"</span>":"<span class='"+K+"'>"+E.toString(W,r.schedulerLocalization)+" - "+O.toString(N,r.schedulerLocalization)+"</span>"):2==k&&(j.resourceId&&Ie.each(r._resources,function(e,t){var i,o,n;j.resourceId==t&&(i=r.getColors(e),this.toString(),o=r.toTP("jqx-scheduler-agenda-appointment-resource jqx-scheduler-legend"),r.rtl&&(o=r.toTP("jqx-scheduler-agenda-appointment-resource-rtl jqx-scheduler-legend")),n="<div data-key='"+j.id+"' class='"+o+"' style='margin-right: 5px; border-color: "+i.border+"; background: "+i.background+";' class='"+r.toThemeProperty("jqx-scheduler-legend")+"'></div>",Q=n)}),L=j.subject?j.subject:"(No Title)",Z=j.location,U=j.description,X=j.status?r.schedulerLocalization.editDialogStatuses[j.status]:"",G=j.isRecurrentAppointment(),j.isException(),J=r.schedulerLocalization.editDialogSubjectString+": "+L,Z&&(J+="\n"+r.schedulerLocalization.editDialogLocationString+": "+Z),U&&(J+="\n"+r.schedulerLocalization.editDialogDescriptionString+": "+U),X&&(J+="\n"+r.schedulerLocalization.editDialogStatusString+": "+X),G&&(J+="\n"+r.schedulerLocalization.editDialogRepeatString+": "+G),K=r.toTP("jqx-scheduler-agenda-appointment jqx-scheduler-legend-label"),r.rtl&&(K=r.toTP("jqx-scheduler-agenda-appointment-rtl jqx-scheduler-legend-label")),Q+="<span data-key='"+j.id+"' title='"+J+"' class='"+K+"'>"+L+"</span>"),H+=Q,D+=H+="</td>"}0==c&&(r.table[0].style.width=S+2+"px",r.pinnedtable[0].style.width=S+2+"px",c=S),w+=D+="</tr>"}w+="</table>",r.table[0].innerHTML=w,r.pinnedtable[0].innerHTML=w,r.pinnedtable[0].style.display="none";var Y=Ie(r.table[0].firstChild),$=Ie(r.pinnedtable[0].firstChild);function ee(){var i={};return i.cells=new Array,i.indexOf=function(e){for(var t=0;t<i.cells.length;t++)if(i.cells[t].getAttribute("data-key")==e.getAttribute("data-key"))return t;return-1},i}r._table=Y,r._pinnedtable=$,Ie.jqx.browser.msie&&Ie.jqx.browser.version<10&&(r._table[0].style.width=c+"px",r._pinnedtable[0].style.width=c+"px"),0===o&&(r._table[0].style.width=2+c+"px",r._pinnedtable[0].style.width=2+c+"px",r._pinnedtable[0].style.display="none"),r._pinnedtable[0].style.display="none",r._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),r.table[0].rows=r.table[0].firstChild.rows,r.rowByCell=new Array,r.columnCells=new Array,r.cellWidth=0,r.cellHeight=0;for(var te=r.table[0].rows.length,s=0;s<te;s++){var ie=r.table[0].rows[s];if(!ie.getAttribute("data-group-row")){var oe=new ee;oe.aboveRow=null,oe.belowRow=null,0<r.rows.length&&(oe.aboveRow=r.rows[r.rows.length-1],r.rows[r.rows.length-1].belowRow=oe),oe.element=ie,r.rows.push(oe);for(var ne=!1,y=0;y<ie.cells.length;y++){if(ie.cells.length<r.columns.records.length&&!ne)for(var re=s;0<=re;){var se=r.table[0].rows[re];if(r.table[0].rows[re].cells.length==r.columns.records.length){var ae=se.cells[0];r.columnCells[oe.cells.length]||(r.columnCells[oe.cells.length]=new Array),r.columnCells[oe.cells.length].push(ae),0==r.cellWidth&&(r.cellWidth=ae.clientWidth),0==r.cellHeight&&(1==te||1<s)&&(r.cellHeight=ae.clientHeight),oe.cells.push(ae),ne=!0;break}re--}"none"!==(ae=ie.cells[y]).style.display&&(0<=ae.className.indexOf("jqx-grid-cell-pinned")||(r.columnCells[oe.cells.length]||(r.columnCells[oe.cells.length]=new Array),r.columnCells[oe.cells.length].push(ae),0==r.cellWidth&&(r.cellWidth=ae.clientWidth),0==r.cellHeight&&(1==te||1<s)&&(r.cellHeight=ae.clientHeight),oe.cells.push(ae),r.rowByCell[ae.getAttribute("data-key")]=oe))}}}0===o&&(r._table[0].style.tableLayout="auto"),r._updateScrollbars(r.host.height()),r._arrange(),r.rendered&&r.rendered(),r.renderedTime=new Date},_renderrows:function(){if(!(i=this)._loading&&!i._updating&&!i._appupdating){i.rendering&&i.rendering();var i,e=(i=this)._views[i._view].type,t=i._views[i._view];if("agendaView"!=e){var o=1,n=i.getViewStart(),r=Ie.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd());i._prepareAppointmentsInView(n,r);var s=new Array;"weekView"===e||"dayView"===e?o=i.getMaxAllDayAppointments(i.appointmentsToRender):"monthView"===e&&t.monthRowAutoHeight&&i.rows&&6==i.rows.length&&(s=i._getMonthAppointmentsPerWeek());1<i.tableRows&&i.tableRows;var a,l="halfHour",d=null;t.rowHeight&&(d=t.rowHeight),t&&t.allDayRowHeight&&(a=t.allDayRowHeight),t.timeRuler&&t.timeRuler.scale&&(l=t.timeRuler.scale);var h=0;i.table[0].rows=new Array,i.rows=new Array;var c=i.toTP("jqx-cell")+" "+i.toTP("jqx-widget-content");i.rtl&&(c+=" "+i.toTP("jqx-cell-rtl"));var u=i.columns.records.length,p=i._getColumnsLengthPerView(),m=Ie.jqx.browser.msie&&Ie.jqx.browser.version<8;m&&i.host.attr("hideFocus","true"),i._lastSelectedCell=null,i.focusedCell=null;new Array;var f=i.source.records,f=i.dataview.evaluate(f);i.dataViewRecords=f,i.cells=new Array;i.dataViewRecords;i.renderedRecords=i.getRows();i.tableZIndex;var g=i.getRows().length,w=0,v=0;if(m)for(var y=0;y<u;y++){(me=(C=i.columns.records[y]).width)<C.minwidth&&(me=C.minwidth),me>C.maxwidth&&(me=C.maxwidth);var x=Ie('<table><tr><td role="gridcell" style="max-width: '+me+"px; width:"+me+'px;" class="'+c+'"></td></tr></table>');Ie(document.body).append(x);var b=x.find("td"),w=1+parseInt(b.css("padding-left"))+parseInt(b.css("padding-right"));x.remove();break}var A=i.rtl?" "+i.toTP("jqx-grid-table-rtl"):"",T="<table cellspacing='0' cellpadding='0' class='"+i.toTP("jqx-grid-table")+A+"' id='table"+i.element.id+"'><colgroup>",_=0,S=2,D=30;switch(l){case"sixtyMinutes":case"hour":D=60,S=1;break;case"thirtyMinutes":case"halfHour":D=30,S=2;break;case"fifteenMinutes":case"quarterHour":D=15,S=4;break;case"tenMinutes":D=10,S=6;break;case"fiveMinutes":D=5,S=12}var j=1;"timelineDayView"===e||"timelineWeekView"===e?p=(u*=j=S)/i.tableColumns:"timelineMonthView"===e?p=u/i.tableColumns:"monthView"===e&&(p=t.showWeekNumbers?(u-i.tableColumns)/i.tableColumns:u/i.tableColumns);function q(e){var t=i.columns.records[e];if(t)return t;for(;e>=i.columns.records.length;)e-=i.columns.records.length;return t=i.columns.records[e]}for(var C,y=0;y<u;y++){(C=q(y)).hidden?(_++,0):((me=C.width/j)<C.minwidth&&(me=C.minwidth/j),me>C.maxwidth&&(me=C.maxwidth/j),(me-=w)<0&&(me=0),"monthView"==e&&i.rtl&&C.timeColumn&&me++,m?(K=me,y==_&&K++,T+="<col style='max-width: "+K+"px; width: "+K+"px;'>"):T+="<col style='max-width: "+me+"px; width: "+me+"px;'>",v+=me)}T+="</colgroup>",i._hiddencolumns=!1,0===g&&(J='<tr role="row">',B=i.host.height(),i.pageable&&(B-=i.pagerHeight,"both"===i.pagerPosition&&(B-=i.pagerHeight)),B-=i.columnsHeight,i.showLegend&&0<i._resources.length&&(B-=i.legendHeight),B<25&&(B=25),"hidden"!=i.hScrollBar[0].style.visibility&&(B-=i.hScrollBar.outerHeight()),"auto"!==i.height&&null!==i.height&&!i.autoheight||(B=300),x='<td colspan="'+i.columns.records.length+'" role="gridcell" style="border: none; min-height: '+B+"px; height: "+B+"px; max-width:"+v+"px; width:"+v+"px;",c=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item"),i.rtl&&(c+=" "+i.toTP("jqx-cell-rtl")),x+='" class="'+(c+=" "+i.toTP("jqx-center-align"))+'">',x+=i.schedulerLocalization.emptyDataString,T+=J+=x+="</td>",i.table[0].style.width=v+2+"px",h=v);var k=i.getRows(),n=i.getViewStart(),B=i._hostHeight?i._hostHeight:i.host.height(),R=0;i.columnGroups?R+=i.showHeader?i.columnsheader.height():0:R+=i.showHeader?i.columnsHeight:0,i.showToolbar&&(R+=i.toolbarHeight),i.showLegend&&0<i._resources.length&&(R+=i.legendHeight);var z=i.showAllDayRow,H=23;t.resourceHeaderRowHeight&&(H=t.resourcesRowHeight),H+=2,null!=t.showAllDayRow&&(z=t.showAllDayRow);var P,M,V=i._columnswidth>i._hostWidth?3+i.scrollBarSize:0,F=1<i.tableRows?i.resources.unitsInView:1;null==F&&(F=i._resources.length),i.resources&&i.resources.resourceRowHeight&&(d=i.resources.resourceRowHeight),null!=d&&"auto"!=d||(M=3*(P=i.rowsHeight),i.isTouchDevice()&&(M=22+(P=i.touchRowsHeight)),1==i.tableRows?(d=0<B?B-R:P,10<i.columns.records.length&&(d=0<B?B-i.scrollBarSize-5-R:P)):(d=0<B?(B-R-H)/g:P,10<i.columns.records.length&&(d=0<B?(B-i.scrollBarSize-5-R-F*H)/(F*g):P)),"dayView"===e||"weekView"===e?z&&(null==a||"auto"==a?a=d=0<B?(B-R)/(i.tableRows*g):M:d=0<B?(B-R-a-F*H)/(F*(g-1)):P):"monthView"===e&&("hidden"==i.hScrollBar[0].style.visibility&&(V=0),d=1==i.tableRows?0<B?(B-R-V)/g:P:0<B?(B-R-H-V)/g:P),d=Math.max(P,d),a=a||M,a=Math.max(M,a),i._allDayRowHeight=a,a=o*((i._defaultRowHeight=P)-2),a=Math.max(M,17+a),i._allDayRowFullHeight=a,t.allDayRowHeight&&(i._allDayRowHeight=t.allDayRowHeight,a=o*(t.allDayRowHeight-2),i._allDayRowFullHeight=a));var I=new Array;if(i.resources&&i.resources.colorScheme){for(var E=0;E<i.colorSchemes.length;E++)if(i.colorSchemes[E].name==i.resources.colorScheme){I=i.colorSchemes[E].colors;break}for(;i._resources.length>I.length-1;){var O=parseInt(i.resources.colorScheme.substring(6));27<=O&&(O=0),I=I.concat(i.colorSchemes[O].colors),O++}}for(var W,N=0;N<i.tableRows;N++){var L=0,Z=23;t.timeRuler&&null!=t.timeRuler.scaleStartHour&&(L=parseInt(t.timeRuler.scaleStartHour)),t.timeRuler&&null!=t.timeRuler.scaleEndHour&&(Z=parseInt(t.timeRuler.scaleEndHour));var U=n;!1===t.showWeekends&&(0!=U.dayOfWeek()&&6!=U.dayOfWeek()||(U=U.addDays(1)));var X=new Array,G="monthView"!=e&&"timelineDayView"!=e&&"timelineWeekView"!=e&&"timelineMonthView"!=e&&z?1:0;if(1<i.tableRows){var J='<tr data-group-row="true" role="row">',c=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(i.rtl&&(c+=" "+i.toTP("jqx-cell-rtl")),m)c+=" "+i.toTP("jqx-grid-cell-pinned");else{c+=" "+i.toTP("jqx-grid-cell-pinned"),ge+=' colspan="'+u+'"';for(var K=0,Q=0;Q<u;Q++){var Y=q(Q),$=Y.width/j;$<Y.minwidth&&(me=Y.minwidth/j),$>Y.maxwidth&&(me=Y.maxwidth/j),($-=w)<0&&($=0),Y.hidden||(K+=$)}me=K}var ee,x='<td style="height:'+H+"px;";y!=u-1||1!=u||i.rtl||(x+="border-right-color: transparent;"),0<i._resources.length&&i.resources.colorScheme&&"none"!=i.resources.orientation&&(ee=ye=ve="",ve=I[N],ve=i.hexToRgba(I[N],.7).toString(),ee=255-(.299*(W=i.hexToRgba(I[N],.7)).r+.587*W.g+.114*W.b)<105?"Black":"White",x+="background: "+ve+";",x+="border-color: "+(ye=I[N])+";",x+="color: "+ee+";"),x+='" class="'+c+'" role="gridcell" '+ge,x+="><span style='position: relative;'>"+i._resources[N]+"</span>",T+=J+=x+="</td>"}for(var te=0;te<g;te++){var ie={},oe="jqx"+i.element.id+"_"+te,J='<tr data-key="'+(ie.uid=oe)+'" role="row">',ne=0,re=0;if(X[0]&&G<te){D=30;if("monthView"!=e){switch(l){case"sixtyMinutes":case"hour":D=60;break;case"thirtyMinutes":case"halfHour":D=30;break;case"fifteenMinutes":case"quarterHour":D=15;break;case"tenMinutes":D=10;break;case"fiveMinutes":D=5}for(var se=0;se<u;se++)X[se]=X[se].addMinutes(D,!1)}else for(se=0;se<u;se++)X[se]=X[se].addDays(7,!1)}var ae=0,le=1,de=0,de=t.showWeekends||null==t.showWeekends?i.columns.records.length/(7*i.tableColumns):i.columns.records.length/(5*i.tableColumns);de*=S;var he=0;i.rtl&&(he=1);for(var ce=0,y=0;y<u;y++){var ue,pe=q(y);p<=ae&&(he=ce=ae=0,i.rtl&&(he=1),le++),X[y]||(i.rtl?0<=e.toString().indexOf("timelineDayView")?(ue=1+y,X[y]=U.addHours(1+Z).addMinutes(-ue*D,!1)):0<=e.toString().indexOf("timelineWeekView")?t.showWeekends||null==t.showWeekends?X[y]=U.addDays(6-ce).addHours(1+Z,!1).addMinutes(-he*D,!1):X[y]=U.addDays(4-ce).addHours(1+Z,!1).addMinutes(-he*D,!1):"dayView"==e||"monthView"==e||"weekView"==e?t.showWeekends||null==t.showWeekends?X[y]=U.addDays(6-ae).addHours(L,!1):X[y]=U.addDays(4-ae).addHours(L,!1):X[y]=U.addDays(p-ae-1).addHours(L,!1):0<=e.toString().indexOf("timelineDayView")?X[ue=y]=U.addHours(L).addMinutes(ue*D,!1):0<=e.toString().indexOf("timelineWeekView")?X[y]=U.addDays(ce).addHours(L,!1).addMinutes(he*D,!1):X[y]=U.addDays(ae).addHours(L,!1),i.timeZone&&(X[y].timeZone=i.timeZone)),de<=++he&&(he=0,ce++),(!(pe.timeColumn||"dayView"!==e&&"weekView"!==e)||!pe.timeColumn&&"monthView"===e&&t.showWeekNumbers||"monthView"===e&&!t.showWeekNumbers||"timelineMonthView"===e||"timelineDayView"==e||"timelineWeekView"==e)&&ae++;var me,fe=X[y];(me=pe.width/j)<pe.minwidth&&(me=pe.minwidth/j),me>pe.maxwidth&&(me=pe.maxwidth/j),(me-=w)<0&&(me=0);c=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");pe.pinned&&(c+=" "+i.toTP("jqx-grid-cell-pinned")),i.sortcolumn===pe.displayfield&&(c+=" "+i.toTP("jqx-grid-cell-sort")),i.altRows&&te%2!=0&&(c+=" "+i.toTP("jqx-grid-cell-alt")),0!=te||!z||"dayView"!==e&&"weekView"!==e||(c+=" "+i.toTP("jqx-grid-cell-alt")),(fe>i.max||fe<i.min)&&(c+=" "+i.toTP("jqx-scheduler-disabled-cell")),i.rtl&&(c+=" "+i.toTP("jqx-cell-rtl"));var ge="",oe=i.dataview.generatekey(),we=N+le;i.resources&&"none"==i.resources.orientation&&(we=-1),0==i._resources.length&&(we=-1);var ve,ye,xe,be,Ae,Te,_e,x='<td data-key="'+oe+'" data-view="'+we+'" data-date="'+fe.toString()+'" role="gridcell" '+ge+' style="max-width:'+me+"px; width:"+me+"px;  height:"+d+"px;";if(0!=te||!z||"dayView"!==e&&"weekView"!==e||(x='<td  data-key="'+oe+'" data-view="'+we+'" data-end-date="'+Ie.jqx.scheduler.utilities.getEndOfDay(fe).toString()+'" data-date="'+fe.clearTime().toString()+'" role="gridcell" '+ge+' style="max-width:'+me+"px; width:"+me+"px; height:"+a+"px;"),"monthView"==e&&t.monthRowAutoHeight&&0<s.length&&s[te]&&"auto"!=s[te]&&d<s[te]&&(x='<td data-key="'+oe+'" data-view="'+we+'" data-date="'+fe.toString()+'" role="gridcell" '+ge+' style="max-width:'+me+"px; width:"+me+"px;  height:"+s[te]+"px;"),i.date.month()!=fe.month()&&"monthView"===e&&t.showOtherMonthDays,i.resources&&0<i._resources.length&&i.resources.colorScheme&&"none"!==i.resources.orientation&&(ye=ve="",ve=I[N+le-1],ve=0!=te||!z||"dayView"!==e&&"weekView"!==e?i.hexToRgba(I[N+le-1],.3).toString():i.shadeColor(I[N+le-1],.3).toString(),0==te&&z&&("dayView"===e||"weekView"===e)||-1!=e.indexOf("month")||pe.timeColumn||!1!==t.showWorkTime&&(be=1,Ae=5,Te=8,_e=18,t.workTime&&(be=t.workTime.fromDayOfWeek?t.workTime.fromDayOfWeek:0,Ae=t.workTime.toDayOfWeek?t.workTime.toDayOfWeek:0,Te=void 0!==t.workTime.fromHour?t.workTime.fromHour:8,_e=t.workTime.toHour?t.workTime.toHour:8),fe.dayOfWeek()>=be&&fe.dayOfWeek()<=Ae&&fe.hour()>=Te&&fe.hour()<_e&&(ve=i.hexToRgba(I[N+le-1],.1).toString())),x+="background: "+ve+";",x+="border-color: "+(ye=I[le+N-1])+";"),y!=u-1||1!=u||i.rtl||(x+="border-right-color: transparent;"),pe.timeColumn&&!pe.hidden&&"monthView"===e){c=i.toTP("jqx-scheduler-time-column")+" "+i.toTP("jqx-widget-header")+" "+i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(c+=" "+i.toTP("jqx-scheduler-week-number-column"),1<i.tableRows&&(c=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item")),i.rtl&&(c+=" "+i.toTP("jqx-cell-rtl")),0!==fe.minute()){re++;continue}x='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+fe.toString()+'" role="gridcell" style="max-width:'+me+"px; width:"+me+"px;";y!=u-1||1!=u||i.rtl?i.rtl&&0==y&&(x+="border-left-color: transparent;"):x+="border-right-color: transparent;",y==u-1&&i.rtl&&(x+="border-right-color: transparent;")}if(!pe.timeColumn||pe.hidden||"dayView"!==e&&"weekView"!==e){0<te&&(xe="border-left-width: 1px;",i.rtl&&0==y&&"monthView"==e&&t.showWeekNumbers&&(xe="border-left-width: 0px;"),x+=xe)}else{c=i.toTP("jqx-scheduler-time-column")+" "+i.toTP("jqx-widget-header")+" "+i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(1<i.tableRows&&(c=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item")),i.rtl&&(c+=" "+i.toTP("jqx-cell-rtl")),0<te){if(0!==fe.minute()){re++;continue}x='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+fe.toString()+'" rowspan='+S+' role="gridcell" '+ge+' style="max-width:'+me+"px; width:"+me+"px;";y!=u-1||1!=u||i.rtl?i.rtl&&0==y&&(x+="border-left-color: transparent;"):x+="border-right-color: transparent;"}else{i.resources&&"none"==i.resources.orientation&&(we=-1),0!=te||!z||"dayView"!==e&&"weekView"!==e||(x='<td data-view="'+we+'" data-time-slot="true" data-end-date="'+Ie.jqx.scheduler.utilities.getEndOfDay(fe).toString()+'" data-date="'+fe.toString()+'" role="gridcell" '+ge+' style="max-width:'+me+"px; width:"+me+"px;"),(y==u-1&&1==u&&!i.rtl||0==y&&1==u&&i.rtl)&&(x+="border-right-color: transparent;"),i.rtl&&(x+="border-left-width: 1px;"),1<i.tableRows&&(x+="background: "+ve+";",x+="border-color: "+ye+";")}}"left"!=pe.cellsalign&&("right"===pe.cellsalign?c+=" "+i.toTP("jqx-right-align"):c+=" "+i.toTP("jqx-center-align")),pe.timeColumn||i.rowinfo[ie.uid]&&i.rowinfo[ie.uid].selected&&i.editKey!==ie.uid&&"none"!==i.selectionMode&&(c+=" "+i.toTP("jqx-grid-cell-selected"),c+=" "+i.toTP("jqx-fill-state-pressed"),c+=" "+i.toTP("jqx-scheduler-cell-selected")),pe.hidden?(x+="display: none;",i._hiddencolumns=!0):(ne+=w+me,0!=re||i.rtl||(x+="border-left-width: 0px;"),re++),0==te&&z&&("dayView"===e||"weekView"===e)||-1!=e.indexOf("month")||(c+=" "+i.toTP("jqx-grid-cell-nowrap"),te%2!=1||pe.timeColumn||(c+=" "+i.toTP("jqx-scheduler-middle-cell")),pe.timeColumn||!1!==t.showWorkTime&&(be=1,Ae=5,Te=8,_e=18,t.workTime&&(be=t.workTime.fromDayOfWeek?t.workTime.fromDayOfWeek:0,Ae=t.workTime.toDayOfWeek?t.workTime.toDayOfWeek:0,Te=void 0!==t.workTime.fromHour?t.workTime.fromHour:8,_e=t.workTime.toHour?t.workTime.toHour:8),fe.dayOfWeek()>=be&&fe.dayOfWeek()<=Ae&&fe.hour()>=Te&&fe.hour()<_e?c+=" "+i.toTP("jqx-scheduler-work-time-cell"):c+=" "+i.toTP("jqx-scheduler-not-work-time-cell")));var Se,De,je,qe="";"monthView"===e?(i.touchDevice||pe.timeColumn||(c+=" "+i.toTP("jqx-top-align")),Se="dd",qe=fe.toDate(),De=i.toTP("jqx-scheduler-month-outer-cell")+" ",je=i.toTP("jqx-scheduler-month-weekend-cell"),i.date.month()==fe.month()&&(De=""),fe.isWeekend()?c+=" "+je:je="",1===qe.getDate()&&(Se="MMM dd"),qe=i.touchDevice?16<d?"<div class='"+De+i.toTP("jqx-scheduler-month-cell-touch")+"'>"+Ie.jqx.dataFormat.formatdate(qe,Se,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+De+i.toTP("jqx-scheduler-month-cell-touch")+"'>"+Ie.jqx.dataFormat.formatdate(qe,Se,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":16<d?"<div class='"+De+i.toTP("jqx-scheduler-month-cell")+"'>"+Ie.jqx.dataFormat.formatdate(qe,Se,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+De+i.toTP("jqx-scheduler-month-cell")+"'>"+Ie.jqx.dataFormat.formatdate(qe,Se,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>"):"timelineWeekView"!==e&&"timelineDayView"!==e&&"timelineMonthView"!==e||(c+=" "+i.toTP("jqx-right-align jqx-bottom-align"),qe="<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span>"),0!=te||!z||"dayView"!==e&&"weekView"!==e||pe.timeColumn||(c+=" "+i.toTP("jqx-top-align"),c+=" "+i.toTP("jqx-scheduler-all-day-cell"),i.rtl&&(c+=" "+i.toTP("jqx-rtl")),qe=fe.toDate(),qe="<span>"+Ie.jqx.dataFormat.formatdate(qe,"dd",i.schedulerLocalization)+"</span>");var Ce,ke,Be=pe.cellsFormat;pe.timeColumn&&!pe.hidden?(qe=fe.toDate(),pe.timeZone&&(qe=(qe=fe.clone().toTimeZone(pe.timeZone)).toDate()),t.timeRuler&&t.timeRuler.formatString?Be=t.timeRuler.formatString:pe.timeColumn.format||(Be=0==qe.getHours()||12==qe.getHours()?"hh tt":"hh:mm"),Ie.jqx.dataFormat.isDate(qe)&&(qe=Ie.jqx.dataFormat.formatdate(qe,Be,i.schedulerLocalization)),te<G&&(i.rtl?c+=" "+i.toTP("jqx-scheduler-time-column-header-cell-rtl"):c+=" "+i.toTP("jqx-scheduler-time-column-header-cell"),qe=""),te<G&&(pe._text&&(c+=" "+i.toTP("jqx-bottom-align")),t.timeRuler&&t.timeRuler.timeZones&&0<t.timeRuler.timeZones.length&&y<t.timeRuler.timeZones.length&&(qe=pe._text)),"monthView"==e&&(qe=fe.weekOfYear(i.schedulerLocalization.firstDay))):""!=Be&&Ie.jqx.dataFormat&&(Ie.jqx.dataFormat.isDate(qe)?qe=Ie.jqx.dataFormat.formatdate(qe,Be,i.schedulerLocalization):(Ie.jqx.dataFormat.isNumber(qe)||!isNaN(parseFloat(qe))&&isFinite(qe))&&(qe=Ie.jqx.dataFormat.formatnumber(qe,Be,i.schedulerLocalization))),""!=pe.cellclassname&&pe.cellclassname&&("string"==typeof pe.cellclassname?c+=" "+pe.cellclassname:(Ce=pe.cellclassname(te,pe.datafield,qe,ie))&&(c+=" "+Ce)),""!=pe.cellsRenderer&&pe.cellsRenderer&&(ke=k.indexOf(ie),qe=pe.cellsRenderer(ke,pe.datafield,qe,ie)),x+='" class="'+c+'">',x+=qe,J+=x+="</td>"}0==h&&(i.table[0].style.width=ne+2+"px",i.pinnedtable[0].style.width=ne+2+"px",h=ne),T+=J+="</tr>",i.rowinfo[ie.uid]?"row"in i.rowinfo[ie.uid]||(i.rowinfo[ie.uid].row=ie):i.rowinfo[ie.uid]={row:ie}}}T+="</table>",i.table[0].innerHTML=T,i.pinnedtable[0].innerHTML=T,i.table[0].rows=i.table[0].firstChild.rows;var Re=Ie.jqx.browser.msie&&Ie.jqx.browser.version<9,ze=null;if(!z||"dayView"!==e&&"weekView"!==e||1!=i.tableRows)i.pinnedtable[0].style.display="none";else if(i.pinnedtable[0].style.display="block",i.pinnedtable[0].style.zIndex="400",i.pinnedtable[0].style.position="absolute",i.pinnedtable[0].style.top="0px",i.pinnedtable[0].style.height=a+"px",!Re)if(1==i.tableRows){i.oldRow=i.table[0].rows[0];try{i.table[0].rows[0]=i.pinnedtable.find("tr")[0]}catch(e){}ze=i.pinnedtable.find("tr")[0],i.pinnedTableRow=ze}else{i.oldRow=i.table[0].rows[1];try{i.table[0].rows[1]=i.pinnedtable.find("tr")[1]}catch(e){}ze=i.pinnedtable.find("tr")[1],i.pinnedTableRow=ze}var Q=Ie(i.table[0].firstChild),He=Ie(i.pinnedtable[0].firstChild);i._table=Q,i._pinnedtable=He,Ie.jqx.browser.msie&&Ie.jqx.browser.version<10&&(i._table[0].style.width=h+"px",i._pinnedtable[0].style.width=h+"px"),0===g&&(i._table[0].style.width=2+h+"px",i._pinnedtable[0].style.width=2+h+"px"),i._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),i._pinnedtable.addClass("jqx-grid-table-one-cell jqx-disableselect"),i.rowByCell=new Array,i.columnCells=new Array,i.cellWidth=0,i.cellHeight=0;for(var Pe=i.table[0].rows.length,te=0;te<Pe;te++){var Me=i.table[0].rows[te];if(0==te&&ze&&(Me=ze),!Me.getAttribute("data-group-row")){(ie=new Fe).aboveRow=null,ie.belowRow=null,0<i.rows.length&&(ie.aboveRow=i.rows[i.rows.length-1],i.rows[i.rows.length-1].belowRow=ie),ie.element=Me,i.rows.push(ie);for(y=0;y<Me.cells.length;y++){var Ve=Me.cells[y];Ve.getAttribute("data-time-slot")||"none"!==Ve.style.display&&(0<=Ve.className.indexOf("jqx-grid-cell-pinned")||(i.columnCells[ie.cells.length]||(i.columnCells[ie.cells.length]=new Array),i.columnCells[ie.cells.length].push(Ve),0==i.cellWidth&&(i.cellWidth=Ve.clientWidth),0==i.cellHeight&&(1==Pe||1<te)&&(i.cellHeight=Ve.clientHeight),"monthView"==i._views[i._view].type&&null==ie.top&&(ie.top=parseInt(Ie(Ve).position().top)),ie.cells.push(Ve),i.rowByCell[Ve.getAttribute("data-key")]=ie))}}}0===g&&(i._table[0].style.tableLayout="auto"),i._renderAppointments(n,r),("none"!=i.pinnedtable[0].style.display||("dayView"==e||"weekView"==e)&&1<i.tableRows)&&i._updateScrollbars(i.host.height()),"monthView"===e&&t.monthRowAutoHeight&&(0==s.length?i._renderrows():i._updateScrollbars(i.host.height())),i.rendered&&i.rendered(),i.renderedTime=new Date}else i._renderagenda()}function Fe(){var i={};return i.cells=new Array,i.indexOf=function(e){for(var t=0;t<i.cells.length;t++)if(i.cells[t].getAttribute("data-key")==e.getAttribute("data-key"))return t;return-1},i}},showAppointmentsByResource:function(e){for(var t,i=this,o=0;o<i.uiappointments.length;o++){var n=i.uiappointments[o];if(n.resourceId==e&&(n.hidden=!1,n.hiddenByResourceId=!1,n.exceptions))for(var r=0;r<n.exceptions.length;r++)n.exceptions[r].hiddenByResourceId=!1}i._resourcesElements&&(t=i.getColors(i._resources.indexOf(e)),i._resourcesElements.top[e].attr("data-toggle","on"),i._resourcesElements.top[e].css("background",t.background),i._resourcesElements.bottom[e].attr("data-toggle","on"),i._resourcesElements.bottom[e].css("background",t.background)),i.hiddenResources&&delete i.hiddenResources[e],i._renderrows()},hideAppointmentsByResource:function(e){for(var t=this,i=0;i<t.uiappointments.length;i++){var o=t.uiappointments[i];if(o.resourceId==e&&(o.hidden=!0,o.hiddenByResourceId=!0,o.exceptions))for(var n=0;n<o.exceptions.length;n++)o.exceptions[n].hiddenByResourceId=!0,o.exceptions[n].hidden=!0}t._resourcesElements&&(t._resourcesElements.top[e].attr("data-toggle","off"),t._resourcesElements.top[e].css("background","transparent"),t._resourcesElements.bottom[e].attr("data-toggle","off"),t._resourcesElements.bottom[e].css("background","transparent")),t.hiddenResources||(t.hiddenResources=new Array),t.hiddenResources[e]=!0,t._renderrows()},_prepareAppointmentsInView:function(e,t){var i=this;if(!i._appupdating){for(var o=new Array,n=0;n<this.uiappointments.length;n++){var r=this.uiappointments[n];if(!r.hidden||null!=r.recurrencePattern){Ie.jqx.scheduler.utilities.rangeIntersection(r.from,r.to,e,t)&&!r.recurrencePattern&&o.push(r),r.renderedAppointments=new Array;var s=!1;if(r.recurrencePattern){for(var a=r.getOccurrences(e,t),l=r.exceptions,d=0;d<a.length;d++){var h=a[d];if(!h.hidden){for(var c=!0,u=0;u<l.length;u++){var p=(m=l[u]).occurrenceFrom?m.occurrenceFrom:m;if(i.selectedJQXAppointment&&i.selectedJQXAppointment.rootAppointment&&!s&&i.selectedJQXAppointment.occurrenceFrom.clearTime().equals(p.clearTime())&&(i.selectedJQXAppointment=m,s=!0),p.clearTime().equals(h.from.clearTime())){c=!1;break}}c&&(i.selectedJQXAppointment&&i.selectedJQXAppointment.rootAppointment&&!s&&i.selectedJQXAppointment.occurrenceFrom.clearTime().equals(h.occurrenceFrom.clearTime())&&(i.selectedJQXAppointment=h,s=!0),r.renderedAppointments[h.id]=h,o.push(h))}}for(u=0;u<l.length;u++){var m,p=(m=l[u]).occurrenceFrom?m.from:m,f=r.createOccurrence(p);m.occurrenceFrom&&(m.cloneAppointmentAttributes(f),m.hidden)||f!=r&&(o.push(m),r.renderedAppointments[m.id]=m)}}}}var g=new Array;this.tabKeyAppointments=new Array;for(n=0;n<o.length;n++){var w=o[n];g.push(w),this.tabKeyAppointments.push(w)}g.sort(this._sortAppointmentsByFrom),0<this._resources.length?this.tabKeyAppointments.sort(function(e,t){return i._sortAppointmentsByResourceId(e,t,i)}):this.tabKeyAppointments.sort(this._sortAppointmentsByFrom),this.appointmentsToRender=g}},_renderDayWeekAppointments:function(){var e=this,t=(e._views[e._view].type,e._views[e._view]),i=new Array,o=new Array,n=this.rows,r=e.showAllDayRow,s=e.getMinutesPerScale();t.timeRuler&&null!=t.timeRuler.showAllDayRow&&(r=t.timeRuler.showAllDayRow);for(var a=0;a<this.appointmentsToRender.length;a++){var l=this.appointmentsToRender[a],d=l.from,h=l.to,c=Ie.jqx.scheduler.utilities.getEndOfDay(h),u=d.day(),p=(l.allDay,new Array),m=new Array,f=l.resourceId,g=e._resources.indexOf(f);e.resources&&"none"==e.resources.orientation&&(g=-1);function w(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0}var v=d.toDate().valueOf(),y=h.toDate().valueOf();c.toDate().valueOf();if(!l.allDay&&l.duration().days()<1||!r){var x=h.toDate();0==x.getHours()&&0==x.getMinutes()&&0;for(var b=0;b<e.columnCells.length;b++)if(e.columnCells[b]){var A=e.columnCells[b];e.rtl&&(A=e.columnCells[e.columnCells.length-1-b]);for(var T=0;T<A.length;T++)if(!A[T].getAttribute("data-end-date")){var _=A[T].getAttribute("data-date"),S=e._getDateByString(_),D=e._getDateByString(_);D.setMinutes(D.getMinutes()+s-1);var j=S.valueOf(),q=D.valueOf();if(!(h<j)&&(v<=j&&j<y||v<=q&&q<y||j<=v&&y<=q)){if(-1!=g&&1+g!=A[T].getAttribute("data-view"))continue;u!=S.getDate()&&(p.sort(w),m.push(p),p=new Array,u=d.addDays(1).day()),p.push({cell:A[T],date:S})}}}p.sort(w),m.push(p);for(var C,k=new Array,b=0;b<m.length;b++){0!=(A=m[b]).length&&(z=e.cellWidth,H=A[A.length-1].cell.offsetTop+e.cellHeight,P=A[0].cell.offsetLeft,M=A[0].cell.offsetTop,C=e.getMinutesPerScale(),x=new Ie.jqx.date(A[A.length-1].date,e.timeZone).addMinutes(C),F={cells:A,x:P,y:M,height:H-M,width:z,appointment:l,from:new Ie.jqx.date(A[0].date,e.timeZone),to:x},k.push(F),i.push(F))}l.elements=k,l.rootAppointment&&(l.rootAppointment.elements=l.rootAppointment.elements.concat(l.elements))}else{A=n[0].cells;1<this.tableRows&&(A=n[g*(n.length/e.tableRows)].cells);for(T=0;T<A.length;T++){var _=A[T].getAttribute("data-date"),B=e._getDateByString(_),S=new Ie.jqx.date(B,e.timeZone);if(!(c<(j=(S=Ie.jqx.scheduler.utilities.getEndOfDay(S)).toDate().valueOf()))&&(d<=S&&S<=c)){if(-1!=g&&1+g!=A[T].getAttribute("data-view"))continue;0==p.length&&(S=Ie.jqx.scheduler.utilities.getStartOfDay(S)),p.push({cell:A[T],date:S})}}p.sort(w),m.push(p);for(k=new Array,b=0;b<m.length;b++){if(0==(A=m[b]).length)break;var R=Ie(A[0].cell).position(),z=Ie(A[A.length-1].cell).position().left+this.cellWidth-R.left,H=Ie(A[A.length-1].cell).position().top,P=R.left,M=R.top;this.rtl&&(P=(R=Ie(A[A.length-1].cell).position()).left,z=Ie(A[0].cell).position().left+this.cellWidth-R.left);var V=A[A.length-1].date,V=new Ie.jqx.date(Ie.jqx.scheduler.utilities.getEndOfDay(V),e.timeZone),F={cells:A,x:P,y:M,height:H-M+this.cellHeight,width:z,appointment:l,from:Ie.jqx.scheduler.utilities.getStartOfDay(new Ie.jqx.date(A[0].date,e.timeZone)),to:V};k.push(F),o.push(F)}l.elements=k,l.rootAppointment&&(l.rootAppointment.elements=l.rootAppointment.elements.concat(l.elements))}}var I=this.getViewStart(),E=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var O=new Array,W=I,N=0;W<E;){O[N]=new Array;for(b=0;b<i.length;b++){(Z=i[b]).from.day()==W.day()&&(Z.column=-1,Z.columnSpan=1,O[N].push(Z))}N++,W=W.addDays(1)}for(b=0;b<O.length;b++)this._renderAppointmentsInDay(O[b]);this._renderAllDayAppointments(o)}else for(T=0;T<this._resources.length;T++){for(var L=this._resources[T],O=new Array,W=I,N=0;W<E;){O[N]=new Array;for(var Z,b=0;b<i.length;b++){(Z=i[b]).from.day()==W.day()&&(Z.column=-1,Z.columnSpan=1,Z.appointment.resourceId==L&&O[N].push(Z))}N++,W=W.addDays(1)}for(b=0;b<O.length;b++)this._renderAppointmentsInDay(O[b]);for(var U=new Array,b=0;b<o.length;b++)o[b].appointment.resourceId==L&&U.push(o[b]);this._renderAllDayAppointments(U)}},_renderAllDayAppointments:function(e){var t=this,i=this.showAllDayRow;if((B=this._views[this._view]).timeRuler&&null!=B.timeRuler.showAllDayRow&&(i=B.timeRuler.showAllDayRow),i&&0!=e.length){var o=e,n=this.getMaxAllDayAppointments(e);1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight;for(var r=0;r<e.length;r++){(m=e[r]).row=-1,(p=this.getCollisionAppointments(m,e)).sort(this._sortAppointmentsByFrom);var s=p.indexOf(m);if(0<=s)for(var a=s;a<p.length;a++)p[a].row=-1;for(var l=0;l<n;l++){var d,h,c=l;for(var u in p){if("indexOf"==u)break;-1!=(w=p[u]).row||this.isBusyRow(c,p)||(w.row=c,d=n,(h=this.getMaxAllDayAppointments(p))<d&&(d=h),w.rowsCount=d)}}}for(l=0;l<o.length;l++){var p,m=o[l];(p=this.getCollisionAppointments(m,o)).sort(this._sortAppointmentsByFrom);var f=1;for(var u in p){if("indexOf"==u)break;var g=p[u],f=Math.max(f,g.rowsCount)}for(var u in p){if("indexOf"==u)break;(g=p[u]).rowsCount=f}if(1==p.length)m.rowSpan=f;else{for(var w,v=0,y=!0,a=m.row;a<f;a++){for(var u in p){if("indexOf"==u)break;(w=p[u])!=m&&w.row==a&&(y=!1)}if(!y)break;v++}m.rowSpan=v}}var x=t.appointmentsMinHeight+2;t.isTouchDevice()&&(x=t.touchAppointmentsMinHeight+2);for(var b=0;b<o.length;b++){var A=x;(m=o[b]).height=x;var T,_,S,D,j=A*m.row;m.y=18+m.y+j+4*m.row,m.x+=3,m.width-=8,0==m.appointment.from.hour()&&23==m.appointment.to.hour()||(T=this.getViewStart(),_=this.getViewEnd(),t.rtl?(S=parseFloat(t.cellWidth/24)*m.appointment.to.hour()+parseFloat(t.cellWidth/48)*(m.appointment.to.minute()/30),D=parseFloat(t.cellWidth/24)*m.appointment.from.hour()+parseFloat(t.cellWidth/48)*(m.appointment.from.minute()/30),0<S&&(S=t.cellWidth-S),m.appointment.from<T&&(D=0),m.appointment.to>_&&(S=0),"exactTime"==B.appointmentsRenderMode&&(m.x+=S,m.width-=S,m.width-=D),m.appointment.duration().days()<1&&m.width<15&&(m.width=15),m.timewidth=m.width,"exactTimeStatus"==B.appointmentsRenderMode&&(m.timewidth-=S,m.timewidth-=D),m.timex=S):(S=parseFloat(t.cellWidth/24)*m.appointment.from.hour()+parseFloat(t.cellWidth/48)*(m.appointment.from.minute()/30),m.appointment.from<T&&(S=0),m.timewidth=m.width,m.timex=S,D=parseFloat(t.cellWidth/24)*m.appointment.to.hour()+parseFloat(t.cellWidth/48)*(m.appointment.to.minute()/30),m.appointment.to>_&&(D=0),m.timewidth-=S,0<D&&(m.timewidth-=t.cellWidth,m.timewidth+=D),"exactTime"==B.appointmentsRenderMode&&(m.width=m.timewidth,m.x+=S)))}for(b=0;b<o.length;b++){var q=o[b],C="",k="auto",B=this._views[this._view],R=q.appointment.from,z=q.appointment.to;B.timeRuler&&B.timeRuler.formatString&&(k=B.timeRuler.formatString);var H,P=k;"auto"===k&&(P=0==R.hour()&&0==R.minute()||12==R.hour()&&0==R.minute()?"hh tt":"hh:mm",H=0==z.hour()&&0==z.minute()||12==z.hour()&&0==z.minute()?"hh tt":"hh:mm");var M=R.toString(P),V=z.toString(H),F=q.appointment.duration(),I=q.appointment.allDay||23===F.hours&&59===F.minutes&&59===F.seconds,E=q.appointment.background,O=q.appointment.subject?q.appointment.subject:"(No Title)",W=q.appointment.color,N=q.appointment.resourceId,L=t.getColors(t._resources.indexOf(N)),Z=" data-resourceId='"+N+"' ",U=q.appointment.borderColor,X=q.appointment.location;0<X.length&&(X=", "+X),E=E||L.background,U=U||L.border,W=W||L.color;var G=q.appointment.isRecurrentAppointment(),J=q.appointment.isException();I&&(V=M="");var K="",Q=t.toTP("jqx-scheduler-appointment-status"),Y="",$=t.statuses[q.appointment.status],ee=!1;$&&(ee="transparent"!=$&&(Y="<div style='background: "+$+"; border-right-color: "+U+"' class='"+Q+"'></div>","tentative"==$&&(Y="<div style='background-color: "+U+"; border-right-color: "+U+"' class='"+(Q=t.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),!0));var te=t.toTP("jqx-scheduler-appointment-duration-status"),ie="<div style='width: "+q.timewidth+"px; left: "+q.timex+"px;' class='"+te+"'></div>";I&&(ie="");var oe="";"exactTimeStatus"!=B.appointmentsRenderMode&&(ie=""),t.rtl&&(Y="<div style='background: "+$+"; border-left-color: "+U+"' class='"+(Q=t.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==$&&(Y="<div style='background-color: "+U+"; border-left-color: "+U+"' class='"+(Q=t.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),oe=Y,Y="");var ne,re="",se=I?O+X:O+X+ie;!t.renderAppointment||(ne=t.renderAppointment({appointment:q.appointment.boundAppointment,textColor:W,background:E,borderColor:U,html:se,cssClass:"",style:"",width:q.width,height:q.height,view:t._views[t._view].type}))&&((C=ne.html)!=se&&(se=C),W=ne.textColor,E=ne.background,U=ne.borderColor,ne.cssClass&&(re=ne.cssClass+" "),""!=ne.style&&(E=(L=t.getAppointmentColors(ne.style)).background,U=L.border,W=L.color)),""===K&&(K=ee?"<div style='white-space:nowrap;' class='"+t.toTP("jqx-scheduler-appointment-content")+"'>"+Y+"<div class='"+t.toTP("jqx-scheduler-appointment-inner-content")+"'>"+se+"</div>"+oe+"</div>":"<div style='white-space:nowrap;' class='"+t.toTP("jqx-scheduler-appointment-content")+"'><div class='"+t.toTP("jqx-scheduler-appointment-inner-content")+"'>"+se+"</div></div>");var ae,le,de="";t.rtl&&(de=t.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),C=J?(ae="white"==W.toLowerCase()?t.toTP("jqx-icon-recurrence-exception-white"):t.toTP("jqx-icon-recurrence-exception"),"<div data-key='"+q.appointment.id+"'"+Z+"class='"+de+re+t.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+q.x+"px; top: "+q.y+"px; width: "+q.width+"px; line-height: "+q.height+"px; height: "+q.height+"px; border-color:"+U+"; color:"+W+"; background:"+E+";'><div class='"+ae+"'></div>"+K+"<div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):G?(le="white"==W.toLowerCase()?t.toTP("jqx-icon-recurrence-white"):t.toTP("jqx-icon-recurrence"),"<div data-key='"+q.appointment.id+"'"+Z+"class='"+de+re+t.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+q.x+"px; top: "+q.y+"px; width: "+q.width+"px; line-height: "+q.height+"px; height: "+q.height+"px; border-color:"+U+"; color:"+W+"; background:"+E+";'><div class='"+le+"'></div>"+K+"<div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):"<div data-key='"+q.appointment.id+"'"+Z+"class='"+de+re+t.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+q.x+"px; top: "+q.y+"px; width: "+q.width+"px; line-height: "+q.height+"px; height: "+q.height+"px; border-color:"+U+"; color:"+W+"; background:"+E+";'>"+K+"<div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var he,ce=Ie(C);1==this.tableRows?ce.appendTo(this.pinnedtable):ce.appendTo(this.table),q.element=ce,this.appointmentTooltips&&(q.appointment.tooltip?ce[0].setAttribute("title",q.appointment.tooltip):(he=q.appointment.subject,M&&(he=M+" - "+V+" "+he),he&&((X=q.appointment.location)&&(he+="\n"+X),ce[0].setAttribute("title",he))))}}},_renderAppointmentsInDay:function(e,t){if(0!=e.length){var i,o=this,n=this._views[this._view],r=e,s=(this.getViewStart(),this.getViewEnd(),0);if(n.timeRuler?(s=this.columns.records[1].width,n.timeRuler.timeZones&&(s=this.columns.records[1+n.timeRuler.timeZones.length].width)):s=this.columns.records[1].width,!(s/(i=this.getMaxColumnsInADay(e))<0)){for(var a=0;a<e.length;a++){(g=e[a]).column=-1,(f=this.getCollisionAppointments(g,e)).sort(this._sortAppointmentsByFrom);var l=f.indexOf(g);if(0<=l)for(var d=l;d<f.length;d++)f[d].column=-1;for(var h=0;h<i;h++){var c,u,p=h;for(var m in f){if("indexOf"==m)break;-1!=(y=f[m]).column||this.isBusyColumn(p,f)||(y.column=p,c=i,(u=this.getMaxColumnsInADay(f))<c&&(c=u),y.columnsCount=c)}}}for(h=0;h<r.length;h++){var f,g=r[h];(f=this.getCollisionAppointments(g,r)).sort(this._sortAppointmentsByFrom);var w,v=1;for(var m in f){if("indexOf"==m)break;null!=(w=f[m]).columnsCount&&(v=Math.max(v,w.columnsCount))}for(var m in f){if("indexOf"==m)break;(w=f[m]).columnsCount=v}if(1==f.length)g.columnSpan=v;else{for(var y,x=0,b=!0,d=g.column;d<v;d++){for(var m in f){if("indexOf"==m)break;null!=(y=f[m]).column&&y!=g&&y.column==d&&(b=!1)}if(!b)break;x++}g.columnSpan=x}}for(var A=0;A<r.length;A++){var T=s/r[A].columnsCount;(g=r[A]).width=T*g.columnSpan-5;var _,S,D,j,q=T*g.column;g.x=2+g.x+q,g.height-=5,g.y+=1,"exactTime"==n.appointmentsRenderMode&&(_=o.getMinutesPerScale(),S=g.appointment.from.minute()%_!=0?(D=g.appointment.from.minute()%_,parseFloat(o.cellHeight/_)*D):0,g.appointment.to.minute()%_!=0?(D=g.appointment.to.minute()%_,j=o.cellHeight-parseFloat(o.cellHeight/_)*D,g.to.day()!==g.appointment.to.day()&&(j=0)):j=0,g.y+=S,g.height-=S,g.height-=j)}for(A=0;A<r.length;A++){var C=r[A],k="",B="auto",n=this._views[this._view],R=C.appointment.from,z=C.appointment.to;n.timeRuler&&n.timeRuler.formatString&&(B=n.timeRuler.formatString);var H,P=B;"auto"===B&&(P=0==R.hour()&&0==R.minute()||12==R.hour()&&0==R.minute()?"hh tt":"hh:mm",H=0==z.hour()&&0==z.minute()||12==z.hour()&&0==z.minute()?"hh tt":"hh:mm");R.toString(P),z.toString(H);var M=C.appointment.background,V=C.appointment.subject?C.appointment.subject:"(No Title)",F=C.appointment.location?C.appointment.location:"",I=C.appointment.color,E=C.appointment.resourceId,O=o.getColors(o._resources.indexOf(E)),W=" data-resourceId='"+E+"' ",N=C.appointment.borderColor;M=M||O.background,N=N||O.border,I=I||O.color;var L=C.appointment.isRecurrentAppointment(),Z=C.appointment.isException(),U="",X=o.toTP("jqx-scheduler-appointment-status"),G="",J=o.statuses[C.appointment.status],K=!1;J&&(K="transparent"!=J&&(G="<div style='background: "+J+"; border-right-color: "+N+"' class='"+X+"'></div>","tentative"==J&&(G="<div style='background-color: "+N+"; border-right-color: "+N+"' class='"+(X=o.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),!0));var Q="";o.rtl&&(G="<div style='background: "+J+"; border-left-color: "+N+"' class='"+(X=o.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==J&&(G="<div style='background-color: "+N+"; border-left-color: "+N+"' class='"+(X=o.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),Q=G,G="");var Y,$="",ee=F?V+"<br/>"+F:V;!o.renderAppointment||(Y=o.renderAppointment({appointment:C.appointment.boundAppointment,textColor:I,background:M,borderColor:N,html:ee,cssClass:"",style:"",width:C.width,height:C.height,view:o._views[o._view].type}))&&((k=Y.html)!=ee&&(ee=k),I=Y.textColor,M=Y.background,N=Y.borderColor,Y.cssClass&&($=Y.cssClass+" "),""!=Y.style&&(M=(O=o.getAppointmentColors(Y.style)).background,N=O.border,I=O.color)),""===U&&(U=K?"<div class='"+o.toTP("jqx-scheduler-appointment-content")+"'>"+G+"<div class='"+o.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ee+"</div>"+Q+"</div>":"<div class='"+o.toTP("jqx-scheduler-appointment-content")+"'><div class='"+o.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ee+"</div></div>");var te,ie,oe="";o.rtl&&(oe=o.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),k=Z?(te="white"==I.toLowerCase()?o.toTP("jqx-icon-recurrence-exception-white"):o.toTP("jqx-icon-recurrence-exception"),"<div data-key='"+C.appointment.id+"'"+W+"class='"+oe+$+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; height: "+C.height+"px; border-color:"+N+"; color:"+I+"; background:"+M+";'><div class='"+te+"'></div>"+U+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"):L?(ie="white"==I.toLowerCase()?o.toTP("jqx-icon-recurrence-white"):o.toTP("jqx-icon-recurrence"),"<div data-key='"+C.appointment.id+"'"+W+"class='"+oe+$+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; height: "+C.height+"px; border-color:"+N+"; color:"+I+"; background:"+M+";'><div class='"+ie+"'></div>"+U+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"):"<div data-key='"+C.appointment.id+"'"+W+"class='"+oe+$+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; height: "+C.height+"px; border-color:"+N+"; color:"+I+"; background:"+M+";'>"+U+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>";var ne,re=Ie(k);re.appendTo(this.table),C.element=re,this.appointmentTooltips&&(C.appointment.tooltip?re[0].setAttribute("title",C.appointment.tooltip):(ne=C.appointment.subject)&&((F=C.appointment.location)&&(ne+="\n"+F),re[0].setAttribute("title",ne)))}}}},getCollisionAppointments:function(e,t){for(var i=new Array,o=e.from,n=e.to,r=0;r<t.length;r++){var s=t[r],a=s.from,l=s.to;if(Ie.jqx.scheduler.utilities.rangeIntersection(o,n,a,l)&&(i.push(s),30<i.length))break}return i},getAllDayCollisionAppointments:function(e,t){for(var i=new Array,o=Ie.jqx.scheduler.utilities.getStartOfDay(e.from),n=Ie.jqx.scheduler.utilities.getEndOfDay(e.to),r=0;r<t.length;r++){var s=t[r],a=Ie.jqx.scheduler.utilities.getStartOfDay(s.from),l=Ie.jqx.scheduler.utilities.getEndOfDay(s.to);Ie.jqx.scheduler.utilities.rangeIntersection(o,n,a,l)&&i.push(s)}return i},_renderAppointments:function(e,t){var i,o=this;o._appupdating||(o.table.find(".jqx-scheduler-appointment").remove(),o.pinnedtable.find(".jqx-scheduler-appointment").remove(),"dayView"===(i=o._views[o._view].type)||"weekView"===i?o._renderDayWeekAppointments(e,t):"monthView"===i?o._renderMonthAppointments(e,t):"timelineWeekView"!==i&&"timelineDayView"!==i&&"timelineMonthView"!==i||o._renderTimelineAppointments(e,t),o.selectedJQXAppointment&&o._selectAppointment(o.selectedJQXAppointment))},_renderTimelineAppointments:function(e,t){for(var i=this,o=i._views[i._view].type,n=i._views[i._view],r=new Array,s=(this.rows,this.cellHeight),a=this.cellWidth,l=i.getMinutesPerScale(),d=0;d<this.appointmentsToRender.length;d++){var h=this.appointmentsToRender[d],c=h.from,u=h.to,p=(i._getDateByString,new Array),m=c.toDate().valueOf(),f=u.toDate().valueOf();"timelineMonthView"===o&&(m=c.clearTime().toDate().valueOf());var g=i.rows[0],w=h.resourceId,v=i._resources.indexOf(w);0<i._resources.length&&"horizontal"!==i.resources.orientation&&1<=v&&(g=i.rows[v]),i.resources&&"none"==i.resources.orientation&&(v=-1,g=i.rows[0]);for(var y=g.cells,x=0;x<y.length;x++){var b=y[x].getAttribute("data-date");y[x].appointments=new Array;var A=i._getDateByString(b),T=A.valueOf(),_=i._getDateByString(b);_.setMinutes(_.getMinutes()+l-1);var S=_.valueOf();if(!(u<T)&&(m<=T&&T<f||m<=S&&S<f||T<=m&&m<=S&&f<=S)){if(-1!=v&&1+v!=y[x].getAttribute("data-view"))continue;p.push({cell:y[x],date:A}),g=V}}p.sort(function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0});var D,j,q,C,k,B,R,z,H=new Array;0!=(y=p).length&&(D=i.appointmentsMinHeight,i.isTouchDevice()&&(D=i.touchAppointmentsMinHeight),n.appointmentHeight&&(D=n.appointmentHeight),q=Ie(y[0].cell).position(),j=D,C=Ie(y[y.length-1].cell).position().left-q.left+a,k=q.left,B=q.top,i.rtl&&(q=Ie(y[y.length-1].cell).position(),C=Ie(y[0].cell).position().left-q.left+a,k=q.left,B=q.top),R=new Ie.jqx.date(y[y.length-1].date,i.timeZone).addMinutes(l),"timelineMonthView"===o&&(R=Ie.jqx.scheduler.utilities.getEndOfDay(new Ie.jqx.date(y[y.length-1].date,i.timeZone))),z={cellX:k,cellY:B,cellHeight:s,cells:y,x:k,y:B,height:j,width:C,appointment:h,from:new Ie.jqx.date(y[0].date,i.timeZone),to:R},"exactTime"===n.appointmentsRenderMode&&(z.from=h.from,z.to=h.to),H.push(z),r.push(z),h.elements=H,h.rootAppointment&&(h.rootAppointment.elements=h.rootAppointment.elements.concat(h.elements)))}if(this._resources.length<2||"none"==this.resources.orientation)this._renderUITimelineAppointments(r,e,t);else for(x=0;x<this._resources.length;x++){for(var P=this._resources[x],M=new Array,V=0;V<r.length;V++)r[V].appointment.resourceId==P&&M.push(r[V]);this._renderUITimelineAppointments(M,e,t)}},_renderUITimelineAppointments:function(e,t,i){(u=this)._views[u._view].type;var o=u._views[u._view],n=e,u=this,r=new Array,s=u.getMaxTimelineAppointments(e,r,t,i),a=u.appointmentsMinHeight;u.isTouchDevice()&&(a=u.touchAppointmentsMinHeight),o.appointmentHeight&&(a=o.appointmentHeight);for(var l=0;l<e.length;l++){(v=e[l]).row=-1,(w=u.getCollisionAppointments(v,e)).sort(u._sortAppointmentsByFrom);var d=w.indexOf(v);if(0<=d)for(var h=d;h<w.length;h++)w[h].row=-1;for(var c=0;c<s;c++){var p,m,f=c;if(30<c)break;for(var g in w){if("indexOf"==g)break;if(30<g)break;-1!=(b=w[g]).row||u.isBusyRow(f,w)||(b.row=f,p=s,(m=u.getMaxTimelineAppointments(w,r,t,i))<p&&(p=m),b.rowsCount=p)}}}for(c=0;c<n.length;c++){var w,v=n[c];(w=u.getCollisionAppointments(v,n)).sort(u._sortAppointmentsByFrom);var y=1;for(var g in w){if("indexOf"==g)break;var x=w[g],y=Math.max(y,x.rowsCount)}for(var g in w){if("indexOf"==g)break;(x=w[g]).rowsCount=y}if(1==w.length)v.rowSpan=y;else{for(var b,A=0,T=!0,h=v.row;h<y;h++){for(var g in w){if("indexOf"==g)break;(b=w[g])!=v&&b.row==h&&(T=!1)}if(!T)break;A++}v.rowSpan=A}}for(var _=0;_<n.length;_++){var S=a,D=2+(3+((v=n[_]).height=S))*v.row;v.y=v.y+D,v.x+=1,v.width-=5;var j,q,C,k,B,R=u._views[u._view].type,o=u._views[u._view];"timelineMonthView"==R&&o.appointmentsRenderMode?0==v.appointment.from.hour()&&23==v.appointment.to.hour()||(u.rtl?(C=parseFloat(u.cellWidth/24)*v.appointment.to.hour()+parseFloat(u.cellWidth/48)*(v.appointment.to.minute()/30),B=parseFloat(u.cellWidth/24)*v.appointment.from.hour()+parseFloat(u.cellWidth/48)*(v.appointment.from.minute()/30),0<C&&(C=u.cellWidth-C),"exactTime"==o.appointmentsRenderMode&&(v.x+=C,v.width-=C,v.width-=B),v.appointment.duration().days()<1&&v.width<15&&(v.width=15),v.timewidth=v.width,v.timex=C):(C=parseFloat(u.cellWidth/24)*v.appointment.from.hour()+parseFloat(u.cellWidth/48)*(v.appointment.from.minute()/30),B=parseFloat(u.cellWidth/24)*v.appointment.to.hour()+parseFloat(u.cellWidth/48)*(v.appointment.to.minute()/30),v.timewidth=v.width,v.timex=C,v.timewidth-=C,v.timewidth-=u.cellWidth,v.timewidth+=B,"exactTime"==o.appointmentsRenderMode&&(v.width=v.timewidth,u.date.month()===v.appointment.from.month()?v.x+=C:v.width=C+v.timewidth,v.appointment.duration().days()<1&&v.width<15&&C+(v.width=15)>u.cellWidth&&(j=u.cellWidth-C-15,v.x+=j)))):o.appointmentsRenderMode&&"exactTime"==o.appointmentsRenderMode&&(q=u.getMinutesPerScale(),v.appointment.from.minute()%q!=0?(k=v.appointment.from.minute()%q,C=parseFloat(u.cellWidth/q)*k,u.rtl&&(C=parseFloat(u.cellWidth/q)*k)):C=0,v.appointment.to.minute()%q!=0?(k=v.appointment.to.minute()%q,B=u.cellWidth-parseFloat(u.cellWidth/q)*k,u.rtl&&(B=u.cellWidth-parseFloat(u.cellWidth/q)*k)):B=0,u.rtl?v.x+=B:v.x+=C,v.width-=C,v.width-=B)}for(var z=[],_=0;_<n.length;_++){var H,P,M,V,F,I,E,O,W,N,L,Z,U,X,G,J,K,Q,Y,$,ee,te,ie,oe="";(se=n[_]).y<0||(z.push(se),o=u._views[u._view],se.appointment.from,se.appointment.to,o.timeRuler&&o.timeRuler.formatString&&o.timeRuler.formatString,G=se.appointment.background,H=se.appointment.subject?se.appointment.subject:"(No Title)",(ie=se.appointment.location)&&1<ie.length&&(ie=", "+ie),K=se.appointment.color,P=se.appointment.resourceId,X=u.getColors(u._resources.indexOf(P)),M=" data-resourceId='"+P+"' ",J=se.appointment.borderColor,G=G||X.background,J=J||X.border,K=K||X.color,V=se.appointment.isRecurrentAppointment(),F=se.appointment.isException(),Q="",W=u.toTP("jqx-scheduler-appointment-status"),N="",E=!1,(I=u.statuses[se.appointment.status])&&(E="transparent"!=I&&(N="<div style='background: "+I+"; border-right-color: "+J+"' class='"+W+"'></div>","tentative"==I&&(N="<div style='background-color: "+J+"; border-right-color: "+J+"' class='"+(W=u.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),!0)),O="",u.rtl&&(N="<div style='background: "+I+"; border-left-color: "+J+"' class='"+(W=u.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==I&&(N="<div style='background-color: "+J+"; border-left-color: "+J+"' class='"+(W=u.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),O=N,N=""),L="",Z=H+"<br/>"+ie,!u.renderAppointment||(U=u.renderAppointment({appointment:se.appointment.boundAppointment,textColor:K,background:G,borderColor:J,html:Z,cssClass:"",style:"",width:se.width,height:se.height,view:u._views[u._view].type}))&&((oe=U.html)!=Z&&(Z=oe),K=U.textColor,G=U.background,J=U.borderColor,U.cssClass&&(L=U.cssClass+" "),""!=U.style&&(G=(X=u.getAppointmentColors(U.style)).background,J=X.border,K=X.color)),""===Q&&(Q=E?"<div style='white-space:nowrap;' class='"+u.toTP("jqx-scheduler-appointment-content")+"'>"+N+"<div class='"+u.toTP("jqx-scheduler-appointment-inner-content")+"'>"+Z+"</div>"+O+"</div>":"<div style='white-space:nowrap;' class='"+u.toTP("jqx-scheduler-appointment-content")+"'><div class='"+u.toTP("jqx-scheduler-appointment-inner-content")+"'>"+Z+"</div></div>"),Y="",u.rtl&&(Y=u.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),oe=F?($="white"==K.toLowerCase()?u.toTP("jqx-icon-recurrence-exception-white"):u.toTP("jqx-icon-recurrence-exception"),"<div data-key='"+se.appointment.id+"'"+M+"class='"+Y+L+u.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+se.x+"px; top: "+se.y+"px; width: "+se.width+"px; height: "+se.height+"px; line-height: "+se.height+"px; border-color:"+J+"; color:"+K+"; background:"+G+";'><div class='"+$+"'></div>"+Q+"<div class='"+u.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+u.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):V?(ee="white"==K.toLowerCase()?u.toTP("jqx-icon-recurrence-white"):u.toTP("jqx-icon-recurrence"),"<div data-key='"+se.appointment.id+"'"+M+"class='"+Y+L+u.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+se.x+"px; top: "+se.y+"px; width: "+se.width+"px; height: "+se.height+"px; line-height: "+se.height+"px; border-color:"+J+"; color:"+K+"; background:"+G+";'><div class='"+ee+"'></div>"+Q+"<div class='"+u.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+u.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):"<div data-key='"+se.appointment.id+"'"+M+"class='"+Y+L+u.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+se.x+"px; top: "+se.y+"px; width: "+se.width+"px; height: "+se.height+"px; line-height: "+se.height+"px; border-color:"+J+"; color:"+K+"; background:"+G+";'>"+Q+"<div class='"+u.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+u.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>",(ae=Ie(oe)).appendTo(this.table),se.element=ae,this.appointmentTooltips&&(se.appointment.tooltip?ae[0].setAttribute("title",se.appointment.tooltip):(te=se.appointment.subject)&&((ie=se.appointment.location)&&(te+="\n"+ie),ae[0].setAttribute("title",te))))}function ne(e){for(var t=0;t<re.length;t++){if(re[t].getAttribute("data-key")==e)return re[t]}}for(var re=u.table.find(".jqx-scheduler-appointment"),_=0;_<z.length;_++){var se=z[_],ae=Ie(ne(se.appointment.id));Ie.each(se.cells,function(e){var t,d=Ie(this.cell),h=se.cellY,c=(se.cellX,se.cellHeight);d[0].appointments||(d[0].appointments=new Array),d[0].appointments.push({ui:ae,appointment:se}),ae=ae,se.y+se.height>=h+c-12&&(ae[0].style.visibility="hidden",0<(t=d.find(".jqx-icon-arrow-down")).length&&(t[0].style.display="block",t[0].mousedown=function(){u.openedMonthCellPopup&&u.openedMonthCellPopup.remove();var e=Ie("<div></div>"),t=(new Ie.jqx.date(d.attr("data-date"),u.timeZone),Ie("<div class='"+u.toTP("jqx-scheduler-month-cell")+"'><span style='float: right; cursor: pointer; width:16px; height: 16px;' class='"+u.toTP("jqx-icon-close")+"'></span></div>"));t.height(16),t.find("span")[0].mousedown=function(){e.remove()},t.addClass(u.toTP("jqx-widget-header")),e.addClass(u.toTP("jqx-widget")),e.addClass(u.toTP("jqx-window")),e.addClass(u.toTP("jqx-scheduler-month-cell-popup")),e.addClass(u.toTP("jqx-popup"));var i=Ie("<div></div>");e.append(t),e.append(i),i.addClass(u.toTP("jqx-widget-content"));for(var o=d.width(),n=21,r=0;r<d[0].appointments.length;r++){var s=d[0].appointments[r].ui.clone(!0);s.css("left","3px"),s.css("top","0px"),s.css("margin-top","2px"),s.css("position","relative"),s.css("visibility","visible"),s.width(o-6),s.click(function(e){var t=u.getJQXAppointmentByElement(u.getAppointmentElement(e.target));u._raiseEvent("appointmentClick",{appointment:t.boundAppointment})}),s.dblclick(function(e){var t=u.getJQXAppointmentByElement(u.getAppointmentElement(e.target));t.readOnly||u.editRecurrenceDialog.jqxWindow("isOpen")||u._editDialog&&(!u._editDialog||u._editDialog.jqxWindow("isOpen"))||!1!==u._initDialog(t)&&u._openDialog(),u._raiseEvent("appointmentDoubleClick",{appointment:t.boundAppointment})}),n+=s.outerHeight()+4,i.append(s)}e.css("overflow","hidden"),e.css("position","absolute");var a=u.table.height()-h-25;a<c&&(a=c),e.css("max-height",a),e.height(n),e.width(o),e.css("z-index","9999");var l=d.position();e.css("top",l.top),e.css("left",l.left),u.table.append(e),u.openedMonthCellPopup=e}))})}},_renderMonthAppointments:function(){var e=this,t=(e._views[e._view].type,e._views[e._view]),i=new Array,o=(this.rows,0);0<this.host.find(".jqx-scheduler-month-cell").length&&(o=Ie(this.host.find(".jqx-scheduler-month-cell")[0]).height());for(var n=0;n<this.appointmentsToRender.length;n++){function r(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0}var s=this.appointmentsToRender[n],a=Ie.jqx.scheduler.utilities.getStartOfDay(s.from),l=Ie.jqx.scheduler.utilities.getEndOfDay(s.to),d=(s.allDay,new Array),h=new Array,c=a.toDate().valueOf(),u=l.toDate().valueOf(),p=-1,m=s.resourceId,f=e._resources.indexOf(m);e.resources&&"none"==e.resources.orientation&&(f=-1);for(var g=0;g<e.rows.length;g++)for(var w=e.rows[g].cells,v=0;v<w.length;v++){var y=w[v].getAttribute("data-date"),x=this._getDateByString(y),b=x.valueOf();l<b||(w[v].appointments=new Array,-1!=f&&1+f!=w[v].getAttribute("data-view")||c<=b&&b<u&&(p!=g&&-1!=p&&(d.sort(r),h.push(d),d=new Array),d.push({cell:w[v],date:x}),p=g))}d.sort(r),h.push(d);for(var A=new Array,g=0;g<h.length;g++){if(0==(w=h[g]).length)break;var T=e.appointmentsMinHeight;e.isTouchDevice()&&(T=e.touchAppointmentsMinHeight),t.appointmentHeight&&(T=t.appointmentHeight);var _=T,S=Ie(w[w.length-1].cell).position().left,D=S-Ie(w[0].cell).position().left+e.columns.records[0].width;t.showWeekNumbers&&(D=S-Ie(w[0].cell).position().left+e.columns.records[1].width);var j=Ie(w[0].cell).position(),q=j.left,C=j.top+o,k=Ie.jqx.scheduler.utilities.getEndOfDay(new Ie.jqx.date(w[w.length-1].date,e.timeZone)),B=new Ie.jqx.date(w[0].date,e.timeZone);e.rtl&&(k=Ie.jqx.scheduler.utilities.getEndOfDay(new Ie.jqx.date(w[0].date,e.timeZone)),B=new Ie.jqx.date(w[w.length-1].date,e.timeZone),q=(j=Ie(w[w.length-1].cell).position()).left,C=j.top+o,D=(S=Ie(w[0].cell).position().left)-Ie(w[w.length-1].cell).position().left+e.columns.records[0].width,t.showWeekNumbers&&(D=S-Ie(w[w.length-1].cell).position().left+e.columns.records[1].width));var R={cells:w,cellY:parseInt(j.top),cellX:parseInt(j.left),lastCellY:parseInt(j.top),lastCellX:S,x:q,y:C,height:_,width:D,appointment:s,from:B,to:k};A.push(R),i.push(R)}s.elements=A,s.rootAppointment&&(s.rootAppointment.elements=s.rootAppointment.elements.concat(s.elements))}var z=this.getViewStart(),H=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var P=new Array,M=z,V=0;M<H;){P[V]=new Array;for(g=0;g<i.length;g++){var F=i[g];M<=F.from&&F.to<M.addDays(7)&&(F.row=-1,F.rowSpan=1,P[V].push(F))}V++,M=M.addDays(7)}for(var I=M=z,g=0;g<P.length;g++){if(0<P[g].length){for(var E=P[g],O=[],v=0;v<7;v++){var W=E.filter(function(e){return Ie.jqx.scheduler.utilities.rangeIntersection(e.from,e.to,M,Ie.jqx.scheduler.utilities.getEndOfDay(M))});M=M.addDays(1);for(var N=0;N<W.length&&!(20<=N);N++){s=W[N];-1===O.indexOf(s)&&O.push(s)}}this._renderUIMonthAppointments(O)}I=I.addDays(7),M=I}}else for(v=0;v<this._resources.length;v++){for(var L=this._resources[v],P=(new Array,new Array),M=z,V=0;M<H;){P[V]=new Array;for(g=0;g<i.length;g++){F=i[g];M<=F.from&&F.to<M.addDays(7)&&(F.row=-1,F.rowSpan=1,F.appointment.resourceId==L&&P[V].push(F))}V++,M=M.addDays(7)}for(g=0;g<P.length;g++)0<P[g].length&&this._renderUIMonthAppointments(P[g])}},_getMonthAppointmentsPerWeek:function(){var e=this,t=(e._views[e._view].type,e._views[e._view]),i=new Array,o=(this.rows,0);if(0<this.host.find(".jqx-scheduler-month-cell").length&&(o=Ie(this.host.find(".jqx-scheduler-month-cell")[0]).height()),!e.rows)return new Array;for(var n=this.getViewStart(),r=this.getViewEnd(),s=0;s<this.appointmentsToRender.length;s++){function a(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0}var l=this.appointmentsToRender[s],d=Ie.jqx.scheduler.utilities.getStartOfDay(l.from),h=Ie.jqx.scheduler.utilities.getEndOfDay(l.to),c=(l.allDay,e._getDateByString,new Array),u=new Array,p=d.toDate().valueOf(),m=h.toDate().valueOf(),f=-1,g=l.resourceId,w=e._resources.indexOf(g);e.resources&&"none"==e.resources.orientation&&(w=-1);for(var v=0;v<e.rows.length;v++)for(var y=e.rows[v].cells,x=0;x<y.length;x++){y[x].getAttribute("data-date");var b=n.addDays(7*v+x).toDate(),A=b.valueOf();h<A||-1!=w&&1+w!=y[x].getAttribute("data-view")||p<=A&&A<m&&(f!=v&&-1!=f&&(c.sort(a),u.push(c),c=new Array),c.push({cell:y[x],date:b}),f=v)}c.sort(a),u.push(c);for(var T=new Array,v=0;v<u.length;v++){if(0==(y=u[v]).length)break;var _=e.appointmentsMinHeight;e.isTouchDevice()&&(_=e.touchAppointmentsMinHeight),t.appointmentHeight&&(_=t.appointmentHeight);var S=_,D=Ie(y[y.length-1].cell).position().left,j=D-Ie(y[0].cell).position().left+e.columns.records[0].width;t.showWeekNumbers&&(j=D-Ie(y[0].cell).position().left+e.columns.records[1].width);var q=Ie(y[0].cell).position(),C=q.left,k=q.top+o,B=Ie.jqx.scheduler.utilities.getEndOfDay(new Ie.jqx.date(y[y.length-1].date,e.timeZone)),R=new Ie.jqx.date(y[0].date,e.timeZone);e.rtl&&(B=Ie.jqx.scheduler.utilities.getEndOfDay(new Ie.jqx.date(y[0].date,e.timeZone)),R=new Ie.jqx.date(y[y.length-1].date,e.timeZone),C=(q=Ie(y[y.length-1].cell).position()).left,k=q.top+o,j=(D=Ie(y[0].cell).position().left)-Ie(y[y.length-1].cell).position().left+e.columns.records[0].width,t.showWeekNumbers&&(j=D-Ie(y[y.length-1].cell).position().left+e.columns.records[1].width));var z={cells:y,cellY:parseInt(q.top),cellX:parseInt(q.left),lastCellY:parseInt(q.top),lastCellX:D,x:C,y:k,height:S,width:j,appointment:l,from:R,to:B};T.push(z),i.push(z)}}if(this._resources.length<2||"none"==this.resources.orientation){for(var H=new Array,P=n,M=0;P<r;){H[M]=new Array;for(v=0;v<i.length;v++){P<=(I=i[v]).from&&I.to<P.addDays(7)&&(I.row=-1,I.rowSpan=1,H[M].push(I))}M++,P=P.addDays(7)}for(var V=new Array,v=0;v<H.length;v++){0<H[v].length?(E=this.getMaxMonthAppointments(H[v]),_=e.appointmentsMinHeight,e.isTouchDevice()&&(_=e.touchAppointmentsMinHeight),t.appointmentHeight&&(_=t.appointmentHeight),V.push(E*(_+3)+22)):V.push("auto")}return V}for(V=new Array,x=0;x<this._resources.length;x++){for(var F=this._resources[x],H=(new Array,new Array),P=n,M=0;P<r;){H[M]=new Array;for(var I,v=0;v<i.length;v++){P<=(I=i[v]).from&&I.to<P.addDays(7)&&(I.row=-1,I.rowSpan=1,I.appointment.resourceId==F&&H[M].push(I))}M++,P=P.addDays(7)}for(var E,v=0;v<H.length;v++){0<H[v].length?(E=this.getMaxMonthAppointments(H[v]),V.push(E*(_+3)+22)):V.push("auto")}return V}},_renderUIMonthAppointments:function(e){var t=this._views[this._view],i=e,d=(this.getViewStart(),this.getViewEnd(),this),o=this.getMaxMonthAppointments(e),n=d.appointmentsMinHeight;d.isTouchDevice()&&(n=d.touchAppointmentsMinHeight),t.appointmentHeight&&(n=t.appointmentHeight);var r=this._sortAppointmentsByFrom;this.rtl&&(r=this._sortAppointmentsByTo);for(var s=0;s<e.length;s++){(g=e[s]).row=-1,(f=this.getCollisionAppointments(g,e)).sort(r);var a=f.indexOf(g);if(0<=a)for(var l=a;l<f.length;l++)f[l].row=-1;for(var h=0;h<o;h++){var c,u,p=h;for(var m in f){if("indexOf"==m)break;-1!=(y=f[m]).row||this.isBusyRow(p,f)||(y.row=p,c=o,(u=this.getMaxMonthAppointments(f))<c&&(c=u),y.rowsCount=c)}}}for(h=0;h<i.length;h++){var f,g=i[h];(f=this.getCollisionAppointments(g,i)).sort(r);var w=1;for(var m in f){if("indexOf"==m)break;var v=f[m],w=Math.max(w,v.rowsCount)}for(var m in f){if("indexOf"==m)break;(v=f[m]).rowsCount=w}if(1==f.length)g.rowSpan=w;else{for(var y,x=0,b=!0,l=g.row;l<w;l++){for(var m in f){if("indexOf"==m)break;(y=f[m])!=g&&y.row==l&&(b=!1)}if(!b)break;x++}g.rowSpan=x}}for(var A=0;A<i.length;A++){var T,_,S,D=n,j=2+(3+((g=i[A]).height=D))*g.row;g.y=g.y+j,g.x+=1,g.width-=5,0==g.appointment.from.hour()&&23==g.appointment.to.hour()||(d.rtl?(T=parseFloat(d.cellWidth/24)*g.appointment.to.hour()+parseFloat(d.cellWidth/48)*(g.appointment.to.minute()/30),_=parseFloat(d.cellWidth/24)*g.appointment.from.hour()+parseFloat(d.cellWidth/48)*(g.appointment.from.minute()/30),1<g.appointment.elements.length?g==g.appointment.elements[0]?0<_?"exactTime"==t.appointmentsRenderMode?(g.width-=d.cellWidth-T,g.width-=_):g.timewidth=g.width-d.cellWidth+T-_:(g.timewidth=g.width,g.timex=0):g==g.appointment.elements[g.appointment.elements.length-1]&&("exactTime"==t.appointmentsRenderMode&&(g.x+=d.cellWidth,g.x-=T,g.width+=T,g.width-=d.cellWidth),g.timewidth=g.width-d.cellWidth+T,g.timex=d.cellWidth-T):("exactTime"==t.appointmentsRenderMode&&(g.x+=d.cellWidth,g.x-=T,g.width-=d.cellWidth-T,g.width-=_),g.appointment.duration().days()<1&&g.width<15&&(g.width=15),g.timewidth=g.width-d.cellWidth+T-_,g.timex=d.cellWidth-T)):(T=parseFloat(d.cellWidth/24)*g.appointment.from.hour()+parseFloat(d.cellWidth/48)*(g.appointment.from.minute()/30),g.timewidth=g.width,g.from.clearTime().toString()==g.appointment.from.clearTime().toString()?g.timex=T:T=0,1<g.appointment.elements.length&&g.appointment.elements[0]!=g&&(T=0),_=parseFloat(d.cellWidth/24)*g.appointment.to.hour()+parseFloat(d.cellWidth/48)*(g.appointment.to.minute()/30),1<g.appointment.elements.length&&g.appointment.elements[g.appointment.elements.length-1]!=g&&(_=0),g.timewidth-=T,0<_&&(g.timewidth-=d.cellWidth,g.timewidth+=_),"exactTime"==t.appointmentsRenderMode&&(g.from.clearTime().toString()==g.appointment.from.clearTime().toString()&&(g.x+=T),g.width=g.timewidth,g.appointment.duration().days()<1&&g.width<15&&T+(g.width=15)>d.cellWidth&&(S=d.cellWidth-T-15,g.x+=S))))}for(A=0;A<i.length;A++){var q=i[A],C="",k="auto",t=this._views[this._view],B=q.appointment.from,R=q.appointment.to,k="auto",t=this._views[this._view],B=q.appointment.from,R=q.appointment.to;t.timeRuler&&t.timeRuler.formatString&&(k=t.timeRuler.formatString);var z=k,H=k;"auto"===k&&(z=0==B.hour()&&0==B.minute()||12==B.hour()&&0==B.minute()?"hh tt":"hh:mm",H=0==R.hour()&&0==R.minute()||12==R.hour()&&0==R.minute()?"hh tt":"hh:mm");var P=B.toString(z),M=R.toString(H),V=q.appointment.duration(),F=q.appointment.allDay||23===V.hours&&59===V.minutes&&59===V.seconds,I=q.appointment.background,E=q.appointment.subject?q.appointment.subject:"(No Title)",O=q.appointment.color,W=q.appointment.resourceId,N=d.getColors(d._resources.indexOf(W)),L=" data-resourceId='"+W+"' ",Z=q.appointment.borderColor,U=q.appointment.location;U&&1<U.length&&(U=", "+U),I=I||N.background,Z=Z||N.border,O=O||N.color;var X=q.appointment.isRecurrentAppointment(),G=q.appointment.isException(),J="",K=d.toTP("jqx-scheduler-appointment-status"),Q="",Y=d.statuses[q.appointment.status],$=!1;Y&&($="transparent"!=Y&&(Q="<div style='background: "+Y+"; border-right-color: "+Z+"' class='"+K+"'></div>","tentative"==Y&&(Q="<div style='background-color: "+Z+"; border-right-color: "+Z+"' class='"+(K=d.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),!0));var ee=d.toTP("jqx-scheduler-appointment-duration-status"),te="<div style='width: "+q.timewidth+"px; left: "+q.timex+"px;' class='"+ee+"'></div>";F&&(te=""),"exactTimeStatus"!=t.appointmentsRenderMode&&(te="");var ie="";d.rtl&&(Q="<div style='background: "+Y+"; border-left-color: "+Z+"' class='"+(K=d.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==Y&&(Q="<div style='background-color: "+Z+"; border-left-color: "+Z+"' class='"+(K=d.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),ie=Q,Q="");var oe,ne="",re=F?E+U:E+U+te;!d.renderAppointment||(oe=d.renderAppointment({appointment:q.appointment.boundAppointment,textColor:O,background:I,borderColor:Z,html:re,cssClass:"",style:"",width:q.width,height:q.height,view:d._views[d._view].type}))&&((C=oe.html)!=re&&(re=C),O=oe.textColor,I=oe.background,Z=oe.borderColor,oe.cssClass&&(ne=oe.cssClass+" "),""!=oe.style&&(I=(N=d.getAppointmentColors(oe.style)).background,Z=N.border,O=N.color)),""===J&&(J=$?"<div style='white-space:nowrap;' class='"+d.toTP("jqx-scheduler-appointment-content")+"'>"+Q+"<div class='"+d.toTP("jqx-scheduler-appointment-inner-content")+"'>"+re+"</div>"+ie+"</div>":"<div style='white-space:nowrap;' class='"+d.toTP("jqx-scheduler-appointment-content")+"'><div class='"+d.toTP("jqx-scheduler-appointment-inner-content")+"'>"+re+"</div></div>");var se,ae,le="";d.rtl&&(le=d.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),C=G?(se="white"==O.toLowerCase()?d.toTP("jqx-icon-recurrence-exception-white"):d.toTP("jqx-icon-recurrence-exception"),"<div data-key='"+q.appointment.id+"'"+L+"class='"+le+ne+d.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+q.x+"px; top: "+q.y+"px; width: "+q.width+"px; line-height: "+q.height+"px; height: "+q.height+"px; border-color:"+Z+"; color:"+O+"; background:"+I+";'><div class='"+se+"'></div>"+J+"<div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):X?(ae="white"==O.toLowerCase()?d.toTP("jqx-icon-recurrence-white"):d.toTP("jqx-icon-recurrence"),"<div data-key='"+q.appointment.id+"'"+L+"class='"+le+ne+d.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+q.x+"px; top: "+q.y+"px; width: "+q.width+"px; line-height: "+q.height+"px; height: "+q.height+"px; border-color:"+Z+"; color:"+O+"; background:"+I+";'><div class='"+ae+"'></div>"+J+"<div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):"<div data-key='"+q.appointment.id+"'"+L+"class='"+le+ne+d.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+q.x+"px; top: "+q.y+"px; width: "+q.width+"px; line-height: "+q.height+"px; height: "+q.height+"px; border-color:"+Z+"; color:"+O+"; background:"+I+";'>"+J+"<div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var de,he=Ie(C);he.appendTo(this.table),q.element=he,this.appointmentTooltips&&(q.appointment.tooltip?he[0].setAttribute("title",q.appointment.tooltip):(de=q.appointment.subject,P&&!F&&(de=P+" - "+M+" "+de),de&&((U=q.appointment.location)&&(de+="\n"+U),he[0].setAttribute("title",de))));Ie.each(q.cells,function(){var e,a=Ie(this.cell),l=a.position();a[0].appointments||(a[0].appointments=new Array),a[0].appointments.push({ui:he,appointment:q}),q.y+q.height+2>=l.top+a.height()&&(he.css("visibility","hidden"),(e=a.find(".jqx-icon-arrow-down")).show(),e[0]&&(e[0].mousedown=function(){d.openedMonthCellPopup&&d.openedMonthCellPopup.remove();var e=Ie("<div></div>"),t=a.find("div").clone(!0);t.find("span").removeClass().addClass(d.toTP("jqx-icon-close")),t.find("span")[0].mousedown=function(){e.remove()},t.addClass(d.toTP("jqx-widget-header")),e.addClass(d.toTP("jqx-widget")),e.addClass(d.toTP("jqx-window")),e.addClass(d.toTP("jqx-scheduler-month-cell-popup")),e.addClass(d.toTP("jqx-popup"));var i=Ie("<div></div>");e.append(t),e.append(i),i.addClass(d.toTP("jqx-widget-content jqx-disableselect"));for(var o=a.width(),n=5+a.find("div").outerHeight(),r=0;r<a[0].appointments.length;r++){var s=a[0].appointments[r].ui.clone(!0);s.css("left","3px"),s.css("top","0px"),s.css("margin-top","2px"),s.css("position","relative"),s.css("visibility","visible"),s.width(o-6),n+=s.outerHeight()+4,i.append(s),s.click(function(e){var t=d.getJQXAppointmentByElement(d.getAppointmentElement(e.target));d._raiseEvent("appointmentClick",{appointment:t.boundAppointment})}),s.dblclick(function(e){var t=d.getJQXAppointmentByElement(d.getAppointmentElement(e.target));t.readOnly||d.editRecurrenceDialog.jqxWindow("isOpen")||d._editDialog&&(!d._editDialog||d._editDialog.jqxWindow("isOpen"))||!1!==d._initDialog(t)&&d._openDialog(),d._raiseEvent("appointmentDoubleClick",{appointment:t.boundAppointment})})}e.css("overflow","hidden"),e.css("position","absolute"),e.height(n),e.width(o),e.css("z-index","9999"),e.css("top",l.top),e.css("left",l.left),d.table.append(e),d.openedMonthCellPopup=e}))})}},_sortByDate:function(e,t){var i=e.getAttribute("data-date"),i=this._getDateByString(i),o=t.getAttribute("data-date");return i<(o=this._getDateByString(o))?-1:o<i?1:i==o?0:void 0},_sortAppointmentsByFrom:function(e,t){if(e.from.dateData===t.from.dateData){var i=1e4*(e.to.dateData-e.from.dateData);if(1e4*(t.to.dateData-t.from.dateData)<i)return-1}return e.from.dateData<t.from.dateData?-1:e.from.dateData>t.from.dateData?1:e.from.dateData==t.from.dateData?0:void 0},_sortAppointmentsByTo:function(e,t){if(e.to.equals(t.to)){var i=1e4*(e.to-e.from);if(1e4*(t.to-t.from)<i)return-1}return e.to<t.to?-1:e.to>t.to?1:e.to==t.to?0:void 0},_sortAppointmentsByResourceId:function(e,t,i){var o=i._resources.indexOf(e.resourceId),n=i._resources.indexOf(t.resourceId);return o==n?0:o<n||n<o?-1:void 0},isBusyRow:function(e,t){for(var i=0;i<t.length;i++){if(t[i].row==e)return!0}return!1},isBusyColumn:function(e,t){for(var i=0;i<t.length;i++){if(t[i].column==e)return!0}return!1},getMaxTimelineAppointments:function(e,t,i,o){if(0==e.length)return 1;var n=this,r=n._views[n._view].type,s=(n._views[n._view],1),a=i,l=this.getMinutesPerScale(),d=null,h=null,c="";for(var u in e){if("indexOf"==u)break;var p=e[u],d=d||p.from.dateData,h=h||p.to.dateData;p.from.dateData<d&&(d=p.from.dateData),p.to.dateData>h&&(h=p.to.dateData),c+=p.appointment.id}if(c+=d,t[c+=h])return t[c];d=new Ie.jqx.date(d,n.timeZone),h=new Ie.jqx.date(h,n.timeZone);for(a=d;d<h;){var m,f=a;m="timelineMonthView"===r?f.addDays(1):f.addMinutes(l);var g=0;for(var u in e){if("indexOf"==u)break;var w=(p=e[u]).from,v=p.to;Ie.jqx.scheduler.utilities.rangeIntersection(f,m,w,v)&&g++}s=Math.max(g,s),a="timelineMonthView"===r?a.addDays(1,!1):a.addMinutes(l,!1)}return t[c]=s},getMaxMonthAppointments:function(e){this._views[this._view].type,this._views[this._view];if(0==e.length)return 1;for(var t=1,i=this.getViewStart().clone(),o=this.getViewEnd();i<o;){var n=i,r=Ie.jqx.scheduler.utilities.getEndOfDay(n),s=0;for(var a in e){if("indexOf"==a)break;var l=e[a],d=l.from,h=l.to;Ie.jqx.scheduler.utilities.rangeIntersection(n,r,d,h)&&s++}t=Math.max(s,t),i=i.addDays(1,!1)}return t},getMaxAllDayAppointments:function(e){this._views[this._view].type,this._views[this._view];var u=this;if(0==e.length)return 1;function t(e){for(var t=1,i=u.getViewStart(),o=u.getViewEnd();i<o;){var n=i,r=Ie.jqx.scheduler.utilities.getEndOfDay(n),s=0;for(var a in e){if("indexOf"==a)break;var l,d,h=e[a],c=h;h.appointment&&(c=h.appointment),1!=c.hidden&&c.duration&&(c.allDay||1<=c.duration().days())&&(l=h.from,d=h.to,Ie.jqx.scheduler.utilities.rangeIntersection(n,r,l,d)&&s++)}t=Math.max(s,t),i=i.addDays(1,!1)}return t}if(this._resources.length<2||!this.resources.orientation||"none"==this.resources.orientation)var i=t(e);else{for(var o=1,n=0;n<this._resources.length;n++){for(var r=this._resources[n],s=new Array,a=0;a<e.length;a++)(e[a].appointment&&e[a].appointment.resourceId==r||null!=e[a].resourceId&&e[a].resourceId==r)&&s.push(e[a]);i=t(s),o=Math.max(o,i)}i=o}return i},getMinutesPerScale:function(){this._views[this._view].type;var e=this._views[this._view],t=30,i="halfHour";switch(e.timeRuler&&e.timeRuler.scale&&(i=e.timeRuler.scale),i){case"sixtyMinutes":case"hour":t=60;break;case"thirtyMinutes":case"halfHour":t=30;break;case"fifteenMinutes":case"quarterHour":t=15;break;case"tenMinutes":t=10;break;case"fiveMinutes":t=5}return t},getMaxColumnsInADay:function(e){this._views[this._view].type;var t=this._views[this._view],i=30,o="halfHour";switch(t.timeRuler&&t.timeRuler.scale&&(o=t.timeRuler.scale),o){case"sixtyMinutes":case"hour":i=60;break;case"thirtyMinutes":case"halfHour":i=30;break;case"fifteenMinutes":case"quarterHour":i=15;break;case"tenMinutes":i=10;break;case"fiveMinutes":i=5}if(0==e.length)return 1;for(var n=1,r=e[0].from.clone(),s=r.addMinutes(i),a=Ie.jqx.scheduler.utilities.getEndOfDay(r);r<a;){var l=r,d=s,h=0;for(var c in e){if("indexOf"==c)break;var u,p,m=e[c];(m.from||m.to)&&(u=m.from,p=m.to,Ie.jqx.scheduler.utilities.rangeIntersection(l,d,u,p)&&h++)}n=Math.max(h,n),r=r.addMinutes(i,!1),s=s.addMinutes(i,!1)}return n},getTouches:function(e){return Ie.jqx.mobile.getTouches(e)},_updatecolumnwidths:function(){var c=this._hostWidth,u=c;"hidden"!==this.vScrollBar.css("visibility")&&0<this.scrollBarSize&&(c-=parseInt(this.scrollBarSize)+6,this.rtl&&(c+=3),u=c);var p,m,f,e,g,w;null!=this.columns&&null!=this.columns.records&&(p=this,m=!1,f=new Array,Ie.each(this.columns.records,function(e,t){this.hidden||(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth?(t=0,"hidden"==p.vScrollBar[0].style.visibility||p.scrollBarSize,p.scrollBarSize,t=parseFloat(this.width)*u/100,null!=this._percentagewidth&&(t=parseFloat(this._percentagewidth)*u/100),t<this.minwidth&&"auto"!=this.minwidth&&(t=this.minwidth),t>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),c-=Math.round(t)):"auto"==this.width||this._width?this.text:c-=this.width,"auto"==this._width&&(f[f.length]=this))}),0!=(e=this.columnsheader.find("#columntable"+this.element.id)).length&&(g=0,e.find(".jqx-grid-column-header"),w=0,Ie.each(this.columns.records,function(e,t){var i,o,n,r,s,a=this.element,l=!1,d=this.width,h=this.width;-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(d=null!=this._percentagewidth?parseFloat(this._percentagewidth)*u/100:parseFloat(this.width)*u/100,d=Math.round(d),l=!0),"auto"==this.width||this._width||l?l?(d<this.minwidth&&"auto"!=this.minwidth&&(d=this.minwidth,this.width=d),d>this.maxwidth&&"auto"!=this.maxwidth&&(d=this.maxwidth,this.width=d),parseInt(a[0].style.width)!=d&&(a.width(d),this.width=d)):(i=p.columns.records.length,"dayView"===(o=p._views[p._view].type)||"weekView"===o?((n=p._views[p._view]).timeRuler&&n.timeRuler.timeZones&&(i-=n.timeRuler.timeZones.length),i--):"monthView"===o&&p._views[p._view].showWeekNumbers&&i--,r=Math.floor(c*(1/i)),p.resources&&p.resources.resourceColumnWidth&&"auto"!=p.resources.resourceColumnWidth?r=p.resources.resourceColumnWidth:p.resources&&p.resources.resourceColumnWidth&&"auto"==p.resources.resourceColumnWidth&&"horizontal"==p.resources.orientation&&(r=Math.round((2+c)*(1/p._getColumnsLengthPerView()))),1<=(g+=c*(1/i)-r)&&(--g,r++),.5<=g&&e==p.columns.records.length-1&&r++,"agendaView"==o&&(r=c/f.length,r++),r<0&&(s=Ie("<span>"+this.text+"</span>"),Ie(document.body).append(s),r=10+s.width(),s.remove()),r<this.minwidth&&(r=this.minwidth),r>this.maxwidth&&(r=this.maxwidth),this._width="auto",this.width=parseInt(r),a.width(this.width)):parseInt(a[0].style.width)!=this.width&&a.width(this.width),parseInt(a[0].style.left)!=w&&a.css("left",w),this.hidden||(w+=this.width),this._requirewidthupdate=!0,h!==this.width&&(m=!0)}),this.columnsheader.width(2+w),e.width(this.columnsheader.width()),this._resizecolumnGroups(),m&&(this._renderrows(),p._arrange())))},_rendercolumnheaders:function(){var g=this;if(!this._updating){var w=this._views[this._view];this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var v=Ie('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');v[0].cells=new Array;var y=0;this._hostWidth||(this._hostWidth=this.host.width());var x=this._hostWidth,b=x,e=this.getRows().length,t=this.rowsHeight;this.isTouchDevice()&&(t=this.touchRowsHeight),e*t>this.host.height()&&(this.vScrollBar[0].style.visibility="inherit"),"hidden"!==this.vScrollBar.css("visibility")&&0<this.scrollBarSize&&(x-=parseInt(this.scrollBarSize)+6,this.rtl&&(x+=3),b=x);var i=new Array,A=new Array;if(Ie.each(this.columns.records,function(e,t){this.hidden||("auto"==this.width||this._width?this.text:this.width<this.minwidth&&"auto"!=this.minwidth?x-=this.minwidth:this.width>this.maxwidth&&"auto"!=this.maxwidth?x-=this.maxwidth:-1!=this.width.toString().indexOf("%")?(t=0,(t=parseFloat(this.width)*b/100)<this.minwidth&&"auto"!=this.minwidth&&(t=this.minwidth),t>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),x-=t):("string"==typeof this.width&&(this.width=parseInt(this.width)),x-=this.width)),null!=this.width&&"auto"!=this.width||(A[A.length]=this),i[i.length]=this}),this.rtl)for(var o=0;o<i.length;o++)this.columns.replace(o,i[o]);var T=this.headerZIndex,_=g.columnsHeight,S=0,D=document.createDocumentFragment();Ie.each(this.columns.records,function(e,t){var i,o;this.height=g.columnsHeight,g.columnGroups&&g.columnGroups.length&&(this.height=(this.datafield,i=this,o=g.columnGroupslevel*g.columnsHeight,o-=i.level*g.columnsHeight),_=this.height);var n=g.toTP("jqx-grid-column-header")+" "+g.toTP("jqx-widget-header");g.rtl&&(n+=" "+g.toTP("jqx-grid-column-header-rtl")),g.enableBrowserSelection||(n+=" "+g.toTP("jqx-disableselect"));var r=g.rtl?T++:T--,s=document.createElement("div");s.setAttribute("role","columnheader"),s.style.position="absolute",s.style.zIndex=r,s.style.height="100%",s.className=n;var a=Ie(s);g.rtl&&0===e&&(a[0].style.borderLeftColor="transparent"),g.columnGroups?(a[0].style.height=_+"px",a[0].style.bottom="0px"):this.timeColumn||(a[0].style.height=-1+_+"px"),this.uielement=a,this.element=a,""!=this.classname&&this.classname&&a.addClass(this.classname);var l,d,h,c,u,p=this.width,m=!1;null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(p=null!=this._percentagewidth?parseFloat(this._percentagewidth)*b/100:parseFloat(this.width)*b/100,p=Math.round(p),m=!0),"auto"==this.width||this._width||m?m?(p<this.minwidth&&"auto"!=this.minwidth&&(p=this.minwidth),p>this.maxwidth&&"auto"!=this.maxwidth&&(p=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),a.width(p),this.width=p):(l=g.columns.records.length,"dayView"===(d=g._views[g._view].type)||"weekView"===d?((h=g._views[g._view]).timeRuler&&h.timeRuler.timeZones&&(l-=h.timeRuler.timeZones.length),l--):"monthView"===d&&g._views[g._view].showWeekNumbers&&l--,c=Math.floor(x*(1/l)),g.resources&&g.resources.resourceColumnWidth&&"auto"!=g.resources.resourceColumnWidth?c=g.resources.resourceColumnWidth:g.resources&&g.resources.resourceColumnWidth&&"auto"==g.resources.resourceColumnWidth&&"horizontal"==g.resources.orientation&&(c=Math.round((2+x)*(1/g._getColumnsLengthPerView()))),1<=(S+=x*(1/l)-c)&&(--S,c++),.5<=S&&e==g.columns.records.length-1&&c++,isNaN(c)&&(c=this.minwidth),"agendaView"==d&&(c=x/A.length,c++),c<0&&(u=Ie("<span>"+this.text+"</span>"),Ie(document.body).append(u),c=10+u.width(),u.remove()),c<this.minwidth&&(c=this.minwidth),c>this.maxwidth&&(c=this.maxwidth),this._width="auto",this.width=parseInt(c),p=this.width,a.width(this.width)):(p<this.minwidth&&"auto"!=this.minwidth&&(p=this.minwidth),p>this.maxwidth&&"auto"!=this.maxwidth&&(p=this.maxwidth),a[0].style.width=parseInt(p)+"px"),this.timeColumn&&(a.css("border-bottom-color","transparent"),w.timeRuler&&w.timeRuler.timeZones&&e<w.timeRuler.timeZones.length&&a.css("border-right-color","transparent"),1==this.tableRows&&a.addClass(g.toTP("jqx-scheduler-time-column"))),this.hidden&&a.css("display","none");Ie(a.children()[0]);v[0].cells[e]=a[0];var f=g._rendercolumnheader(this.text,this.align,_,g);a[0].innerHTML=f,D.appendChild(a[0]);a[0].style.left=y+"px",this.hidden||(y+=p)}),v[0].appendChild(D),this.columnsheader[0].style.width=0<y?2+y+"px":y+"px",this._columnswidth=y,this.columnsrow=v,g.columnsheader.append(v),v[0].style.width=y+"px",this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){var e=this.headerZIndex+this.columns.records.length,t=this,i=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-grid-columngroup-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(i+=" "+t.toTP("jqx-grid-columngroup-header-rtl"));var o=this.columnsheader.find("#columntable"+this.element.id);o.find("jqx-grid-columngroup-header").remove();for(var n=0;n<this.columnGroupslevel-1;n++)for(var r=0;r<this.columnGroups.length;r++){var s,a,l,d,h,c,u,p=this.columnGroups[r],m=p.level;m===n&&(s=m*this.columnsHeight,a=99999,p.groups&&(l=function(e){for(var t=0,i=0;i<e.groups.length;i++){var o=e.groups[i];o.groups?t+=l(o):o.hidden||(t+=o.width,a=Math.min(parseInt(o.element[0].style.left),a))}return t},p.width=l(p),p.left=a,d=this.columnsHeight,h=e--,c=Ie('<div role="columnheader" style="z-index: '+h+';position: absolute;" class="'+i+'"></div>'),u=Ie(this._rendercolumnheader(p.text,p.align,this.columnsHeight,this)),p.renderer&&p.renderer(c,p.text),c.append(u),c[0].style.left=a+"px",0===a&&(c[0].style.borderLeftColor="transparent"),c[0].style.top=s+"px",c[0].style.height=d+"px",c[0].style.width=-1+p.width+"px",o.append(c),p.element=c))}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var n,t,i,o=this.columnGroups[e],r=o.level*this.columnsHeight,s=99999;o.groups&&(n=function(e){for(var t=0,i=0;i<e.groups.length;i++){var o=e.groups[i];o.groups?t+=n(o):(t+=o.width,s=Math.min(parseInt(o.element[0].style.left),s))}return t},o.width=n(o),o.left=s,t=this.columnsHeight,(i=o.element)[0].style.left=s+"px",i[0].style.top=r+"px",i[0].style.height=t+"px",i[0].style.width=-1+o.width+"px")}},_removecolumnhandlers:function(e){var t,i=this,o=Ie(e.element);0<o.length&&(i.removeHandler(o,"mouseenter"),i.removeHandler(o,"mouseleave"),t=Ie(e.filtericon),i.removeHandler(t,"mousedown"),i.removeHandler(t,"click"),i.removeHandler(o,"click"))},destroy:function(){var e=this;e._removeHandlers(),e._editDialog&&e._editDialog.jqxWindow("destroy"),e.menu&&e.menu.jqxMenu("destroy"),e.editRecurrenceDialog&&e.editRecurrenceDialog.jqxWindow("destroy"),e.vScrollBar.jqxScrollBar("destroy"),e.hScrollBar.jqxScrollBar("destroy"),delete e.vScrollBar,delete e.hScrollBar,delete e._mousewheelfunc,Ie.jqx.utilities.resize(e.host,null,!0),e.host.remove()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0))},propertyChangedHandler:function(e,t,i,o){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)&&o!==i)if("filterable"==t)e._render();else if("view"==t)e.setView(o);else if("views"==t){e._columns=null,e._views=new Array,e._view=e.view;for(var n=0;n<e.views.length;n++)"string"===Ie.type(e.views[n])?e._views.push({type:e.views[n]}):e._views.push(e.views[n]);for(n=0;n<e._views.length;n++)if(e._views[n].type==e.view){e._view=n;break}e._render()}else if("height"===t)e._hostWidth=null,e._hostHeight=null,e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0);else if("width"===t)e._hostWidth=null,e._hostHeight=null,e.host.height(e.height),e.host.width(e.width),e._updatesize(!0,!1);else if("source"===t)e.updateBoundData();else if("resources"==t)e.updateBoundData();else if("columns"===t||"columnGroups"===t)e._columns=null,e._render();else if("selectionMode"===t)e.selectionMode=o.toLowerCase();else if("touchMode"==t)e._removeHandlers(),e.touchDevice=null,e.vScrollBar.jqxScrollBar({touchMode:o}),e.hScrollBar.jqxScrollBar({touchMode:o}),e.refresh(),e._addHandlers();else{if("enableHover"==t)return;"showLegend"==t?(e.legendbartop.show(),e.legendbarbottom.show(),e.refresh()):"disabled"==t?(o?e.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),e.host.find(".jqx-grid-group-collapse").css("cursor",o?"default":"pointer"),e.host.find(".jqx-grid-group-expand").css("cursor",o?"default":"pointer")):"columnsHeight"==t?e._render():"localization"==t?(e._render(),e.editRecurrenceDialog&&(e.editRecurrenceDialog.jqxWindow("destroy"),e.createEditRecurrenceDialog())):"theme"==t?(Ie.jqx.utilities.setTheme(i,o,e.host),e._editDialog&&Ie.jqx.utilities.setTheme(i,o,e._editDialog),e.editRecurrenceDialog&&Ie.jqx.utilities.setTheme(i,o,e.editRecurrenceDialog),e.menu&&e.menu.jqxMenu({theme:e.theme}),e.vScrollBar.jqxScrollBar({theme:e.theme}),e.hScrollBar.jqxScrollBar({theme:e.theme}),e.refresh()):"date"===t?e.navigateTo(o):e.refresh()}},_rendercolumnheader:function(e,t,i,o){var n="4px";o.columnGroups?((n=i/2-this._columnheight/2)<0&&(n=4),n+="px"):25!=this.columnsHeight&&((n=this.columnsHeight/2-this._columnheight/2)<0&&(n=4),n+="px");var r='<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+n+"; margin-top: "+n+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>";if(this.columnRenderer){var s=this.columnRenderer(e,t,i,r);if(null!=s)return s}return r}})}(jqxBaseFramework);