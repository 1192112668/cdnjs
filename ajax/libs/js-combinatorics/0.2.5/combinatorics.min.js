!function(t){"use strict";var h,f,o,u,c,s,n,a,l,g,r;t.Combinatorics||(h=function(t,n){var i,e=1;for(t<n&&(i=t,t=n,n=i);n--;)e*=t--;return e},f=function(t,n){return h(t,n)/h(n,n)},o=function(t){return h(t,t)},u=function(t,n){var i=1;if(n)i=o(n);else{for(n=1;i<t;i*=++n);t<i&&(i/=n--)}for(var e=[0];n;i/=n--)e[n]=Math.floor(t/i),t%=i;return e},c=function(n,i){Object.keys(i).forEach(function(t){Object.defineProperty(n,t,{value:i[t]})})},s=function(t,n){Object.defineProperty(t,n,{writable:!0})},a={toArray:n=function(t){var n,i=[];for(this.init();n=this.next();)i.push(t?t(n):n);return this.init(),i},map:n,forEach:function(t){var n;for(this.init();n=this.next();)t(n);this.init()},filter:function(t){var n,i=[];for(this.init();n=this.next();)t(n)&&i.push(n);return this.init(),i}},l=function(t,n,i){if(32<t.length)throw new RangeError;if((n=n||t.length)<1)throw new RangeError;if(n>t.length)throw new RangeError;function e(){return h}var r=(1<<n)-1,h=f(t.length,n),o=1<<t.length,u=Object.create(t.slice(),{length:{get:e}});return s(u,"index"),c(u,{valueOf:e,init:function(){this.index=r},next:function(){if(!(this.index>=o)){for(var t,n,i,e=0,r=this.index,h=[];r;r>>>=1,e++)1&r&&h.push(this[e]);return this.index=(t=this.index,(i=t+(n=t&-t))|((i&-i)/n>>1)-1),h}}}),c(u,a),u.init(),"function"==typeof i?u.map(i):u},g=function(t){var n=t.slice(),r=o(n.length);return n.index=0,n.next=function(){if(!(this.index>=r)){for(var t=this.slice(),n=u(this.index,this.length),i=[],e=this.length-1;0<=e;--e)i.push(t.splice(n[e],1)[0]);return this.index++,i}},n},r=Array.prototype.slice,c(t.Combinatorics=Object.create(null),{C:f,P:h,factorial:o,factoradic:u,cartesianProduct:function(){if(!arguments.length)throw new RangeError;function t(){return i}var n=r.call(arguments),i=n.reduce(function(t,n){return t*n.length},1),h=n.length,e=Object.create(n,{length:{get:t}});if(!i)throw new RangeError;return s(e,"index"),c(e,{valueOf:t,dim:h,init:function(){this.index=0},get:function(){if(arguments.length===this.length){for(var t=[],n=0;n<h;n++){var i=arguments[n];if(i>=this[n].length)return;t.push(this[n][i])}return t}},nth:function(t){for(var n=[],i=0;i<h;i++){var e=this[i].length,r=t%e;n.push(this[i][r]),t-=r,t/=e}return n},next:function(){if(!(this.index>=i)){var t=this.nth(this.index);return this.index++,t}}}),c(e,a),e.init(),e},combination:l,permutation:function(t,n,i){if((n=n||t.length)<1)throw new RangeError;if(n>t.length)throw new RangeError;var e=h(t.length,n),r=Object.create(t.slice(),{length:{get:function(){return e}}});return s(r,"cmb"),s(r,"per"),c(r,{valueOf:function(){return e},init:function(){this.cmb=l(t,n),this.per=g(this.cmb.next())},next:function(){var t=this.per.next();if(t)return t;var n=this.cmb.next();return n?(this.per=g(n),this.next()):void 0}}),c(r,a),r.init(),"function"==typeof i?r.map(i):r},power:function(t,n){if(32<t.length)throw new RangeError;function i(){return e}var e=1<<t.length,r=Object.create(t.slice(),{length:{get:i}});return s(r,"index"),c(r,{valueOf:i,init:function(){r.index=0},nth:function(t){if(!(e<=t)){for(var n=0,i=[];t;t>>>=1,n++)1&t&&i.push(this[n]);return i}},next:function(){return this.nth(this.index++)}}),c(r,a),r.init(),"function"==typeof n?r.map(n):r}}))}(this);