!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.pattern=e()}(this,function(){"use strict";var t="round";"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)};function c(t){this.value=t}function e(n){var s,r;function a(t,e){try{var i=n[t](e),o=i.value;o instanceof c?Promise.resolve(o.value).then(function(t){a("next",t)},function(t){a("throw",t)}):h(i.done?"return":"normal",i.value)}catch(t){h("throw",t)}}function h(t,e){switch(t){case"return":s.resolve({value:e,done:!0});break;case"throw":s.reject(e);break;default:s.resolve({value:e,done:!1})}(s=s.next)?a(s.key,s.arg):r=null}this._invoke=function(o,n){return new Promise(function(t,e){var i={key:o,arg:n,resolve:t,reject:e,next:null};r?r=r.next=i:(s=r=i,a(o,n))})},"function"!=typeof n.return&&(this.return=void 0)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var a=(i(h,[{key:"setStrokeProps",value:function(){this._context.strokeStyle=this._patternColor,this._context.lineWidth=this._size/10,this._context.lineJoin=t,this._context.lineCap=t}},{key:"setFillProps",value:function(){this._context.fillStyle=this._patternColor}}]),h);function h(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:20,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"rgba(100, 100, 100, 0.7)",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"rgba(255, 255, 255, 0.8)";return o(this,h),this._canvas=document.createElement("canvas"),this._context=this._canvas.getContext("2d"),this._canvas.width=t,this._canvas.height=t,this._context.fillStyle=e,this._context.fillRect(0,0,this._canvas.width,this._canvas.height),this._size=t,this._patternColor=i,this}var l=(s(_,a),i(_,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawPlus(),this.drawPlus(t,t),this._context.stroke(),this._canvas}},{key:"drawPlus",value:function(t,e){var i=0<arguments.length&&void 0!==t?t:0,o=1<arguments.length&&void 0!==e?e:0,n=this._size,s=n/2,r=n/4;this._context.moveTo(r+i,0+o),this._context.lineTo(r+i,s+o),this._context.moveTo(0+i,r+o),this._context.lineTo(s+i,r+o),this._context.closePath()}}]),_);function _(){return o(this,_),r(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}var u=(s(v,a),i(v,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawCross(),this.drawCross(t,t),this._context.stroke(),this._canvas}},{key:"drawCross",value:function(t,e){var i=0<arguments.length&&void 0!==t?t:0,o=1<arguments.length&&void 0!==e?e:0,n=this._size/2;this._context.moveTo(i+2,o+2),this._context.lineTo(n-2+i,n-2+o),this._context.moveTo(i+2,n-2+o),this._context.lineTo(n-2+i,o+2),this._context.closePath()}}]),v);function v(){return o(this,v),r(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}var d=(s(p,a),i(p,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawDash(),this.drawDash(t,t),this._context.stroke(),this._canvas}},{key:"drawDash",value:function(t,e){var i=0<arguments.length&&void 0!==t?t:0,o=1<arguments.length&&void 0!==e?e:0,n=this._size/2;this._context.moveTo(i+2,o+2),this._context.lineTo(n-2+i,n-2+o),this._context.closePath()}}]),p);function p(){return o(this,p),r(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}var f=(s(x,a),i(x,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setStrokeProps(),(new u).drawCross.call(this),(new d).drawDash.call(this,t,t),this._context.stroke(),this._canvas}}]),x);function x(){return o(this,x),r(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}var y=(s(g,a),i(g,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setFillProps(),this.drawDot(),this.drawDot(t,t),this._context.fill(),this._canvas}},{key:"drawDot",value:function(t,e,i){var o=0<arguments.length&&void 0!==t?t:0,n=1<arguments.length&&void 0!==e?e:0,s=2<arguments.length&&void 0!==i?i:this._size/10,r=this._size/4,a=r+o,h=r+n;this._context.moveTo(a+r,h),this._context.arc(a,h,s,0,2*Math.PI),this._context.closePath()}}]),g);function g(){return o(this,g),r(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}var w=(s(P,a),i(P,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setStrokeProps(),(new d).drawDash.call(this,t,t),this._context.closePath(),this._context.stroke(),this.setFillProps(),(new y).drawDot.call(this),this._context.fill(),this._canvas}}]),P);function P(){return o(this,P),r(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}var k=(s(T,y),i(T,[{key:"drawTile",value:function(){var t=this._size/2,e=this._size/5;return this._context.beginPath(),this.setFillProps(),this.drawDot(0,0,e),this.drawDot(t,t,e),this._context.fill(),this._canvas}}]),T);function T(){return o(this,T),r(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}var b=(s(z,y),i(z,[{key:"drawTile",value:function(){var t=this._size/2,e=this._size/5;return this._context.beginPath(),this.setStrokeProps(),this.drawDot(0,0,e),this.drawDot(t,t,e),this._context.stroke(),this._canvas}}]),z);function z(){return o(this,z),r(this,(z.__proto__||Object.getPrototypeOf(z)).apply(this,arguments))}var O=(s(m,a),i(m,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawLine(),this.drawLine(t,t),this._context.stroke(),this._canvas}},{key:"drawLine",value:function(t,e){var i=1<arguments.length&&void 0!==e?e:0,o=this._size/4;this._context.moveTo(0,o+i),this._context.lineTo(this._size,o+i),this._context.closePath()}}]),m);function m(){return o(this,m),r(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}var j=(s(S,O),i(S,[{key:"drawTile",value:function(){return this._context.translate(this._size,0),this._context.rotate(90*Math.PI/180),O.prototype.drawTile.call(this),this._canvas}}]),S);function S(){return o(this,S),r(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}var D=(s(C,a),i(C,[{key:"drawTile",value:function(){return this._context.beginPath(),this.setStrokeProps(),this.drawWeave(0,0),this._context.stroke(),this._canvas}},{key:"drawWeave",value:function(t,e){var i=this._size,o=i/2;this._context.moveTo(t+1,e+1),this._context.lineTo(o-1,o-1),this._context.moveTo(1+o,i-1),this._context.lineTo(i-1,1+o),this._context.closePath()}}]),C);function C(){return o(this,C),r(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}var F=(s(I,a),i(I,[{key:"drawTile",value:function(){return this._context.beginPath(),this.setStrokeProps(),this.drawZigzag(),this.drawZigzag(this._size/2),this._context.stroke(),this._canvas}},{key:"drawZigzag",value:function(t){var e=0<arguments.length&&void 0!==t?t:0,i=this._size,o=i/4,n=i/2,s=i/10;this._context.moveTo(0,s+e),this._context.lineTo(o,n-s+e),this._context.lineTo(n,s+e),this._context.lineTo(i-o,n-s+e),this._context.lineTo(i,s+e)}}]),I);function I(){return o(this,I),r(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}var M=(s(E,F),i(E,[{key:"drawTile",value:function(){return this._context.translate(this._size,0),this._context.rotate(90*Math.PI/180),F.prototype.drawTile.call(this),this._canvas}}]),E);function E(){return o(this,E),r(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}var L=(s(q,a),i(q,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawDiagonalLine(),this.drawDiagonalLine(t,t),this._context.stroke(),this._canvas}},{key:"drawDiagonalLine",value:function(t,e){var i=0<arguments.length&&void 0!==t?t:0,o=1<arguments.length&&void 0!==e?e:0,n=this._size,s=n/2;this._context.moveTo(s-1-i,-1+o),this._context.lineTo(n+1-i,1+s+o),this._context.closePath()}}]),q);function q(){return o(this,q),r(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}var R=(s(B,L),i(B,[{key:"drawTile",value:function(){return this._context.translate(this._size,0),this._context.rotate(90*Math.PI/180),L.prototype.drawTile.call(this),this._canvas}}]),B);function B(){return o(this,B),r(this,(B.__proto__||Object.getPrototypeOf(B)).apply(this,arguments))}var W=(s(Z,a),i(Z,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setFillProps(),this.drawSquare(),this.drawSquare(t,t),this._context.fill(),this._canvas}},{key:"drawSquare",value:function(t,e){var i=0<arguments.length&&void 0!==t?t:0,o=1<arguments.length&&void 0!==e?e:0,n=this._size,s=n/2,r=n/20;this._context.fillRect(i+r,o+r,s-2*r,s-2*r),this._context.closePath()}}]),Z);function Z(){return o(this,Z),r(this,(Z.__proto__||Object.getPrototypeOf(Z)).apply(this,arguments))}var J=(s(A,a),i(A,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawBox(),this.drawBox(t,t),this._context.stroke(),this._canvas}},{key:"drawBox",value:function(t,e){var i=0<arguments.length&&void 0!==t?t:0,o=1<arguments.length&&void 0!==e?e:0,n=this._size,s=n/2,r=n/20;this._context.strokeRect(i+r,o+r,s-4*r,s-4*r),this._context.closePath()}}]),A);function A(){return o(this,A),r(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}var G=(s(H,a),i(H,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setFillProps(),this.drawTriangle(),this.drawTriangle(t,t),this._context.fill(),this._canvas}},{key:"drawTriangle",value:function(t,e){var i=0<arguments.length&&void 0!==t?t:0,o=1<arguments.length&&void 0!==e?e:0,n=this._size,s=n/2,r=n/4;this._context.moveTo(r+i,o),this._context.lineTo(s+i,s+o),this._context.lineTo(i,s+o),this._context.closePath()}}]),H);function H(){return o(this,H),r(this,(H.__proto__||Object.getPrototypeOf(H)).apply(this,arguments))}var K=(s(N,G),i(N,[{key:"drawTile",value:function(){var t=this._size;return this._context.translate(t,t),this._context.rotate(180*Math.PI/180),G.prototype.drawTile.call(this),this._canvas}}]),N);function N(){return o(this,N),r(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}var Q=(s(U,a),i(U,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setFillProps(),this.drawDiamond(),this.drawDiamond(t,t),this._context.fill(),this._canvas}},{key:"drawDiamond",value:function(t,e){var i=0<arguments.length&&void 0!==t?t:0,o=1<arguments.length&&void 0!==e?e:0,n=this._size,s=n/2,r=n/4;this._context.moveTo(r+i,o),this._context.lineTo(s+i,r+o),this._context.lineTo(r+i,s+o),this._context.lineTo(i,r+o),this._context.closePath()}}]),U);function U(){return o(this,U),r(this,(U.__proto__||Object.getPrototypeOf(U)).apply(this,arguments))}var V=(s(X,Q),i(X,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawDiamond(),this.drawDiamond(t,t),this._context.stroke(),this._canvas}},{key:"drawDiamond",value:function(t,e){var i=0<arguments.length&&void 0!==t?t:0,o=1<arguments.length&&void 0!==e?e:0,n=this._size,s=n/2-1,r=n/4;this._context.moveTo(r+i,o+1),this._context.lineTo(s+i,r+o),this._context.lineTo(r+i,s+o),this._context.lineTo(i+1,r+o),this._context.closePath()}}]),X);function X(){return o(this,X),r(this,(X.__proto__||Object.getPrototypeOf(X)).apply(this,arguments))}var Y={plus:l,cross:u,dash:d,"cross-dash":f,dot:y,"dot-dash":w,disc:k,ring:b,line:O,"line-vertical":j,weave:D,zigzag:F,"zigzag-vertical":M,diagonal:L,"diagonal-right-left":R,square:W,box:J,triangle:G,"triangle-inverted":K,diamond:Q,"diamond-box":V},$={circle:Y.disc,"triangle-vertical":Y["triangle-inverted"],"line-horizontal":Y.line,"line-diagonal-lr":Y.diagonal,"line-diagonal-rl":Y["diagonal-right-left"],"zigzag-horizontal":Y.zigzag,"diamond-outline":Y["diamond-box"]},tt=[];function et(t){var e=0<arguments.length&&void 0!==t?t:[],i=Object.keys(Y);e.forEach(function(t){i.splice(i.indexOf(t),1)});var o=Math.floor(Math.random()*i.length);return i[o]}function it(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"square",e=arguments[1],i=arguments[2],o=arguments[3],n=document.createElement("canvas"),s=n.getContext("2d"),r=2*o,a=new tt[t](o,e,i),h=s.createPattern(a.drawTile(),"repeat");return n.width=r,n.height=r,h.shapeType=t,h}return Object.assign(tt,Y,$),{draw:it,generate:function(t){var n=void 0,s=void 0;return t.map(function(t,e,i){var o=void 0;return 0===e?(o=et(),n=s=o):e===i.length-1?o=et([s,n]):(o=et([s]),s=o),it(o,t)})}}});