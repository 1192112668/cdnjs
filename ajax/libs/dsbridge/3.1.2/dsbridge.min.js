var bridge={default:this,call:function(i,s,d){var t,e="";return"function"==typeof s&&(d=s,s={}),s={data:void 0===s?"":s},"function"==typeof d&&(t="dscb"+window.dscb++,window[t]=d,s._dscbstub=t),s=JSON.stringify(s),window._dsbridge?e=_dsbridge.call(i,s):!window._dswk&&-1==navigator.userAgent.indexOf("_dsbridge")||(e=prompt("_dsbridge="+i,s)),JSON.parse(e||"{}").data},register:function(i,s,d){d=d?window._dsaf:window._dsf,window._dsInit||(window._dsInit=!0,setTimeout(function(){bridge.call("_dsb.dsinit")},0)),"object"==typeof s?d._obs[i]=s:d[i]=s},registerAsyn:function(i,s){this.register(i,s,!0)},hasNativeMethod:function(i,s){return this.call("_dsb.hasNativeMethod",{name:i,type:s||"all"})},disableJavascriptDialogBlock:function(i){this.call("_dsb.disableJavascriptDialogBlock",{disable:!1!==i})}};!function(){if(!window._dsf){var i,s={_dsf:{_obs:{}},_dsaf:{_obs:{}},dscb:0,dsBridge:bridge,close:function(){bridge.call("_dsb.closePage")},_handleMessageFromNative:function(i){function s(i,s){o.data=i.apply(s,e),bridge.call("_dsb.returnValue",o)}function d(i,s){e.push(function(i,s){o.data=i,o.complete=!1!==s,bridge.call("_dsb.returnValue",o)}),i.apply(s,e)}var t,e=JSON.parse(i.data),o={id:i.callbackId,complete:!0},n=this._dsf[i.method],a=this._dsaf[i.method];n?s(n,this._dsf):a?d(a,this._dsaf):(n=i.method.split(".")).length<2||(i=n.pop(),n=n.join("."),(t=(a=(a=this._dsf._obs)[n]||{})[i])&&"function"==typeof t?s(t,a):(t=(a=(a=this._dsaf._obs)[n]||{})[i])&&"function"==typeof t&&d(t,a))}};for(i in s)window[i]=s[i];bridge.register("_hasJavascriptMethod",function(i,s){return(s=i.split(".")).length<2?!(!_dsf[s]&&!_dsaf[s]):(i=s.pop(),s=s.join("."),(s=_dsf._obs[s]||_dsaf._obs[s])&&!!s[i])})}}(),module.exports=bridge;