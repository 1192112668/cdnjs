!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Parchment=e():t.Parchment=e()}(this,function(){return n={},o.m=r=[function(t,e,o){t.exports=o(1)},function(t,e,o){"use strict";var r=o(2),n=o(6),i=o(11),a=o(12),s=o(13),u=o(14),c=o(15),l=o(16),p=o(7),h=o(9),f=o(10),d=o(8),m=o(5),y={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:r.default,Format:n.default,Leaf:i.default,Embed:c.default,Scroll:a.default,Block:u.default,Inline:s.default,Text:l.default,Attributor:{Attribute:p.default,Class:h.default,Style:f.default,Store:d.default}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=y},function(t,e,o){"use strict";var r,n=this&&this.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=o(3),a=o(4),s=o(5),u=(r=a.default,n(c,r),c.prototype.appendChild=function(t){this.insertBefore(t)},c.prototype.attach=function(){var o=this;r.prototype.attach.call(this),this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(t){try{var e=l(t);o.insertBefore(e,o.children.head)}catch(t){if(t instanceof s.ParchmentError)return;throw t}})},c.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,function(t,e,o){t.deleteAt(e,o)})},c.prototype.descendant=function(t,e){var o=this.children.find(e),r=o[0],n=o[1];return null==t.blotName&&t(r)||null!=t.blotName&&r instanceof t?[r,n]:r instanceof c?r.descendant(t,n):[null,-1]},c.prototype.descendants=function(r,t,e){void 0===t&&(t=0),void 0===e&&(e=Number.MAX_VALUE);var n=[],i=e;return this.children.forEachAt(t,e,function(t,e,o){(null==r.blotName&&r(t)||null!=r.blotName&&t instanceof r)&&n.push(t),t instanceof c&&(n=n.concat(t.descendants(r,e,i))),i-=o}),n},c.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),r.prototype.detach.call(this)},c.prototype.formatAt=function(t,e,r,n){this.children.forEachAt(t,e,function(t,e,o){t.formatAt(e,o,r,n)})},c.prototype.insertAt=function(t,e,o){var r,n=this.children.find(t),i=n[0],a=n[1];i?i.insertAt(a,e,o):(r=null==o?s.create("text",e):s.create(e,o),this.appendChild(r))},c.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(t){return e instanceof t}))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},c.prototype.length=function(){return this.children.reduce(function(t,e){return t+e.length()},0)},c.prototype.moveChildren=function(e,o){this.children.forEach(function(t){e.insertBefore(t,o)})},c.prototype.optimize=function(){var t;r.prototype.optimize.call(this),0===this.children.length&&(null!=this.statics.defaultChild?(t=s.create(this.statics.defaultChild),this.appendChild(t),t.optimize()):this.remove())},c.prototype.path=function(t,e){void 0===e&&(e=!1);var o=this.children.find(t,e),r=o[0],n=o[1],i=[[this,t]];return r instanceof c?i.concat(r.path(n,e)):(null!=r&&i.push([r,n]),i)},c.prototype.removeChild=function(t){this.children.remove(t)},c.prototype.replace=function(t){t instanceof c&&t.moveChildren(this),r.prototype.replace.call(this,t)},c.prototype.split=function(t,r){if(void 0===r&&(r=!1),!r){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),function(t,e,o){t=t.split(e,r),n.appendChild(t)}),n},c.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},c.prototype.update=function(t){var r=this,e=[],o=[];t.forEach(function(t){t.target===r.domNode&&"childList"===t.type&&(e.push.apply(e,t.addedNodes),o.push.apply(o,t.removedNodes))}),o.forEach(function(t){var e;null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY||null!=(e=s.find(t))&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==r.domNode||e.detach())}),e.filter(function(t){return t.parentNode==r.domNode}).sort(function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(t){var e=null;null!=t.nextSibling&&(e=s.find(t.nextSibling));var o=l(t);o.next==e&&null!=o.next||(null!=o.parent&&o.parent.removeChild(r),r.insertBefore(o,e))})},c);function c(){return r.apply(this,arguments)||this}function l(e){var o=s.find(e);if(null==o)try{o=s.create(e)}catch(t){o=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(t){o.domNode.appendChild(t)}),e.parentNode.replaceChild(o.domNode,e),o.attach()}return o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e){"use strict";var o=(r.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],void 0),1<t.length&&this.append.apply(this,t.slice(1))},r.prototype.contains=function(t){for(var e,o=this.iterator();e=o();)if(e===t)return!0;return!1},r.prototype.insertBefore=function(t,e){null!=(t.next=e)?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?((this.tail.next=t).prev=this.tail,this.tail=t):(t.prev=void 0,this.head=this.tail=t),this.length+=1},r.prototype.offset=function(t){for(var e=0,o=this.head;null!=o;){if(o===t)return e;e+=o.length(),o=o.next}return-1},r.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),--this.length)},r.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},r.prototype.find=function(t,e){void 0===e&&(e=!1);for(var o,r=this.iterator();o=r();){var n=o.length();if(t<n||e&&t===n&&(null==o.next||0!==o.next.length()))return[o,t];t-=n}return[null,0]},r.prototype.forEach=function(t){for(var e,o=this.iterator();e=o();)t(e)},r.prototype.forEachAt=function(t,e,o){if(!(e<=0))for(var r,n=this.find(t),i=n[0],a=t-n[1],s=this.iterator(i);(r=s())&&a<t+e;){var u=r.length();a<t?o(r,t-a,Math.min(e,a+u-t)):o(r,0,Math.min(u,t+e-a)),a+=u}},r.prototype.map=function(o){return this.reduce(function(t,e){return t.push(o(e)),t},[])},r.prototype.reduce=function(t,e){for(var o,r=this.iterator();o=r();)e=t(e,o);return e},r);function r(){this.head=this.tail=void 0,this.length=0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},function(t,e,o){"use strict";var a=o(5),r=(Object.defineProperty(n.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),n.create=function(t){if(null==this.tagName)throw new a.ParchmentError("Blot definition missing tagName");var e=Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),"number"==typeof t?document.createElement(this.tagName[t-1]):-1<this.tagName.indexOf(t)?document.createElement(t):document.createElement(this.tagName[0])):document.createElement(this.tagName);return this.className&&e.classList.add(this.className),e},n.prototype.attach=function(){this.domNode[a.DATA_KEY]={blot:this}},n.prototype.clone=function(){var t=this.domNode.cloneNode();return a.create(t)},n.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},n.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},n.prototype.formatAt=function(t,e,o,r){var n,i=this.isolate(t,e);null!=a.query(o,a.Scope.BLOT)&&r?i.wrap(o,r):null!=a.query(o,a.Scope.ATTRIBUTE)&&(n=a.create(this.statics.scope),i.wrap(n),n.format(o,r))},n.prototype.insertAt=function(t,e,o){var r=null==o?a.create("text",e):a.create(e,o),n=this.split(t);this.parent.insertBefore(r,n)},n.prototype.insertInto=function(t,e){var o;null!=this.parent&&this.parent.children.remove(this),t.children.insertBefore(this,e),null!=e&&(o=e.domNode),null!=this.next&&this.domNode.nextSibling==o||t.domNode.insertBefore(this.domNode,void 0!==o?o:null),this.parent=t},n.prototype.isolate=function(t,e){var o=this.split(t);return o.split(e),o},n.prototype.length=function(){return 1},n.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},n.prototype.optimize=function(){null!=this.domNode[a.DATA_KEY]&&delete this.domNode[a.DATA_KEY].mutations},n.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},n.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},n.prototype.replaceWith=function(t,e){var o="string"==typeof t?a.create(t,e):t;return o.replace(this),o},n.prototype.split=function(t,e){return 0===t?this:this.next},n.prototype.update=function(t){void 0===t&&(t=[])},n.prototype.wrap=function(t,e){var o="string"==typeof t?a.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(o,this.next),o.appendChild(this),o},n);function n(t){this.domNode=t,this.attach()}r.blotName="abstract",Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,r){"use strict";var o,e=this&&this.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=(o=Error,e(n,o),n);function n(t){var e;return t="[Parchment] "+t,(e=o.call(this,t)||this).message=t,e.name=e.constructor.name,e}r.ParchmentError=i;var a,s,u={},c={},l={},p={};function h(t,e){var o;if(void 0===e&&(e=a.ANY),"string"==typeof t)o=p[t]||u[t];else if(t instanceof Text)o=p.text;else if("number"==typeof t)t&a.LEVEL&a.BLOCK?o=p.block:t&a.LEVEL&a.INLINE&&(o=p.inline);else if(t instanceof HTMLElement){var r=(t.getAttribute("class")||"").split(/\s+/);for(var n in r)if(o=c[r[n]])break;o=o||l[t.tagName]}return null!=o&&e&a.LEVEL&o.scope&&e&a.TYPE&o.scope?o:null}r.DATA_KEY="__blot",(s=a=r.Scope||(r.Scope={}))[s.TYPE=3]="TYPE",s[s.LEVEL=12]="LEVEL",s[s.ATTRIBUTE=13]="ATTRIBUTE",s[s.BLOT=14]="BLOT",s[s.INLINE=7]="INLINE",s[s.BLOCK=11]="BLOCK",s[s.BLOCK_BLOT=10]="BLOCK_BLOT",s[s.INLINE_BLOT=6]="INLINE_BLOT",s[s.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",s[s.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",s[s.ANY=15]="ANY",r.create=function(t,e){var o=h(t);if(null==o)throw new i("Unable to create "+t+" blot");var r=o,n=t instanceof Node?t:r.create(e);return new r(n,e)},r.find=function t(e,o){return void 0===o&&(o=!1),null==e?null:null!=e[r.DATA_KEY]?e[r.DATA_KEY].blot:o?t(e.parentNode,o):null},r.query=h,r.register=function e(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];if(1<t.length)return t.map(function(t){return e(t)});var r=t[0];if("string"!=typeof r.blotName&&"string"!=typeof r.attrName)throw new i("Invalid definition");if("abstract"===r.blotName)throw new i("Cannot register abstract class");return"string"==typeof(p[r.blotName||r.attrName]=r).keyName?u[r.keyName]=r:(null!=r.className&&(c[r.className]=r),null!=r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(function(t){return t.toUpperCase()}):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(function(t){null!=l[t]&&null!=r.className||(l[t]=r)}))),r}},function(t,e,o){"use strict";var r,n=this&&this.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=o(7),a=o(8),s=o(2),u=o(5),c=(r=s.default,n(l,r),l.formats=function(t){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},l.prototype.attach=function(){r.prototype.attach.call(this),this.attributes=new a.default(this.domNode)},l.prototype.format=function(t,e){var o=u.query(t);o instanceof i.default?this.attributes.attribute(o,e):e&&(null==o||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},l.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},l.prototype.replaceWith=function(t,e){var o=r.prototype.replaceWith.call(this,t,e);return this.attributes.copy(o),o},l.prototype.update=function(t){var e=this;r.prototype.update.call(this,t),t.some(function(t){return t.target===e.domNode&&"attributes"===t.type})&&this.attributes.build()},l.prototype.wrap=function(t,e){var o=r.prototype.wrap.call(this,t,e);return o instanceof l&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},l);function l(){return r.apply(this,arguments)||this}Object.defineProperty(e,"__esModule",{value:!0}),e.default=c},function(t,e,o){"use strict";var n=o(5),r=(i.keys=function(t){return[].map.call(t.attributes,function(t){return t.name})},i.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},i.prototype.canAdd=function(t,e){return null!=n.query(t,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||-1<this.whitelist.indexOf(e))},i.prototype.remove=function(t){t.removeAttribute(this.keyName)},i.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)?e:""},i);function i(t,e,o){void 0===o&&(o={}),this.attrName=t,this.keyName=e;var r=n.Scope.TYPE&n.Scope.ATTRIBUTE;null!=o.scope?this.scope=o.scope&n.Scope.LEVEL|r:this.scope=n.Scope.ATTRIBUTE,null!=o.whitelist&&(this.whitelist=o.whitelist)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,o){"use strict";var n=o(7),i=o(9),a=o(10),s=o(5),r=(u.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},u.prototype.build=function(){var o=this;this.attributes={};var t=n.default.keys(this.domNode),e=i.default.keys(this.domNode),r=a.default.keys(this.domNode);t.concat(e).concat(r).forEach(function(t){var e=s.query(t,s.Scope.ATTRIBUTE);e instanceof n.default&&(o.attributes[e.attrName]=e)})},u.prototype.copy=function(o){var r=this;Object.keys(this.attributes).forEach(function(t){var e=r.attributes[t].value(r.domNode);o.format(t,e)})},u.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}},u.prototype.values=function(){var o=this;return Object.keys(this.attributes).reduce(function(t,e){return t[e]=o.attributes[e].value(o.domNode),t},{})},u);function u(t){this.attributes={},this.domNode=t,this.build()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,o){"use strict";var r=this&&this.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=o(7);function i(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(function(t){return 0===t.indexOf(e+"-")})}var a,s=(a=n.default,r(u,a),u.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map(function(t){return t.split("-").slice(0,-1).join("-")})},u.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},u.prototype.remove=function(e){i(e,this.keyName).forEach(function(t){e.classList.remove(t)}),0===e.classList.length&&e.removeAttribute("class")},u.prototype.value=function(t){var e=(i(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""},u);function u(){return a.apply(this,arguments)||this}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},function(t,e,o){"use strict";var r=this&&this.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=o(7);function i(t){var e=t.split("-"),o=e.slice(1).map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("");return e[0]+o}var a,s=(a=n.default,r(u,a),u.keys=function(t){return(t.getAttribute("style")||"").split(";").map(function(t){return t.split(":")[0].trim()})},u.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[i(this.keyName)]=e,!0)},u.prototype.remove=function(t){t.style[i(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},u.prototype.value=function(t){var e=t.style[i(this.keyName)];return this.canAdd(t,e)?e:""},u);function u(){return a.apply(this,arguments)||this}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},function(t,e,o){"use strict";var r,n=this&&this.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=o(4),a=o(5),s=(r=i.default,n(u,r),u.value=function(t){return!0},u.prototype.index=function(t,e){return t!==this.domNode?-1:Math.min(e,1)},u.prototype.position=function(t,e){var o=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return 0<t&&(o+=1),[this.parent.domNode,o]},u.prototype.value=function(){return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t;var t},u);function u(){return r.apply(this,arguments)||this}s.scope=a.Scope.INLINE_BLOT,Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},function(t,e,o){"use strict";var s,r=this&&this.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},u=o(2),c=o(5),n={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},i=(s=u.default,r(a,s),a.prototype.detach=function(){s.prototype.detach.call(this),this.observer.disconnect()},a.prototype.deleteAt=function(t,e){this.update(),0===t&&e===this.length()?this.children.forEach(function(t){t.remove()}):s.prototype.deleteAt.call(this,t,e)},a.prototype.formatAt=function(t,e,o,r){this.update(),s.prototype.formatAt.call(this,t,e,o,r)},a.prototype.insertAt=function(t,e,o){this.update(),s.prototype.insertAt.call(this,t,e,o)},a.prototype.optimize=function(t){var o=this;void 0===t&&(t=[]),s.prototype.optimize.call(this);for(var e=[].slice.call(this.observer.takeRecords());0<e.length;)t.push(e.pop());for(var r=function(t,e){void 0===e&&(e=!0),null!=t&&t!==o&&null!=t.domNode.parentNode&&(null==t.domNode[c.DATA_KEY].mutations&&(t.domNode[c.DATA_KEY].mutations=[]),e&&r(t.parent))},n=function(t){null!=t.domNode[c.DATA_KEY]&&null!=t.domNode[c.DATA_KEY].mutations&&(t instanceof u.default&&t.children.forEach(n),t.optimize())},i=t,a=0;0<i.length;a+=1){if(100<=a)throw new Error("[Parchment] Maximum optimize iterations reached");for(i.forEach(function(t){var e=c.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(r(c.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,function(t){var e=c.find(t,!1);r(e,!1),e instanceof u.default&&e.children.forEach(function(t){r(t,!1)})})):"attributes"===t.type&&r(e.prev)),r(e))}),this.children.forEach(n),e=(i=[].slice.call(this.observer.takeRecords())).slice();0<e.length;)t.push(e.pop())}},a.prototype.update=function(t){var e=this;(t=t||this.observer.takeRecords()).map(function(t){var e=c.find(t.target,!0);if(null!=e)return null==e.domNode[c.DATA_KEY].mutations?(e.domNode[c.DATA_KEY].mutations=[t],e):(e.domNode[c.DATA_KEY].mutations.push(t),null)}).forEach(function(t){null!=t&&t!==e&&null!=t.domNode[c.DATA_KEY]&&t.update(t.domNode[c.DATA_KEY].mutations||[])}),null!=this.domNode[c.DATA_KEY].mutations&&s.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations),this.optimize(t)},a);function a(t){var e=s.call(this,t)||this;return e.parent=null,e.observer=new MutationObserver(function(t){e.update(t)}),e.observer.observe(e.domNode,n),e}i.blotName="scroll",i.defaultChild="block",i.scope=c.Scope.BLOCK_BLOT,i.tagName="DIV",Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,o){"use strict";var r=this&&this.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=o(6),i=o(5);var a,s=(a=n.default,r(u,a),u.formats=function(t){if(t.tagName!==u.tagName)return a.formats.call(this,t)},u.prototype.format=function(t,e){var o=this;t!==this.statics.blotName||e?a.prototype.format.call(this,t,e):(this.children.forEach(function(t){t instanceof n.default||(t=t.wrap(u.blotName,!0)),o.attributes.copy(t)}),this.unwrap())},u.prototype.formatAt=function(t,e,o,r){null!=this.formats()[o]||i.query(o,i.Scope.ATTRIBUTE)?this.isolate(t,e).format(o,r):a.prototype.formatAt.call(this,t,e,o,r)},u.prototype.optimize=function(){a.prototype.optimize.call(this);var t=this.formats();if(0===Object.keys(t).length)return this.unwrap();var e=this.next;e instanceof u&&e.prev===this&&function(t,e){if(Object.keys(t).length===Object.keys(e).length){for(var o in t)if(t[o]!==e[o])return;return 1}}(t,e.formats())&&(e.moveChildren(this),e.remove())},u);function u(){return a.apply(this,arguments)||this}s.blotName="inline",s.scope=i.Scope.INLINE_BLOT,s.tagName="SPAN",Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},function(t,e,o){"use strict";var i,r=this&&this.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=o(6),a=o(5),s=(i=n.default,r(u,i),u.formats=function(t){var e=a.query(u.blotName).tagName;if(t.tagName!==e)return i.formats.call(this,t)},u.prototype.format=function(t,e){null!=a.query(t,a.Scope.BLOCK)&&(t!==this.statics.blotName||e?i.prototype.format.call(this,t,e):this.replaceWith(u.blotName))},u.prototype.formatAt=function(t,e,o,r){null!=a.query(o,a.Scope.BLOCK)?this.format(o,r):i.prototype.formatAt.call(this,t,e,o,r)},u.prototype.insertAt=function(t,e,o){var r,n;null==o||null!=a.query(e,a.Scope.INLINE)?i.prototype.insertAt.call(this,t,e,o):(r=this.split(t),n=a.create(e,o),r.parent.insertBefore(n,r))},u.prototype.update=function(t){navigator.userAgent.match(/Trident/)?this.attach():i.prototype.update.call(this,t)},u);function u(){return i.apply(this,arguments)||this}s.blotName="block",s.scope=a.Scope.BLOCK_BLOT,s.tagName="P",Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},function(t,e,o){"use strict";var n,r=this&&this.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=o(11),a=(n=i.default,r(s,n),s.formats=function(t){},s.prototype.format=function(t,e){n.prototype.formatAt.call(this,0,this.length(),t,e)},s.prototype.formatAt=function(t,e,o,r){0===t&&e===this.length()?this.format(o,r):n.prototype.formatAt.call(this,t,e,o,r)},s.prototype.formats=function(){return this.statics.formats(this.domNode)},s);function s(){return n.apply(this,arguments)||this}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,e,o){"use strict";var r,n=this&&this.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=o(11),a=o(5),s=(r=i.default,n(u,r),u.create=function(t){return document.createTextNode(t)},u.value=function(t){return t.data},u.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},u.prototype.index=function(t,e){return this.domNode===t?e:-1},u.prototype.insertAt=function(t,e,o){null==o?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):r.prototype.insertAt.call(this,t,e,o)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(){r.prototype.optimize.call(this),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},u.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var o=a.create(this.domNode.splitText(t));return this.parent.insertBefore(o,this.next),this.text=this.statics.value(this.domNode),o},u.prototype.update=function(t){var e=this;t.some(function(t){return"characterData"===t.type&&t.target===e.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u);function u(t){var e=r.call(this,t)||this;return e.text=e.statics.value(e.domNode),e}s.blotName="text",s.scope=a.Scope.INLINE_BLOT,Object.defineProperty(e,"__esModule",{value:!0}),e.default=s}],o.c=n,o.p="",o(0);function o(t){if(n[t])return n[t].exports;var e=n[t]={exports:{},id:t,loaded:!1};return r[t].call(e.exports,e,e.exports,o),e.loaded=!0,e.exports}var r,n});