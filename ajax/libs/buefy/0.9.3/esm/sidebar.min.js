import"./chunk-1fafdf15.js";import{isCustomElement,removeElement}from"./helpers.js";import{_ as __vue_normalize__,r as registerComponent,u as use}from"./chunk-cca88db8.js";var script={name:"BSidebar",model:{prop:"open",event:"update:open"},props:{open:Boolean,type:[String,Object],overlay:Boolean,position:{type:String,default:"fixed",validator:function(e){return["fixed","absolute","static"].indexOf(e)>=0}},fullheight:Boolean,fullwidth:Boolean,right:Boolean,mobile:{type:String},reduce:Boolean,expandOnHover:Boolean,expandOnHoverFixed:Boolean,canCancel:{type:[Array,Boolean],default:function(){return["escape","outside"]}},onCancel:{type:Function,default:function(){}}},data:function(){return{isOpen:this.open,transitionName:null,animating:!0}},computed:{rootClasses:function(){return[this.type,{"is-fixed":this.isFixed,"is-static":this.isStatic,"is-absolute":this.isAbsolute,"is-fullheight":this.fullheight,"is-fullwidth":this.fullwidth,"is-right":this.right,"is-mini":this.reduce,"is-mini-expand":this.expandOnHover,"is-mini-expand-fixed":this.expandOnHover&&this.expandOnHoverFixed,"is-mini-mobile":"reduce"===this.mobile,"is-hidden-mobile":"hide"===this.mobile,"is-fullwidth-mobile":"fullwidth"===this.mobile}]},cancelOptions:function(){return"boolean"==typeof this.canCancel?this.canCancel?["escape","outside"]:[]:this.canCancel},isStatic:function(){return"static"===this.position},isFixed:function(){return"fixed"===this.position},isAbsolute:function(){return"absolute"===this.position},whiteList:function(){var e=[];if(e.push(this.$refs.sidebarContent),void 0!==this.$refs.sidebarContent){var i=this.$refs.sidebarContent.querySelectorAll("*"),t=!0,n=!1,s=void 0;try{for(var o,r=i[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var a=o.value;e.push(a)}}catch(e){n=!0,s=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw s}}}return e}},watch:{open:{handler:function(e){this.isOpen=e;var i=this.right?!e:e;this.transitionName=i?"slide-next":"slide-prev"},immediate:!0}},methods:{keyPress:function(e){var i=e.key;this.isFixed&&(!this.isOpen||"Escape"!==i&&"Esc"!==i||this.cancel("escape"))},cancel:function(e){this.cancelOptions.indexOf(e)<0||this.isStatic||(this.onCancel.apply(null,arguments),this.close())},close:function(){this.isOpen=!1,this.$emit("close"),this.$emit("update:open",!1)},clickedOutside:function(e){if(this.isFixed&&this.isOpen&&!this.animating){var i=isCustomElement(this)?e.composedPath()[0]:e.target;this.whiteList.indexOf(i)<0&&this.cancel("outside")}},beforeEnter:function(){this.animating=!0},afterEnter:function(){this.animating=!1}},created:function(){"undefined"!=typeof window&&(document.addEventListener("keyup",this.keyPress),document.addEventListener("click",this.clickedOutside))},mounted:function(){"undefined"!=typeof window&&this.isFixed&&document.body.appendChild(this.$el)},beforeDestroy:function(){"undefined"!=typeof window&&(document.removeEventListener("keyup",this.keyPress),document.removeEventListener("click",this.clickedOutside)),this.isFixed&&removeElement(this.$el)}};const __vue_script__=script;var __vue_render__=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"b-sidebar"},[e.overlay&&e.isOpen?t("div",{staticClass:"sidebar-background"}):e._e(),t("transition",{attrs:{name:e.transitionName},on:{"before-enter":e.beforeEnter,"after-enter":e.afterEnter}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],ref:"sidebarContent",staticClass:"sidebar-content",class:e.rootClasses},[e._t("default")],2)])],1)},__vue_staticRenderFns__=[];const __vue_inject_styles__=void 0,__vue_scope_id__=void 0,__vue_module_identifier__=void 0,__vue_is_functional_template__=!1;var Sidebar=__vue_normalize__({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},void 0,__vue_script__,void 0,!1,void 0,void 0,void 0),Plugin={install:function(e){registerComponent(e,Sidebar)}};use(Plugin);export default Plugin;export{Sidebar as BSidebar};