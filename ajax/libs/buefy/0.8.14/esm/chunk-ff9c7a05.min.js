import{b as _typeof}from"./chunk-6ea13200.js";var isTouch="undefined"!=typeof window&&("ontouchstart"in window||navigator.msMaxTouchPoints>0),events=isTouch?["touchstart","click"]:["click"],instances=[];function processArgs(e){var n="function"==typeof e;if(!n&&"object"!==_typeof(e))throw new Error("v-click-outside: Binding value should be a function or an object, typeof ".concat(e," given"));return{handler:n?e:e.handler,middleware:e.middleware||function(e){return e},events:e.events||events}}function onEvent(e){var n=e.el,t=e.event,r=e.handler,a=e.middleware;t.target!==n&&!n.contains(t.target)&&a(t,n)&&r(t,n)}function bind(e,n){var t=processArgs(n.value),r=t.handler,a=t.middleware,i=t.events,o={el:e,eventHandlers:i.map(function(n){return{event:n,handler:function(n){return onEvent({event:n,el:e,handler:r,middleware:a})}}})};o.eventHandlers.forEach(function(e){var n=e.event,t=e.handler;return document.addEventListener(n,t)}),instances.push(o)}function update(e,n){var t=processArgs(n.value),r=t.handler,a=t.middleware,i=t.events,o=instances.filter(function(n){return n.el===e})[0];o.eventHandlers.forEach(function(e){var n=e.event,t=e.handler;return document.removeEventListener(n,t)}),o.eventHandlers=i.map(function(n){return{event:n,handler:function(n){return onEvent({event:n,el:e,handler:r,middleware:a})}}}),o.eventHandlers.forEach(function(e){var n=e.event,t=e.handler;return document.addEventListener(n,t)})}function unbind(e){instances.filter(function(n){return n.el===e})[0].eventHandlers.forEach(function(e){var n=e.event,t=e.handler;return document.removeEventListener(n,t)})}var directive={bind:bind,update:update,unbind:unbind,instances:instances};export{directive as c};