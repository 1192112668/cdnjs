"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var __chunk_1=require("./chunk-5094d8df.js");require("./chunk-805257cc.js");var __chunk_5=require("./chunk-13e039f5.js"),__chunk_23=require("./chunk-f83faa8e.js"),script={name:"BSliderThumb",components:__chunk_1._defineProperty({},__chunk_23.Tooltip.name,__chunk_23.Tooltip),inheritAttrs:!1,props:{value:{type:Number,default:0},type:{type:String,default:""},tooltip:{type:Boolean,default:!0},customFormatter:Function},data:function(){return{isFocused:!1,dragging:!1,startX:0,startPosition:0,newPosition:null,oldValue:this.value}},computed:{disabled:function(){return this.$parent.disabled},max:function(){return this.$parent.max},min:function(){return this.$parent.min},step:function(){return this.$parent.step},precision:function(){return this.$parent.precision},currentPosition:function(){return"".concat((this.value-this.min)/(this.max-this.min)*100,"%")},wrapperStyle:function(){return{left:this.currentPosition}},tooltipLabel:function(){return void 0!==this.customFormatter?this.customFormatter(this.value):this.value.toString()}},methods:{onFocus:function(){this.isFocused=!0},onBlur:function(){this.isFocused=!1},onButtonDown:function(t){this.disabled||(t.preventDefault(),this.onDragStart(t),"undefined"!=typeof window&&(document.addEventListener("mousemove",this.onDragging),document.addEventListener("touchmove",this.onDragging),document.addEventListener("mouseup",this.onDragEnd),document.addEventListener("touchend",this.onDragEnd),document.addEventListener("contextmenu",this.onDragEnd)))},onLeftKeyDown:function(){this.disabled||this.value===this.min||(this.newPosition=parseFloat(this.currentPosition)-this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitValue("change"))},onRightKeyDown:function(){this.disabled||this.value===this.max||(this.newPosition=parseFloat(this.currentPosition)+this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitValue("change"))},onHomeKeyDown:function(){this.disabled||this.value===this.min||(this.newPosition=0,this.setPosition(this.newPosition),this.$parent.emitValue("change"))},onEndKeyDown:function(){this.disabled||this.value===this.max||(this.newPosition=100,this.setPosition(this.newPosition),this.$parent.emitValue("change"))},onDragStart:function(t){this.dragging=!0,this.$emit("dragstart"),"touchstart"===t.type&&(t.clientX=t.touches[0].clientX),this.startX=t.clientX,this.startPosition=parseFloat(this.currentPosition),this.newPosition=this.startPosition},onDragging:function(t){if(this.dragging){"touchmove"===t.type&&(t.clientX=t.touches[0].clientX);var i=(t.clientX-this.startX)/this.$parent.sliderSize*100;this.newPosition=this.startPosition+i,this.setPosition(this.newPosition)}},onDragEnd:function(){this.dragging=!1,this.$emit("dragend"),this.value!==this.oldValue&&this.$parent.emitValue("change"),this.setPosition(this.newPosition),"undefined"!=typeof window&&(document.removeEventListener("mousemove",this.onDragging),document.removeEventListener("touchmove",this.onDragging),document.removeEventListener("mouseup",this.onDragEnd),document.removeEventListener("touchend",this.onDragEnd),document.removeEventListener("contextmenu",this.onDragEnd))},setPosition:function(t){if(null!==t&&!isNaN(t)){t<0?t=0:t>100&&(t=100);var i=100/((this.max-this.min)/this.step),e=Math.round(t/i)*i/100*(this.max-this.min)+this.min;e=parseFloat(e.toFixed(this.precision)),this.$emit("input",e),this.dragging||e===this.oldValue||(this.oldValue=e)}}}};const __vue_script__=script;var __vue_render__=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"b-slider-thumb-wrapper",class:{"is-dragging":t.dragging},style:t.wrapperStyle},[e("b-tooltip",{attrs:{label:t.tooltipLabel,type:t.type,always:t.dragging||t.isFocused,active:!t.disabled&&t.tooltip}},[e("div",t._b({staticClass:"b-slider-thumb",attrs:{tabindex:!t.disabled&&0},on:{mousedown:t.onButtonDown,touchstart:t.onButtonDown,focus:t.onFocus,blur:t.onBlur,keydown:[function(i){return"button"in i||!t._k(i.keyCode,"left",37,i.key,["Left","ArrowLeft"])?"button"in i&&0!==i.button?null:(i.preventDefault(),t.onLeftKeyDown(i)):null},function(i){return"button"in i||!t._k(i.keyCode,"right",39,i.key,["Right","ArrowRight"])?"button"in i&&2!==i.button?null:(i.preventDefault(),t.onRightKeyDown(i)):null},function(i){return"button"in i||!t._k(i.keyCode,"down",40,i.key,["Down","ArrowDown"])?(i.preventDefault(),t.onLeftKeyDown(i)):null},function(i){return"button"in i||!t._k(i.keyCode,"up",38,i.key,["Up","ArrowUp"])?(i.preventDefault(),t.onRightKeyDown(i)):null},function(i){return"button"in i||!t._k(i.keyCode,"home",void 0,i.key,void 0)?(i.preventDefault(),t.onHomeKeyDown(i)):null},function(i){return"button"in i||!t._k(i.keyCode,"end",void 0,i.key,void 0)?(i.preventDefault(),t.onEndKeyDown(i)):null}]}},"div",t.$attrs,!1))])],1)},__vue_staticRenderFns__=[];const __vue_inject_styles__=void 0,__vue_scope_id__=void 0,__vue_module_identifier__=void 0,__vue_is_functional_template__=!1;var SliderThumb=__chunk_5.__vue_normalize__({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},void 0,__vue_script__,void 0,!1,void 0,void 0,void 0),script$1={name:"BSliderTick",props:{value:{type:Number,default:0}},computed:{position:function(){var t=(this.value-this.$parent.min)/(this.$parent.max-this.$parent.min)*100;return t>=0&&t<=100?t:0},hidden:function(){return this.value===this.$parent.min||this.value===this.$parent.max}},methods:{getTickStyle:function(t){return{left:t+"%"}}},created:function(){if(!this.$parent.$data._isSlider)throw this.$destroy(),new Error("You should wrap bSliderTick on a bSlider")}};const __vue_script__$1=script$1;var __vue_render__$1=function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"b-slider-tick",class:{"is-tick-hidden":this.hidden},style:this.getTickStyle(this.position)},[this.$slots.default?i("span",{staticClass:"b-slider-tick-label"},[this._t("default")],2):this._e()])},__vue_staticRenderFns__$1=[];const __vue_inject_styles__$1=void 0,__vue_scope_id__$1=void 0,__vue_module_identifier__$1=void 0,__vue_is_functional_template__$1=!1;var _components,SliderTick=__chunk_5.__vue_normalize__({render:__vue_render__$1,staticRenderFns:__vue_staticRenderFns__$1},void 0,__vue_script__$1,void 0,!1,void 0,void 0,void 0),script$2={name:"BSlider",components:(_components={},__chunk_1._defineProperty(_components,SliderThumb.name,SliderThumb),__chunk_1._defineProperty(_components,SliderTick.name,SliderTick),_components),props:{value:{type:[Number,Array],default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},type:{type:String,default:"is-primary"},size:String,ticks:{type:Boolean,default:!1},tooltip:{type:Boolean,default:!0},tooltipType:String,rounded:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},customFormatter:Function,ariaLabel:[String,Array],biggerSliderFocus:{type:Boolean,default:!1}},data:function(){return{value1:null,value2:null,dragging:!1,isRange:!1,_isSlider:!0}},computed:{newTooltipType:function(){return this.tooltipType?this.tooltipType:this.type},tickValues:function(){if(!this.ticks||this.min>this.max||0===this.step)return[];for(var t=[],i=this.min+this.step;i<this.max;i+=this.step)t.push(i);return t},minValue:function(){return Math.min(this.value1,this.value2)},maxValue:function(){return Math.max(this.value1,this.value2)},barSize:function(){return this.isRange?"".concat(100*(this.maxValue-this.minValue)/(this.max-this.min),"%"):"".concat(100*(this.value1-this.min)/(this.max-this.min),"%")},barStart:function(){return this.isRange?"".concat(100*(this.minValue-this.min)/(this.max-this.min),"%"):"0%"},precision:function(){var t=[this.min,this.max,this.step].map(function(t){var i=(""+t).split(".")[1];return i?i.length:0});return Math.max.apply(Math,__chunk_1._toConsumableArray(t))},barStyle:function(){return{width:this.barSize,left:this.barStart}},sliderSize:function(){return this.$refs.slider.clientWidth},rootClasses:function(){return{"is-rounded":this.rounded,"is-dragging":this.dragging,"is-disabled":this.disabled,"slider-focus":this.biggerSliderFocus}}},watch:{value:function(t){this.setValues(t)},value1:function(){this.onInternalValueUpdate()},value2:function(){this.onInternalValueUpdate()},min:function(){this.setValues(this.value)},max:function(){this.setValues(this.value)}},methods:{setValues:function(t){if(!(this.min>this.max))if(Array.isArray(t)){this.isRange=!0;var i="number"!=typeof t[0]||isNaN(t[0])?this.min:Math.min(Math.max(this.min,t[0]),this.max),e="number"!=typeof t[1]||isNaN(t[1])?this.max:Math.max(Math.min(this.max,t[1]),this.min);this.value1=this.isThumbReversed?e:i,this.value2=this.isThumbReversed?i:e}else this.isRange=!1,this.value1=isNaN(t)?this.min:Math.min(this.max,Math.max(this.min,t)),this.value2=null},onInternalValueUpdate:function(){this.isRange&&(this.isThumbReversed=this.value1>this.value2),this.lazy&&this.dragging||this.emitValue("input"),this.dragging&&this.emitValue("dragging")},onSliderClick:function(t){if(!this.disabled&&!this.isTrackClickDisabled){var i=this.$refs.slider.getBoundingClientRect().left,e=(t.clientX-i)/this.sliderSize*100,n=this.min+e*(this.max-this.min)/100,s=Math.abs(n-this.value1);if(this.isRange){var a=Math.abs(n-this.value2);if(s<=a){if(s<this.step/2)return;this.$refs.button1.setPosition(e)}else{if(a<this.step/2)return;this.$refs.button2.setPosition(e)}}else{if(s<this.step/2)return;this.$refs.button1.setPosition(e)}this.emitValue("change")}},onDragStart:function(){this.dragging=!0,this.$emit("dragstart")},onDragEnd:function(){var t=this;this.isTrackClickDisabled=!0,setTimeout(function(){t.isTrackClickDisabled=!1},0),this.dragging=!1,this.$emit("dragend"),this.lazy&&this.emitValue("input")},emitValue:function(t){this.$emit(t,this.isRange?[this.minValue,this.maxValue]:this.value1)}},created:function(){this.isThumbReversed=!1,this.isTrackClickDisabled=!1,this.setValues(this.value)}};const __vue_script__$2=script$2;var __vue_render__$2=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"b-slider",class:[t.size,t.type,t.rootClasses],on:{click:t.onSliderClick}},[e("div",{ref:"slider",staticClass:"b-slider-track"},[e("div",{staticClass:"b-slider-fill",style:t.barStyle}),t._v(" "),t.ticks?t._l(t.tickValues,function(t,i){return e("b-slider-tick",{key:i,attrs:{value:t}})}):t._e(),t._v(" "),t._t("default"),t._v(" "),e("b-slider-thumb",{ref:"button1",attrs:{type:t.newTooltipType,tooltip:t.tooltip,"custom-formatter":t.customFormatter,role:"slider","aria-valuenow":t.value1,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-orientation":"horizontal","aria-label":Array.isArray(t.ariaLabel)?t.ariaLabel[0]:t.ariaLabel,"aria-disabled":t.disabled},on:{dragstart:t.onDragStart,dragend:t.onDragEnd},model:{value:t.value1,callback:function(i){t.value1=i},expression:"value1"}}),t._v(" "),t.isRange?e("b-slider-thumb",{ref:"button2",attrs:{type:t.newTooltipType,tooltip:t.tooltip,"custom-formatter":t.customFormatter,role:"slider","aria-valuenow":t.value2,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-orientation":"horizontal","aria-label":Array.isArray(t.ariaLabel)?t.ariaLabel[1]:"","aria-disabled":t.disabled},on:{dragstart:t.onDragStart,dragend:t.onDragEnd},model:{value:t.value2,callback:function(i){t.value2=i},expression:"value2"}}):t._e()],2)])},__vue_staticRenderFns__$2=[];const __vue_inject_styles__$2=void 0,__vue_scope_id__$2=void 0,__vue_module_identifier__$2=void 0,__vue_is_functional_template__$2=!1;var Slider=__chunk_5.__vue_normalize__({render:__vue_render__$2,staticRenderFns:__vue_staticRenderFns__$2},void 0,__vue_script__$2,void 0,!1,void 0,void 0,void 0),Plugin={install:function(t){__chunk_5.registerComponent(t,Slider),__chunk_5.registerComponent(t,SliderTick)}};__chunk_5.use(Plugin),exports.BSlider=Slider,exports.BSliderTick=SliderTick,exports.default=Plugin;