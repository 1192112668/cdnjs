"use strict";var __chunk_1=require("./chunk-5094d8df.js"),isTouch="undefined"!=typeof window&&("ontouchstart"in window||0<navigator.msMaxTouchPoints),events=isTouch?["touchstart","click"]:["click"],instances=[];function processArgs(e){var n="function"==typeof e;if(!n&&"object"!==__chunk_1._typeof(e))throw new Error("v-click-outside: Binding value should be a function or an object, typeof ".concat(e," given"));return{handler:n?e:e.handler,middleware:e.middleware||function(e){return e},events:e.events||events}}function onEvent(e){var n=e.el,t=e.event,r=e.handler,i=e.middleware;t.target!==n&&!n.contains(t.target)&&i(t,n)&&r(t,n)}function bind(n,e){var t=processArgs(e.value),r=t.handler,i=t.middleware,a=t.events,d={el:n,eventHandlers:a.map(function(e){return{event:e,handler:function(e){return onEvent({event:e,el:n,handler:r,middleware:i})}}})};d.eventHandlers.forEach(function(e){var n=e.event,t=e.handler;return document.addEventListener(n,t)}),instances.push(d)}function update(n,e){var t=processArgs(e.value),r=t.handler,i=t.middleware,a=t.events,d=instances.filter(function(e){return e.el===n})[0];d.eventHandlers.forEach(function(e){var n=e.event,t=e.handler;return document.removeEventListener(n,t)}),d.eventHandlers=a.map(function(e){return{event:e,handler:function(e){return onEvent({event:e,el:n,handler:r,middleware:i})}}}),d.eventHandlers.forEach(function(e){var n=e.event,t=e.handler;return document.addEventListener(n,t)})}function unbind(n){instances.filter(function(e){return e.el===n})[0].eventHandlers.forEach(function(e){var n=e.event,t=e.handler;return document.removeEventListener(n,t)})}var directive={bind:bind,update:update,unbind:unbind,instances:instances};exports.clickOutside=directive;