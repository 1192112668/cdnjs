(function(){var e,t,i,n,a,r,s,o,l,d;r=`module-${o="carousel"}`,d={silent:!1,debug:!0,observeChanges:!0,interval:4e3,autoplay:!0,onChange:()=>{},indicator:{style:"rounded",navigable:!0,overlapped:!0},control:{size:"compact",overlapped:!0,icon:{left:"chevron left",right:"chevron right"}}},s={SLIDING:"sliding",INDEX:"index",CONTENT:"content",AUTOPLAY:"autoplay"},a={CHANGE:`change${i=`.${o}`}`,CLICK:`click${i}`},t={NEXT:"next",PREVIOUS:"previous",LEFT:"left",RIGHT:"right"},e={COMPACT:"compact",ACTIVE:"active",ITEMS:"items",ITEM:"item",OVERLAPPED:"overlapped",CONTROLS:"controls",NAVIGABLE:"navigable",ROUNDED:"rounded",CIRCULAR:"circular",INDICATORS:"indicators",MOVING:"moving",LEFT:"left",RIGHT:"right",NEXT:"next",PREVIOUS:"previous"},l={ITEM:".item",CHILD_ITEM:":scope > .item",CONTROLS_LEFT:".controls > .left",CONTROLS_RIGHT:".controls > .right",ITEMS_ITEM:".items > .item",ACTIVE_ITEM:".items > .item.active",FIRST_ITEM:".items > .item:first-child",LAST_ITEM:".items > .item:last-child",INDICATORS_ITEM:".indicators > .item"},n={},ts.register({NAME:o,MODULE_NAMESPACE:r,Error:n,Settings:d},({$allModules:n,$this:o,element:d,debug:c,settings:m})=>{var T;return 700,T={play:()=>(c("播放幻燈片",d),T.has.timer()?T.restart.timer():T.set.timer(),n),pause:()=>(c("暫停幻燈片",d),T.stop.timer(),n),next:()=>(c("下一張幻燈片",d),T.goto(t.NEXT),n),previous:()=>(c("下一張幻燈片",d),T.goto(t.PREVIOUS),n),animate:{move:(t,i)=>T.get.$current().off("transitionend").one("transitionend",()=>{if(T.get.$items().removeClass(e.MOVING).removeClass(e.ACTIVE),null!=t)return t.call()}).emulate("transitionend",700)},goto:(e,i)=>{var n;if(c("幻燈片往指定方向切換",e,i,d),!T.is.sliding()){switch(T.has.timer()&&(T.remove.timer(),T.set.timer()),!1){case null==i:n=T.get.$item(i);break;case e!==t.NEXT:n=T.get.next.$item();break;case e!==t.PREVIOUS:n=T.get.previous.$item()}return i||(i=T.get.index(n)),T.set.sliding(!0),T.set.direction(e,n),T.set.indicator(i),T.set.index(i),T.trigger.change(),T.animate.move(()=>(T.remove.direction(),T.set.sliding(!1),T.set.active(i)))}},slide:{to:e=>(c("滑到指定幻燈片索引",e,d),T.goto(T.get.direction(e),e),n)},get:{index:e=>null!=e?e.index():o.data(s.INDEX),direction:e=>e>T.get.index()?t.NEXT:t.PREVIOUS,movingDirection:i=>i===t.NEXT?e.LEFT:e.RIGHT,html:()=>o.html(),content:()=>o.data(s.CONTENT),first:{$item:()=>o.find(l.FIRST_ITEM)},last:{$item:()=>o.find(l.LAST_ITEM)},next:{$item:()=>{var e;return e=T.get.index()+1,T.has.$item(e)?T.get.$item(e):T.get.first.$item()}},previous:{$item:()=>{var e;return e=T.get.index()-1,T.has.$item(e)?T.get.$item(e):T.get.last.$item()}},$items:()=>o.find(l.ITEMS_ITEM),$item:e=>o.find(l.ITEMS_ITEM).eq(e),$current:()=>o.find(l.ACTIVE_ITEM),$indicators:()=>o.find(l.INDICATORS_ITEM)},has:{timer:()=>o.hasTimer(s.AUTOPLAY),$item:e=>T.get.$item(e).length>0},restart:{timer:()=>o.playTimer(s.AUTOPLAY)},set:{index:e=>o.data(s.INDEX,e),sliding:e=>o.data(s.SLIDING,e),content:e=>o.data(s.CONTENT,e),html:e=>o.html(e),timer:()=>o.setTimer({name:s.AUTOPLAY,callback:T.next,interval:m.interval,looping:!0,visible:!0}),active:t=>T.get.$item(t).addClass(e.ACTIVE),indicator:t=>o.find(l.INDICATORS_ITEM).removeClass(e.ACTIVE).eq(t).addClass(e.ACTIVE),direction:(t,i)=>{var n;return n=T.get.movingDirection(t),i.addClass(t).repaint().addClass(e.MOVING,n),T.get.$current().addClass(e.MOVING,n)}},stop:{timer:()=>o.pauseTimer(s.AUTOPLAY)},remove:{timer:()=>o.removeTimer(s.AUTOPLAY),direction:()=>T.get.$items().removeClass(e.LEFT,e.RIGHT,e.NEXT,e.PREVIOUS),html:()=>T.set.html("")},should:{autoplay:()=>m.autoplay},is:{sliding:()=>o.data(s.SLIDING)},trigger:{change:()=>o.trigger(a.CHANGE,d,T.get.index())},create:{$control:()=>ts("<div>").html(`<a href="#!" class="left"><i class="${m.control.icon.left} icon"></i></a>\n<a href="#!" class="right"><i class="${m.control.icon.right} icon"></i></a>`).addClass(e.CONTROLS).addClass({[`${e.OVERLAPPED}`]:m.control.overlapped,[`${e.COMPACT}`]:m.control.style===e.COMPACT}),$indicators:t=>{var i,n,a,r,s;for(n=ts("<div>").addClass(e.INDICATORS).addClass({[`${e.OVERLAPPED}`]:m.indicator.overlapped,[`${e.NAVIGABLE}`]:m.indicator.navigable,[`${e.CIRCULAR}`]:m.indicator.style!==e.ROUNDED}),r=a=1,s=t;1<=s?a<=s:a>=s;r=1<=s?++a:--a)i=ts("<div>").addClass(e.ITEM).addClass({[`${e.ACTIVE}`]:1===r}),n.append(i);return n}},bind:{events:()=>{var e;return c("綁定事件",d),m.control&&T.bind.control.events(),(null!=(e=m.indicator)?e.navigable:void 0)&&T.bind.indicator.events(),o.on(a.CHANGE,(e,t,i)=>(c("發生 CHANGE 事件",t),m.onChange.call(t,e,i)))},control:{events:()=>(c("綁定控制按鈕事件",d),o.on(a.CLICK,l.CONTROLS_LEFT,()=>(c("左控制按鈕發生 CLICK 事件",d),T.previous())),o.on(a.CLICK,l.CONTROLS_RIGHT,()=>(c("右控制按鈕發生 CLICK 事件",d),T.next())))},indicator:{events:()=>(c("綁定指示器事件",d),T.get.$indicators().each((e,t)=>ts(e).on(a.CLICK,()=>(c("指示器發生 CLICK 事件",e),T.slide.to(t)))))}},initialize:()=>{var t,i;if(c("初始化幻燈片",d),T.set.content(T.get.html()),t=o.find(l.CHILD_ITEM),i=ts("<div>").addClass(e.ITEMS).append(t),T.remove.html(),m.control&&o.append(T.create.$control()),o.append(i),m.indicator&&o.append(T.create.$indicators(t.length)),T.set.active(0),T.set.index(0),T.bind.events(),T.should.autoplay())return T.play()},instantiate:()=>c("實例化幻燈片",d),refresh:()=>n,destroy:()=>(c("摧毀幻燈片",d),T.remove.timer(),T.set.html(T.get.content()),o.removeData(r).off(i),n)}})}).call(this);