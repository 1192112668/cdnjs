"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var webgl_util=require("./webgl_util");function getRenderRGBShader(e,r){var t="\n    precision highp float;\n    uniform sampler2D source;\n    varying vec2 resultUV;\n\n    const float destinationWidth = "+r+".0;\n    const float a = 1.0;\n\n    void main() {\n      float xr = floor(resultUV.s * destinationWidth) * 3.0;\n      vec3 x = xr + vec3(0, 1, 2);\n\n      float sourceWidth = destinationWidth * 3.0;\n      vec3 u = (x + 0.5) / sourceWidth;\n      float v = 1.0 - resultUV.t;\n\n      float r = texture2D(source, vec2(u[0], v)).r;\n      float g = texture2D(source, vec2(u[1], v)).r;\n      float b = texture2D(source, vec2(u[2], v)).r;\n\n      gl_FragColor = vec4(r, g, b, a);\n    }";return e.createProgram(t)}function renderToCanvas(e,r,t){webgl_util.bindCanvasToFramebuffer(e.gl),renderToFramebuffer(e,r,t)}function renderToFramebuffer(e,r,t){e.setProgram(r);var n=webgl_util.getProgramUniformLocationOrThrow(e.gl,r,"source");e.setInputMatrixTexture(t,n,0),e.executeProgram()}exports.getRenderRGBShader=getRenderRGBShader,exports.renderToCanvas=renderToCanvas,exports.renderToFramebuffer=renderToFramebuffer;