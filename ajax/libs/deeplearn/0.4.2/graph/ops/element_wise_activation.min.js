"use strict";var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var activation_functions_1=require("../../math/activation_functions"),op_1=require("./op"),ElementWiseActivation=function(o){function t(t,e,n){var i=o.call(this)||this;return i.xTensor=t,i.yTensor=e,i.func=n,i}return __extends(t,o),t.prototype.feedForward=function(e,n){var i=this,o=n.get(this.xTensor);e.scope(function(t){n.set(i.yTensor,t(i.func.output(e,o)))})},t.prototype.backProp=function(e,t,n){var i=this,o=t.get(this.xTensor),r=t.get(this.yTensor),s=n.get(this.yTensor);e.scope(function(){var t=i.func.der(e,o,r);n.add(i.xTensor,e.elementWiseMul(s,t)),t.dispose()})},t.prototype.dispose=function(){this.func.dispose()},t}(op_1.Operation),ReLU=function(n){function t(t,e){return n.call(this,t,e,new activation_functions_1.ReLUFunc)||this}return __extends(t,n),t}(exports.ElementWiseActivation=ElementWiseActivation);exports.ReLU=ReLU;var LeakyReLU=function(i){function t(t,e,n){return i.call(this,t,e,new activation_functions_1.LeakyReluFunc(n))||this}return __extends(t,i),t}(ElementWiseActivation);exports.LeakyReLU=LeakyReLU;var TanH=function(n){function t(t,e){return n.call(this,t,e,new activation_functions_1.TanHFunc)||this}return __extends(t,n),t}(ElementWiseActivation);exports.TanH=TanH;var Sigmoid=function(n){function t(t,e){return n.call(this,t,e,new activation_functions_1.SigmoidFunc)||this}return __extends(t,n),t}(ElementWiseActivation);exports.Sigmoid=Sigmoid;var Square=function(n){function t(t,e){return n.call(this,t,e,new activation_functions_1.SquareFunc)||this}return __extends(t,n),t}(ElementWiseActivation);exports.Square=Square;var Elu=function(n){function t(t,e){return n.call(this,t,e,new activation_functions_1.EluFunc)||this}return __extends(t,n),t}(ElementWiseActivation);exports.Elu=Elu;var PReLU=function(o){function t(t,e,n){var i=o.call(this)||this;return i.xTensor=t,i.alphaTensor=e,i.yTensor=n,i}return __extends(t,o),t.prototype.feedForward=function(e,n){var i=this,o=n.get(this.xTensor),r=n.get(this.alphaTensor);e.scope(function(t){n.set(i.yTensor,t(e.prelu(o,r)))})},t.prototype.backProp=function(e,t,n){var i=this,o=t.get(this.xTensor),r=t.get(this.alphaTensor),s=n.get(this.yTensor);e.scope(function(){var t=e.preluDer(o,r);n.add(i.xTensor,e.elementWiseMul(s,t))})},t}(op_1.Operation);exports.PReLU=PReLU;