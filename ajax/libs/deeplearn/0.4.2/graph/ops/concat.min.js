"use strict";var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var concat_util=require("../../math/concat_util"),op_1=require("./op"),Concat1D=function(s){function t(t,e,o){var n=s.call(this)||this;return n.x1Tensor=t,n.x2Tensor=e,n.yTensor=o,n}return __extends(t,s),t.prototype.feedForward=function(o,n){var s=this,r=n.get(this.x1Tensor),i=n.get(this.x2Tensor);o.scope(function(t){var e=o.concat1D(r,i);n.set(s.yTensor,t(e))})},t.prototype.backProp=function(n,t,s){var r=this,i=this.x1Tensor.shape[0],a=this.x2Tensor.shape[0],c=s.get(this.yTensor);n.scope(function(t){var e=n.slice1D(c,0,i),o=n.slice1D(c,i,a);s.add(r.x1Tensor,e),s.add(r.x2Tensor,o)})},t}(op_1.Operation);exports.Concat1D=Concat1D;var Concat2D=function(r){function t(t,e,o,n){var s=r.call(this)||this;return s.x1Tensor=t,s.x2Tensor=e,s.axis=o,s.yTensor=n,concat_util.assertParams(t.shape,e.shape,o),s}return __extends(t,r),t.prototype.feedForward=function(o,n){var s=this,r=n.get(this.x1Tensor),i=n.get(this.x2Tensor);o.scope(function(t){var e=o.concat2D(r,i,s.axis);n.set(s.yTensor,t(e))})},t.prototype.backProp=function(n,t,s){var r=this,i=s.get(this.yTensor),e=concat_util.computeGradientSliceShapes2D(this.x1Tensor.shape,this.yTensor.shape,this.axis),a=e.x1Begin,c=e.x1Size,p=e.x2Begin,h=e.x2Size;n.scope(function(t){var e=n.slice2D(i,a,c),o=n.slice2D(i,p,h);s.add(r.x1Tensor,e),s.add(r.x2Tensor,o)})},t}(op_1.Operation);exports.Concat2D=Concat2D;var Concat3D=function(r){function t(t,e,o,n){var s=r.call(this)||this;return s.x1Tensor=t,s.x2Tensor=e,s.axis=o,s.yTensor=n,concat_util.assertParams(t.shape,e.shape,o),s}return __extends(t,r),t.prototype.feedForward=function(o,n){var s=this,r=n.get(this.x1Tensor),i=n.get(this.x2Tensor);o.scope(function(t){var e=o.concat3D(r,i,s.axis);n.set(s.yTensor,t(e))})},t.prototype.backProp=function(n,t,s){var r=this,i=s.get(this.yTensor),e=concat_util.computeGradientSliceShapes3D(this.x1Tensor.shape,this.yTensor.shape,this.axis),a=e.x1Begin,c=e.x1Size,p=e.x2Begin,h=e.x2Size;n.scope(function(t){var e=n.slice3D(i,a,c),o=n.slice3D(i,p,h);s.add(r.x1Tensor,e),s.add(r.x2Tensor,o)})},t}(op_1.Operation);exports.Concat3D=Concat3D;var Concat4D=function(r){function t(t,e,o,n){var s=r.call(this)||this;return s.x1Tensor=t,s.x2Tensor=e,s.axis=o,s.yTensor=n,concat_util.assertParams(t.shape,e.shape,o),s}return __extends(t,r),t.prototype.feedForward=function(o,n){var s=this,r=n.get(this.x1Tensor),i=n.get(this.x2Tensor);o.scope(function(t){var e=o.concat4D(r,i,s.axis);n.set(s.yTensor,t(e))})},t.prototype.backProp=function(n,t,s){var r=this,i=s.get(this.yTensor),e=concat_util.computeGradientSliceShapes4D(this.x1Tensor.shape,this.yTensor.shape,this.axis),a=e.x1Begin,c=e.x1Size,p=e.x2Begin,h=e.x2Size;n.scope(function(t){var e=n.slice4D(i,a,c),o=n.slice4D(i,p,h);s.add(r.x1Tensor,e),s.add(r.x2Tensor,o)})},t}(op_1.Operation);exports.Concat4D=Concat4D;