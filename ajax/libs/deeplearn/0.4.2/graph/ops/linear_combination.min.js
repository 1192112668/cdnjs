"use strict";var __extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(e,r){function t(){this.constructor=e}o(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}}();Object.defineProperty(exports,"__esModule",{value:!0});var graph_util=require("../graph_util"),op_1=require("./op"),LinearCombination=function(i){function e(e,r,t,o,n){var s=i.call(this)||this;return s.x1Tensor=e,s.x2Tensor=r,s.c1Tensor=t,s.c2Tensor=o,s.outTensor=n,s}return __extends(e,i),e.prototype.feedForward=function(r,t){var o=this,n=t.get(this.x1Tensor),s=t.get(this.x2Tensor),i=t.get(this.c1Tensor).asScalar(),a=t.get(this.c2Tensor).asScalar();r.scope(function(e){t.set(o.outTensor,e(r.scaledArrayAdd(i,n,a,s)))})},e.prototype.backProp=function(t,e,o){var n=this,s=e.get(this.x1Tensor),i=e.get(this.x2Tensor),a=e.get(this.c1Tensor),c=e.get(this.c2Tensor),u=o.get(this.outTensor);t.scope(function(){var e,r;graph_util.shouldBackProp(n.x1Tensor)&&o.add(n.x1Tensor,t.scalarTimesArray(a,u)),graph_util.shouldBackProp(n.x2Tensor)&&o.add(n.x2Tensor,t.scalarTimesArray(c,u)),graph_util.shouldBackProp(n.c1Tensor)&&(e=t.elementWiseMul(s,u),o.add(n.c1Tensor,t.sum(e))),graph_util.shouldBackProp(n.c2Tensor)&&(r=t.elementWiseMul(i,u),o.add(n.c2Tensor,t.sum(r)))})},e}(op_1.Operation);exports.LinearCombination=LinearCombination;